(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6766],{26766:function(_t,S,d){"use strict";d.d(S,{sg:function(){return g0},yi:function(){return b0},aC:function(){return M0},x1:function(){return I0},Kj:function(){return B0},Ex:function(){return z0},Fk:function(){return V0},TZ:function(){return U0},m:function(){return nm},cQ:function(){return am},kB:function(){return um}});var m={};d.r(m),d.d(m,{Base:function(){return va},Circle:function(){return Yb},Ellipse:function(){return Xb},Image:function(){return Hb},Line:function(){return jb},Marker:function(){return Kb},Path:function(){return tf},Polygon:function(){return ow},Polyline:function(){return lw},Rect:function(){return cw},Text:function(){return dw}});var O={};d.r(O),d.d(O,{Canvas:function(){return $c},Event:function(){return je.Event},Group:function(){return Qu},Shape:function(){return m},__esModule:function(){return pw.X},version:function(){return bw}});var I={};d.r(I),d.d(I,{Base:function(){return aa},Circle:function(){return Aw},Dom:function(){return Tw},Ellipse:function(){return Lw},Image:function(){return Iw},Line:function(){return Bw},Marker:function(){return Fw},Path:function(){return Nw},Polygon:function(){return Yw},Polyline:function(){return Xw},Rect:function(){return Uw},Text:function(){return qw}});var L={};d.r(L),d.d(L,{Canvas:function(){return av},Event:function(){return je.Event},Group:function(){return rf},Shape:function(){return I},version:function(){return wS}});var P={};d.r(P),d.d(P,{Chart:function(){return X1},ComponentController:function(){return Do},DIRECTION:function(){return Ct},Event:function(){return Tr},Facet:function(){return wr},Geometry:function(){return Na},GeometryLabel:function(){return Ks},Interaction:function(){return ho},InteractionAction:function(){return Ur},LAYER:function(){return pt},Types:function(){return yb},Util:function(){return jv},VERSION:function(){return mb},View:function(){return Gu},getActionClass:function(){return Bi},getAnimation:function(){return zu},getEngine:function(){return tt},getFacet:function(){return Yr},getGeometryLabel:function(){return bc},getGeometryLabelLayout:function(){return wc},getInteraction:function(){return co},getShapeFactory:function(){return Vu},getTheme:function(){return Pt},registerAction:function(){return Sr},registerAnimation:function(){return Hn},registerComponentController:function(){return jr},registerEngine:function(){return et},registerFacet:function(){return kr},registerGeometry:function(){return ca},registerGeometryLabel:function(){return hs},registerGeometryLabelLayout:function(){return vo},registerInteraction:function(){return gn},registerShape:function(){return en},registerShapeFactory:function(){return Qa},registerTheme:function(){return Yt}});var _={};d.r(_),d.d(_,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var E={};d.r(E),d.d(E,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var C={};d.r(C),d.d(C,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var p={};d.r(p),d.d(p,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var b={};d.r(b),d.d(b,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var x={};d.r(x),d.d(x,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var w={};d.r(w),d.d(w,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var y={};d.r(y),d.d(y,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var M={};d.r(M),d.d(M,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var T={};d.r(T),d.d(T,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var B={};d.r(B),d.d(B,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var D={};d.r(D),d.d(D,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var X={};d.r(X),d.d(X,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var $={};d.r($),d.d($,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var H={};d.r(H),d.d(H,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var nt={};d.r(nt),d.d(nt,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var ht={};d.r(ht),d.d(ht,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var at={};d.r(at),d.d(at,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var Ot={};d.r(Ot),d.d(Ot,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var Ft={};d.r(Ft),d.d(Ft,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var Dt={};d.r(Dt),d.d(Dt,{EVENT_MAP:function(){return $r},onEvent:function(){return zn}});var V={};d.r(V),d.d(V,{calculationItemsBBox:function(){return hm},cloneEvent:function(){return jl},formatPadding:function(){return Ch},isNaN:function(){return Wa},isViewportChanged:function(){return fm},processParallelEdges:function(){return nR}});var q={};d.r(q),d.d(q,{getColorsWithSubjectColor:function(){return xm},mixColor:function(){return Ea}});var K={};d.r(K),d.d(K,{Line:function(){return Eo},applyMatrix:function(){return Ps},distance:function(){return Ls},floydWarshall:function(){return Th},fractionToLine:function(){return Ih},getAdjMatrix:function(){return Ph},getBBoxBoundLine:function(){return Oh},getCircleCenterByPoints:function(){return _h},getCircleIntersectByPoint:function(){return km},getDegree:function(){return Ql},getEllipseIntersectByPoint:function(){return Bm},getLineIntersect:function(){return Ts},getPointsCenter:function(){return zm},getRectIntersectByPoint:function(){return Im},intersectBBox:function(){return Gm},invertMatrix:function(){return Dm},isPointInPolygon:function(){return Os},isPointsOverlap:function(){return kh},isPolygonsIntersect:function(){return Lh},itemIntersectByLine:function(){return Ym},move:function(){return Nm},pointLineSquareDist:function(){return Xm},pointRectSquareDist:function(){return Vm},rotate:function(){return RR},scale:function(){return FR},scaleMatrix:function(){return Fm},squareDist:function(){return Jl},translate:function(){return Rm}});var Z={};d.r(Z),d.d(Z,{getClosedSpline:function(){return Bh},getControlPoint:function(){return ql},getSpline:function(){return Hm},paddedHull:function(){return $m},pathToPoints:function(){return tu},pointsToPolygon:function(){return Wm},roundedHull:function(){return Km}});var mt={};d.r(mt),d.d(mt,{getBBox:function(){return ru},getChartRegion:function(){return l3},getComboBBox:function(){return Gh},getLabelPosition:function(){return nu},getLetterWidth:function(){return ux},getLoopCfgs:function(){return ox},getTextSize:function(){return fx},plainCombosToTrees:function(){return Rh},radialLayout:function(){return lx},reconstructTree:function(){return Nh},traverseTree:function(){return Ii},traverseTreeUp:function(){return sa}});var rt={};d.r(rt),d.d(rt,{adjMatrix:function(){return bu},breadthFirstSearch:function(){return t9},degree:function(){return Hx},depthFirstSearch:function(){return M1},detectAllCycles:function(){return n9},detectAllDirectedCycle:function(){return T1},detectAllUndirectedCycle:function(){return _1},detectDirectedCycle:function(){return i9},findAllPath:function(){return u9},findShortestPath:function(){return l9},floydWarshall:function(){return Zx},getConnectedComponents:function(){return A1},getPageRank:function(){return m9},minimumSpanningTree:function(){return g9}});var W=d(67294),z=d(45687),G=d(60517),f=d(49242),pt;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(pt||(pt={}));var Ct;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(Ct||(Ct={}));var ot;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.OTHER="other"})(ot||(ot={}));var St={FORE:3,MID:2,BG:1},xt;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy"})(xt||(xt={}));var Mt;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(Mt||(Mt={}));var Et;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(Et||(Et={}));var Tt=["color","shape","size"],gt="_origin",it=1,Q=1,U=.25,ct={};function tt(i){var r=ct[i];if(!r)throw new Error("G engine '"+i+"' is not exist, please register it at first.");return r}function et(i,r){ct[i]=r}var dt=d(6056),Lt=d(45442);function Xt(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function $t(i){return typeof i=="number"&&!isNaN(i)}function fe(i,r,t,e){var n=t,a=e;if(r){var o=Xt(i);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max($t(n)?n:it,it),height:Math.max($t(a)?a:Q,Q)}}function me(i){var r=i.parentNode;r&&r.removeChild(i)}var pe=d(90494),xe=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return e.visible=a,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(pe.default),Ie=xe,je=d(39014),ur=d(28014),Ze=d(24796),Ar=d(21392),Jr=d(50782),Er=d(2443),Hr=d(51441),Xn=Hr.Axis.Line,Zn=Hr.Axis.Circle,qn=Hr.Grid.Line,Pn=Hr.Grid.Circle,Kt=Hr.Legend.Category,Jt=Hr.Legend.Continuous,re=Hr.Tooltip.Html,oe=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function ge(i){var r="linear";return oe.test(i)?r="time":(0,f.isString)(i)&&(r="cat"),r}function be(i,r,t){var e=r||[];if((0,f.isNumber)(i)||(0,f.isNil)((0,f.firstValue)(e,i))&&(0,f.isEmpty)(t)){var n=(0,Er.getScale)("identity");return new n({field:i.toString(),values:[i]})}var a=(0,f.valuesOfKey)(e,i),o=(0,f.get)(t,"type",ge(a[0])),s=(0,Er.getScale)(o);return new s((0,G.__assign)({field:i,values:a},t))}function Ce(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function Me(i){return i.alias||i.field}var he=d(31437);function Ge(i){var r,t;switch(i){case Ct.TOP:r={x:0,y:1},t={x:1,y:1};break;case Ct.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Ct.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Ct.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Le(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function He(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=Ge(r):i.isPolar&&(t=Le(i));var e=t.start,n=t.end;return{start:i.convert(e),end:i.convert(n)}}function er(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function Ue(i){var r=i.start,t=i.end;return r.x===t.x}function nr(i,r){var t=i.start,e=i.end,n=Ue(i);return n?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function qe(i,r){return(0,f.get)(i,["components","axis",r],{})}function fr(i){var r=i.x,t=i.y,e=i.circleCenter,n=t.start>t.end,a=i.isTransposed?i.convert({x:n?0:1,y:0}):i.convert({x:0,y:n?0:1}),o=[a.x-e.x,a.y-e.y],s=[1,0],l=a.y>e.y?he.angle(o,s):he.angle(o,s)*-1,u=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));return{center:e,radius:h,startAngle:l,endAngle:u}}function We(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r])}function vr(i,r){return(0,f.get)(i,"position",r)}function Pr(i,r){return(0,f.get)(r,["title","text"],Me(i))}var wr=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,f.deepMix)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,n=r.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(pt.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,f.each)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.getFieldValues=function(r,t){var e=[],n={};return(0,f.each)(r,function(a){var o=a[t];!(0,f.isNil)(o)&&!n[o]&&(e.push(o),n[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,n){var a=1/(t===0?1:t),o=1/(r===0?1:r),s={x:a*e,y:o*n},l={x:a*(e+1),y:o*(n+1)};return{start:s,end:l}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),n=e.coordinate,a=r.geometries,o=(0,f.get)(n,"type","rect");if(o==="rect"&&a.length){(0,f.isNil)(e.axes)&&(e.axes={});var s=e.axes,l=a[0].getXYFields(),u=l[0],h=l[1],c=We(s,u),v=We(s,h);c!==!1&&(e.axes[u]=this.getXAxisOption(u,s,c,t)),v!==!1&&(e.axes[h]=this.getYAxisOption(h,s,v,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,f.every)(r,function(e){var n=e.field,a=e.value;return!(0,f.isNil)(a)&&n?t[n]===a:!0})}},i}(),_r={},Yr=function(i){return _r[(0,f.lowerCase)(i)]},kr=function(i,r){_r[(0,f.lowerCase)(i)]=r},mn=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,f.assign)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),Ur=mn,In=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}(Ur),Kn=In,Wn={};function Ti(i,r){var t=Wn[i],e=null;if(t){var n=t.ActionClass,a=t.cfg;e=new n(r,a),e.name=i,e.init()}return e}function Bi(i){var r=Wn[i];return(0,f.get)(r,"ActionClass")}function Sr(i,r,t){Wn[i]={ActionClass:r,cfg:t}}function hi(i){delete Wn[i]}function bi(i,r){var t=new Kn(r);return t.callback=i,t.name="callback",t}function ti(i){if((0,f.isEmpty)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,n=i[0].y;return(0,f.each)(i,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,e=e>a.y?a.y:e,n=n<a.y?a.y:n}),{minX:r,maxX:t,minY:e,maxY:n,centerX:(r+t)/2,centerY:(e+n)/2}}function cn(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function ei(i,r,t,e,n,a){a===void 0&&(a=0);var o=cn(i,r,t,e),s=cn(i,r,t,n),l=cn(i,r,a,e),u=cn(i,r,a,n);if(n-e==Math.PI*2){var h=cn(i,r,t,e+Math.PI),c=cn(i,r,a,e+Math.PI),v=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(v.push(["A",a,a,0,1,0,c.x,c.y]),v.push(["A",a,a,0,1,0,u.x,u.y])),v.push(["M",o.x,o.y]),v.push(["Z"]),v}var g=n-e<=Math.PI?0:1,A=[["M",o.x,o.y],["A",t,t,0,g,1,s.x,s.y],["L",u.x,u.y]];return a&&A.push(["A",a,a,0,g,0,l.x,l.y]),A.push(["L",o.x,o.y]),A.push(["Z"]),A}function Vi(i,r,t,e,n){var a=cn(i,r,t,e),o=cn(i,r,t,n);if((0,f.isNumberEqual)(n-e,Math.PI*2)){var s=cn(i,r,t,e+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-e<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function ri(i,r){var t=i.points,e=ti(t),n,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(n=e.maxY*l,a=e.minY*l):(n=e.maxX*l,a=e.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function Pi(i,r){if((0,f.isNumber)(i)&&(0,f.isNumber)(r))return[i,r];for(var t=-1,e=0,n=0,a,o=i.length-1,s,l=0;++t<i.length;)a=o,o=t,l+=s=i[a]*r[o]-i[o]*r[a],e+=(i[a]+i[o])*s,n+=(r[a]+r[o])*s;return l*=3,[e/l,n/l]}function Dn(i,r){var t=i.attr(),e=r.attr();return(0,f.each)(t,function(n,a){e[a]===void 0&&(e[a]=void 0)}),e}function Qi(i,r,t){var e=Math.min(r,t),n=Math.max(r,t);return i>=e&&i<=n}function ua(i,r,t){if((0,f.isString)(i))return i.padEnd(r,t);if((0,f.isArray)(i)){var e=i.length;if(e<r)for(var n=r-e,a=0;a<n;a++)i.push(t)}return i}function Gt(i,r){return r.forEach(function(t){delete i[t]}),i}function It(i,r,t){r===void 0&&(r=[]),t===void 0&&(t={});for(var e=0,n=i;e<n.length;e++){var a=n[e];t[a]||(r.push(a),t[a]=!0)}return r}function vt(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function wt(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function J(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function ut(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,n=i.end;t=Qi(r.x,e.x,n.x)&&Qi(r.y,e.y,n.y)}else{var a=i.invert(r);t=Qi(a.x,0,1)&&Qi(a.y,0,1)}return t}function bt(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function kt(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,n=i.getWidth(),a=i.getHeight();if(i.isPolar){var o=i.startAngle,s=i.endAngle,l=i.getCenter(),u=i.getRadius();return{type:"path",startState:{path:ei(l.x,l.y,u+r,o,o)},endState:function(c){var v=(s-o)*c+o,g=ei(l.x,l.y,u+r,o,v);return{path:g}},attrs:{path:ei(l.x,l.y,u+r,o,s)}}}var h;return i.isTransposed?h={height:a+r*2}:h={width:n+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?n+r*2:0,height:i.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:e.y-r,width:n+r*2,height:a+r*2}}}function Bt(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,n=i.length;e<n;e+=1){var a=i[e];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function Ht(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convert({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function ie(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convert(s),A=J(t,g);if(A>=.5)if(h===Math.PI*2){var k={x:(s.x+o.x)/2,y:(s.y+o.y)/2},F=t.convert(k);l.push(["A",A,A,0,v,c,F.x,F.y]),l.push(["A",A,A,0,v,c,g.x,g.y])}else l.push(["A",A,A,0,v,c,g.x,g.y]);return l}function se(i){(0,f.each)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Ae=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=he.min([0,0],l,v),u=he.max([0,0],u,v)}l=he.min([0,0],l,e[0]),u=he.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var A=[0,0];A=he.sub(A,o,a),A=he.scale(A,A,r);var k=he.distance(v,a),F=he.distance(v,o),Y=k+F;Y!==0&&(k/=Y,F/=Y);var N=he.scale([0,0],A,-k),st=he.scale([0,0],A,F),lt=he.add([0,0],v,N),At=he.add([0,0],v,st);s&&(lt=he.max([0,0],lt,l),lt=he.min([0,0],lt,u),At=he.max([0,0],At,l),At=he.min([0,0],At,u)),n.push(lt),n.push(At)}return t&&n.push(n.shift()),n};function ve(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=Ae(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function de(i,r){return Bt(i,r)}function Ke(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return de(i,r);for(var o=0,s=i.length;o<s;o++){var l=i[o];(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=ve(e,r,u);return h.unshift(["M",n.x,n.y]),h}function Qe(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Ht(e,i));break;case"z":default:t.push(e);break}}),t}function gr(i,r){var t=[],e,n,a,o;return(0,f.each)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(Ht(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(ie(e,n,i)):t.push(Ht(s,i));break;case"z":default:t.push(s);break}}),se(t),t}var cr=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=t,this.height=n,this.width=e}return i.fromRange=function(r,t,e,n){return new i(r,t,e-r,n-t)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.min(n.x,e.x),e.y=Math.min(n.y,e.y),e.width=Math.max(n.maxX,e.maxX)-e.x,e.height=Math.max(n.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,f.each)(r,function(n){e.x=Math.max(n.x,e.x),e.y=Math.max(n.y,e.y),e.width=Math.min(n.maxX,e.maxX)-e.x,e.height=Math.min(n.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,n=r.height;switch(t){case Ct.TOP:case Ct.TOP_LEFT:case Ct.TOP_RIGHT:return i.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case Ct.RIGHT:case Ct.RIGHT_TOP:case Ct.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case Ct.BOTTOM:case Ct.BOTTOM_LEFT:case Ct.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case Ct.LEFT:case Ct.LEFT_TOP:case Ct.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return new i(this.x+a,this.y+t,this.width-a-e,this.height-t-n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.size=function(){return this.width*this.height},i}(),$e=function(i,r){var t=r.start,e=r.end;return new cr(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function ze(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}var Or=d(70146);function Zr(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?n:null}function vn(i,r){var t=i.event,e=t.target,n=e.getCanvasBBox();return n.width>=r||n.height>=r?e.attr("path"):null}function Mn(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function Yn(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function Hi(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Vn(i){return i&&i.component&&i.component.isList()}function ni(i){return i&&i.component&&i.component.isSlider()}function ii(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Di(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=vn(i,r);return e?Fi(i.view,e):void 0}var n=Zr(i,r);return n?wi(i.view,n):null}function Wi(i,r,t){var e=Zr(i,t);if(!e)return null;var n=i.view,a=ra(n,r,{x:e.x,y:e.y}),o=ra(n,r,{x:e.maxX,y:e.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return wi(r,s)}function tn(i){var r=i.geometries,t=[];return(0,f.each)(r,function(e){var n=e.elements;t=t.concat(n)}),i.views&&i.views.length&&(0,f.each)(i.views,function(e){t=t.concat(tn(e))}),t}function fa(i,r,t){var e=tn(i);return e.filter(function(n){return $n(n,r)===t})}function ta(i,r){var t=i.geometries,e=[];return(0,f.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(r)});e=e.concat(a)}),e}function $n(i,r){var t=i.getModel(),e=t.data,n;return(0,f.isArray)(e)?n=e[0][r]:n=e[r],n}function ha(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function wi(i,r){var t=tn(i),e=[];return(0,f.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();ha(r,o)&&e.push(n)}),e}function ea(i){var r=[];return(0,f.each)(i,function(t){var e=t[0];if(e!=="A")for(var n=1;n<t.length;n=n+2)r.push([t[n],t[n+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function Fi(i,r){var t=tn(i),e=ea(r),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=ea(o.attr("path"));else{var l=o.getCanvasBBox();s=ze(l)}return(0,Or.default)(e,s)});return n}function Da(i){return i.getComponents().map(function(r){return r.component})}function Li(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function Fa(i,r){if(i.length<=2)return de(i,!1);var t=i[0],e=[];(0,f.each)(i,function(a){e.push(a.x),e.push(a.y)});var n=ve(e,r,null);return n.unshift(["M",t.x,t.y]),n}function ji(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function ci(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function Sa(i,r){var t=i.getCoordinate();return t.invert(r)}function ra(i,r,t){var e=Sa(i,t);return r.getCoordinate().convert(e)}function Ka(i,r,t,e){var n=!1;return(0,f.each)(i,function(a){if(a[t]===r[t]&&a[e]===r[e])return n=!0,!1}),n}function Ca(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,f.each)(i.views,function(e){if(t=Ca(e,r),t)return!1}),t}var os=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,f.get)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=Da(this.view),e=this.getCurrentPoint();return e?!!t.find(function(n){var a=n.getBBox();return r?n.get("name")===r&&ji(a,e):ji(a,e)}):!1},i.prototype.destroy=function(){this.view=null,this.event=null,(0,f.each)(this.actions.slice(),function(r){r.destroy()}),this.actions=null,this.cacheMap=null},i}(),Oo=os,Hs=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),ho=Hs;function Io(i,r){var t=i.split(":"),e=t[0],n=r.getAction(e)||Ti(e,r);if(!n)throw new Error("There is no action named "+e);var a=t[1];return{action:n,methodName:a}}function $a(i){var r=i.action,t=i.methodName;if(r[t])r[t]();else throw new Error("Action("+r.name+") doesn't have a method called "+t)}var Si={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},ss=function(i){(0,G.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,f.each)(this.steps,function(e,n){(0,f.each)(e,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new Oo(t);this.context=e;var n=this.steps;(0,f.each)(n,function(a){(0,f.each)(a,function(o){if((0,f.isFunction)(o.action))o.actionObject={action:bi(o.action,e),methodName:"execute"};else if((0,f.isString)(o.action))o.actionObject=Io(o.action,e);else if((0,f.isArray)(o.action)){var s=o.action;o.actionObject=[],(0,f.each)(s,function(l){o.actionObject.push(Io(l,e))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t||t===Si.SHOW_ENABLE)return!0;if(t===Si.PROCESSING)return e===Si.START;if(t===Si.START)return e!==Si.PROCESSING;if(t===Si.END)return e===Si.PROCESSING||e===Si.START;if(t===Si.ROLLBACK){if(n[Si.END])return e===Si.END;if(e===Si.START)return!0}return!1},r.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==Si.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var n=this,a=this.context,o=this.callbackCaches,s=e.actionObject;if(e.action&&s){var l=this.getKey(t,e);if(!o[l]){var u=function(h){a.event=h,n.isAllowExcute(t,e)?((0,f.isArray)(s)?(0,f.each)(s,function(c){a.event=h,$a(c)}):(a.event=h,$a(s)),n.afterExecute(t,e),e.callback&&(a.event=h,e.callback(a))):a.event=null};e.debounce?o[l]=(0,f.debounce)(u,e.debounce.wait,e.debounce.immediate):e.throttle?o[l]=(0,f.throttle)(u,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],e):n[0]==="document"?document.addEventListener(n[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],e):n[0]==="document"?document.removeEventListener(n[1],e):this.view.off(t,e)},r}(ho),ls=ss,ko={};function co(i){return ko[(0,f.lowerCase)(i)]}function gn(i,r){ko[(0,f.lowerCase)(i)]=r}function us(i,r,t){var e=co(i);if(!e)return null;if((0,f.isPlainObject)(e)){var n=(0,f.mix)((0,f.clone)(e),t);return new ls(r,n)}else{var a=e;return new a(r,t)}}var vi=d(7755),pn=d(31506);function Bo(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e={title:{autoRotate:!0,position:"center",style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0},n={line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},a={title:null,marker:{symbol:"circle",style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:i.backgroundColor,defaultColor:i.brandColor,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(o){var s=o.geometry.coordinate;if(s.isPolar&&s.isTransposed){var l=ri(o.getModel(),s),u=l.startAngle,h=l.endAngle,c=(u+h)/2,v=7.5,g=v*Math.cos(c),A=v*Math.sin(c);return{matrix:pn.transform(null,[["t",g,A]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,G.__assign)((0,G.__assign)({},t.line.default),{lineDash:[1,1]})},active:{style:(0,G.__assign)((0,G.__assign)({},t.line.active),{lineDash:[1,1]})},inactive:{style:(0,G.__assign)((0,G.__assign)({},t.line.inactive),{lineDash:[1,1]})},selected:{style:(0,G.__assign)((0,G.__assign)({},t.line.selected),{lineDash:[1,1]})}},dash:{default:{style:(0,G.__assign)((0,G.__assign)({},t.line.default),{lineDash:[5.5,1]})},active:{style:(0,G.__assign)((0,G.__assign)({},t.line.active),{lineDash:[5.5,1]})},inactive:{style:(0,G.__assign)((0,G.__assign)({},t.line.inactive),{lineDash:[5.5,1]})},selected:{style:(0,G.__assign)((0,G.__assign)({},t.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}}},components:{axis:{top:(0,f.deepMix)({},e,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:(0,f.deepMix)({},e,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:(0,f.deepMix)({},e,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),right:(0,f.deepMix)({},e,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:n,verticalLimitLength:1/3}),circle:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"line"}})}),radius:(0,f.deepMix)({},e,{title:null,label:{offset:8},grid:(0,f.deepMix)({},n,{line:{type:"circle"}})})},legend:{right:(0,f.deepMix)({},a,{layout:"vertical"}),left:(0,f.deepMix)({},a,{layout:"vertical"}),top:(0,f.deepMix)({},a,{layout:"horizontal"}),bottom:(0,f.deepMix)({},a,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r[""+vi.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:i.tooltipContainerBorderRadius+"px",color:i.tooltipTextFillColor,fontSize:i.tooltipTextFontSize+"px",fontFamily:i.fontFamily,lineHeight:i.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},r[""+vi.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},r[""+vi.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},r[""+vi.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r[""+vi.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r[""+vi.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var un={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ra={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ut=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],yt=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],R={backgroundColor:"transparent",brandColor:Ut[0],paletteQualitative10:Ut,paletteQualitative20:yt,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:un[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:un[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:un[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:un[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:un[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:un[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:un[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ut[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:un[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:un[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:un[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:un[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:un[25],annotationArcBorderColor:un[15],annotationArcBorder:.5,annotationLineBorderColor:un[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:un[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:Ra[95],annotationTextBorder:1.5,annotationRegionFillColor:un[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:un[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:un[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:un[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ra[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:un[25],pointFillColor:Ut[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ra[100],pointBorderOpacity:1,pointActiveBorderColor:un[100],pointSelectedBorder:2,pointSelectedBorderColor:un[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ut[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Ra[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:un[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:un[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ut[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ut[0],areaFillOpacity:.25,areaActiveFillColor:Ut[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ut[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ut[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:un[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:un[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ut[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:un[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:un[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ut[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ra[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:un[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:un[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},j=Bo(R),ft={default:j};function Pt(i){return(0,f.get)(ft,(0,f.lowerCase)(i),ft.default)}function Yt(i,r){ft[(0,f.lowerCase)(i)]=(0,f.deepMix)({},ft.default,r)}function jt(i,r,t){var e=t.translate(i),n=t.translate(r);return(0,f.isNumberEqual)(e,n)}function ee(i,r){var t=r.coordinate,e=r.getXScale(),n=e.range,a=n[n.length-1],o=n[0],s=t.invert(i),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),e.translate(e.invert(l))}function ne(i,r,t){var e=t.coordinate,n=t.getYScale(),a=n.field,o=e.invert(r),s=n.invert(o.y),l=(0,f.find)(i,function(u){var h=u[gt];return h[a][0]<=s&&h[a][1]>=s});return l||i[i.length-1]}var ce=(0,f.memoize)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),n=e,a=0;a<t;a++){var o=r[a],s=i.translate(o);s<e&&(e=s),s>n&&(n=s)}return(n-e)/(t-1)});function we(i,r,t){var e=t;if(!t){var n=r.getAttribute("position"),a=n.getFields();e=a[0]}var o=r.scales;return o[e]?o[e].getText(i[e]):(0,f.hasKey)(i,e)?i[e]:e}function Oe(i){var r=(0,f.values)(i.attributes);return(0,f.filter)(r,function(t){return(0,f.contains)(Tt,t.type)})}function Re(i){for(var r=Oe(i),t,e=0,n=r;e<n.length;e++){var a=n[e],o=a.getScale(a.type);if(o&&o.isLinear){t=o;break}}var s=i.getXScale(),l=i.getYScale();return t||l||s}function ir(i,r){var t=r.field,e=i[t];if((0,f.isArray)(e)){var n=e.map(function(a){return r.getText(a)});return n.join("-")}return r.getText(e)}function Cr(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var n=t.field;return t.getText(i[n])}var a=Re(r);return Me(a)}function pr(i,r,t){if(r.length===0)return null;var e=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(e==="heatmap"||e==="point"){for(var u=t.coordinate,h=u.invert(i),c=n.invert(h.x),v=a.invert(h.y),g=Infinity,A=0;A<r.length;A++){var k=r[A],F=k[gt],Y=Math.pow(F[o]-c,2)+Math.pow(F[s]-v,2);Y<g&&(g=Y,l=k)}return l}var N=r[0],st=r[r.length-1],lt=ee(i,t),At=N[gt][o],zt=N[gt][s],Wt=st[gt][o],Qt=a.isLinear&&(0,f.isArray)(zt);if((0,f.isArray)(At)){for(var A=0;A<r.length;A++){var Vt=r[A],F=Vt[gt];if(n.translate(F[o][0])<=lt&&n.translate(F[o][1])>=lt)if(Qt)(0,f.isArray)(l)||(l=[]),l.push(Vt);else{l=Vt;break}}(0,f.isArray)(l)&&(l=ne(l,i,t))}else{var te=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var A=0;A<r.length;A++){var Vt=r[A],F=Vt[gt];if(jt(F[o],lt,n))if(Qt)(0,f.isArray)(l)||(l=[]),l.push(Vt);else{l=Vt;break}else n.translate(F[o])<=lt&&(st=Vt,te=r[A+1])}(0,f.isArray)(l)&&(l=ne(l,i,t))}else{if((lt>n.translate(Wt)||lt<n.translate(At))&&(lt>n.max||lt<n.min))return null;for(var le=0,ae=r.length-1,Se=void 0;le<=ae;){Se=Math.floor((le+ae)/2);var _e=r[Se][gt][o];if(jt(_e,lt,n))return r[Se];n.translate(_e)<=n.translate(lt)?(le=Se+1,st=r[Se],te=r[Se+1]):(ae===0&&(st=r[0]),ae=Se-1)}}st&&te&&Math.abs(n.translate(st[gt][o])-lt)>Math.abs(n.translate(te[gt][o])-lt)&&(st=te)}var Ee=ce(t.getXScale());return!l&&Math.abs(n.translate(st[gt][o])-lt)<=Ee/2&&(l=st),l}function Wr(i,r,t){t===void 0&&(t="");var e=i[gt],n=we(e,r,t),a=r.tooltipOption,o=r.theme.defaultColor,s=[],l,u;function h(zt,Wt){if(!(0,f.isNil)(Wt)&&Wt!==""){var Qt={title:n,data:e,mappingData:i,name:zt,value:Wt,color:i.color||o,marker:!0};s.push(Qt)}}if((0,f.isObject)(a)){var c=a.fields,v=a.callback;if(v){var g=c.map(function(zt){return i[gt][zt]}),A=v.apply(void 0,g),k=(0,G.__assign)({data:i[gt],mappingData:i,title:n,color:i.color||o,marker:!0},A);s.push(k)}else for(var F=r.scales,Y=0,N=c;Y<N.length;Y++){var st=N[Y];if(!(0,f.isNil)(e[st])){var lt=F[st];l=Me(lt),u=lt.getText(e[st]),h(l,u)}}}else{var At=Re(r);(0,f.isNil)(e[At.field])||(u=ir(e,At),l=Cr(e,r),h(l,u))}return s}var Kr={};function jr(i,r){Kr[i]=r}function Nt(i){delete Kr[i]}function qt(){return Object.keys(Kr)}function ue(i){return Kr[i]}var ye=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,f.some)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,n=e.type,a=e.cfg,o=n==="theta",s=(0,G.__assign)({start:r,end:t},a),l=(0,Jr.getCoordinate)(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,G.__assign)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,f.each)(e,function(n){var a,o=n[0],s=n.slice(1),l=(0,f.isNil)(r)?!0:r.includes(o);l&&(a=t.coordinate)[o].apply(a,s)})},i}(),Pe=ye,Je=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type="+this.type+")]"},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),Tr=Je;function sn(i){return!(0,f.isNumber)(i)&&!(0,f.isArray)(i)}function ai(i){i===void 0&&(i=0);var r=(0,f.isArray)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,G.__spreadArrays)(r,r);break;case 3:r=(0,G.__spreadArrays)(r,[r[1]]);break;default:r=r.slice(0,4);break}return r}var Ui=function(){function i(r,t,e,n){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=0),this.top=r,this.right=t,this.bottom=e,this.left=n}return i.prototype.shrink=function(r){var t=r[0],e=r[1],n=r[2],a=r[3];return this.top+=t,this.right+=e,this.bottom+=n,this.left+=a,this},i.prototype.inc=function(r,t){var e=r.width,n=r.height;switch(t){case Ct.TOP:case Ct.TOP_LEFT:case Ct.TOP_RIGHT:this.top+=n;break;case Ct.RIGHT:case Ct.RIGHT_TOP:case Ct.RIGHT_BOTTOM:this.right+=e;break;case Ct.BOTTOM:case Ct.BOTTOM_LEFT:case Ct.BOTTOM_RIGHT:this.bottom+=n;break;case Ct.LEFT:case Ct.LEFT_TOP:case Ct.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i}();function Ji(i){var r=i.padding;if(!sn(r))return ai(r);var t=i.viewBBox,e=i.autoPadding,n=new Ui;(0,f.each)(i.getComponents(),function(s){var l=s.component,u=s.type;if(!(u===ot.GRID||u===ot.TOOLTIP)){var h=l.getLayoutBBox(),c=new cr(h.x,h.y,h.width,h.height);if(u===ot.AXIS){var v=c.exceed(t);n.shrink(v)}else{var g=s.direction;n.inc(c,g)}}});var a=n.getPadding();if(e){var o=ai(i.appendPadding);return[Math.max(e[0]-o[0],a[0]),Math.max(e[1]-o[1],a[1]),Math.max(e[2]-o[2],a[2]),Math.max(e[3]-o[3],a[3])]}return a}function fs(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),n=i.getController("slider"),a=Ji(i);i.coordinateBBox=i.viewBBox.shrink(a).shrink(ai(i.appendPadding)),i.adjustCoordinate(),[r,n,t,e].forEach(function(o){o&&o.layout()})}var Y1=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,n){var a=e,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,f.deepMix)(l,o.scaleDef,e)}var u=be(r,t,a);return this.cacheScale(u,e,n),u},i.prototype.sync=function(){var r=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=[];(0,f.each)(t,function(s){var l=r.getScale(s);a=(0,f.isNumber)(l.max)?Math.max(a,l.max):a,n=(0,f.isNumber)(l.min)?Math.min(n,l.min):n,(0,f.each)(l.values,function(u){o.includes(u)||o.push(u)})}),(0,f.each)(t,function(s){var l=r.getScale(s);l.isContinuous?l.change({min:n,max:a,values:o}):l.isCategory&&l.change({values:o})})})},i.prototype.cacheScale=function(r,t,e){var n=this.getScaleMeta(e);n&&n.scale.type===r.type?(Ce(n.scale,r),n.scaleDef=t):(n={key:e,scale:r,scaleDef:t},this.scales.set(e,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(e),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,f.last)(r.split("-")),n=this.syncScales.get(e);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,n=this.syncScales.get(e);if(n&&n.length){var a=n.indexOf(r);a!==-1&&n.splice(a,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,n){var a=e.indexOf(r);if(a!==-1)return e.splice(a,1),e.length===0&&t.syncScales.delete(n),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,n=t.field,a=(0,f.get)(e,["sync"]);return a===!0?n:a===!1?void 0:a},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),fc=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.id=(0,f.uniqueId)("view"),e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=qt(),e.scalePool=new Y1,e.layoutFunc=fs,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(F){var Y=F.name;if(!Y.includes(":")){var N=e.createViewEvent(F);e.doPlotEvent(N),e.emit(Y,N)}},e.onDelegateEvents=function(F){var Y=F.name;if(!!Y.includes(":")){var N=e.createViewEvent(F);e.emit(Y,N)}};var n=t.parent,a=t.canvas,o=t.backgroundGroup,s=t.middleGroup,l=t.foregroundGroup,u=t.region,h=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,c=t.padding,v=t.appendPadding,g=t.theme,A=t.options,k=t.limitInPlot;return e.parent=n,e.canvas=a,e.backgroundGroup=o,e.middleGroup=s,e.foregroundGroup=l,e.region=h,e.padding=c,e.appendPadding=v,e.options=(0,G.__assign)((0,G.__assign)({},e.options),A),e.limitInPlot=k,e.themeObject=(0,f.isObject)(g)?(0,f.deepMix)({},Pt("default"),g):Pt(g),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new Pe(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},r.prototype.render=function(t){t===void 0&&(t=!1),this.emit(xt.BEFORE_RENDER),this.paint(t),this.emit(xt.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(xt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,n=0;n<e.length;n++)e[n].clear();this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(xt.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(xt.BEFORE_DESTROY);var t=this.interactions;(0,f.each)(t,function(s){s&&s.destroy()}),this.clear();for(var e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,f.set)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,f.isFunction)(e)?((0,f.set)(this.options,["filters",t],e),this):(!e&&(0,f.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["axes"],t):(0,f.set)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,f.isBoolean)(t)?(0,f.set)(this.options,["legends"],t):(0,f.isString)(t)?(0,f.set)(this.options,["legends",t],e):(0,f.set)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var n=this;return(0,f.isString)(t)?(0,f.set)(this.options,["scales",t],e):(0,f.isObject)(t)&&(0,f.each)(t,function(a,o){(0,f.set)(n.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,f.set)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,f.isString)(t)?(0,f.set)(this.options,"coordinate",{type:t,cfg:e}):(0,f.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n=Yr(t);if(!n)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new n(this,(0,G.__assign)((0,G.__assign)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,f.set)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,f.mix)(this.options,t),this.initOptions(),this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`+t+'", please change another one.');return(0,f.set)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,f.isObject)(t)?(0,f.deepMix)({},this.themeObject,t):Pt(t),this},r.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var a=us(t,this,e);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(xt.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.changeData(t)}this.emit(xt.AFTER_CHANGE_DATA)},r.prototype.createView=function(t){var e={data:this.options.data,scales:(0,f.clone)(this.options.scales),axes:(0,f.clone)(this.options.axes),coordinate:(0,f.clone)(this.coordinateController.getOption()),tooltip:(0,f.clone)(this.options.tooltip),legends:(0,f.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new r((0,G.__assign)((0,G.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:St.BG}),middleGroup:this.middleGroup.addGroup({zIndex:St.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:St.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,G.__assign)((0,G.__assign)({},e),(0,f.get)(t,"options",{}))}));return this.views.push(n),n},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,f.remove)(this.views,function(n){return n===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={};return this.geometries.map(function(e){var n=e.getYScale(),a=n.field;if(!t[a])return t[a]=!0,n})},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},a=0,o=e.length;a<o;a++){var s=e[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},r.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getLayer=function(t){return t===pt.BG?this.backgroundGroup:t===pt.MID?this.middleGroup:t===pt.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return ut(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,f.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return It((0,f.flatten)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,f.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,f.isNil)(o)&&!(0,f.isNil)(s))return e.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,f.find)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],a=0,o=e.length;a<o;a++){var s=e[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,c=l.length;h<c;h++){var v=l[h];u=pr(t,v,s),u&&n.push(u)}}for(var g=this.views,a=0,o=g.length;a<o;a++){var A=g[a],k=A.getSnapRecords(t);n=n.concat(k)}return n},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,a=e.length;n<a;n++){var o=e[n];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,f.size)(e)===0?t:(0,f.filter)(t,function(n,a){var o=Object.keys(e);return o.every(function(s){var l=e[s];return l(n[s],n,a)})})},r.prototype.filterFieldData=function(t,e){var n=this.options.filters,a=(0,f.get)(n,t);return(0,f.isUndefined)(a)?e:e.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,f.isEqual)(e,a)&&(0,f.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(xt.BEFORE_PAINT),this.renderBackgroundStyleShape(),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(xt.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,f.get)(this.themeObject,"background");if(t){this.backgruondStyleRectShape||(this.backgruondStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{zIndex:-1}}));var e=this.viewBBox,n=e.x,a=e.y,o=e.width,s=e.height;this.backgruondStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgruondStyleRectShape&&(this.backgruondStyleRectShape.remove(!0),this.backgruondStyleRectShape=void 0)}},r.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;sn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var a=this.views,o=0,s=a.length;o<s;o++){var l=a[o];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){if(this.limitInPlot){var e=this.middleGroup,n=kt(this.coordinateInstance),a=n.type,o=n.attrs;e.setClip({type:a,attrs:o})}this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,n,a){var o=(0,f.get)(this.options.scales,[t]),s=(0,G.__assign)((0,G.__assign)({},o),n);return this.parent?this.parent.createScale(t,e,s,a):this.scalePool.createScale(t,e,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,a=e.length;n<a;n++){var o=e[n];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,n=o.width,a=o.height}else t=0,e=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new cr(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new cr(t+n*l.x,e+a*l.y,n*(u.x-l.x),a*(u.y-l.y)),this.coordinateBBox=this.viewBBox)},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var a=t[e],o=ue(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,a=e?e.get("origin"):null,o=new Tr(this,t,a);return o.type=n,o},r.prototype.doPlotEvent=function(t){var e=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(e)){var l=this.isPointInPlot(o);if(l){var u="plot:"+e;t.type=u,this.emit(u,t),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!l?(e==="mousemove"&&(t.type=Mt.MOUSE_LEAVE,this.emit(Mt.MOUSE_LEAVE,t)),t.type=Mt.LEAVE,this.emit(Mt.LEAVE,t)):!this.isPreMouseInPlot&&l&&(e==="mousemove"&&(t.type=Mt.MOUSE_ENTER,this.emit(Mt.MOUSE_ENTER,t)),t.type=Mt.ENTER,this.emit(Mt.ENTER,t)),this.isPreMouseInPlot=l):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(t.type=Mt.MOUSE_LEAVE,this.emit(Mt.MOUSE_LEAVE,t)),t.type=Mt.LEAVE,this.emit(Mt.LEAVE,t),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=(0,f.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var c=t[u],v=s[c],g=this.getScaleKey(c);this.createScale(c,e.includes(c)?a:l,v,g),this.createdScaleKeys.set(g,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync()},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var a=t[n];e[a]=this.getScaleByField(a)}return e},r.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();It(s,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();It(s,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,G.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,f.each)(e,function(o){var s=o.field,l=o.values,u=o.isCategory,h=o.isIdentity;if((u||h)&&l&&!(0,f.get)(a,[s,"range"])){var c=l.length,v=void 0;if(c===1)v=[.5,1];else{var g=1,A=0;wt(n)?n.isTransposed?(g=(0,f.get)(t.theme,"widthRatio.multiplePie",1/1.3),A=1/c*g,v=[A/2,1-A/2]):v=[0,1-1/c]:(A=1/c/2,v=[A,1-A])}o.range=v}})},r.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var a=e[n];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,e||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var n=this.getComponents()[e];n.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=e===void 0?[]:e,a=t.interactions,o=a===void 0?[]:a,s=t.views,l=s===void 0?[]:s,u=t.annotations,h=u===void 0?[]:u,c=0;c<n.length;c++){var v=n[c];this.createGeometry(v)}for(var g=0;g<o.length;g++){var A=o[g],k=A.type,F=A.cfg;this.interaction(k,F)}for(var Y=0;Y<l.length;Y++){var N=l[Y];this.createView(N)}for(var st=this.getController("annotation"),lt=0;lt<h.length;lt++){var At=h[lt];st.annotation(At)}},r.prototype.createGeometry=function(t){var e=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[e]){var o=this[e](a);(0,f.each)(t,function(s,l){(0,f.isFunction)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return this.id+"-"+t},r}(Ie);function ca(i,r){fc.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,G.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new r(e);return this.geometries.push(n),n}}var Gu=fc,z1=function(i){(0,G.__extends)(r,i);function r(t){var e=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,h=t.appendPadding,c=t.renderer,v=c===void 0?"canvas":c,g=t.pixelRatio,A=t.localRefresh,k=A===void 0?!0:A,F=t.visible,Y=F===void 0?!0:F,N=t.defaultInteractions,st=N===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:N,lt=t.options,At=t.limitInPlot,zt=t.theme,Wt=(0,f.isString)(n)?document.getElementById(n):n,Qt=(0,dt.Z)('<div style="position:relative;"></div>');Wt.appendChild(Qt);var Vt=fe(Wt,l,a,o),te=tt(v),le=new te.Canvas((0,G.__assign)({container:Qt,pixelRatio:g,localRefresh:k},Vt));return e=i.call(this,{parent:null,canvas:le,backgroundGroup:le.addGroup({zIndex:St.BG}),middleGroup:le.addGroup({zIndex:St.MID}),foregroundGroup:le.addGroup({zIndex:St.FORE}),padding:u,appendPadding:h,visible:Y,options:lt,limitInPlot:At,theme:zt})||this,e.onResize=(0,f.debounce)(function(){e.forceFit()},300),e.ele=Wt,e.canvas=le,e.width=Vt.width,e.height=Vt.height,e.autoFit=l,e.localRefresh=k,e.renderer=v,e.wrapperElement=Qt,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(st),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,f.each)(t,function(n){e.interaction(n)})},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),me(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=fe(this.ele,!0,this.width,this.height),e=t.width,n=t.height;this.changeSize(e,n)}},r.prototype.updateCanvasStyle=function(){(0,Lt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Gu),X1=z1,Do=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(){(0,f.each)(this.components,function(r){r.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}(),hc=0,V1=1/2,H1=1/2,W1=.05,j1=function(){function i(r){var t=r.xField,e=r.yField,n=r.adjustNames,a=n===void 0?["x","y"]:n;this.adjustNames=a,this.xField=t,this.yField=e}return i.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},i.prototype.getAdjustRange=function(r,t,e){var n=this.yField,a=e.indexOf(t),o=e.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=e[a===0?0:a-1],l=e[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-e[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},i.prototype.adjustData=function(r,t){var e=this,n=this.getDimValues(t);f.each(r,function(a,o){f.each(n,function(s,l){e.adjustDim(l,s,a,o)})})},i.prototype.groupData=function(r,t){return f.each(r,function(e){e[t]===void 0&&(e[t]=hc)}),f.groupBy(r,t)},i.prototype.adjustDim=function(r,t,e,n){},i.prototype.getDimValues=function(r){var t=this,e=t.xField,n=t.yField,a={},o=[];if(e&&this.isAdjust("x")&&o.push(e),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a[l]=f.valuesOfKey(r,l).sort(function(u,h){return u-h})}),!n&&this.isAdjust("y")){var s="y";a[s]=[hc,1]}return a},i}(),Ws=j1,cc={},vc=function(i){return cc[i.toLowerCase()]},js=function(i,r){if(vc(i))throw new Error("Adjust type '"+i+"' existed.");cc[i.toLowerCase()]=r},Rt=d(60153),U1=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,a=n===void 0?V1:n,o=t.dodgeRatio,s=o===void 0?H1:o,l=t.dodgeBy,u=t.intervalPadding,h=t.dodgePadding,c=t.xDimensionLength,v=t.groupNum,g=t.defaultSize,A=t.maxColumnWidth,k=t.minColumnWidth,F=t.columnWidthRatio;return e.marginRatio=a,e.dodgeRatio=s,e.dodgeBy=l,e.intervalPadding=u,e.dodgePadding=h,e.xDimensionLegenth=c,e.groupNum=v,e.defaultSize=g,e.maxColumnWidth=A,e.minColumnWidth=k,e.columnWidthRatio=F,e}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e),a=this.dodgeBy,o=a?f.group(n,a):e;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],e},r.prototype.adjustDim=function(t,e,n,a){var o=this,s=this.getDistribution(t),l=this.groupData(n,t);return f.each(l,function(u,h){var c;e.length===1?c={pre:e[0]-1,next:e[0]+1}:c=o.getAdjustRange(t,parseFloat(h),e),f.each(u,function(v){var g=v[t],A=s[g],k=A.indexOf(a);v[t]=o.getDodgeOffset(c,k,A.length)})}),[]},r.prototype.getDodgeOffset=function(t,e,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,h=t.pre,c=t.next,v=c-h,g;if(!f.isNil(l)&&f.isNil(u)&&l>=0){var A=this.getIntervalOnlyOffset(n,e);g=h+A}else if(!f.isNil(u)&&f.isNil(l)&&u>=0){var A=this.getDodgeOnlyOffset(n,e);g=h+A}else if(!f.isNil(l)&&!f.isNil(u)&&l>=0&&u>=0){var A=this.getIntervalAndDodgeOffset(n,e);g=h+A}else{var k=v*o/n,F=s*k,A=1/2*(v-n*k-(n-1)*F)+((e+1)*k+e*F)-1/2*k-1/2*v;g=(h+c)/2+A}return g},r.prototype.getIntervalOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,A=(1-(l-1)*g)/l*u/(t-1),k=((1-g*(l-1))/l-A*(t-1))/t;if(k=f.isNil(v)?k:1/l/t*v,!f.isNil(h)){var F=h/s;k=Math.min(k,F)}if(!f.isNil(c)){var Y=c/s;k=Math.max(k,Y)}k=a?a/s:k,A=((1-(l-1)*g)/l-t*k)/(t-1);var N=((1/2+e)*k+e*A+1/2*g)*l-g/2;return N},r.prototype.getDodgeOnlyOffset=function(t,e){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,h=n.maxColumnWidth,c=n.minColumnWidth,v=n.columnWidthRatio,g=o/s,A=1*u/(l-1),k=((1-A*(l-1))/l-g*(t-1))/t;if(k=v?1/l/t*v:k,!f.isNil(h)){var F=h/s;k=Math.min(k,F)}if(!f.isNil(c)){var Y=c/s;k=Math.max(k,Y)}k=a?a/s:k,A=(1-(k*t+g*(t-1))*l)/(l-1);var N=((1/2+e)*k+e*g+1/2*A)*l-A/2;return N},r.prototype.getIntervalAndDodgeOffset=function(t,e){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,h=o/s,c=((1-u*(l-1))/l-h*(t-1))/t,v=((1/2+e)*c+e*h+1/2*u)*l-u/2;return v},r.prototype.getDistribution=function(t){var e=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},f.each(e,function(o,s){var l=f.valuesOfKey(o,t);l.length||l.push(0),f.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},r}(Ws),Z1=U1;function K1(i,r){return(r-i)*Math.random()+i}var $1=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.clone(t),n=f.flatten(e);return this.adjustData(e,n),e},r.prototype.adjustDim=function(t,e,n){var a=this,o=this.groupData(n,t);return f.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),e)})},r.prototype.getAdjustOffset=function(t){var e=t.pre,n=t.next,a=(n-e)*W1;return K1(e+a,n-a)},r.prototype.adjustGroup=function(t,e,n,a){var o=this,s=this.getAdjustRange(e,n,a);return f.each(t,function(l){l[e]=o.getAdjustOffset(s)}),t},r}(Ws),Q1=$1,Yu=f.Cache,J1=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,h=t.reverseOrder,c=h===void 0?!1:h;return e.adjustNames=a,e.height=s,e.size=u,e.reverseOrder=c,e}return r.prototype.process=function(t){var e=this,n=e.yField,a=e.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var e=this,n=e.xField,a=e.yField,o=e.reverseOrder,s=o?this.reverse(t):t,l=new Yu,u=new Yu;return s.map(function(h){return h.map(function(c){var v,g=f.get(c,n,0),A=f.get(c,[a]),k=g.toString();if(A=f.isArray(A)?A[1]:A,!f.isNil(A)){var F=A>=0?l:u;F.has(k)||F.set(k,0);var Y=F.get(k),N=A+Y;return F.set(k,N),(0,Rt.__assign)((0,Rt.__assign)({},c),(v={},v[a]=[Y,N],v))}return c})})},r.prototype.processOneDimStack=function(t){var e=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,h=new Yu;return u.map(function(c){return c.map(function(v){var g,A=e.size,k=v[a],F=A*2/o;h.has(k)||h.set(k,F/2);var Y=h.get(k);return h.set(k,Y+F),(0,Rt.__assign)((0,Rt.__assign)({},v),(g={},g[l]=Y,g))})})},r}(Ws),q1=J1,tb=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.process=function(t){var e=f.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(e),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return f.map(t,function(u){return f.map(u,function(h){var c,v,g=h[o],A=h[a];if(f.isArray(g)){var k=(l-s[A])/2;return(0,Rt.__assign)((0,Rt.__assign)({},h),(c={},c[o]=f.map(g,function(Y){return k+Y}),c))}var F=(l-g)/2;return(0,Rt.__assign)((0,Rt.__assign)({},h),(v={},v[o]=[F,g+F],v))})})},r.prototype.getXValuesMaxMap=function(t){var e=this,n=this,a=n.xField,o=n.yField,s=f.groupBy(t,function(l){return l[a]});return f.mapValues(s,function(l){return e.getDimMaxValue(l,o)})},r.prototype.getDimMaxValue=function(t,e){var n=f.map(t,function(o){return f.get(o,e,[])}),a=f.flatten(n);return Math.max.apply(Math,a)},r}(Ws),eb=tb;js("Dodge",Z1),js("Jitter",Q1),js("Stack",q1),js("Symmetric",eb);var dc={};function zu(i){return dc[i.toLowerCase()]}function Hn(i,r){dc[i.toLowerCase()]=r}var Fo={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},rb={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},pc={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function nb(i,r){return{delay:(0,f.isFunction)(i.delay)?i.delay(r):i.delay,easing:(0,f.isFunction)(i.easing)?i.easing(r):i.easing,duration:(0,f.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback}}function gc(i,r,t){var e=rb[i];return e&&((0,f.isFunction)(e)&&(e=e(r)),e=(0,f.deepMix)({},Fo,e),t)?e[t]:e}function Ro(i,r,t){var e=(0,f.get)(i.get("origin"),"data",gt),n=r.animation,a=nb(r,e);if(n){var o=zu(n);o&&o(i,a,t)}else i.animate(t.toAttrs,a)}function ib(i,r,t,e,n){if(pc[t]){var a=pc[t](e),o=zu((0,f.get)(a,"animation",""));if(o){var s=(0,G.__assign)((0,G.__assign)((0,G.__assign)({},Fo.appear),a),r);i.stopAnimate(),o(i,s,{coordinate:e,minYPoint:n,toAttrs:null})}}}var ab=d(31207),ob=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.visible,l=s===void 0?!0:s;return e.shapeFactory=n,e.container=a,e.offscreenGroup=o,e.visible=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,n=e.shapeFactory,a=e.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,this.syncShapeStyle(a,s,"",this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?Ro(n,a,{coordinate:e.coordinate,toAttrs:(0,G.__assign)({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var n=this,a=this,o=a.states,s=a.shapeFactory,l=a.model,u=a.shape,h=a.shapeType,c=o.indexOf(t);if(e){if(c>-1)return;o.push(t),(t==="active"||t==="selected")&&u.toFront()}else{if(c===-1)return;o.splice(c,1),(t==="active"||t==="selected")&&u.toBack()}var v=s.drawShape(h,l,this.getOffscreenGroup());o.length?o.forEach(function(A){n.syncShapeStyle(u,v,A,null)}):this.syncShapeStyle(u,v,"reset",null),v.remove(!0);var g={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",g),(0,ab.propagationDelegate)(this.shape,"statechange",g)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,f.each)(e,function(n){t.setState(n,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(a=e.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[e]||a.theme[s];this.statesStyle=(0,f.deepMix)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),a=(0,f.get)(n,[t,"style"],{}),o=a[e]||a;return(0,f.isFunction)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},r.prototype.drawShape=function(t,e){e===void 0&&(e=!1);var n=this,a=n.shapeFactory,o=n.container,s=n.shapeType;if(this.shape=a.drawShape(s,t,o),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,f.isString)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var u=e?"enter":"appear",h=this.getAnimateCfg(u);h&&Ro(this.shape,h,{coordinate:a.coordinate,toAttrs:(0,G.__assign)({},this.shape.attr())})}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var n=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,n,a,o){if(n===void 0&&(n=""),o===void 0&&(o=0),t.isGroup())for(var s=t.get("children"),l=e.get("children"),u=0;u<s.length;u++)this.syncShapeStyle(s[u],l[u],n,a,o+u);else{if(n&&n!=="reset"){var h=t.get("name");(0,f.isArray)(h)&&(h=h[1]);var c=this.getStateStyle(n,h||o);e.attr(c)}var v=Dn(t,e);this.animate?a?Ro(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:v,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(v,{duration:300})):t.attr(v):t.attr(v)}},r.prototype.getShapeType=function(t){var e=(0,f.get)(t,"shape");return(0,f.isArray)(e)?e[0]:e},r}(Ie),yc=ob,mc={},xc={};function bc(i){return mc[i.toLowerCase()]}function hs(i,r){mc[i.toLowerCase()]=r}function wc(i){return xc[i.toLowerCase()]}function vo(i,r){xc[i.toLowerCase()]=r}var Us=d(57350),sb={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var n=this.theme,a=(0,f.get)(n,[i,"default"],{}),o=t.getMarker(r);return(0,f.deepMix)({},a,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},lb={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,Us.parsePathString)(i);return r.isPolar?t=gr(r,t):t=Qe(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},Xu={};function Qa(i,r){var t=(0,f.upperFirst)(i),e=(0,G.__assign)((0,G.__assign)((0,G.__assign)({},sb),r),{geometryType:i});return Xu[t]=e,e}function en(i,r,t){var e=(0,f.upperFirst)(i),n=Xu[e],a=(0,G.__assign)((0,G.__assign)({},lb),t);return n[r]=a,a}function Vu(i){var r=(0,f.upperFirst)(i);return Xu[r]}function ub(i,r,t){if(t===void 0&&(t={}),!r)return[i];var e=(0,f.groupToMap)(i,r),n=[];if(r.length===1&&t[r[0]])for(var a=t[r[0]],o=0,s=a;o<s.length;o++){var l=s[o],u=e["_"+l];u&&n.push(u)}else for(var h in e)if(e.hasOwnProperty(h)){var c=e[h];n.push(c)}return n}function Sc(i,r){return(0,f.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,f.isEqual)(i[t],r[t])})}function cs(i){return(0,f.isArray)(i)?i:i.split("*")}function fb(i,r){var t=[];return(0,f.each)(r,function(e,n){var a=n.split(" ")[0];a===i&&t.push(e)}),t}var hb=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,h=t.visible,c=h===void 0?!0:h,v=t.theme,g=t.scales,A=g===void 0?{}:g,k=t.scaleDefs,F=k===void 0?{}:k;return e.container=n,e.labelsContainer=a,e.coordinate=o,e.data=s,e.sortable=u,e.visible=c,e.userTheme=v,e.scales=A,e.scaleDefs=F,e}return r.prototype.position=function(t){var e=t;(0,f.isPlainObject)(t)||(e={fields:cs(t)});var n=(0,f.get)(e,"fields");return n.length===1&&(n.unshift("1"),(0,f.set)(e,"fields",n)),(0,f.set)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,f.isString)(t)||(0,f.isPlainObject)(t))&&(e=[t]),(0,f.each)(e,function(n,a){(0,f.isObject)(n)||(e[a]={type:n})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,f.isString)(t)){var n=cs(t);this.styleOption={fields:n,callback:e}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,f.isString)(t)){var n=cs(t);this.tooltipOption={fields:n,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,n){if((0,f.isString)(t)){var a={},o=cs(t);a.fields=o,(0,f.isFunction)(e)?a.callback=e:(0,f.isPlainObject)(e)&&(a.cfg=e),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,f.isEqual)(s,l)?e&&(n||!(0,f.isEqual)(e,this.data))?(this.setCfg(t),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,f.deepMix)({},gc(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var n=this.getOffscreenGroup();n.clear();for(var a=this.beforeMappingData,o=this.beforeMapping(a),s=[],l=0,u=o.length;l<u;l++){var h=o[l],c=this.mapping(h);s.push(c),this.createElements(c,l,t)}if(this.canDoGroupAnimation(t)){var v=this.container,g=this.type,A=this.coordinate,k=(0,f.get)(this.animateOption,"appear"),F=this.getYScale(),Y=A.convert({x:0,y:F.scale(this.getYMinValue())});ib(v,k,g,A,Y)}this.labelOption&&this.renderLabels((0,f.flatten)(s),t),this.dataArray=s,(0,f.each)(this.lastElementsMap,function(N){N.animate=e.animateOption,N.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=(0,G.__assign)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,n=t.geometryLabel,a=t.offscreenGroup;e&&e.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,f.each)(this.attributes,function(e){Tt.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&(0,f.isEmpty)(n.scales)&&(e=n.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(e[u])}return t.mapping.apply(t,n)},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getShapeMarker=function(t,e){var n=this.getShapeFactory();return n.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElementId=function(t){t=(0,f.isArray)(t)?t[0]:t;var e=t[gt];if(this.idFields.length){for(var n=e[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+e[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",h=l.field||"y",c=e[h],v;s.type==="identity"?v=s.values[0]:v=e[u];var g;o==="interval"||o==="schema"?g=v:o==="line"||o==="area"||o==="path"?g=o:g=v+"-"+c;for(var A=this.groupScales,a=0,k=A.length;a<k;a++){var F=A[a],Y=F.field;g=g+"-"+e[Y]}var N=this.getAdjust("dodge");if(N){var st=N.dodgeBy;st&&(g=g+"-"+e[st])}return this.getAdjust("jitter")&&(g=g+"-"+t.x+"-"+t.y),g},r.prototype.getScaleFields=function(){var t=[],e={},n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?It(u.fields,t,e):u.values&&It(u.values,t,e)}return o&&o.fields&&It(o.fields,t,e),(0,f.isObject)(s)&&s.fields&&It(s.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,a=e.length;n<a;n++){var o=e[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getGroupFields=function(){for(var t=[],e={},n=0,a=Tt.length;n<a;n++){var o=Tt[n],s=this.attributeOption[o];s&&s.fields&&It(s.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=this.attributeOption.position.fields,e=t[0],n=t[1];return[e,n]},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),n=e.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return e.translate(s[gt][n])-e.translate(l[gt][n])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!Vu(t))return this.shapeFactory||(this.shapeFactory=(0,f.clone)(Vu(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[e.field],e),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e){e===void 0&&(e=!1);var n=this.container,a=this.getDrawCfg(t),o=this.getShapeFactory(),s=new yc({shapeFactory:o,container:n,offscreenGroup:this.getOffscreenGroup()});return s.animate=this.animateOption,s.geometry=this,s.draw(a,e),s},r.prototype.getDrawCfg=function(t){var e=t[gt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,f.get)(o,[a,"default"],{}).style;var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);for(var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=0,h=t.length;u<h;u++){var c=t[u],v=this.getElementId(c);s[v]&&(v=v+"-"+e+"-"+u);var g=o[v];if(!g)g=this.createElement(c,n);else{var A=this.getDrawCfg(c),k=g.getModel();(this.isCoordinateChanged||Sc(A,k))&&(g.animate=this.animateOption,g.update(A)),delete o[v]}l.push(g),s[v]=g}return l},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=(0,f.get)(e,["cfg","type"]);return s||(o==="polar"?s="polar":o==="theta"?s="pie":a==="interval"||a==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,a;return e>=0?a=e:n<=0?a=n:a=0,a},r.prototype.createAttrOption=function(t,e,n){if((0,f.isNil)(e)||(0,f.isObject)(e))(0,f.isObject)(e)&&(0,f.isEqual)(Object.keys(e),["values"])?(0,f.set)(this.attributeOption,t,{fields:e.values}):(0,f.set)(this.attributeOption,t,e);else{var a={};(0,f.isNumber)(e)?a.values=[e]:a.fields=cs(e),n&&((0,f.isFunction)(n)?a.callback=n:a.values=n),(0,f.set)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,e=this,n=e.attributes,a=e.attributeOption,o=e.theme,s=e.shapeType;this.groupScales=[];var l={},u=function(v){if(a.hasOwnProperty(v)){var g=a[v];if(!g)return{value:void 0};var A=(0,G.__assign)({},g),k=A.callback,F=A.values,Y=A.fields,N=Y===void 0?[]:Y,st=N.map(function(At){var zt=t.scales[At];return zt.isCategory&&!l[At]&&Tt.includes(v)&&(t.groupScales.push(zt),l[At]=!0),zt});A.scales=st,v!=="position"&&st.length===1&&st[0].type==="identity"?A.values=st[0].values:!k&&!F&&(v==="size"?A.values=o.sizes:v==="shape"?A.values=o.shapes[s]||[]:v==="color"&&(st.length?A.values=st[0].values.length<=10?o.colors10:o.colors20:A.values=o.colors10));var lt=(0,Ar.getAttribute)(v);n[v]=new lt(A)}};for(var h in a){var c=u(h);if(typeof c=="object")return c.value}},r.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales,n=e.filter(function(At){return At.isCategory}),a=this.groupData(t),o=[],s=0,l=a.length;s<l;s++){for(var u=a[s],h=[],c=0,v=u.length;c<v;c++){var g=u[c],A={};for(var k in g)A[k]=g[k];A[gt]=g;for(var F=0,Y=n;F<Y.length;F++){var N=Y[F],st=N.field;A[st]=N.translate(A[st])}h.push(A)}o.push(h)}var lt=this.adjustData(o);return this.beforeMappingData=lt,lt},r.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var a=this.getXScale(),o=this.getYScale(),s=a.field,l=o?o.field:null,u=0,h=e.length;u<h;u++){var c=e[u],v=(0,G.__assign)({xField:s,yField:l},c),g=c.type;if(g==="dodge"){var A=[];if(a.isCategory||a.type==="identity")A.push("x");else if(!o)A.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");v.adjustNames=A,v.dodgeRatio=this.theme.columnWidthRatio}else if(g==="stack"){var k=this.coordinate;if(!o){v.height=k.getHeight();var F=this.getDefaultValue("size")||3;v.size=F}!k.isTransposed&&(0,f.isNil)(v.reverseOrder)&&(v.reverseOrder=!0)}var Y=vc(g),N=new Y(v);n=N.process(n),this.adjusts[g]=N}return n},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<e.length;s++){var l=e[s],u=l.field;o.push(u),(0,f.get)(n,[u,"values"])&&(a[u]=n[u].values)}return ub(t,o,a)},r.prototype.updateStackRange=function(t,e){for(var n=(0,f.flatten)(e),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],h=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);h<o&&(o=h),c>s&&(s=c)}var v=this.scaleDefs,g={};o<t.min&&!(0,f.get)(v,[a,"min"])&&(g.min=o),s>t.max&&!(0,f.get)(v,[a,"max"])&&(g.max=s),t.change(g)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,a=e.length;n<a;n++){var o=e[n];this.generateShapePoints(o);var s=e[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=e.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,e){var n=[];if((0,f.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(e.scale(o))}else n=e.scale(t);return n},r.prototype.mapping=function(t){for(var e=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[gt],points:o.points,nextPoints:o.nextPoints};for(var l in e)if(e.hasOwnProperty(l)){var u=e[l],h=u.names,c=this.getAttributeValues(u,o);if(h.length>1)for(var v=0;v<c.length;v+=1){var g=c[v],A=h[v];s[A]=(0,f.isArray)(g)&&g.length===1?g[0]:g}else s[h[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},r.prototype.convertPoint=function(t){var e=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,f.isArray)(e)&&(0,f.isArray)(n)){a=[],o=[];for(var u=0,h=0,c=e.length,v=n.length;u<c&&h<v;u+=1,h+=1)s=l.convert({x:e[u],y:n[h]}),a.push(s.x),o.push(s.y)}else if((0,f.isArray)(n)){o=[];for(var g=0;g<n.length;g++){var A=n[g];s=l.convert({x:e,y:A}),a&&a!==s.x?((0,f.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,f.isArray)(e)){a=[];for(var g=0;g<e.length;g++){var k=e[g];s=l.convert({x:k,y:n}),o&&o!==s.y?((0,f.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var F=l.convert({x:e,y:n});a=F.x,o=F.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,e){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return e[u]});return o.apply(void 0,l)},r.prototype.setCfg=function(t){var e=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,f.each)(s,function(l,u){l&&l.key&&e.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,f.deepMix)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){e===void 0&&(e=!1);var n=this.geometryLabel;if(!n){var a=this.getLabelType(),o=bc(a);n=new o(this),this.geometryLabel=n}n.render(t,e);var s=n.labelsRenderer.shapesMap;(0,f.each)(this.elementsMap,function(l,u){var h=fb(u,s);if(h.length){l.labelShape=h;for(var c=0;c<h.length;c++)for(var v=h[c],g=v.getChildren(),A=0;A<g.length;A++){var k=g[A];k.cfg.name=["element","label"],k.cfg.element=l}}})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,f.get)(this.animateOption,"appear")===void 0||(0,f.get)(this.animateOption,"appear")&&(0,f.get)(this.animateOption,["appear","animation"])===void 0)},r}(Ie),Na=hb,Zs=pn.transform;function Hu(i,r,t){var e=Zs(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Cc(i,r){var t=i.attr(),e=t.x,n=t.y,a=Zs(i.getMatrix(),[["t",-e,-n],["r",r],["t",e,n]]);i.setMatrix(a)}function nG(){return[1,0,0,0,1,0,0,0,1]}function cb(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;i.applyToMatrix([e,n,1]);var a=Zs(i.getMatrix(),[["t",-e,-n],["s",r,r],["t",e,n]]);i.setMatrix(a)}var vb=function(){function i(r){this.shapesMap={},this.lastShapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){var n=this;e===void 0&&(e=!1),this.shapesMap={};var a=this.container,o=this.createOffscreenGroup();if(r.length){for(var s=0,l=r;s<l.length;s++){var u=l[s];u&&this.renderLabel(u,o)}this.doLayout(r,t),this.renderLabelLine(r),this.adjustLabel(r)}var h=this.lastShapesMap,c=this.shapesMap;(0,f.each)(c,function(v,g){if(v.destroyed)delete c[g];else{if(h[g]){var A=v.get("data"),k=v.get("origin"),F=v.get("coordinate"),Y=h[g],N=v.get("animateCfg");Y.set("data",A),Y.set("origin",k),Y.set("animateCfg",N),Y.set("coordinate",F);var st=(0,f.get)(N,"update"),lt=Y.getChildren();v.getChildren().map(function(zt,Wt){var Qt=lt[Wt];Qt.set("data",A),Qt.set("origin",k),Qt.set("animateCfg",N),Qt.set("coordinate",F);var Vt=Dn(Qt,zt);st?Ro(Qt,st,{toAttrs:Vt,coordinate:F}):Qt.attr(Vt)}),n.shapesMap[g]=Y}else{a.add(v);var At=(0,f.get)(v.get("animateCfg"),e?"enter":"appear");At&&Ro(v,At,{toAttrs:(0,G.__assign)({},v.attr()),coordinate:v.get("coordinate")})}delete h[g]}}),(0,f.each)(h,function(v){var g=(0,f.get)(v.get("animateCfg"),"leave");g?Ro(v,g,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.lastShapesMap=c,o.destroy()},i.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,n=r.data,a=r.mappingData,o=r.coordinate,s=r.animate,l=r.content,u={id:e,data:n,origin:a,coordinate:o},h=t.addGroup((0,G.__assign)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,f.deepMix)({},this.animate,s)},u)),c;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var v=l.getCanvasBBox(),g=v.width,A=v.height,k=(0,f.get)(r,"textAlign","left"),F=r.x,Y=r.y-A/2;k==="center"?F=F-g/2:(k==="right"||k==="end")&&(F=F-g),Hu(l,F,Y),c=l,h.add(l)}else c=h.addShape("text",(0,G.__assign)({attrs:(0,G.__assign)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,f.get)(r,"textBaseline","middle"),text:r.content},r.style)},u));r.rotate&&Cc(c,r.rotate),this.shapesMap[e]=h},i.prototype.doLayout=function(r,t){var e=this;if(this.layout){var n=(0,f.isArray)(this.layout)?this.layout:[this.layout];(0,f.each)(n,function(a){var o=wc((0,f.get)(a,"type",""));if(o){var s=[],l=[];(0,f.each)(e.shapesMap,function(u,h){s.push(u),l.push(t[h])}),o(r,s,l,e.region,a.cfg)}})}},i.prototype.renderLabelLine=function(r){var t=this;(0,f.each)(r,function(e){var n=(0,f.get)(e,"coordinate");if(!(!e||!n)){var a=n.getCenter(),o=n.getRadius();if(!!e.labelLine){var s=(0,f.get)(e,"labelLine",{}),l=e.id,u=s.path;if(!u){var h=cn(a.x,a.y,o,e.angle);u=[["M",h.x,h.y],["L",e.x,e.y]]}var c=t.shapesMap[l];c.destroyed||c.addShape("path",{capture:!1,attrs:(0,G.__assign)({path:u,stroke:e.color?e.color:(0,f.get)(e,["style","fill"],"#000"),fill:null},s.style),id:l,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r){var t=this;(0,f.each)(r,function(e){if(e){var n=e.id,a=t.shapesMap[n];if(!a.destroyed){var o=a.find(function(s){return s.get("type")==="text"});o&&(e.offsetX&&o.attr("x",o.attr("x")+e.offsetX),e.offsetY&&o.attr("y",o.attr("y")+e.offsetY))}}})},i}(),db=vb;function pb(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}var gb=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],n=this.getLabelCfgs(r);return(0,f.each)(r,function(a,o){var s=n[o];if(!s||(0,f.isNil)(a.x)||(0,f.isNil)(a.y)){e.push(null);return}var l=(0,f.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,f.each)(l,function(h,c){if((0,f.isNil)(h)||h===""){e.push(null);return}var v=(0,G.__assign)((0,G.__assign)({},s),t.getLabelPoint(s,a,c));v.textAlign||(v.textAlign=t.getLabelAlign(v,c,u)),v.offset<=0&&(v.labelLine=null),e.push(v)})}),e},i.prototype.render=function(r,t){t===void 0&&(t=!1);var e=this.getLabelItems(r),n=this.getLabelsRenderer(),a=this.getGeometryShapes();n.render(e,a,t)},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"labels",{})},i.prototype.setLabelPosition=function(r,t,e,n){},i.prototype.getDefaultOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffset=function(r,t,e){var n=this.getDefaultOffset(r.offset),a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||e===1?u[s]=n*l:u[s]=n*l*-1,u},i.prototype.getLabelPoint=function(r,t,e){var n=this.getCoordinate(),a=r.content.length;function o(k,F){var Y=k;return(0,f.isArray)(Y)&&(r.content.length===1?Y.length<=2?Y=Y[k.length-1]:Y=pb(Y):Y=Y[F]),Y}var s={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};if(t&&this.geometry.type==="polygon"){var l=Pi(t.x,t.y);s.x=l[0],s.y=l[1]}else s.x=o(t.x,e),s.y=o(t.y,e);var u=(0,f.isArray)(t.shape)?t.shape[0]:t.shape;if(u==="funnel"||u==="pyramid"){var h=(0,f.get)(t,"nextPoints"),c=(0,f.get)(t,"points");if(h){var v=n.convert(c[1]),g=n.convert(h[1]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}else if(u==="pyramid"){var v=n.convert(c[1]),g=n.convert(c[2]);s.x=(v.x+g.x)/2,s.y=(v.y+g.y)/2}}r.position&&this.setLabelPosition(s,t,e,r.position);var A=this.getLabelOffset(r,e,a);return s.start={x:s.x,y:s.y},s.x+=A.x,s.y+=A.y,s.color=t.color,s},i.prototype.getLabelAlign=function(r,t,e){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=this.getDefaultOffset(r.offset);o<0?n="right":o===0?n="center":n="left",e>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,n=t.getXScale(),a=t.getYScale(),o=r[gt],s=t.getElementId(r);return e==="line"||e==="area"?s+=" "+o[n.field]:e==="path"&&(s+=" "+o[n.field]+"-"+o[a.field]),s},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,n=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new db({container:t,layout:(0,f.get)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?gc("label",o):!1,s},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,n=this.getDefaultLabelCfg(),a=e.type,o=e.theme,s=e.labelOption,l=e.scales,u=e.coordinate,h=s,c=h.fields,v=h.callback,g=h.cfg,A=c.map(function(F){return l[F]}),k=[];return(0,f.each)(r,function(F,Y){var N=F[gt],st=t.getLabelText(N,A),lt;if(v){var At=c.map(function(Qt){return N[Qt]});if(lt=v.apply(void 0,At),(0,f.isNil)(lt)){k.push(null);return}}var zt=(0,G.__assign)((0,G.__assign)({id:t.getLabelId(F),data:N,mappingData:F,coordinate:u},g),lt),Wt=zt.content;(0,f.isFunction)(Wt)?zt.content=Wt(N,F,Y):(0,f.isUndefined)(Wt)&&(zt.content=st[0]),(0,f.isFunction)(zt.position)&&(zt.position=zt.position(N,F,Y)),a==="polygon"||zt.offset<0&&!["line","point","path"].includes(a)?zt=(0,f.deepMix)({},n,o.innerLabels,zt):zt=(0,f.deepMix)({},n,o.labels,zt),k.push(zt)}),k},i.prototype.getLabelText=function(r,t){var e=[];return(0,f.each)(t,function(n){var a=r[n.field];(0,f.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,f.isNil)(a)||a===""?e.push(null):e.push(a)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate();return t.isTransposed?t.applyMatrix(r,0):t.applyMatrix(0,r)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,f.each)(r.elementsMap,function(e,n){t[n]=e.shape}),(0,f.each)(r.getOffscreenGroup().getChildren(),function(e){var n=r.getElementId(e.get("origin").mappingData);t[n]=e}),t},i}(),Ks=gb,yb=d(66002),mb="4.0.15",po={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},En={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},na=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],xb=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],bb={backgroundColor:"#141414",brandColor:na[0],paletteQualitative10:na,paletteQualitative20:xb,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
  "Noto Color Emoji"`,axisLineBorderColor:En[25],axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:En[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:En[25],axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:En[15],axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:En[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:En[15],axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:En[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:na[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:En[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:En[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:En[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:po[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:po[25],annotationArcBorderColor:En[15],annotationArcBorder:.5,annotationLineBorderColor:En[25],annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:En[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:po[95],annotationTextBorder:1.5,annotationRegionFillColor:En[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:En[25],tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:En[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:En[65],labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:po[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:En[25],pointFillColor:na[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:po[100],pointBorderOpacity:1,pointActiveBorderColor:En[100],pointSelectedBorder:2,pointSelectedBorderColor:En[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:na[0],hollowPointBorderOpacity:.95,hollowPointFillColor:po[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:En[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:En[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:na[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:na[0],areaFillOpacity:.25,areaActiveFillColor:na[0],areaActiveFillOpacity:.5,areaSelectedFillColor:na[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:na[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:En[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:En[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:na[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:En[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:En[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:na[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:po[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:En[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:En[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},di=d(73890),on=d(21830),$s=d(46812),pi=d(66631),dn=d(27154),wb=d(9217),Sb=d(5253),iG=d(39984),Cb=d(98229),Mb=d(35755);function Eb(){return window?window.devicePixelRatio:1}function Mc(i,r,t,e){var n=i-t,a=r-e;return Math.sqrt(n*n+a*a)}function go(i,r,t,e,n,a){return n>=i&&n<=i+t&&a>=r&&a<=r+e}function Wu(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Ab(i,r){return!i||!r?i||r:{minX:Math.min(i.minX,r.minX),minY:Math.min(i.minY,r.minY),maxX:Math.max(i.maxX,r.maxX),maxY:Math.max(i.maxY,r.maxY)}}function Ec(i,r){return i[0]===r[0]&&i[1]===r[1]}var aG=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,oG=/[^\s\,]+/gi,_b=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Tb=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Pb=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Ac=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _c(i,r){var t=i.match(Ac);(0,dn.default)(t,function(e){var n=e.split(":");r.addColorStop(n[0],n[1])})}function Lb(i,r,t){var e=_b.exec(t),n=parseFloat(e[1])%360*(Math.PI/180),a=e[2],o=r.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),h=u*u,c=(l.x-s.x+u*(l.y-s.y))/(h+1)+s.x,v=u*(l.x-s.x+u*(l.y-s.y))/(h+1)+s.y,g=i.createLinearGradient(s.x,s.y,c,v);return _c(a,g),g}function Ob(i,r,t){var e=Tb.exec(t),n=parseFloat(e[1]),a=parseFloat(e[2]),o=parseFloat(e[3]),s=e[4];if(o===0){var l=s.match(Ac);return l[l.length-1].split(":")[1]}var u=r.getBBox(),h=u.maxX-u.minX,c=u.maxY-u.minY,v=Math.sqrt(h*h+c*c)/2,g=i.createRadialGradient(u.minX+h*n,u.minY+c*a,0,u.minX+h/2,u.minY+c/2,o*v);return _c(s,g),g}function Ib(i,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var e,n,a=Pb.exec(t),o=a[1],s=a[2];function l(){e=i.createPattern(n,o),r.set("pattern",e),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),e}function kb(i,r,t){if((0,on.default)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return Lb(i,r,t);if(t[0]==="r")return Ob(i,r,t);if(t[0]==="p")return Ib(i,r,t)}return t}}function Bb(i){var r=0,t=0,e=0,n=0;return(0,pi.default)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,[r,t,e,n]}function Qs(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function ju(i,r){return Qs(i)*Qs(r)?(i[0]*r[0]+i[1]*r[1])/(Qs(i)*Qs(r)):1}function Tc(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(ju(i,r))}function Pc(i,r){var t=r[1],e=r[2],n=(0,Sb.default)((0,wb.default)(r[3]),Math.PI*2),a=r[4],o=r[5],s=i[0],l=i[1],u=r[6],h=r[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-h)/2,v=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-h)/2,g=c*c/(t*t)+v*v/(e*e);g>1&&(t*=Math.sqrt(g),e*=Math.sqrt(g));var A=t*t*(v*v)+e*e*(c*c),k=A?Math.sqrt((t*t*(e*e)-A)/A):1;a===o&&(k*=-1),isNaN(k)&&(k=0);var F=e?k*t*v/e:0,Y=t?k*-e*c/t:0,N=(s+u)/2+Math.cos(n)*F-Math.sin(n)*Y,st=(l+h)/2+Math.sin(n)*F+Math.cos(n)*Y,lt=[(c-F)/t,(v-Y)/e],At=[(-1*c-F)/t,(-1*v-Y)/e],zt=Tc([1,0],lt),Wt=Tc(lt,At);return ju(lt,At)<=-1&&(Wt=Math.PI),ju(lt,At)>=1&&(Wt=0),o===0&&Wt>0&&(Wt=Wt-2*Math.PI),o===1&&Wt<0&&(Wt=Wt+2*Math.PI),{cx:N,cy:st,rx:Ec(i,[u,h])?0:t,ry:Ec(i,[u,h])?0:e,startAngle:zt,endAngle:zt+Wt,xRotation:n,arcFlag:a,sweepFlag:o}}var Js=Math.sin,qs=Math.cos,Uu=Math.atan2,tl=Math.PI;function Lc(i,r,t,e,n,a,o){var s=r.stroke,l=r.lineWidth,u=t-n,h=e-a,c=Uu(h,u),v=new tf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*qs(tl/6)+","+10*Js(tl/6)+" L0,0 L"+10*qs(tl/6)+",-"+10*Js(tl/6),stroke:s,lineWidth:l}});v.translate(n,a),v.rotateAtPoint(n,a,c),i.set(o?"startArrowShape":"endArrowShape",v)}function Oc(i,r,t,e,n,a,o){var s=r.startArrow,l=r.endArrow,u=r.stroke,h=r.lineWidth,c=o?s:l,v=c.d,g=c.fill,A=c.stroke,k=c.lineWidth,F=(0,Rt.__rest)(c,["d","fill","stroke","lineWidth"]),Y=t-n,N=e-a,st=Uu(N,Y);v&&(n=n-qs(st)*v,a=a-Js(st)*v);var lt=new tf({type:"path",canvas:i.get("canvas"),isArrowShape:!0,attrs:(0,Rt.__assign)((0,Rt.__assign)({},F),{stroke:A||u,lineWidth:k||h,fill:g})});lt.translate(n,a),lt.rotateAtPoint(n,a,st),i.set(o?"startArrowShape":"endArrowShape",lt)}function yo(i,r,t,e,n){var a=Uu(e-r,t-i);return{dx:qs(a)*n,dy:Js(a)*n}}function Zu(i,r,t,e,n,a){typeof r.startArrow=="object"?Oc(i,r,t,e,n,a,!0):r.startArrow?Lc(i,r,t,e,n,a,!0):i.set("startArrowShape",null)}function Ku(i,r,t,e,n,a){typeof r.endArrow=="object"?Oc(i,r,t,e,n,a,!1):r.endArrow?Lc(i,r,t,e,n,a,!1):i.set("startArrowShape",null)}var Ic={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function No(i,r){var t=r.attr();for(var e in t){var n=t[e],a=Ic[e]?Ic[e]:e;a==="matrix"&&n?i.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&i.setLineDash?(0,f.isArray)(n)&&i.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=kb(i,r,n):a==="globalAlpha"&&(n=n*i.globalAlpha),i[a]=n)}}function $u(i,r,t){for(var e=0;e<r.length;e++){var n=r[e];n.get("visible")?n.draw(i,t):n.skipDraw()}}function kc(i,r,t,e){var n=t.path,a=t.startArrow,o=t.endArrow,s=[0,0],l=[0,0],u={dx:0,dy:0};r.beginPath();for(var h=0;h<n.length;h++){var c=n[h],v=c[0];if(h===0&&a&&a.d){var g=i.getStartTangent();u=yo(g[0][0],g[0][1],g[1][0],g[1][1],a.d)}else if(h===n.length-2&&n[h+1][0]==="Z"&&o&&o.d){var A=n[h+1];if(A[0]==="Z"){var g=i.getEndTangent();u=yo(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}}else if(h===n.length-1&&o&&o.d&&n[0]!=="Z"){var g=i.getEndTangent();u=yo(g[0][0],g[0][1],g[1][0],g[1][1],o.d)}var k=u.dx,F=u.dy;switch(v){case"M":r.moveTo(c[1]-k,c[2]-F),l=[c[1],c[2]];break;case"L":r.lineTo(c[1]-k,c[2]-F);break;case"Q":r.quadraticCurveTo(c[1],c[2],c[3]-k,c[4]-F);break;case"C":r.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-k,c[6]-F);break;case"A":{var Y=void 0;e?(Y=e[h],Y||(Y=Pc(s,c),e[h]=Y)):Y=Pc(s,c);var N=Y.cx,st=Y.cy,lt=Y.rx,At=Y.ry,zt=Y.startAngle,Wt=Y.endAngle,Qt=Y.xRotation,Vt=Y.sweepFlag;if(r.ellipse)r.ellipse(N,st,lt,At,Qt,zt,Wt,1-Vt);else{var te=lt>At?lt:At,le=lt>At?1:lt/At,ae=lt>At?At/lt:1;r.translate(N,st),r.rotate(Qt),r.scale(le,ae),r.arc(0,0,te,zt,Wt,1-Vt),r.scale(1/le,1/ae),r.rotate(-Qt),r.translate(-N,-st)}break}case"Z":r.closePath();break;default:break}if(v==="Z")s=l;else{var Se=c.length;s=[c[Se-2],c[Se-1]]}}}function Bc(i,r){var t=i.get("canvas");t&&(r==="remove"&&(i._cacheCanvasBBox=i.get("cacheCanvasBBox")),i.get("hasChanged")||(t.refreshElement(i,r,t),t.get("autoDraw")&&t.draw(),i.set("hasChanged",!0)))}function Db(i){var r;if(i.destroyed)r=i._cacheCanvasBBox;else{var t=i.get("cacheCanvasBBox"),e=t&&!!(t.width&&t.height),n=i.getCanvasBBox(),a=n&&!!(n.width&&n.height);e&&a?r=Ab(t,n):e?r=t:a&&(r=n)}return r}function Dc(i){if(!i.length)return null;var r=[],t=[],e=[],n=[];return(0,f.each)(i,function(a){var o=Db(a);o&&(r.push(o.minX),t.push(o.minY),e.push(o.maxX),n.push(o.maxY))}),{minX:Math.min.apply(null,r),minY:Math.min.apply(null,t),maxX:Math.max.apply(null,e),maxY:Math.max.apply(null,n)}}function Fb(i,r){return!i||!r||!Wu(i,r)?null:{minX:Math.max(i.minX,r.minX),minY:Math.max(i.minY,r.minY),maxX:Math.min(i.maxX,r.maxX),maxY:Math.min(i.maxY,r.maxY)}}var Fc=d(41056),Rb=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){Bc(this,t)},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,e){e&&(t.save(),No(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),No(t,this),this._applyClip(t,this.getClip()),$u(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(je.AbstractGroup),Qu=Rb,Nb=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return Qu},r.prototype.onCanvasChange=function(t){Bc(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=(0,Fc.b)(t),a=n(this),o=e/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,h=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+e,height:a.height+e,maxX:u,maxY:h}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,e){e&&(t.save(),No(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},r.prototype.draw=function(t,e){var n=this.getClip();if(e){var a=n?Dc([this,n]):this.getCanvasBBox();if(!Wu(e,a)){this.set("hasChanged",!1);return}}t.save(),No(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype._afterDraw=function(){var t=this.getCanvasBBox(),e=this.getCanvas();if(this.set("cacheCanvasBBox",t),e){var n=e.getViewRange();this.set("isInView",Wu(t,n))}this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isFill()&&(!(0,di.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,di.default)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,e){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(je.AbstractShape),va=Nb,Gb=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.r,c=o/2,v=Mc(l,u,t,e);return a&&n?v<=h+c:a?v<=h:n?v>=h-c&&v<=h+c:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},r}(va),Yb=Gb;function el(i,r,t,e){return i/(t*t)+r/(e*e)}var zb=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=o/2,u=s.x,h=s.y,c=s.rx,v=s.ry,g=(t-u)*(t-u),A=(e-h)*(e-h);return a&&n?el(g,A,c+l,v+l)<=1:a?el(g,A,c,v)<=1:n?el(g,A,c-l,v-l)>=1&&el(g,A,c+l,v+l)<=1:!1},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.rx,s=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,h=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,h),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},r}(va),Xb=zb;function Rc(i){return i instanceof HTMLElement&&(0,on.default)(i.nodeName)&&i.nodeName.toUpperCase()==="CANVAS"}var Vb=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var e=this,n=this.attrs;if((0,on.default)(t)){var a=new Image;a.onload=function(){if(e.destroyed)return!1;e.attr("img",a),e.set("loading",!1),e._afterLoading();var o=e.get("callback");o&&o.call(e)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):Rc(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="img"&&this._setImage(e)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.sx,u=e.sy,h=e.swidth,c=e.sheight,v=e.img;(v instanceof Image||Rc(v))&&(!(0,di.default)(l)&&!(0,di.default)(u)&&!(0,di.default)(h)&&!(0,di.default)(c)?t.drawImage(v,l,u,h,c,n,a,o,s):t.drawImage(v,n,a,o,s))},r}(va),Hb=Vb,Ga=d(23646);function Ja(i,r,t,e,n,a,o){var s=Math.min(i,t),l=Math.max(i,t),u=Math.min(r,e),h=Math.max(r,e),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=h+c?Ga.default.pointToLine(i,r,t,e,a,o)<=n/2:!1}var Wb=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&Zu(this,t,a,o,e,n),l&&Ku(this,t,e,n,a,o)},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,h=s.x2,c=s.y2;return Ja(l,u,h,c,o,t,e)},r.prototype.createPath=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2,l=e.startArrow,u=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(h=yo(n,a,o,s,e.startArrow.d)),u&&u.d&&(c=yo(n,a,o,s,e.endArrow.d)),t.beginPath(),t.moveTo(n+h.dx,a+h.dy),t.lineTo(o-c.dx,s-c.dy)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ga.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ga.default.pointAt(n,a,o,s,t)},r}(va),jb=Wb,Nc=d(74479),Ub={circle:function(i,r,t){return[["M",i-t,r],["A",t,t,0,1,0,i+t,r],["A",t,t,0,1,0,i-t,r]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["Z"]]},"triangle-down":function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},Zb=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,f.isNil)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;return(0,$s.default)(a)?(s=a,l=s(e,n,o),l=(0,Nc.Z)(l)):(s=r.Symbols[a],l=s(e,n,o)),s?l:(console.warn(a+" marker is not supported."),null)},r.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");kc(this,t,{path:e},n)},r.Symbols=Ub,r}(va),Kb=Zb,rl=d(15730),$b=d(49274),Qb=d(26632);function Gc(i,r,t){var e=(0,Qb.getOffScreenContext)();return i.createPath(e),e.isPointInPath(r,t)}var Jb=1e-6;function Ju(i){return Math.abs(i)<Jb?0:i<0?-1:1}function qb(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}function Yc(i,r,t){var e=!1,n=i.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=i[a],s=i[(a+1)%n];if(qb(o,s,[r,t]))return!0;Ju(o[1]-t)>0!=Ju(s[1]-t)>0&&Ju(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(e=!e)}return e}var tw=d(2879);function vs(i,r,t,e,n,a,o,s){var l=(Math.atan2(s-r,o-i)+Math.PI*2)%(Math.PI*2);if(l<e||l>n)return!1;var u={x:i+t*Math.cos(l),y:r+t*Math.sin(l)};return Mc(u.x,u.y,o,s)<=a/2}var qu=d(35600),zc=d(77160);function ew(i){for(var r=!1,t=i.length,e=0;e<t;e++){var n=i[e],a=n[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function rw(i,r,t,e){for(var n=!1,a=r/2,o=0;o<i.length;o++){var s=i[o],l=s.currentPoint,u=s.params,h=s.prePoint,c=s.box;if(!(c&&!go(c.x-a,c.y-a,c.width+r,c.height+r,t,e))){switch(s.command){case"L":case"Z":n=Ja(h[0],h[1],l[0],l[1],r,t,e);break;case"Q":var v=tw.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],t,e);n=v<=r/2;break;case"C":var g=rl.default.pointDistance(h[0],h[1],u[1],u[2],u[3],u[4],u[5],u[6],t,e);n=g<=r/2;break;case"A":var A=s.arcParams,k=A.cx,F=A.cy,Y=A.rx,N=A.ry,st=A.startAngle,lt=A.endAngle,At=A.xRotation,zt=[t,e,1],Wt=[1,0,0,0,1,0,0,0,1],Qt=Y>N?Y:N,Vt=Y>N?1:Y/N,te=Y>N?N/Y:1;qu.translate(Wt,Wt,[-k,-F]),qu.rotate(Wt,Wt,-At),qu.scale(Wt,Wt,[1/Vt,1/te]),zc.transformMat3(zt,zt,Wt),n=vs(0,0,Qt,st,lt,r,zt[0],zt[1]);break;default:break}if(n)break}}return n}function nw(i){for(var r=i.length,t=[],e=[],n=[],a=0;a<r;a++){var o=i[a],s=o[0];s==="M"?(n.length&&(e.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&e.push(n),{polygons:t,polylines:e}}var nl=(0,Rt.__assign)({hasArc:ew,extractPolygons:nw,isPointInStroke:rw},je.PathUtil);function Xc(i,r,t){for(var e=!1,n=0;n<i.length;n++){var a=i[n];if(e=Yc(a,r,t),e)break}return e}var iw=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t==="path"&&this._setPathArr(e),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,Nc.Z)(t);var e=nl.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,$b.default)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,n=t.endArrow;if(e){var a=this.getStartTangent();Zu(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();Ku(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n&&(u=nl.isPointInStroke(s,o,t,e)),!u&&a)if(l)u=Gc(this,t,e);else{var h=this.attr("path"),c=nl.extractPolygons(h);u=Xc(c.polygons,t,e)||Xc(c.polylines,t,e)}return u},r.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");kc(this,t,e,n)},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,f.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var e=this.get("tCache");e||(this._calculateCurve(),this._setTcache(),e=this.get("tCache"));var n,a,o=this.get("curve");if(!e||e.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,f.each)(e,function(h,c){t>=h[0]&&t<=h[1]&&(n=(t-h[0])/(h[1]-h[0]),a=c)});var s=o[a];if((0,f.isNil)(s)||(0,f.isNil)(a))return null;var l=s.length,u=o[a+1];return rl.default.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",nl.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,e=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(t+=rl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,f.each)(u,function(h,c){s=u[c+1],l=h.length,s&&(a=[],a[0]=e/t,o=rl.default.length(h[l-2],h[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),e+=o||0,a[1]=e/t,n.push(a))}),this.set("tCache",n)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),e;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;e=[],o?(e.push([n[0]-o[0],n[1]-o[1]]),e.push([n[0],n[1]])):(e.push([a[0],a[1]]),e.push([n[0],n[1]]))}return e},r.prototype.getEndTangent=function(){var t=this.getSegments(),e=t.length,n;if(e>1){var a=t[e-2].currentPoint,o=t[e-1].currentPoint,s=t[e-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},r}(va),tf=iw;function Vc(i,r,t,e,n){var a=i.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=i[o][0],l=i[o][1],u=i[o+1][0],h=i[o+1][1];if(Ja(s,l,u,h,r,t,e))return!0}if(n){var c=i[0],v=i[a-1];if(Ja(c[0],c[1],v[0],v[1],r,t,e))return!0}return!1}var aw=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Vc(s,o,t,e,!0)),!l&&a&&(l=Yc(s,t,e)),l},r.prototype.createPath=function(t){var e=this.attr(),n=e.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(va),ow=aw,Hc=d(65386),sw=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,a=e.startArrow,o=e.endArrow,s=n.length,l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];a&&Zu(this,t,n[1][0],n[1][1],l,u),o&&Ku(this,t,n[s-2][0],n[s-2][1],h,c)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Vc(s,o,t,e,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var e=this.attr(),n=e.points,a=e.startArrow,o=e.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],h=n[s-1][0],c=n[s-1][1];if(a&&a.d){var v=yo(l,u,n[1][0],n[1][1],a.d);l+=v.dx,u+=v.dy}if(o&&o.d){var v=yo(n[s-2][0],n[s-2][1],h,c,o.d);h-=v.dx,c-=v.dy}t.beginPath(),t.moveTo(l,u);for(var g=0;g<s-1;g++){var A=n[g];t.lineTo(A[0],A[1])}t.lineTo(h,c)}},r.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",Hc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ga.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Ga.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(va),lw=sw;function uw(i,r,t,e,n,a,o){var s=n/2;return go(i-s,r-s,t,n,a,o)||go(i+t-s,r-s,n,e,a,o)||go(i+s,r+e-s,t,n,a,o)||go(i-s,r+s,n,e,a,o)}function fw(i,r,t,e,n,a,o,s){var l=a/2;return Ja(i+n,r,i+t-n,r,a,o,s)||Ja(i+t,r+n,i+t,r+e-n,a,o,s)||Ja(i+t-n,r+e,i+n,r+e,a,o,s)||Ja(i,r+e-n,i,r+n,a,o,s)||vs(i+t-n,r+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||vs(i+t-n,r+e-n,n,0,.5*Math.PI,a,o,s)||vs(i+n,r+e-n,n,.5*Math.PI,Math.PI,a,o,s)||vs(i+n,r+n,n,Math.PI,1.5*Math.PI,a,o,s)}var hw=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,e,n,a,o){var s=this.attr(),l=s.x,u=s.y,h=s.width,c=s.height,v=s.radius;if(v){var A=!1;return n&&(A=fw(l,u,h,c,v,o,t,e)),!A&&a&&(A=Gc(this,t,e)),A}else{var g=o/2;if(a&&n)return go(l-g,u-g,h+g,c+g,t,e);if(a)return go(l,u,h,c,t,e);if(n)return uw(l,u,h,c,o,t,e)}},r.prototype.createPath=function(t){var e=this.attr(),n=e.x,a=e.y,o=e.width,s=e.height,l=e.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=Bb(l),h=u[0],c=u[1],v=u[2],g=u[3];t.moveTo(n+h,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-v),v!==0&&t.arc(n+o-v,a+s-v,v,0,Math.PI/2),t.lineTo(n+g,a+s),g!==0&&t.arc(n+g,a+s-g,g,Math.PI/2,Math.PI),t.lineTo(n,a+h),h!==0&&t.arc(n+h,a+h,h,Math.PI,Math.PI*1.5),t.closePath()}},r}(va),cw=hw,Wc=d(8914),vw=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,Wc.assembleFont)(t)},r.prototype._setText=function(t){var e=null;(0,on.default)(t)&&t.indexOf(`
`)!==-1&&(e=t.split(`
`)),this.set("textArr",e)},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(e)},r.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=t.fontSize*1;return e?e-n:n*.14},r.prototype._drawTextArr=function(t,e,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,h=this._getSpaceingY(),c=(0,Wc.getTextHeight)(a.text,a.fontSize,a.lineHeight),v;(0,dn.default)(e,function(g,A){v=l+A*(h+u)-c+u,o==="middle"&&(v+=c-u-(c-u)/2),o==="top"&&(v+=c-u),n?t.fillText(g,s,v):t.strokeText(g,s,v)})},r.prototype._drawText=function(t,e){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,e);else{var l=n.text;e?t.fillText(l,a,o):t.strokeText(l,a,o)}},r.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,a=e.opacity,o=e.strokeOpacity,s=e.fillOpacity;this.isStroke()&&n>0&&(!(0,di.default)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,di.default)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(va),dw=vw,pw=d(4555),sG=d(85424),gw=d(22487),jc=d(6052);function yw(i,r){if(r){var t=(0,jc.U_)(r);return(0,jc.rG)(t,i)}return i}function Uc(i,r,t){var e=i.getTotalMatrix();if(e){var n=yw([r,t,1],e),a=n[0],o=n[1];return[a,o]}return[r,t]}function Zc(i,r,t){if(i.isCanvas&&i.isCanvas())return!0;if(!(0,gw.isAllowCapture)(i)&&i.cfg.isInView===!1)return!1;if(i.cfg.clipShape){var e=Uc(i,r,t),n=e[0],a=e[1];if(i.isClipped(n,a))return!1}var o=i.cfg.cacheCanvasBBox;return o||(o=i.getCanvasBBox()),r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function Kc(i,r,t){if(!Zc(i,r,t))return null;for(var e=null,n=i.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())e=Kc(s,r,t);else if(Zc(s,r,t)){var l=s,u=Uc(s,r,t),h=u[0],c=u[1];l.isInShape(h,c)&&(e=s)}if(e)break}return e}var mw=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return m},r.prototype.getGroupBase=function(){return Qu},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Eb();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},r.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},r.prototype.setDOMSize=function(t,e){i.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*e,o>1&&n.scale(o,o)},r.prototype.clear=function(){i.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},r.prototype.getShape=function(t,e){return this.get("quickHit")?Kc(this,t,e):i.prototype.getShape.call(this,t,e,null)},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),e=this.getViewRange(),n;if(t.length&&t[0]===this)n=e;else if(n=Dc(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY);var a=this.get("clipView");a&&(n=Fb(n,e))}return n},r.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Mb.default)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),No(t,this),$u(t,n),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a&&(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),No(t,this),$u(t,n,a),t.restore()),(0,dn.default)(e,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=(0,Cb.default)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},r.prototype.skipDraw=function(){},r}(je.AbstractCanvas),$c=mw,xw=d(71270),bw=xw.version,ef={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},rn={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},lG=null;function ia(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Qc(i){var r=ef[i.type],t=i.getParent();if(!r)throw new Error("the type "+i.type+" is not supported by svg");var e=ia(r);if(i.get("id")&&(e.id=i.get("id")),i.set("el",e),i.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(e)}return e}function Jc(i,r){var t=i.get("el"),e=(0,f.toArray)(t.children).sort(r),n=document.createDocumentFragment();e.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function ww(i,r){var t=i.parentNode,e=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=e[r],a=e.indexOf(i);if(n){if(a>r)t.insertBefore(i,n);else if(a<r){var o=e[r+1];o?t.insertBefore(i,o):t.appendChild(i)}}else t.appendChild(i)}function Sw(i,r){var t=i.cfg.el,e=i.attr(),n={dx:e.shadowOffsetX,dy:e.shadowOffsetY,blur:e.shadowBlur,color:e.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=r.find("filter",n);a||(a=r.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function ds(i){var r=i.attr().matrix;if(r){for(var t=i.cfg.el,e=[],n=0;n<9;n+=3)e.push(r[n]+","+r[n+1]);e=e.join(","),e.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+e+")"):console.warn("invalid matrix:",r)}}function ps(i,r){var t=i.getClip(),e=i.get("el");if(!t)e.removeAttribute("clip-path");else if(t&&!e.hasAttribute("clip-path")){Qc(t),t.createPath(r);var n=r.addClip(t);e.setAttribute("clip-path","url(#"+n+")")}}function qc(i,r){r.forEach(function(t){t.draw(i)})}function tv(i,r){var t=i.get("canvas");if(t&&t.get("autoDraw")){var e=t.get("context"),n=i.getParent(),a=n?n.getChildren():[t],o=i.get("el");if(r==="remove"){var s=i.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")ww(o,a.indexOf(i));else if(r==="sort"){var h=i.get("children");h&&h.length&&Jc(i,function(c,v){return h.indexOf(c)-h.indexOf(v)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?ds(i):r==="clip"?ps(i,e):r==="attr"||r==="add"&&i.draw(e)}}var Cw=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=ia("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.createPath(n,t)}},r.prototype.onCanvasChange=function(t){tv(this,t)},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),ps(this,t),this.createPath(t),e.length&&qc(t,e))},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){rn[s]&&a.setAttribute(rn[s],o)}),ds(this)},r}(je.AbstractGroup),rf=Cw,Mw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){i.prototype.afterAttrsChange.call(this,t);var e=this.get("canvas");if(e&&e.get("autoDraw")){var n=e.get("context");this.draw(n,t)}},r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return rf},r.prototype.onCanvasChange=function(t){tv(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=(0,Fc.b)(this.get("type"));n&&(e=n(this))}if(e){var a=e.x,o=e.y,s=e.width,l=e.height,u=this.getHitLineWidth(),h=u/2,c=a-h,v=o-h,g=a+s+h,A=o+l+h;return{x:c,y:v,minX:c,minY:v,maxX:g,maxY:A,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},r.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Qc(this),ps(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},r.prototype.createPath=function(t,e){},r.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,h=n.strokeOpacity,c=n.lineWidth,v=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&v.setAttribute(rn.fillOpacity,u)),this.canStroke&&c>0&&(e?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),h&&v.setAttribute(rn.strokeOpacity,h),c&&v.setAttribute(rn.lineWidth,c))},r.prototype._setColor=function(t,e,n){var a=this.get("el");if(!n){a.setAttribute(rn[e],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(rn[e],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(rn[e],"url(#"+o+")")}else a.setAttribute(rn[e],n)},r.prototype.shadow=function(t,e){var n=this.attr(),a=e||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&Sw(this,t)},r.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&ds(this)},r.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},r.prototype.isPointInPath=function(t,e){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=e+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},r.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},r}(je.AbstractShape),aa=Mw,Ew=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):rn[s]&&a.setAttribute(rn[s],o)})},r}(aa),Aw=Ew,_w=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){rn[s]&&a.setAttribute(rn[s],o)}),a.innerHTML=n.html},r}(aa),Tw=_w,Pw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):rn[s]&&a.setAttribute(rn[s],o)})},r}(aa),Lw=Pw,Ow=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){l==="img"?n._setImage(a.img):rn[l]&&o.setAttribute(rn[l],s)})},r.prototype.setAttr=function(t,e){this.attrs[t]=e,t==="img"&&this._setImage(e)},r.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if((0,f.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,f.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},r}(aa),Iw=Ow,kw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,f.isObject)(o)?t.addArrow(n,rn[s]):t.getDefaultArrow(n,rn[s]);a.setAttribute(rn[s],"url(#"+l+")")}else a.removeAttribute(rn[s]);else rn[s]&&a.setAttribute(rn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ga.default.length(e,n,a,o)},r.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,a=e.y1,o=e.x2,s=e.y2;return Ga.default.pointAt(n,a,o,s,t)},r}(aa),Bw=kw,il={circle:function(i,r,t){return[["M",i,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r-t],["L",i+t,r+t],["L",i-t,r+t],["Z"]]},diamond:function(i,r,t){return[["M",i-t,r],["L",i,r-t],["L",i+t,r],["L",i,r+t],["Z"]]},triangle:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r+e],["L",i,r-e],["L",i+t,r+e],["z"]]},triangleDown:function(i,r,t){var e=t*Math.sin(1/3*Math.PI);return[["M",i-t,r-e],["L",i+t,r-e],["L",i,r+e],["Z"]]}},ev={get:function(i){return il[i]},register:function(i,r){il[i]=r},remove:function(i){delete il[i]},getAll:function(){return il}},Dw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,f.isArray)(t)?t.map(function(e){return e.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,f.isFunction)(o)?s=o:s=ev.get(o),s?s(e,n,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=ev,r}(aa),Fw=Dw,Rw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");(0,f.each)(e||a,function(s,l){if(l==="path"&&(0,f.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,f.isObject)(s)?t.addArrow(a,rn[l]):t.getDefaultArrow(a,rn[l]);o.setAttribute(rn[l],"url(#"+u+")")}else o.removeAttribute(rn[l]);else rn[l]&&o.setAttribute(rn[l],s)})},r.prototype._formatPath=function(t){var e=t.map(function(n){return n.join(" ")}).join("");return~e.indexOf("NaN")?"":e},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),a=e?e.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},r}(aa),Nw=Rw,Gw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):rn[s]&&a.setAttribute(rn[s],o)})},r}(aa),Yw=Gw,zw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,e,n){i.prototype.onAttrChange.call(this,t,e,n),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,e){var n=this.attr(),a=this.get("el");(0,f.each)(e||n,function(o,s){s==="points"&&(0,f.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):rn[s]&&a.setAttribute(rn[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return(0,f.isNil)(e)?(this.set("totalLength",Hc.Z.length(t)),this.get("totalLength")):e},r.prototype.getPoint=function(t){var e=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,f.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ga.default.pointAt(e[o][0],e[o][1],e[o+1][0],e[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var e=this.getTotalLength();if(!(e<=0)){var n=0,a=[],o,s;(0,f.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/e,s=Ga.default.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/e,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},r.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},r}(aa),Xw=zw,Vw=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Hw=/[^\s\,]+/gi;function Ww(i){var r=0,t=0,e=0,n=0;return(0,f.isArray)(i)?i.length===1?r=t=e=n=i[0]:i.length===2?(r=e=i[0],t=n=i[1]):i.length===3?(r=i[0],t=n=i[1],e=i[2]):(r=i[0],t=i[1],e=i[2],n=i[3]):r=t=e=n=i,{r1:r,r2:t,r3:e,r4:n}}function uG(i){if(i=i||[],isArray(i))return i;if(isString(i))return i=i.match(Vw),each(i,function(r,t){if(r=r.match(Hw),r[0].length>1){var e=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=e}each(r,function(n,a){isNaN(n)||(r[a]=+n)}),i[t]=r}),i}var jw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,f.each)(e||a,function(u,h){l.indexOf(h)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(h)===-1&&rn[h]&&o.setAttribute(rn[h],u)})},r.prototype._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=Ww(s);(0,f.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(e+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},r}(aa),Uw=jw,Zw=d(56463),rv=.3,Kw={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},$w={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},Qw={left:"left",start:"left",center:"middle",right:"end",end:"end"},Jw=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=i.prototype.getDefaultAttrs.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,e){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f.each)(e||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?ds(n):rn[l]&&o.setAttribute(rn[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,a=e.textAlign,o=(0,Zw.detect)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",$w[n]||"alphabetic"):t.setAttribute("alignment-baseline",Kw[n]||"baseline"),t.setAttribute("text-anchor",Qw[a]||"left")},r.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)e.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,h="";(0,f.each)(l,function(c,v){v===0?s==="alphabetic"?h+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?h+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?h+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?h+='<tspan x="'+a+'" dy="-'+(u+rv)+'em">'+c+"</tspan>":s==="hanging"&&(h+='<tspan x="'+a+'" dy="'+(-(u-1)-rv)+'em">'+c+"</tspan>"):h+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),e.innerHTML=h}else e.innerHTML=t},r}(aa),qw=Jw,tS=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,eS=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,rS=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function nv(i){var r=i.match(rS);if(!r)return"";var t="";return r.sort(function(e,n){return e=e.split(":"),n=n.split(":"),Number(e[0])-Number(n[0])}),(0,f.each)(r,function(e){e=e.split(":"),t+='<stop offset="'+e[0]+'" stop-color="'+e[1]+'"></stop>'}),t}function nS(i,r){var t=tS.exec(i),e=(0,f.mod)((0,f.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;e>=0&&e<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=e&&e<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=e&&e<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(e),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,h=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",u),r.setAttribute("y2",h),r.innerHTML=nv(n)}function iS(i,r){var t=eS.exec(i),e=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",e),r.setAttribute("cy",n),r.setAttribute("r",a),r.innerHTML=nv(o)}var aS=function(){function i(r){this.cfg={};var t=null,e=(0,f.uniqueId)("gradient_");return r.toLowerCase()[0]==="l"?(t=ia("linearGradient"),nS(r,t)):(t=ia("radialGradient"),iS(r,t)),t.setAttribute("id",e),this.el=t,this.id=e,this.cfg=r,this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),oS=aS,sS={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},lS={x:"-40%",y:"-40%",width:"200%",height:"200%"},uS=function(){function i(r){this.type="filter",this.cfg={},this.type="filter";var t=ia("filter");return(0,f.each)(lS,function(e,n){t.setAttribute(n,e)}),this.el=t,this.id=(0,f.uniqueId)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return i.prototype.match=function(r,t){if(this.type!==r)return!1;var e=!0,n=this.cfg;return(0,f.each)(Object.keys(n),function(a){if(n[a]!==t[a])return e=!1,!1}),e},i.prototype.update=function(r,t){var e=this.cfg;return e[sS[r]]=t,this._parseShadow(e,this.el),this},i.prototype._parseShadow=function(r,t){var e=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=e},i}(),fS=uS,hS=function(){function i(r,t){this.cfg={};var e=ia("marker"),n=(0,f.uniqueId)("marker_");e.setAttribute("id",n);var a=ia("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),e.appendChild(a),e.setAttribute("overflow","visible"),e.setAttribute("orient","auto-start-reverse"),this.el=e,this.child=a,this.id=n;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return i.prototype.match=function(){return!1},i.prototype._setDefaultPath=function(r,t){var e=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),e.setAttribute("refX",""+10*Math.cos(Math.PI/6)),e.setAttribute("refY",""+5)},i.prototype._setMarker=function(r,t){var e=this.el,n=this.cfg.path,a=this.cfg.d;(0,f.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),e.appendChild(t),a&&e.setAttribute("refX",""+a/r)},i.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},i}(),iv=hS,cS=function(){function i(r){this.type="clip",this.cfg={};var t=ia("clipPath");this.el=t,this.id=(0,f.uniqueId)("clip_"),t.id=this.id;var e=r.cfg.el;return t.appendChild(e),this.cfg=r,this}return i.prototype.match=function(){return!1},i.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},i}(),vS=cS,dS=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,pS=function(){function i(r){this.cfg={};var t=ia("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var e=ia("image");t.appendChild(e);var n=(0,f.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=r;var a=dS.exec(r),o=a[2];e.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return i.prototype.match=function(r,t){return this.cfg===t},i}(),gS=pS,yS=function(){function i(r){var t=ia("defs"),e=(0,f.uniqueId)("defs_");t.id=e,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return i.prototype.find=function(r,t){for(var e=this.children,n=null,a=0;a<e.length;a++)if(e[a].match(r,t)){n=e[a].id;break}return n},i.prototype.findById=function(r){for(var t=this.children,e=null,n=0;n<t.length;n++)if(t[n].id===r){e=t[n];break}return e},i.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},i.prototype.getDefaultArrow=function(r,t){var e=r.stroke||r.strokeStyle;if(this.defaultArrow[e])return this.defaultArrow[e].id;var n=new iv(r,t);return this.defaultArrow[e]=n,this.el.appendChild(n.el),this.add(n),n.id},i.prototype.addGradient=function(r){var t=new oS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addArrow=function(r,t){var e=new iv(r,t);return this.el.appendChild(e.el),this.add(e),e.id},i.prototype.addShadow=function(r){var t=new fS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addPattern=function(r){var t=new gS(r);return this.el.appendChild(t.el),this.add(t),t.id},i.prototype.addClip=function(r){var t=new vS(r);return this.el.appendChild(t.el),this.add(t),t.id},i}(),mS=yS,xS=function(i){(0,Rt.__extends)(r,i);function r(t){return i.call(this,(0,Rt.__assign)((0,Rt.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return I},r.prototype.getGroupBase=function(){return rf},r.prototype.getShape=function(t,e,n){var a=n.target||n.srcElement;if(!ef[a.tagName]){for(var o=a.parentNode;o&&!ef[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=ia("svg"),e=new mS(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},r.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Jc(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=e.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?ds(this):t==="clip"?ps(this,e):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();ps(this,t),e.length&&qc(t,e)},r}(je.AbstractCanvas),av=xS,bS=d(23231),wS=bS.version;function nf(i){return i?!1:i==null||isNaN(i)}function ov(i){if((0,f.isArray)(i))return nf(i[1].y);var r=i.y;return(0,f.isArray)(r)?nf(r[0]):nf(r)}function af(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],n=0,a=i.length;n<a;n++){var o=i[n];ov(o)||e.push(o)}return[e]}for(var s=[],l=[],n=0,a=i.length;n<a;n++){var o=i[n];ov(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function oi(i,r,t,e){e===void 0&&(e="");var n=i.style,a=n===void 0?{}:n,o=i.defaultStyle,s=i.color,l=i.size,u=(0,G.__assign)((0,G.__assign)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),e&&(0,f.isNil)(a[e])&&!(0,f.isNil)(l)&&(u[e]=l),u}function of(i){var r=i.x,t=(0,f.isArray)(i.y)?i.y:[i.y];return t.map(function(e,n){return{x:(0,f.isArray)(r)?r[n]:r,y:e}})}var SS={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function sv(i,r){var t=i.color;return{symbol:SS[r],style:{lineWidth:2,r:6,stroke:t}}}function CS(i,r,t){for(var e=i.isStack,n=i.connectNulls,a=i.isInCircle,o=i.showSinglePoint,s=oi(i,!0,!1,"lineWidth"),l=af(i.points,n,o),u=[],h=0,c=l.length;h<c;h++){var v=l[h];u=u.concat(ES(v,a,e,r,t,s))}return s.path=u,s}function sf(i,r,t,e,n){if(i.length===1)return[["M",i[0].x,i[0].y-n.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+n.lineWidth/2]];var a;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),a=Ke(i,!1,e)):(a=de(i,!1),r&&a.push(["Z"])),a}function MS(i,r,t,e,n,a){var o=[],s=[];(0,f.each)(i,function(h){var c=of(h);o.push(c[1]),s.push(c[0])});var l=sf(o,r,e,n,a),u=sf(s,r,e,n,a);return t?l:l.concat(u)}function ES(i,r,t,e,n,a){if(i.length){var o=i[0];return(0,f.isArray)(o.y)?MS(i,r,t,e,n,a):sf(i,r,e,n,a)}return[]}var fG=Qa("line",{defaultShapeType:"line"});(0,f.each)(["line","dot","dash","smooth"],function(i){en("line",i,{draw:function(r,t){var e=i==="smooth",n;if(e){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=CS(r,e,n),u=t.addShape({type:"path",attrs:l,name:"line"});return u},getMarker:function(r){return sv(r,i)}})});var hG=null,AS=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return e.connectNulls=a,e.showSinglePoint=s,e}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this,o=a.lastElementsMap,s=a.elementsMap,l=a.elements,u=a.container,h=this.getElementId(t),c=this.getShapeInfo(t),v=o[h];if(v){var A=v.getModel();(this.isCoordinateChanged||Sc(A,c))&&(v.animate=this.animateOption,v.update(c)),delete o[h]}else{var g=this.getShapeFactory();v=new yc({shapeFactory:g,container:u,offscreenGroup:this.getOffscreenGroup()}),v.geometry=this,v.animate=this.animateOption,v.draw(c,n)}return l.push(v),s[h]=v,l},r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push({x:s.x,y:s.y}),n.push(s[gt])}return{points:e,data:n}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=a,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Na),lf=AS;function _S(i,r,t,e,n){var a=[];if(i.length){for(var o=[],s=[],l=0,u=i.length;l<u;l++){var h=i[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,f.each)([o,s],function(c,v){var g=[],A=e.parsePoints(c),k=A[0];o.length===1&&s.length===1?g=v===0?[["M",k.x-.5,k.y],["L",k.x+.5,k.y]]:[["L",k.x+.5,k.y],["L",k.x-.5,k.y]]:(r&&A.push({x:k.x,y:k.y}),t?g=Ke(A,!1,n):g=de(A,!1),v>0&&(g[0][0]="L")),a=a.concat(g)}),a.push(["Z"])}return a}function al(i,r,t,e,n){for(var a=oi(i,r,!r,"lineWidth"),o=i.connectNulls,s=i.isInCircle,l=i.points,u=i.showSinglePoint,h=af(l,o,u),c=[],v=0,g=h.length;v<g;v++){var A=h[v];c=c.concat(_S(A,s,t,e,n))}return a.path=c,a}function lv(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var cG=Qa("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,f.isArray)(i.y)?i.y:[t,i.y];return e.map(function(n){return{x:r,y:n}})}});en("area","area",{draw:function(i,r){var t=al(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}});var vG=null,TS=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!0:o,l=t.showSinglePoint,u=l===void 0?!1:l;return e.startOnZero=a,e.sortable=s,e.showSinglePoint=u,e}return r.prototype.getPointsAndData=function(t){for(var e=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];e.push(s.points),n.push(s[gt])}return{points:e,data:n}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(lf),PS=TS,dG=Qa("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return of(i)}});en("edge","line",{draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=de(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var pG=null,LS=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Na),OS=LS,IS=d(55223),kS=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.createElements=function(t,e,n){n===void 0&&(n=!1);var a=this.prepareRange(t),o=this.prepareSize(),s=(0,f.get)(this.styleOption,["style","shadowBlur"]);return(0,f.isNumber)(s)||(s=o/2),this.prepareGreyScaleBlurredCircle(o,s),this.drawWithRange(t,a,o,s),null},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[gt][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,f.isNumber)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),a=t+e,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,n,a){var o=this.coordinate,s=o.start,l=o.end,u=this.coordinate.getWidth(),h=this.coordinate.getHeight(),c=this.getAttribute("color"),v=c.getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();e&&(t=t.filter(function(Qt){return Qt[gt][v]<=e[1]&&Qt[gt][v]>=e[0]}));for(var A=this.scales[v],k=0,F=t;k<F.length;k++){var Y=F[k],N=this.getDrawCfg(Y),st=N.x,lt=N.y,At=A.scale(Y[gt][v]);this.drawGrayScaleBlurredCircle(st-s.x,lt-l.y,n+a,At,g)}var zt=g.getImageData(0,0,u,h);this.clearShadowCanvasCtx(),this.colorize(zt),g.putImageData(zt,0,0);var Wt=this.getImageShape();Wt.attr("x",s.x),Wt.attr("y",l.y),Wt.attr("width",u),Wt.attr("height",h),Wt.attr("img",g.canvas),Wt.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,f.isNumber)(s)){var l=a[s]?a[s]:IS.default.rgb2arr(e.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,G.__assign)((0,G.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[gt]})},r}(Na),BS=kS;function uf(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function ff(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function uv(i,r,t){var e=[];return(0,f.isNil)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}var gG=Qa("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return uf(i)}});en("interval","rect",{draw:function(i,r){var t=oi(i,!1,!0),e=this.parsePath(ff(i.points)),n=r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var yG=null;function DS(i,r){var t=i.length,e=i;(0,f.isString)(e[0])&&(e=i.map(function(s){return r.translate(s)}));for(var n=e[1]-e[0],a=2;a<t;a++){var o=e[a]-e[a-1];n>o&&(n=o)}return n}function FS(i,r){if(r){var t=(0,f.flatten)(i),e=(0,f.valuesOfKey)(t,r);return e.length}return i.length}function fv(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),n=e.values,a=i.beforeMappingData,o=n.length;if(e.isLinear&&n.length>1){n.sort();var s=DS(n,e);o=(e.max-e.min)/s,n.length>o&&(o=n.length)}var l=e.range,u=1/o,h=1;if(t.isPolar?t.isTransposed&&o>1?h=r.multiplePieWidthRatio:h=r.roseWidthRatio:(e.isLinear&&(u*=l[1]-l[0]),h=r.columnWidthRatio),u*=h,i.getAdjust("dodge")){var c=i.getAdjust("dodge"),v=c.dodgeBy,g=FS(a,v);u=u/g}var A=r.maxColumnWidth,k=r.minColumnWidth,F=vt(i.coordinate);if(A){var Y=A/F;u>Y&&(u=Y)}if(k){var N=k/F;u<N&&(u=N)}return u}var RS=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=vt(o);n=n/s}else this.defaultSize||(this.defaultSize=fv(this)),n=this.defaultSize;return e.size=n,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,t.values),t.max)});else{var e=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,f.get)(e,[n,"min"])&&t.change({min:0}),o<=0&&!(0,f.get)(e,[n,"max"])&&t.change({max:0}))}},r}(Na),NS=RS,GS=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var n=t.sortable,a=n===void 0?!0:n;return e.sortable=a,e}return r}(lf),YS=GS,mo={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},hv=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],zS=["cross","tick","plus","hyphen","line"];function hf(i,r,t,e,n){var a=oi(r,n,!n,"r"),o=i.parsePoints(r.points),s=o[0];if(r.isStack)s=o[1];else if(o.length>1){for(var l=t.addGroup(),u=0,h=o;u<h.length;u++){var c=h[u];l.addShape({type:"marker",attrs:(0,G.__assign)((0,G.__assign)((0,G.__assign)({},a),{symbol:mo[e]||e}),c)})}return l}return t.addShape({type:"marker",attrs:(0,G.__assign)((0,G.__assign)((0,G.__assign)({},a),{symbol:mo[e]||e}),s)})}var mG=Qa("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return of(i)}});(0,f.each)(hv,function(i){en("point","hollow-"+i,{draw:function(r,t){return hf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:mo[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var xG=null,XS=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,G.__assign)((0,G.__assign)({},e),{isStack:!!this.getAdjust("stack")})},r}(Na),VS=XS;function HS(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var n=i[t];(n.x!==i[t-1].x||n.y!==i[t-1].y)&&(e.push(["L",n.x,n.y]),n.x===r.x&&n.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,f.isEqual)((0,f.last)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var bG=Qa("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,f.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});en("polygon","polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=oi(i,!0,!0),e=this.parsePath(HS(i.points));return r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var wG=null,WS=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n=e.x,a=e.y,o;if(!((0,f.isArray)(n)&&(0,f.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,h=l.values.length,c=.5*1/u,v=.5*1/h;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-v,a+v,a+v,a-v]):(0,f.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-v/2,a+v/2,a+v/2,a-v/2]):(0,f.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),e.x=n,e.y=a}return e},r}(Na),jS=WS,SG=Qa("schema",{defaultShapeType:""}),CG=null,US=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=vt(o);n=n/s}else this.defaultSize||(this.defaultSize=fv(this)),n=this.defaultSize;return e.size=n,e},r}(Na),ZS=US;en("area","line",{draw:function(i,r){var t=al(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),en("area","smooth",{draw:function(i,r){var t=this.coordinate,e=al(i,!1,!0,this,lv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:r}}}}),en("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=al(i,!0,!0,this,lv(t)),n=r.addShape({type:"path",attrs:e,name:"area"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return n===void 0&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function cf(i,r){var t=[];t.push({x:i.x,y:i.y*1/2+r.y*1/2}),t.push({x:r.x,y:i.y*1/2+r.y*1/2}),t.push(r);var e=["C"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function vf(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,f.each)(t,function(n){e.push(n.x,n.y)}),e}function KS(i,r,t){var e=vf(r,t),n=[["M",i.x,i.y]];return n.push(e),n}function $S(i,r){var t=vf(i[1],r),e=vf(i[3],r),n=[["M",i[0].x,i[0].y]];return n.push(e),n.push(["L",i[3].x,i[3].y]),n.push(["L",i[2].x,i[2].y]),n.push(t),n.push(["L",i[1].x,i[1].y]),n.push(["L",i[0].x,i[0].y]),n.push(["Z"]),n}en("edge","arc",{draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=i.points,n=e.length>2?"weight":"normal",a;if(i.isInCircle){var o={x:0,y:1};return n==="normal"?a=KS(e[0],e[1],o):(t.fill=t.stroke,a=$S(e,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:a})})}else{if(n==="normal")return e=this.parsePoints(e),a=Vi((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:a})});var s=cf(e[1],e[3]),l=cf(e[2],e[0]);return a=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],s,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:a})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function QS(i,r){var t=cf(i,r),e=[["M",i.x,i.y]];return e.push(t),e}en("edge","smooth",{draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(QS(e[0],e[1]));return r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var ol=1/3;function JS(i,r){var t=[];t.push({x:i.x,y:i.y*(1-ol)+r.y*ol}),t.push({x:r.x,y:i.y*(1-ol)+r.y*ol}),t.push(r);var e=[["M",i.x,i.y]];return(0,f.each)(t,function(n){e.push(["L",n.x,n.y])}),e}en("edge","vhv",{draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=i.points,n=this.parsePath(JS(e[0],e[1]));return r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:n})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),en("interval","funnel",{getPoints:function(i){return i.size=i.size*2,uf(i)},draw:function(i,r){var t=oi(i,!1,!0),e=this.parsePath(uv(i.points,i.nextPoints,!1)),n=r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),en("interval","hollow-rect",{draw:function(i,r){var t=oi(i,!0,!1),e=this.parsePath(ff(i.points)),n=r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function qS(i){var r=i.x,t=i.y,e=i.y0;return(0,f.isArray)(t)?t.map(function(n,a){return{x:(0,f.isArray)(r)?r[a]:r,y:n}}):[{x:r,y:e},{x:r,y:t}]}en("interval","line",{getPoints:function(i){return qS(i)},draw:function(i,r){var t=oi(i,!0,!1,"lineWidth"),e=this.parsePath(ff(i.points,!1)),n=r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:r}}}}),en("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,uf(i,!0)},draw:function(i,r){var t=oi(i,!1,!0),e=this.parsePath(uv(i.points,i.nextPoints,!0)),n=r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function tC(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,f.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s=r+n/2,l=r-n/2;return[{x:r,y:a},{x:r,y:o},{x:l,y:a},{x:s,y:a},{x:l,y:o},{x:s,y:o}]}function eC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}en("interval","tick",{getPoints:function(i){return tC(i)},draw:function(i,r){var t=oi(i,!0,!1),e=this.parsePath(eC(i.points)),n=r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:r}}}});var rC=function(i,r,t){var e=i.x,n=i.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:e,y:o}];break;case"hvh":var l=(a+e)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:e,y:u},{x:a,y:u}];break;default:break}return s};function nC(i,r){var t=[];return(0,f.each)(i,function(e,n){var a=i[n+1];if(t.push(e),a){var o=rC(e,a,r);t=t.concat(o)}}),t}function iC(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function aC(i,r){var t=af(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,f.each)(t,function(n){var a=nC(n,r);e=e.concat(iC(a))}),(0,G.__assign)((0,G.__assign)({},oi(i,!0,!1,"lineWidth")),{path:e})}(0,f.each)(["hv","vh","hvh","vhv"],function(i){en("line",i,{draw:function(r,t){var e=aC(r,i),n=t.addShape({type:"path",attrs:e,name:"line"});return n},getMarker:function(r){return sv(r,i)}})}),(0,f.each)(zS,function(i){en("point",i,{draw:function(r,t){return hf(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:mo[i],style:{r:4.5,stroke:t,fill:null}}}})}),en("point","image",{draw:function(i,r){var t=oi(i,!1,!1,"r").r,e=this.parsePoints(i.points),n=e[0];if(i.isStack)n=e[1];else if(e.length>1){for(var a=r.addGroup(),o=0,s=e;o<s.length;o++){var l=s[o];a.addShape("image",{attrs:{x:l.x-t/2,y:l.y-t,width:t,height:t,img:i.shape[1]}})}return a}return r.addShape("image",{attrs:{x:n.x-t/2,y:n.y-t,width:t,height:t,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,f.each)(hv,function(i){en("point",i,{draw:function(r,t){return hf(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:mo[i]||i,style:{r:4.5,fill:t}}}})});function cv(i){var r=(0,f.isArray)(i)?i:[i],t=r[0],e=r[r.length-1],n=r.length>1?r[1]:t,a=r.length>3?r[3]:e,o=r.length>2?r[2]:n;return{min:t,max:e,min1:n,max1:a,median:o}}function vv(i,r,t){var e=t/2,n;if((0,f.isArray)(r)){var a=cv(r),o=a.min,s=a.max,l=a.median,u=a.min1,h=a.max1,c=i-e,v=i+e;n=[[c,s],[v,s],[i,s],[i,h],[c,u],[c,h],[v,h],[v,u],[i,u],[i,o],[c,o],[v,o],[c,l],[v,l]]}else{r=(0,f.isNil)(r)?.5:r;var g=cv(i),o=g.min,s=g.max,l=g.median,u=g.min1,h=g.max1,A=r-e,k=r+e;n=[[o,A],[o,k],[o,r],[u,r],[u,A],[u,k],[h,k],[h,A],[h,r],[s,r],[s,A],[s,k],[l,A],[l,k]]}return n.map(function(F){return{x:F[0],y:F[1]}})}function oC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}en("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return vv(r,t,e)},draw:function(i,r){var t=oi(i,!0,!1),e=this.parsePath(oC(i.points)),n=r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e-6,e-3,e,e+3,e+6],o=vv(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function sC(i){var r=(0,f.isArray)(i)?i:[i],t=r.sort(function(e,n){return n-e});return ua(t,4,t[t.length-1])}function dv(i,r,t){var e=sC(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function lC(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}en("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return dv(r,t,e)},draw:function(i,r){var t=oi(i,!0,!0),e=this.parsePath(lC(i.points)),n=r.addShape("path",{attrs:(0,G.__assign)((0,G.__assign)({},t),{path:e,name:"schema"})});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,n){var a=[e+7.5,e+3,e-3,e-7.5],o=dv(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function uC(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),n=Math.min(t,e);r&&(n=(0,f.clamp)(r,0,Math.min(t,e))),n=n/2;var a=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}en("polygon","square",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=oi(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,G.__assign)((0,G.__assign)({},t),uC(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var fC=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setLabelPosition=function(t,e,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=e.points,u=o.convert(l[0]),h=o.convert(l[2]),c=s?-1:1,v=(u.x-h.x)/2*c,g=(u.y-h.y)/2*c;switch(a){case"right":s||(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","left");break;case"left":s?t.x-=v*2:(t.x+=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","right");break;case"bottom":s?(t.x-=v,t.y-=g):t.y+=g*2,t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","top");break;case"middle":s?t.x-=v:t.y+=g,t.textAlign=(0,f.get)(t,"textAlign","center");break;case"top":s&&(t.x-=v,t.y+=g),t.textAlign=(0,f.get)(t,"textAlign","center"),t.textBaseline=(0,f.get)(t,"textBaseline","bottom");break;default:break}},r}(Ks),hC=fC,sl=Math.PI/2,cC=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)n="center";else{var a=e.getCenter(),o=this.getDefaultOffset(t.offset);Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},r.prototype.getLabelPoint=function(t,e,n){var a=1,o,s=t.content[n];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(e,n));var l=this.getDefaultOffset(t.offset)*a,u=this.getPointAngle(o),h=t.labelEmit,c=this.getCirclePoint(u,l,o,h);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,c.start={x:o.x,y:o.y},c},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,f.isArray)(t.x)&&!(0,f.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,f.isArray)(t.x)?t.x[e]:t.x,y:(0,f.isArray)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return bt(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=J(o,n);if(l===0)return(0,G.__assign)((0,G.__assign)({},s),{r:l});var u=t;if(o.isTransposed&&l>e&&!a){var h=Math.asin(e/(2*l));u=t+h*2}else l=l+e;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,e,n){var a=t+sl;return n&&(a-=sl),a&&(a>sl?a=a-Math.PI:a<-sl&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,f.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=e.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(Ks),pv=cC,vC=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.defaultLayout="distribute",e}return r.prototype.getDefaultLabelCfg=function(){return(0,f.get)(this.geometry.theme,"pieLabels",{})},r.prototype.getDefaultOffset=function(t){return t||0},r.prototype.getLabelRotate=function(t,e,n){var a;return e<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),n=e.getCenter(),a;t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right";var o=this.getDefaultOffset(t.offset);return o<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),n={x:(0,f.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,f.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=bt(e,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=bt(e,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,e,n){var a=this.getCoordinate(),o=a.getCenter(),s=a.getRadius()+e;return(0,G.__assign)((0,G.__assign)({},cn(o.x,o.y,s,t)),{angle:t,r:s})},r}(pv),dC=vC,gv=4;function pC(i,r,t,e,n,a){var o=!0,s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.abs(s.y-l.y),c,v=0,g=Number.MIN_VALUE,A=r.map(function(At){return At.y>v&&(v=At.y),At.y<g&&(g=At.y),{size:t,targets:[At.y-u]}});for(g-=u,v-u>h&&(h=v-u);o;)for(A.forEach(function(At){var zt=(Math.min.apply(g,At.targets)+Math.max.apply(g,At.targets))/2;At.pos=Math.min(Math.max(g,zt-At.size/2),h-At.size)}),o=!1,c=A.length;c--;)if(c>0){var k=A[c-1],F=A[c];k.pos+k.size>F.pos&&(k.size+=F.size,k.targets=k.targets.concat(F.targets),k.pos+k.size>h&&(k.pos=h-k.size),A.splice(c,1),o=!0)}c=0,A.forEach(function(At){var zt=u+t/2;At.targets.forEach(function(){r[c].y=At.pos+zt,zt+=t,c++})});for(var Y={},N=0,st=i;N<st.length;N++){var lt=st[N];Y[lt.get("id")]=lt}r.forEach(function(At){var zt=At.r*At.r,Wt=Math.pow(Math.abs(At.y-n.y),2);if(zt<Wt)At.x=n.x;else{var Qt=Math.sqrt(zt-Wt);a?At.x=n.x+Qt:At.x=n.x-Qt}var Vt=Y[At.id];Vt.attr("x",At.x),Vt.attr("y",At.y);var te=(0,f.find)(Vt.getChildren(),function(le){return le.get("type")==="text"});te&&(te.attr("y",At.y),te.attr("x",At.x))})}function gC(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.textAlign==="right"?v[0].push(g):v[1].push(g))}),v.forEach(function(g,A){var k=h/l;g.length>k&&(g.sort(function(F,Y){return Y["..percent"]-F["..percent"]}),g.splice(k,g.length-k)),g.sort(function(F,Y){return F.y-Y.y}),pC(r,g,l,c,s,A)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var A=g.offset,k=g.angle,F=cn(s.x,s.y,o,k),Y=cn(s.x,s.y,o+A/2,k),N=g.x+(0,f.get)(g,"offsetX",0),st=g.y+(0,f.get)(g,"offsetY",0),lt={x:N-Math.cos(k)*gv,y:st-Math.sin(k)*gv};(0,f.isObject)(g.labelLine)||(g.labelLine={}),g.labelLine.path=["M "+F.x,F.y+" Q"+Y.x,Y.y+" "+lt.x,lt.y].join(",")}})}var yv=4;function yC(i,r,t,e,n,a,o){r.sort(function(Vt,te){return Vt.y-te.y});var s=e.start,l=e.end,u=Math.min(s.y,l.y),h=Math.max(s.y,l.y),c,v=r.map(function(Vt){return{content:Vt.content,size:t,pos:Vt.y,targets:[Vt.y]}}),g=Math.max.apply(Math,v.map(function(Vt){return Vt.pos})),A=Math.min.apply(Math,v.map(function(Vt){return Vt.pos}));if(o){for(var k=Math.min(A,h-(v.length-1)*t),F=Math.max(k+v.length*t,g+t),Y=!0;Y;)for(Y=!1,c=v.length;c--;)if(c>0){var N=v[c-1],st=v[c];N.pos+N.size>st.pos&&(st.pos+c*t<F?(N.size+=st.size,N.targets=N.targets.concat(st.targets),v.splice(c,1)):N.pos=st.pos-N.size,Y=!0)}}else for(var F=Math.max(u+(v.length-1)*t,g),k=Math.min(A,F-(v.length-1)*t),Y=!0;Y;)for(Y=!1,c=v.length;c--;)if(c>0){var N=v[c-1],st=v[c];N.pos+N.size>st.pos&&(N.pos-k>c*t?N.pos-=N.size:(N.size+=st.size,N.targets=N.targets.concat(st.targets),v.splice(c,1)),Y=!0)}c=0,v.forEach(function(Vt){var te=Vt.pos;Vt.targets.forEach(function(){r[c].y=te,te+=t,c++})});for(var lt={},At=0,zt=i;At<zt.length;At++){var Wt=zt[At];lt[Wt.get("id")]=Wt}var Qt=(Math.max.apply(Math,r.map(function(Vt){return Vt.y}))-Math.min.apply(Math,r.map(function(Vt){return Vt.y})))/2;Qt=Math.max(Qt,a),r.forEach(function(Vt){var te=lt[Vt.id],le=te.find(function(Ee){return Ee.get("type")==="text"});if(le&&le.attr("y")!==Vt.y){var ae=Qt*Qt,Se=Math.pow(Math.abs(Vt.y-n.y),2);if(ae<Se)Vt.x=n.x;else{var _e=Math.sqrt(ae-Se);o?Vt.x=n.x+_e:Vt.x=n.x-_e}}te.attr("x",Vt.x),te.attr("y",Vt.y),le&&(le.attr("y",Vt.y),le.attr("x",Vt.x))})}function mC(i,r,t,e){var n=i[0]?i[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=(0,f.get)(i[0],"labelHeight",14),u=o+n,h=u*2+l*2,c={start:a.start,end:a.end},v=[[],[]];i.forEach(function(g){!g||(g.x<s.x?v[0].push(g):v[1].push(g))}),v.forEach(function(g,A){var k=h/l;if(g.length>k){g.sort(function(Y,N){return N["data.percent"]-Y["data.percent"]});var F=g.splice(k,g.length-k+1);F.forEach(function(Y){var N=r.findIndex(function(st){return st.get("id")===Y.id});r[N]&&(r[N].remove(!0),r.splice(N,1))})}yC(r,g,l,c,s,u,A===1)})}(0,f.each)(i,function(g){if(g&&g.labelLine){var A=g.angle,k=cn(s.x,s.y,o,A),F=g.x+(0,f.get)(g,"offsetX",0)*(Math.cos(A)>0?1:-1),Y=g.y+(0,f.get)(g,"offsetY",0)*(Math.sin(A)>0?1:-1),N={x:F-Math.cos(A)*yv,y:Y-Math.sin(A)*yv},st=g.labelLine.smooth,lt=[],At=N.x-s.x,zt=N.y-s.y,Wt=Math.atan(zt/At);if(At<0&&(Wt+=Math.PI),st===!1){(0,f.isObject)(g.labelLine)||(g.labelLine={});var Qt=0;(A<0&&A>-Math.PI/2||A>Math.PI*1.5)&&N.y>k.y&&(Qt=1),A>=0&&A<Math.PI/2&&N.y>k.y&&(Qt=1),A>=Math.PI/2&&A<Math.PI&&k.y>N.y&&(Qt=1),(A<-Math.PI/2||A>=Math.PI&&A<Math.PI*1.5)&&k.y>N.y&&(Qt=1);var Vt=n/2>4?4:Math.max(n/2-1,0),te=cn(s.x,s.y,o+Vt,A),le=cn(s.x,s.y,o+n/2,Wt),ae=0;lt.push("M "+k.x+" "+k.y),lt.push("L "+te.x+" "+te.y),lt.push("A "+s.x+" "+s.y+" 0 "+ae+" "+Qt+" "+le.x+" "+le.y),lt.push("L "+N.x+" "+N.y)}else{var te=cn(s.x,s.y,o+(n/2>4?4:Math.max(n/2-1,0)),A),Se=k.x<s.x?1:-1;lt.push("M "+N.x+" "+N.y);var _e=(k.y-s.y)/(k.x-s.x),Ee=(N.y-s.y)/(N.x-s.x);Math.abs(_e-Ee)>Math.pow(Math.E,-16)&&lt.push.apply(lt,["C",N.x+Se*4,N.y,2*te.x-k.x,2*te.y-k.y,k.x,k.y]),lt.push("L "+k.x+" "+k.y)}g.labelLine.path=lt.join(" ")}})}function xC(i,r,t,e){(0,f.each)(r,function(n){var a=e.minX,o=e.minY,s=e.maxX,l=e.maxY,u=n.getCanvasBBox(),h=u.minX,c=u.minY,v=u.maxX,g=u.maxY,A=u.x,k=u.y,F=u.width,Y=u.height,N=A,st=k;(h<a||v<a)&&(N=a),(c<o||g<o)&&(st=o),h>s?N=s-F:v>s&&(N=N-(v-s)),c>l?st=l-Y:g>l&&(st=st-(g-l)),(N!==A||st!==k)&&Hu(n,N-A,st-k)})}function bC(i,r,t,e){(0,f.each)(r,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var wC=100,mv=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,n=r.yGap,a=n===void 0?8:n;this.xGap=e,this.yGap=a}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,n=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=n;l<=a;l+=1){if(!e[l]){e[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(e[l][u]){t=!1;break}}else if(e[l][o]||e[l][s]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),n=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=e;s<=n;s+=1)t[s]||(t[s]={});for(var s=e;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[e][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=e;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function SC(i,r,t){t===void 0&&(t=wC);var e=-1,n=i.attr(),a=n.x,o=n.y,s=i.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,h=-e,c=0,v=0,g=function(Y){var N=Y*.1;return[N*Math.cos(N),N*Math.sin(N)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var A=!1,k=0,F={};Math.min(Math.abs(c),Math.abs(v))<l&&k<t;)if(u=g(h+=e),c=~~u[0],v=~~u[1],!(!c&&!v||F[c+"-"+v])&&(i.attr({x:a+c,y:o+v}),c+v<0&&i.attr("textAlign","right"),k++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),A=!0,F[c+"-"+v]=!0;break}return A}function CC(i,r,t,e){var n=i.getCanvasBBox(),a=n.width,o=n.height,s={x:r,y:t,textAlign:"center"};switch(e){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return i.attr(s),i.getCanvasBBox()}function MC(i,r,t,e){var n=new mv;(0,f.each)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});SC(o,n)||a.remove(!0)}),n.destroy()}function EC(i,r,t,e){var n=new mv;(0,f.each)(r,function(a){for(var o=a.find(function(g){return g.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,h=!1,c=0;c<=8;c++){var v=CC(o,l,u,c);if(n.hasGap(v)){n.fillGap(v),h=!0;break}}h||a.remove(!0)}),n.destroy()}function AC(i,r,t){var e={fillOpacity:(0,f.isNil)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,f.isNil)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,f.isNil)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function _C(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},n=r.easing,a=r.duration,o=r.delay;i.animate(e,a,n,function(){i.remove(!0)},o)}function TC(i,r,t){var e,n=r[0],a=r[1];return i.applyToMatrix([n,a,1]),t==="x"?(i.setMatrix(pn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,1],["t",n,a]])),e=pn.transform(i.getMatrix(),[["t",-n,-a],["s",100,1],["t",n,a]])):t==="y"?(i.setMatrix(pn.transform(i.getMatrix(),[["t",-n,-a],["s",1,.01],["t",n,a]])),e=pn.transform(i.getMatrix(),[["t",-n,-a],["s",1,100],["t",n,a]])):t==="xy"&&(i.setMatrix(pn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])),e=pn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])),e}function df(i,r,t,e,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,h;n==="y"?(u=a.x+s/2,h=e.y<a.y?e.y:a.y):n==="x"?(u=e.x>a.x?e.x:a.x,h=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var c=TC(i,[u,h],n);i.animate({matrix:c},r)}function PC(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"x")}function LC(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"y")}function OC(i,r,t){var e=t.coordinate,n=t.minYPoint;df(i,r,e,n,"xy")}function IC(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(n){return{lineDashOffset:(1-n)*e}},r)}function kC(i,r,t){var e=t.toAttrs,n=e.x,a=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:n,y:a},r)}function BC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?e.maxX:e.minX,s=(e.minY+e.maxY)/2;i.applyToMatrix([o,s,1]);var l=pn.transform(i.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);i.setMatrix(l),i.animate({matrix:pn.transform(i.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function DC(i,r,t){var e=i.getBBox(),n=i.get("origin").mappingData,a=(e.minX+e.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([a,s,1]);var l=pn.transform(i.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);i.setMatrix(l),i.animate({matrix:pn.transform(i.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}var FC=d(84909);function xv(i,r){var t,e=(0,FC.Z)(i,r),n=e.startAngle,a=e.endAngle;return!(0,f.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,f.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=[a,n],n=t[0],a=t[1]),(0,f.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,f.isNumberEqual)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function bv(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A")&&(r=[i[i.length-2],i[i.length-1]]),r}function wv(i){var r,t,e,n=i.filter(function(st){return st[0]==="A"||st[0]==="a"}),a=n[0],o=n.length>1?n[1]:n[0],s=i.indexOf(a),l=i.indexOf(o),u=bv(i[s-1]),h=bv(i[l-1]),c=xv(u,a),v=c.startAngle,g=c.endAngle,A=xv(h,o),k=A.startAngle,F=A.endAngle;(0,f.isNumberEqual)(v,k)&&(0,f.isNumberEqual)(g,F)?(t=v,e=g):(t=Math.min(v,k),e=Math.max(g,F));var Y=a[1],N=n[n.length-1][1];return Y<N?(r=[N,Y],Y=r[0],N=r[1]):Y===N&&(N=0),{startAngle:t,endAngle:e,radius:Y,innerRadius:N}}function RC(i,r,t){var e=t.toAttrs,n=t.coordinate,a=e.path,o=a.map(function(N){return N[0]}),s=wv(a),l=s.startAngle,u=s.endAngle,h=s.radius,c=s.innerRadius,v=wv(i.attr("path")),g=v.startAngle,A=v.endAngle,k=n.getCenter(),F=l-g,Y=u-A;i.animate(function(N){var st=g+N*F,lt=A+N*Y;return(0,G.__assign)((0,G.__assign)({},e),{path:(0,f.isEqual)(o,["M","A","A","Z"])?Vi(k.x,k.y,h,st,lt):ei(k.x,k.y,h,st,lt,c)})},(0,G.__assign)((0,G.__assign)({},r),{callback:function(){i.attr("path",a)}}))}function NC(i,r,t){var e=kt(t.coordinate,20),n=e.type,a=e.startState,o=e.endState,s=i.setClip({type:n,attrs:a});s.animate(o,(0,G.__assign)((0,G.__assign)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),s.remove(!0)}}))}function pf(i,r,t){if(i.isGroup())(0,f.each)(i.getChildren(),function(s){pf(s,r,t)});else{var e=i.getBBox(),n=(e.minX+e.maxX)/2,a=(e.minY+e.maxY)/2;if(i.applyToMatrix([n,a,1]),t==="zoomIn"){var o=pn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);i.setMatrix(o),i.animate({matrix:pn.transform(i.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},r)}else i.animate({matrix:pn.transform(i.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},(0,G.__assign)((0,G.__assign)({},r),{callback:function(){i.remove(!0)}}))}}function GC(i,r,t){pf(i,r,"zoomIn")}function YC(i,r,t){pf(i,r,"zoomOut")}function Ya(i){return[Ct.TOP,Ct.BOTTOM].includes(i)?{offsetX:0,offsetY:i===Ct.TOP?-8:8,style:{textAlign:"center",textBaseline:i===Ct.TOP?"bottom":"top"}}:[Ct.LEFT,Ct.RIGHT].includes(i)?{offsetX:i===Ct.LEFT?-8:8,offsetY:0,style:{textAlign:i===Ct.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function gf(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var zC=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*e,l=n/(1+1/Math.sin(o/2)),u=gf(a,n-l,s),h=Math.PI*5/4,c=Math.PI*1/4;return{start:gf(u,l,h),end:gf(u,l,c)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg,a=n.fields,o=n.type,s=a[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length,h=[];return l.forEach(function(c,v){var g=[{field:s,value:c,values:l}],A=(0,f.filter)(t,e.getFacetDataFilter(g)),k={type:o,data:A,region:e.getRegion(u,v),columnValue:c,columnField:s,columnIndex:v,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(k)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Ya(Ct.TOP),t.cfg.title);a.annotation().text(s)})},r}(wr),XC=zC,VC=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=this.cfg.cols,o=n[0];if(!o)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,o),l=s.length;a=a||l;var u=this.getPageCount(l,a),h=[];return s.forEach(function(c,v){var g=e.getRowCol(v,a),A=g.row,k=g.col,F=[{field:o,value:c,values:s}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),N={type:e.cfg.type,data:Y,region:e.getRegion(u,a,k,A),columnValue:c,rowValue:c,columnField:o,rowField:null,columnIndex:k,rowIndex:A,columnValuesLength:a,rowValuesLength:u,total:l};h.push(N)}),h},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,G.__assign)((0,G.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,G.__assign)((0,G.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Ya(Ct.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var n=Math.floor(t/e),a=t%e;return{row:n,col:a}},r}(wr),HC=VC,WC=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,G.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,G.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,a=e.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var h=n[u],c=0;c<o;c++){var v=n[c],g={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:h,rowValue:v,columnField:h,rowField:v,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(g)}return l},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,G.__assign)((0,G.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,G.__assign)((0,G.__assign)({},n),{title:null,label:null}):n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.rowValuesLength,u=e.columnValue,h=e.rowValue,c=e.view;if(o===0){var v=(0,f.get)(t.cfg.columnTitle,"formatter"),g=(0,f.deepMix)({position:["50%","0%"],content:v?v(u):u},Ya(Ct.TOP),t.cfg.columnTitle);c.annotation().text(g)}if(a===s-1){var v=(0,f.get)(t.cfg.rowTitle,"formatter"),g=(0,f.deepMix)({position:["100%","50%"],content:v?v(h):h},Ya(Ct.RIGHT),t.cfg.rowTitle);c.annotation().text(g)}})},r}(wr),jC=WC,UC=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields[0],a=[],o=1,s=1,l=[""],u=[""],h,c;return this.cfg.transpose?(h=n,l=this.getFieldValues(t,h).slice(0,2),o=l.length):(c=n,u=this.getFieldValues(t,c).slice(0,2),s=u.length),l.forEach(function(v,g){u.forEach(function(A,k){var F=[{field:h,value:v,values:l},{field:c,value:A,values:u}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),N={type:e.cfg.type,data:Y,region:e.getRegion(s,o,g,k),columnValue:v,rowValue:A,columnField:h,rowField:c,columnIndex:g,rowIndex:k,columnValuesLength:o,rowValuesLength:s};a.push(N)})}),a},r.prototype.getXAxisOption=function(t,e,n,a){return a.columnIndex===1||a.rowIndex===1?(0,G.__assign)((0,G.__assign)({},n),{label:null,title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return n},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnValue,o=e.rowValue,s=e.view,l=(0,f.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,f.deepMix)({position:["50%","0%"],content:l?l(a):a},Ya(Ct.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,f.deepMix)({position:["100%","50%"],content:l?l(o):o},Ya(Ct.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(wr),ZC=UC,KC=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,G.__assign)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,G.__assign)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,n=this.cfg.fields,a=n[0],o=n[1],s=[],l=1,u=1,h=[""],c=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(c=this.getFieldValues(t,o),u=c.length),h.forEach(function(v,g){c.forEach(function(A,k){var F=[{field:a,value:v,values:h},{field:o,value:A,values:c}],Y=(0,f.filter)(t,e.getFacetDataFilter(F)),N={type:e.cfg.type,data:Y,region:e.getRegion(u,l,g,k),columnValue:v,rowValue:A,columnField:a,rowField:o,columnIndex:g,rowIndex:k,columnValuesLength:l,rowValuesLength:u};s.push(N)})}),s},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e,n){var a=e.columnIndex,o=e.rowIndex,s=e.columnValuesLength,l=e.columnValue,u=e.rowValue,h=e.view;if(o===0){var c=(0,f.get)(t.cfg.columnTitle,"formatter"),v=(0,f.deepMix)({position:["50%","0%"],content:c?c(l):l},Ya(Ct.TOP),t.cfg.columnTitle);h.annotation().text(v)}if(a===s-1){var c=(0,f.get)(t.cfg.rowTitle,"formatter"),v=(0,f.deepMix)({position:["100%","50%"],content:c?c(u):u},Ya(Ct.RIGHT),t.cfg.rowTitle);h.annotation().text(v)}})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,G.__assign)((0,G.__assign)({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,G.__assign)((0,G.__assign)({},n),{title:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.columnIndex!==0?(0,G.__assign)((0,G.__assign)({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,G.__assign)((0,G.__assign)({},n),{title:null}):n},r}(wr),$C=KC,QC=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(xt.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,f.deepMix)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(n){n.region=e.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},r.prototype.getRegion=function(t,e,n,a){var o=1/e,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var e=this,n=[],a=0;t.forEach(function(v){e.isLeaf(v)&&(n.push(v),v.columnIndex=a,a++)}),n.forEach(function(v){v.columnValuesLength=n.length});for(var o=this.cfg.fields.length,s=o-1;s>=0;s--)for(var l=this.getFacetsByLevel(t,s),u=0,h=l;u<h.length;u++){var c=h[u];this.isLeaf(c)||(c.originColIndex=c.columnIndex,c.columnIndex=this.getRegionIndex(c.children),c.columnValuesLength=n.length)}},r.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(a){a.rowIndex===e&&n.push(a)}),n},r.prototype.getRegionIndex=function(t){var e=t[0],n=t[t.length-1];return(n.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<e)){var l=[],u=o[e-1],h=this.getFieldValues(t,u);return h.forEach(function(c,v){var g=[{field:u,value:c,values:h}],A=t.filter(a.getFacetDataFilter(g));if(A.length){var k={type:a.cfg.type,data:A,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:v,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:e,children:a.getChildFacets(A,e+1,n)};l.push(k),n.push(k)}}),l}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,f.each)(this.facets,function(e){var n=e.columnValue,a=e.view,o=(0,f.get)(t.cfg.title,"formatter"),s=(0,f.deepMix)({position:["50%","0%"],content:o?o(n):n},Ya(Ct.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(n){if(!e.isLeaf(n)){var a=n.children;e.addFacetLines(n,a)}})},r.prototype.addFacetLines=function(t,e){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(h.y-s.y)/2},v={x:h.x,y:c.y};n.drawLine([s,c,v,h])})},r.prototype.getPath=function(t){var e=[],n=this.cfg.line.smooth;return n?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,f.assign)({path:e},n)})},r.prototype.getXAxisOption=function(t,e,n,a){return a.rowIndex!==a.rowValuesLength-1?(0,G.__assign)((0,G.__assign)({},n),{title:null,label:null}):n},r.prototype.getYAxisOption=function(t,e,n,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,G.__assign)((0,G.__assign)({},n),{title:null,label:null}):n},r}(wr),JC=QC,qC=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(pt.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(pt.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){var t=this,e=this.getComponents(),n=function(o){var s=o.component,l=o.extra,u=l.type,h=t.getAnnotationTheme(u);s.update(t.getAnnotationCfg(u,l,h))},a=function(o){var s=t.createAnnotation(o);s&&(s.component.init(),o.type==="regionFilter"&&s.component.render(),t.cache.set(o,s))};e.length?(0,f.each)(e,function(o){var s=o.component;s.get("type")==="regionFilter"?t.view.getRootView().once(xt.AFTER_RENDER,function(){n(o)}):n(o)}):(0,f.each)(this.option,function(o){o.type==="regionFilter"?t.view.getRootView().once(xt.AFTER_RENDER,function(){a(o)}):a(o)})},r.prototype.render=function(){},r.prototype.update=function(){var t=this,e=new WeakMap,n=function(a){var o=a.type,s=t.getAnnotationTheme(o),l=t.getAnnotationCfg(o,a,s),u=t.cache.get(a);if(u)Gt(l,["container"]),u.component.update(l),e.set(a,!0);else{var h=t.createAnnotation(a);h&&(h.component.init(),a.type==="regionFilter"&&h.component.render(),t.cache.set(a,h),e.set(a,!0))}};this.view.once(xt.AFTER_RENDER,function(){(0,f.each)(t.option,function(o){o.type==="regionFilter"&&n(o)});var a=new Map;t.cache.forEach(function(o,s){e.has(s)?a.set(s,o):o.component.destroy()}),t.cache=a}),(0,f.each)(this.option,function(a){a.type!=="regionFilter"&&n(a)})},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.createAnnotation=function(t){var e=t.type,n=Hr.Annotation[(0,f.upperFirst)(e)];if(n){var a=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,a),s=new n(o);return{component:s,layer:this.isTop(o)?pt.FORE:pt.BG,direction:Ct.NONE,type:ot.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,G.__assign)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,G.__assign)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,G.__assign)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,G.__assign)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,G.__assign)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,G.__assign)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,G.__assign)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,G.__assign)({type:"regionFilter"},t))},r.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),a=(0,f.isFunction)(t)?t.call(null,e,n):t,o=0,s=0;if((0,f.isArray)(a)){var l=a[0],u=a[1];if((0,f.isString)(l)&&l.indexOf("%")!==-1&&!isNaN(l.slice(0,-1)))return this.parsePercentPosition(a);o=this.getNormalizedValue(l,e),s=this.getNormalizedValue(u,Object.values(n)[0])}else if(!(0,f.isNil)(a))for(var h=0,c=(0,f.keys)(a);h<c.length;h++){var v=c[h],g=a[v];v===e.field&&(o=this.getNormalizedValue(g,e)),n[v]&&(s=this.getNormalizedValue(g,n[v]))}return this.view.getCoordinate().convert({x:o,y:s})},r.prototype.getRegionPoints=function(t,e){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,f.isArray)(t)?t[0]:t[l],c=(0,f.isArray)(e)?e[0]:e[l],v=[],g;return(0,f.each)(u,function(A,k){if(A[l]===h&&(g=k),k>=g){var F=n.parsePosition([A[l],A[s.field]]);F&&v.push(F)}if(A[l]===c)return!1}),v},r.prototype.getNormalizedValue=function(t,e){var n,a;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":{a=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(a);break}case"min":case"max":e.isCategory?a=t==="min"?0:e.values.length-1:a=e[t],n=e.scale(a);break;default:n=e.scale(t)}return n},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*e+l.x,h=a.getHeight()*n+l.y;return{x:u,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,e,n){var a=this.view.getCoordinate(),o={};if((0,f.isNil)(e))return null;if(t==="arc"){var s=e,l=s.start,u=s.end,h=this.parsePosition(l),c=this.parsePosition(u),v=bt(a,h),g=bt(a,c);v>g&&(g=Math.PI*2+g),o={center:a.getCenter(),radius:J(a,h),startAngle:v,endAngle:g}}else if(t==="image"){var A=e,l=A.start,u=A.end;o={start:this.parsePosition(l),end:this.parsePosition(u),src:e.src}}else if(t==="line"){var k=e,l=k.start,u=k.end;o={start:this.parsePosition(l),end:this.parsePosition(u),text:(0,f.get)(e,"text",null)}}else if(t==="region"){var F=e,l=F.start,u=F.end;o={start:this.parsePosition(l),end:this.parsePosition(u)}}else if(t==="text"){var Y=this.view.getData(),N=e,st=N.position,lt=N.content,At=(0,G.__rest)(N,["position","content"]),zt=lt;(0,f.isFunction)(lt)&&(zt=lt(Y)),o=(0,G.__assign)((0,G.__assign)((0,G.__assign)({},this.parsePosition(st)),At),{content:zt})}else if(t==="dataMarker"){var Wt=e,st=Wt.position,Qt=Wt.point,Vt=Wt.line,te=Wt.text,le=Wt.autoAdjust,ae=Wt.direction;o=(0,G.__assign)((0,G.__assign)({},this.parsePosition(st)),{coordinateBBox:this.getCoordinateBBox(),point:Qt,line:Vt,text:te,autoAdjust:le,direction:ae})}else if(t==="dataRegion"){var Se=e,l=Se.start,u=Se.end,_e=Se.region,te=Se.text,Ee=Se.lineLength;o={points:this.getRegionPoints(l,u),region:_e,text:te,lineLength:Ee}}else if(t==="regionFilter"){var Fe=e,l=Fe.start,u=Fe.end,Ne=Fe.apply,Ye=Fe.color,Be=this.view.geometries,De=[],rr=function(ar){!ar||(ar.isGroup()?ar.getChildren().forEach(function(yr){return rr(yr)}):De.push(ar))};(0,f.each)(Be,function(ar){Ne?(0,f.contains)(Ne,ar.type)&&(0,f.each)(ar.elements,function(yr){rr(yr.shape)}):(0,f.each)(ar.elements,function(yr){rr(yr.shape)})}),o={color:Ye,shapes:De,start:this.parsePosition(l),end:this.parsePosition(u)}}var tr=(0,f.deepMix)({},n,(0,G.__assign)((0,G.__assign)({},o),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return tr.container=this.getComponentContainer(tr),tr.animate=this.view.getOptions().animate&&tr.animate&&(0,f.get)(e,"animate",tr.animate),tr.animateOption=(0,f.deepMix)({},Fo,tr.animateOption,e.animateOption),tr},r.prototype.isTop=function(t){return(0,f.get)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,f.get)(this.view.getTheme(),["components","annotation",t],{})},r}(Do),tM=qC;function Sv(i,r){return(0,f.get)(i,["components","axis",r,"grid"],{})}function ll(i,r,t,e){var n=[],a=r.getTicks();return i.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(e)n.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var h=o.value,c=(h+u)/2;n.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function yf(i,r,t,e,n){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var h=l?l.value:u.value,c=u.value,v=(h+c)/2;return n==="x"?o.push({points:[i.convert({x:e?c:v,y:0}),i.convert({x:e?c:v,y:1})]}):o.push({points:(0,f.map)(Array(a+1),function(g,A){return i.convert({x:A/a,y:e?c:v})})}),u},s[0]),o}function Cv(i,r){var t=(0,f.get)(r,"grid");if(t===null)return!1;var e=(0,f.get)(i,"grid");return!(t===void 0&&e===null)}var qa=["container"],Mv=(0,G.__assign)((0,G.__assign)({},Fo),{appear:null}),eM=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(pt.BG).addGroup(),e.axisContainer=e.view.getLayer(pt.BG).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,f.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,h=l.scale,c=l.alignTick,v;if(s===ot.AXIS)e.isPolar?u==="x"?v=e.isTransposed?He(e,o):fr(e):u==="y"&&(v=e.isTransposed?fr(e):He(e,o)):v=He(e,o);else if(s===ot.GRID)if(e.isPolar){var g=void 0;e.isTransposed?g=u==="x"?yf(e,t.view.getYScales()[0],h,c,u):ll(e,h,u,c):g=u==="x"?ll(e,h,u,c):yf(e,t.view.getXScale(),h,c,u),v={items:g,center:t.view.getCoordinate().getCenter()}}else v={items:ll(e,h,u,c)};a.update(v)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(n,a){t.has(a)?e.set(a,n):n.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var n=We(this.option,e.field);if(n!==!1){var a=vr(n,Ct.BOTTOM),o=pt.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",e.field),h=this.getId("grid",e.field);if(l.isRect){var c=this.cache.get(u);if(c){var v=this.getLineAxisCfg(e,n,a);Gt(v,qa),c.component.update(v),t.set(u,c)}else c=this.createLineAxis(e,n,o,a,s),this.cache.set(u,c),t.set(u,c);var g=this.cache.get(h);if(g){var v=this.getLineGridCfg(e,n,a,s);Gt(v,qa),g.component.update(v),t.set(h,g)}else g=this.createLineGrid(e,n,o,a,s),g&&(this.cache.set(h,g),t.set(h,g))}else if(l.isPolar){var c=this.cache.get(u);if(c){var v=l.isTransposed?this.getLineAxisCfg(e,n,Ct.RADIUS):this.getCircleAxisCfg(e,n,a);Gt(v,qa),c.component.update(v),t.set(u,c)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;c=this.createLineAxis(e,n,o,Ct.RADIUS,s)}else c=this.createCircleAxis(e,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var g=this.cache.get(h);if(g){var v=l.isTransposed?this.getCircleGridCfg(e,n,Ct.RADIUS,s):this.getLineGridCfg(e,n,Ct.CIRCLE,s);Gt(v,qa),g.component.update(v),t.set(h,g)}else{if(l.isTransposed){if((0,f.isUndefined)(n))return;g=this.createCircleGrid(e,n,o,Ct.RADIUS,s)}else g=this.createLineGrid(e,n,o,Ct.CIRCLE,s);g&&(this.cache.set(h,g),t.set(h,g))}}}}},r.prototype.updateYAxes=function(t){var e=this,n=this.view.getYScales();(0,f.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=We(e.option,s);if(l!==!1){var u=pt.BG,h="y",c=e.getId("axis",s),v=e.getId("grid",s),g=e.view.getCoordinate();if(g.isRect){var A=vr(l,o===0?Ct.LEFT:Ct.RIGHT),k=e.cache.get(c);if(k){var F=e.getLineAxisCfg(a,l,A);Gt(F,qa),k.component.update(F),t.set(c,k)}else k=e.createLineAxis(a,l,u,A,h),e.cache.set(c,k),t.set(c,k);var Y=e.cache.get(v);if(Y){var F=e.getLineGridCfg(a,l,A,h);Gt(F,qa),Y.component.update(F),t.set(v,Y)}else Y=e.createLineGrid(a,l,u,A,h),Y&&(e.cache.set(v,Y),t.set(v,Y))}else if(g.isPolar){var k=e.cache.get(c);if(k){var F=g.isTransposed?e.getCircleAxisCfg(a,l,Ct.CIRCLE):e.getLineAxisCfg(a,l,Ct.RADIUS);Gt(F,qa),k.component.update(F),t.set(c,k)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;k=e.createCircleAxis(a,l,u,Ct.CIRCLE,h)}else k=e.createLineAxis(a,l,u,Ct.RADIUS,h);e.cache.set(c,k),t.set(c,k)}var Y=e.cache.get(v);if(Y){var F=g.isTransposed?e.getLineGridCfg(a,l,Ct.CIRCLE,h):e.getCircleGridCfg(a,l,Ct.RADIUS,h);Gt(F,qa),Y.component.update(F),t.set(v,Y)}else{if(g.isTransposed){if((0,f.isUndefined)(l))return;Y=e.createLineGrid(a,l,u,Ct.CIRCLE,h)}else Y=e.createCircleGrid(a,l,u,Ct.RADIUS,h);Y&&(e.cache.set(v,Y),t.set(v,Y))}}}}})},r.prototype.createLineAxis=function(t,e,n,a,o){var s={component:new Xn(this.getLineAxisCfg(t,e,a)),layer:n,direction:a===Ct.RADIUS?Ct.NONE:a,type:ot.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,e,n,a,o){var s=this.getLineGridCfg(t,e,a,o);if(s){var l={component:new qn(s),layer:n,direction:Ct.NONE,type:ot.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,e,n,a,o){var s={component:new Zn(this.getCircleAxisCfg(t,e,a)),layer:n,direction:a,type:ot.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,e,n,a,o){var s=this.getCircleGridCfg(t,e,a,o);if(s){var l={component:new Pn(s),layer:n,direction:Ct.NONE,type:ot.GRID,extra:{dim:o,scale:t,alignTick:(0,f.get)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=He(o,n),l=Pr(t,e),u=qe(this.view.getTheme(),n),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,G.__assign)((0,G.__assign)({container:a},s),{ticks:t.getTicks().map(function(st){return{id:""+st.tickValue,name:st.text,value:st.value}}),verticalFactor:o.isPolar?nr(s,o.getCenter())*-1:nr(s,o.getCenter())}),u,h),v=this.getAnimateCfg(c),g=v.animate,A=v.animateOption;c.animateOption=A,c.animate=g;var k=Ue(s),F=(0,f.get)(c,"verticalLimitLength",k?1/3:1/2);if(F<=1){var Y=this.view.getCanvas().get("width"),N=this.view.getCanvas().get("height");c.verticalLimitLength=F*(k?Y:N)}return c},r.prototype.getLineGridCfg=function(t,e,n,a){if(!!Cv(qe(this.view.getTheme(),n),e)){var o=Sv(this.view.getTheme(),n),s=(0,f.deepMix)({container:this.gridContainer},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e));return s.items=ll(this.view.getCoordinate(),t,a,(0,f.get)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,e,n){var a=this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(k){return{id:""+k.tickValue,name:k.text,value:k.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=Pr(t,e),u=qe(this.view.getTheme(),Ct.CIRCLE),h=(0,f.get)(e,["title"])?(0,f.deepMix)({title:{style:{text:l}}},e):e,c=(0,f.deepMix)((0,G.__assign)((0,G.__assign)({container:a},fr(this.view.getCoordinate())),{ticks:s,verticalFactor:1}),u,h),v=this.getAnimateCfg(c),g=v.animate,A=v.animateOption;return c.animate=g,c.animateOption=A,c},r.prototype.getCircleGridCfg=function(t,e,n,a){if(!!Cv(qe(this.view.getTheme(),n),e)){var o=Sv(this.view.getTheme(),Ct.RADIUS),s=(0,f.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,f.get)(e,"grid"),this.getAnimateCfg(e)),l=(0,f.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=yf(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,e){var n=this.view.getCoordinate();return t+"-"+e+"-"+n.type},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,f.get)(t,"animate"),animateOption:t&&t.animateOption?(0,f.deepMix)({},Mv,t.animateOption):Mv}},r}(Do),rM=eM;function ul(i,r,t){return t===Ct.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===Ct.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===Ct.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===Ct.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===Ct.TOP_LEFT||t===Ct.LEFT_TOP?[i.tl.x,i.tl.y]:t===Ct.TOP_RIGHT||t===Ct.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===Ct.BOTTOM_LEFT||t===Ct.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===Ct.BOTTOM_RIGHT||t===Ct.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function nM(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Ev(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Av(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function iM(i,r){var t=r.matrix[0],e=r.matrix[4],n=i;return t<0&&(n=Ev(n)),e<0&&(n=Av(n)),n}function aM(i,r){var t=i;return r.isReflect("x")&&(t=Ev(t)),r.isReflect("y")&&(t=Av(t)),t}function MG(i,r){var t=i;return t=nM(t,r),t=iM(t,r),t=aM(t,r),t}function _v(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var n=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,G.__spreadArrays)([r],n)).join("")}else e=i.mapping(r).join("");return e||t}function Tv(i){var r=i.symbol;(0,f.isString)(r)&&mo[r]&&(i.symbol=mo[r])}function mf(i){return i.startsWith(Ct.LEFT)||i.startsWith(Ct.RIGHT)?"vertical":"horizontal"}function oM(i,r,t,e,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=i.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(c){var v,g=c.text,A=c.value,k=g,F=a.invert(A),Y=i.filterFieldData(o,[(v={},v[o]=F,v)]).length===0,N=_v(s,F,u),st=_v(l,F,"point"),lt=r.getShapeMarker(st,{color:N,isInPolar:h});return lt=(0,f.deepMix)({},e,lt,n),Tv(lt),{id:F,name:k,value:F,marker:lt,unchecked:Y}})}return[]}function sM(i,r,t){return t.map(function(e){var n=(0,f.deepMix)({},i,r,e.marker);return Tv(n),e.marker=n,e})}function Pv(i,r){return(0,f.isBoolean)(i)?i===!1?!1:{}:(0,f.get)(i,[r],i)}function gs(i){return(0,f.get)(i,"position",Ct.BOTTOM)}var lM=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(pt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){var t=this;this.option=this.view.getOptions().legends;var e=function(s,l,u){var h=t.createFieldLegend(s,l,u);h&&(h.component.init(),t.components.push(h))};if((0,f.get)(this.option,"custom")){var n=this.createCustomLegend(void 0,void 0,void 0,this.option);if(n){n.init();var a=pt.FORE,o=gs(this.option);this.components.push({id:"global-custom",component:n,layer:a,direction:o,type:ot.LEGEND,extra:void 0})}}else this.loopLegends(e)},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox;var e=(0,f.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);(0,f.each)(this.components,function(n){var a=n.component,o=n.direction,s=mf(o),l=t.getCategoryLegendSizeCfg(s),u=a.get("maxWidth"),h=a.get("maxHeight");a.update({maxWidth:Math.min(l.maxWidth,u||0),maxHeight:Math.min(l.maxHeight,h||0)});var c=a.getLayoutBBox(),v=new cr(c.x,c.y,c.width,c.height),g=ul(t.view.viewBBox,v,o),A=g[0],k=g[1],F=ul(t.layoutBBox,v,o),Y=F[0],N=F[1],st=0,lt=0;o.startsWith("top")||o.startsWith("bottom")?(st=A,lt=N):(st=Y,lt=k),o.indexOf("left")>=0&&(st+=e[3]),o.indexOf("right")>=0&&(st-=e[1]),o.indexOf("top")>=0&&(lt+=e[0]),o.indexOf("bottom")>=0&&(lt-=e[2]),a.update({x:st,y:lt}),t.layoutBBox=t.layoutBBox.cut(v,o)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},n=function(v,g,A){var k=t.getId(A.field),F=t.getComponentById(k);if(F){var Y=void 0,N=Pv(t.option,A.field);N!==!1&&((0,f.get)(N,"custom")?Y=t.getCategoryCfg(v,g,A,N,!0):A.isLinear?Y=t.getContinuousCfg(v,g,A,N):A.isCategory&&(Y=t.getCategoryCfg(v,g,A,N))),Y&&(Gt(Y,["container"]),F.direction=gs(N),F.component.update(Y),e[k]=!0)}else{var st=t.createFieldLegend(v,g,A);st&&(st.component.init(),t.components.push(st),e[k]=!0)}};if((0,f.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Gt(s,["container"]),o.component.update(s),e[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=pt.FORE,h=gs(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:ot.LEGEND,extra:void 0}),e[a]=!0}}}else this.loopLegends(n);var c=[];(0,f.each)(this.getComponents(),function(v){e[v.id]?c.push(v):v.component.destroy()}),this.components=c},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,n=t.geometries;return(0,f.each)(t.views,function(a){n=n.concat(e.getGeometries(a))}),n},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var n=this.getGeometries(this.view),a={};(0,f.each)(n,function(o){var s=o.getGroupAttributes();(0,f.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,n){var a,o=Pv(this.option,n.field),s=pt.FORE,l=gs(o);if(o!==!1&&((0,f.get)(o,"custom")?a=this.createCustomLegend(t,e,n,o):n.isLinear?a=this.createContinuousLegend(t,e,n,o):n.isCategory&&(a=this.createCategoryLegend(t,e,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:ot.LEGEND,extra:{scale:n}}},r.prototype.createCustomLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a,!0);return new Kt(o)},r.prototype.createContinuousLegend=function(t,e,n,a){var o=this.getContinuousCfg(t,e,n,a);return new Jt(o)},r.prototype.createCategoryLegend=function(t,e,n,a){var o=this.getCategoryCfg(t,e,n,a);return new Kt(o)},r.prototype.getContinuousCfg=function(t,e,n,a){var o=n.getTicks(),s=(0,f.find)(o,function(k){return k.value===0}),l=(0,f.find)(o,function(k){return k.value===1}),u=o.map(function(k){var F=k.value,Y=k.tickValue,N=e.mapping(n.invert(F)).join("");return{value:Y,attrValue:N,color:N,scaleValue:F}});s||u.push({value:n.min,attrValue:e.mapping(n.invert(0)).join(""),color:e.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:e.mapping(n.invert(1)).join(""),color:e.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(k,F){return k.value-F.value});var h={min:(0,f.head)(u).value,max:(0,f.last)(u).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(h.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(h.colors=u.map(function(k){return k.attrValue}));var c=this.container,v=gs(a),g=mf(v),A=(0,f.get)(a,"title");return A&&(A=(0,f.deepMix)({text:Me(n)},A)),h.container=c,h.layout=g,h.title=A,h.animateOption=Fo,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,e,n,a,o){var s=this.container,l=(0,f.get)(a,"position",Ct.BOTTOM),u=(0,f.get)(this.view.getTheme(),["components","legend",l,"marker"]),h=(0,f.get)(a,"marker"),c=mf(l),v=o?sM(u,h,a.items):oM(this.view,t,e,u,h),g=(0,f.get)(a,"title");g&&(g=(0,f.deepMix)({text:n?Me(n):""},g));var A=this.getCategoryLegendSizeCfg(c);A.container=s,A.layout=c,A.items=v,A.title=g,A.animateOption=Fo;var k=this.mergeLegendCfg(A,a,l);k.reversed&&k.items.reverse();var F=(0,f.get)(k,"maxItemWidth");return F&&F<=1&&(k.maxItemWidth=this.view.viewBBox.width*F),k},r.prototype.mergeLegendCfg=function(t,e,n){var a=n.split("-")[0],o=(0,f.get)(this.view.getTheme(),["components","legend",a],{});return(0,f.deepMix)({},o,t,e)},r.prototype.getId=function(t){return this.name+"-"+t},r.prototype.getComponentById=function(t){return(0,f.find)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,a=e.height;return t==="vertical"?{maxWidth:n*U,maxHeight:a}:{maxWidth:n,maxHeight:a*U}},r}(Do),uM=lM,fM=function(i){(0,G.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.onValueChanged=function(n){var a=n[0],o=n[1];e.updateMinMaxText(a,o),e.view.render(!0)},e.container=e.view.getLayer(pt.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){if(this.option=this.view.getOptions().slider,this.option){this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged));var t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1;this.updateMinMaxText(t,e)}else this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){if(this.slider){var t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new cr(e.x,e.y,Math.min(e.width,t),e.height),a=ul(this.view.viewBBox,n,Ct.BOTTOM),o=a[0],s=a[1],l=ul(this.view.coordinateBBox,n,Ct.BOTTOM),u=l[0],h=l[1];this.slider.component.update({x:u,y:s,width:t})}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Hr.Slider((0,G.__assign)({container:this.container},t));return e.init(),{component:e,layer:pt.FORE,direction:Ct.BOTTOM,type:ot.OTHER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();return Gt(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},r.prototype.getSliderCfg=function(){if((0,f.isObject)(this.option)){var t=(0,G.__assign)({data:this.getData()},(0,f.get)(this.option,"trendCfg",{})),e=0,n=0,a=this.view.coordinateBBox.width,o=(0,f.deepMix)({},{x:e,y:n,width:a},this.option);return(0,G.__assign)((0,G.__assign)({},o),{trendCfg:t})}return{}},r.prototype.getData=function(){var t=this.view.getOptions().data,e=this.view.getYScales()[0],n=this.view.getGroupScales();if(n.length){var a=n[0],o=a.field,s=a.ticks;return t.reduce(function(l,u){return u[o]===s[0]&&l.push(u[e.field]),l},[])}return t.map(function(l){return l[e.field]||0})},r.prototype.updateMinMaxText=function(t,e){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,f.size)(n);if(!(!a||!o)){var s=a.field,l=n.reduce(function(k,F){return k.includes(F[s])||k.push(F[s]),k},[]),u=(0,f.size)(l),h=Math.floor(t*(u-1)),c=Math.floor(e*(u-1)),v=(0,f.get)(l,[h]),g=(0,f.get)(l,[c]),A=this.getSliderCfg().formatter;A&&(v=A(v,n[h],h),g=A(g,n[c],c)),this.slider.component.update({minText:v,maxText:g,start:t,end:e}),this.view.filter(a.field,function(k,F){var Y=l.indexOf(k);return Y>-1?Qi(Y,h,c):!0})}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r}(Do),hM=fM;function cM(i){for(var r=[],t=function(n){var a=i[n],o=(0,f.find)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},e=0;e<i.length;e++)t(e);return r}var vM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};e.emit("tooltip:show",(0,G.__assign)({items:n,title:a},t));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,c=s.showContent,v=s.marker,g=this.items,A=this.title;if(!(0,f.isEqual)(A,a)||!(0,f.isEqual)(g,n)?(e.emit("tooltip:change",(0,G.__assign)({items:n,title:a},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,f.mix)({},s,{items:n,title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,v)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,h){var k=(0,f.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(k?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",{}),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear()},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,n=e.tooltip,a=e.tooltipMarkersGroup,o=e.xCrosshair,s=e.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){e=(0,f.flatten)(e);for(var n=0,a=e;n<a.length;n++)for(var o=a[n],s=0,l=o;s<l.length;s++){var u=l[s],h=u.mappingData,c=h.x,v=h.y;u.x=(0,f.isArray)(c)?c[c.length-1]:c,u.y=(0,f.isArray)(v)?v[v.length-1]:v}var g=this.getTooltipCfg().shared;if(g===!1&&e.length>1){for(var A=e[0],k=Math.abs(t.y-A[0].y),F=0,Y=e;F<Y.length;F++){var N=Y[F],st=Math.abs(t.y-N[0].y);st<=k&&(A=N,k=st)}e=[A]}return cM((0,f.flatten)(e))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),a=(0,f.get)(n,["components","tooltip"],{}),o=(0,f.isUndefined)((0,f.get)(e,"enterable"))?a.enterable:(0,f.get)(e,"enterable");return(0,f.deepMix)({},a,e,{capture:!!(o||this.isLocked)})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new re((0,G.__assign)((0,G.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),a=0,o=t;a<o.length;a++){var s=o[a],l=s.x,u=s.y,h=(0,G.__assign)((0,G.__assign)({fill:s.color,symbol:"circle",shadowColor:s.color},e),{x:l,y:u});n.addShape("marker",{attrs:h})}},r.prototype.renderCrosshairs=function(t,e){var n=(0,f.get)(e,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):n==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!ut(n,t)){var a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=bt(n,t),l=n.getCenter(),u=n.getRadius();o=cn(l.x,l.y,u,s),a=l}var h=(0,f.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete h.type;var c=this.xCrosshair;c?c.update(h):(c=new Hr.Crosshair.Line(h),c.init()),c.render(),c.show(),this.xCrosshair=c}},r.prototype.renderYCrosshairs=function(t,e){var n=this.getViewWithGeometry(this.view).getCoordinate();if(!!ut(n,t)){var a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:J(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,f.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,f.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new Hr.Crosshair[o](a),u.init()):u.update(a):(u=new Hr.Crosshair[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,e,n){var a=(0,f.get)(n,["crosshairs","text"]),o=(0,f.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),c=l.getYScales()[0],v=void 0,g=void 0;if(o){var A=this.view.getCoordinate().invert(e);v=h.invert(A.x),g=c.invert(A.y)}else v=u.data[h.field],g=u.data[c.field];var k=t==="x"?v:g;return(0,f.isFunction)(a)?a=a(t,k,s,e):a.content=k,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.getTooltipItemsByHitShape=function(t,e,n){var a=[],o=t.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=Wr(l,t,n);u.length&&a.push(u)}return a},r.prototype.getTooltipItemsByFindData=function(t,e,n){var a=[],o=t.dataArray;t.sort(o);for(var s=0,l=o;s<l.length;s++){var u=l[s],h=pr(e,u,t);if(h){var c=t.getElementId(h),v=t.elementsMap[c];if(t.type==="heatmap"||v.visible){var g=Wr(h,t,n);g.length&&a.push(g)}}}return a},r.prototype.findItemsFromView=function(t,e){if(t.getOptions().tooltip===!1)return[];for(var n=[],a=t.geometries,o=this.getTooltipCfg(),s=o.shared,l=o.title,u=0,h=a;u<h.length;u++){var c=h[u];if(c.visible&&c.tooltipOption!==!1){var v=c.type,g=void 0;["point","edge","polygon"].includes(v)?g=this.getTooltipItemsByHitShape(c,e,l):["area","line","path","heatmap"].includes(v)?g=this.getTooltipItemsByFindData(c,e,l):s!==!1?g=this.getTooltipItemsByFindData(c,e,l):g=this.getTooltipItemsByHitShape(c,e,l),g.length&&n.push(g)}}for(var A=0,k=t.views;A<k.length;A++){var F=k[A];n=n.concat(this.findItemsFromView(F,e))}return n},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,f.find)(t.views,function(n){return e.getViewWithGeometry(n)})},r}(Do),dM=vM,pM=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context.view,e=this.context.event,n=t.getTooltipItems({x:e.x,y:e.y});if(!(0,f.isEqual)(n,this.items)&&(this.items=n,n.length)){var a=t.getXScale().field,o=n[0].data[a],s=[],l=t.geometries;if((0,f.each)(l,function(Se){if(Se.type==="interval"||Se.type==="schema"){var _e=Se.getElementsBy(function(Ee){var Fe=Ee.getData();return Fe[a]===o});s=s.concat(_e)}}),s.length){var u=t.getCoordinate(),h=s[0].shape.getCanvasBBox(),c=s[0].shape.getCanvasBBox(),v=h;(0,f.each)(s,function(Se){var _e=Se.shape.getCanvasBBox();u.isTransposed?(_e.minY<h.minY&&(h=_e),_e.maxY>c.maxY&&(c=_e)):(_e.minX<h.minX&&(h=_e),_e.maxX>c.maxX&&(c=_e)),v.x=Math.min(_e.minX,v.minX),v.y=Math.min(_e.minY,v.minY),v.width=Math.max(_e.maxX,v.maxX)-v.x,v.height=Math.max(_e.maxY,v.maxY)-v.y});var g=t.backgroundGroup,A=t.coordinateBBox,k=void 0;if(u.isRect){var F=t.getXScale(),Y=F.isLinear?0:.25,N=void 0,st=void 0,lt=void 0,At=void 0;u.isTransposed?(N=A.minX,st=Math.min(c.minY,h.minY)-Y*c.height,lt=A.width,At=v.height+Y*2*c.height):(N=Math.min(h.minX,c.minX)-Y*h.width,st=Math.min(A.minY,h.minY),lt=v.width+Y*2*h.width,At=A.height),k=[["M",N,st],["L",N+lt,st],["L",N+lt,st+At],["L",N,st+At],["Z"]]}else{var zt=(0,f.head)(s),Wt=(0,f.last)(s),Qt=ri(zt.getModel(),u).startAngle,Vt=ri(Wt.getModel(),u).endAngle,te=u.getCenter(),le=u.getRadius(),ae=u.innerRadius*le;k=ei(te.x,te.y,le,Qt,Vt,ae)}this.regionPath?(this.regionPath.attr("path",k),this.regionPath.show()):this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:k,fill:"#CCD6EC",opacity:.3}})}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}(Ur),gM=pM,yM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date;if(s-o>16){var l=this.location,u={x:e.x,y:e.y};(!l||!(0,f.isEqual)(l,u))&&this.showTooltip(n,u),this.timeStamp=s,this.location=u}}},r.prototype.hide=function(){var t=this.context.view,e=t.isTooltipLocked();e||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(Ur),Lv=yM,mM=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var n=ci(t);(0,f.each)(n,function(a){var o=ra(t,a,e);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=ci(t);(0,f.each)(e,function(n){n.hideTooltip()})},r}(Lv),xM=mM,bM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:e.x,y:e.y};(!o||!(0,f.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,n=e.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,G.__assign)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t=this.context.view,e=t.canvas,n={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},a=t.getTheme(),o=(0,f.get)(a,["components","tooltip","domStyles"],{}),s=new re({parent:e.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:o});s.init(),s.setCapture(!1),this.tooltip=s},r}(Ur),wM=bM,SM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,n=ta(t,this.stateName);(0,f.each)(n,function(a){e.setElementState(a,!1)})},r}(Ur),xf=SM;function Ov(i){return(0,f.get)(i.get("delegateObject"),"item")}var CM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var n=this.ignoreListItemStates,a=n.filter(function(o){return e.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,e,n){var a=this.context.view,o=t.get("field"),s=tn(a);this.setElementsStateByItem(s,o,e,n)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,n){var a=this.context.view,o=Ca(a,e),s=$n(t,e);return!(0,f.isNil)(s)&&n.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this;(0,f.each)(t,function(s){o.isMathItem(s,e,n)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var e=Mn(this.context);if(e)Hi(this.context)&&this.setStateByElement(e,t);else{var n=Yn(this.context);if(Vn(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&Ov(s.fromShape)===Ov(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=Mn(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(xf),bf=CM,MM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(bf),EM=MM,AM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},r.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),a=e.shape.getCanvasBBox(),o=[["M",n.maxX,n.minY],["L",a.minX,a.minY],["L",a.minX,a.maxY],["L",n.maxX,n.maxY],["Z"]];return o},r.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},r.prototype.linkByElement=function(t){var e=this,n=this.context.view,a=this.getColorScale(n,t);if(!!a){var o=$n(t,a.field);if(!this.cache[o]){var s=fa(n,a.field,o),l=this.linkGroup,u=l.addGroup();this.cache[o]=u;var h=s.length;(0,f.each)(s,function(c,v){if(v<h-1){var g=s[v+1];e.addLinkShape(u,c,g)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var n=$n(t,e.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},r.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=Mn(t);e&&this.linkByElement(e)},r.prototype.unlink=function(){var t=Mn(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(Ur),_M=AM,TM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(ii(this.context))t=Di(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var a={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},o=this.context.view;t=wi(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=tn(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var n=this,a=this.context.view,o=ci(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,f.each)(o,function(h){var c=tn(h),v=c.filter(function(g){var A=g.getModel().data;return Ka(s,A,l,u)});n.setElementsState(v,e,c)})},r.prototype.setSiblingsState=function(t){var e=this,n=this.context.view,a=ci(n);ii(this.context)&&(0,f.each)(a,function(o){var s=tn(o),l=Wi(e.context,o,10);l&&l.length?e.setElementsState(l,t,s):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,n){var a=this;(0,f.each)(n,function(o){t.includes(o)?a.setElementState(o,e):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var n=ci(e);(0,f.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(e)},r}(xf),wf=TM,PM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(wf),LM=PM,OM=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=Mn(this.context);if(e){if(!Hi(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=Mn(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(xf),Sf=OM,IM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Sf),kM=IM,ys="inactive",ms="active";function Cf(i){var r=tn(i);(0,f.each)(r,function(t){t.hasState(ms)&&t.setState(ms,!1),t.hasState(ys)&&t.setState(ys,!1)})}function Iv(i,r,t){(0,f.each)(i,function(e){r(e)?(e.hasState(ys)&&e.setState(ys,!1),e.setState(ms,t)):(e.hasState(ms)&&e.setState(ms,!1),e.setState(ys,t))})}var xo=Et.INACTIVE,za=Et.ACTIVE,BM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=za,t}return r.prototype.setElementsStateByItem=function(t,e,n,a){var o=this,s=function(l){return o.isMathItem(l,e,n)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(xo)&&t.setState(xo,!1),t.setState(za,!0)):t.hasState(za)||t.setState(xo,!0)},r.prototype.setHighlightBy=function(t,e,n){var a=this;if(n)(0,f.each)(t,function(l){a.setElementHighlight(l,e)});else{var o=ta(this.context.view,za),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(t,function(l){e(l)&&(l.hasState(za)&&l.setState(za,!1),l.setState(xo,!0))})}},r.prototype.setElementState=function(t,e){var n=this.context.view,a=tn(n);this.setHighlightBy(a,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Cf(t)},r}(bf),Mf=BM,DM=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=$n(t,o.field),l=tn(n),u=l.filter(function(h){return $n(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},e)}},r}(Mf),FM=DM,RM=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(xo)&&t.setState(xo,!1),t.setState(za,!0)):(t.setState(xo,!0),t.hasState(za)&&t.setState(za,!1))},r.prototype.setStateByElement=function(t,e){var n=this.context.view,a=n.getXScale(),o=$n(t,a.field),s=tn(n),l=s.filter(function(u){return $n(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},e)},r.prototype.toggle=function(){var t=Mn(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Mf),NM=RM,GM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Cf(t)},r.prototype.highlight=function(){this.setState()},r.prototype.setElementsState=function(t,e,n){Iv(n,function(a){return t.indexOf(a)>=0},e)},r}(wf),kv=GM,YM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var n=this.context.view,a=tn(n);Iv(a,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Cf(t)},r}(Sf),zM=YM,XM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(wf),VM=XM,HM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(bf),WM=HM,jM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Sf),UM=jM,ZM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=Yn(this.context),e=null;return Vn(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,n=Da(e),a=[];return(0,f.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=Ca(a,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return e.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,e,n){var a=t.get("field"),o=this.context.view,s=Ca(o,a),l=$n(e,a),u=s.getText(l);this.setItemsState(t,u,n)},r.prototype.setStateEnable=function(t){var e=this,n=Mn(this.context);if(n){var a=this.getAllowComponents();(0,f.each)(a,function(u){e.setStateByElement(u,n,t)})}else{var o=Yn(this.context);if(Vn(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,e,n){var a=this,o=t.getItems();(0,f.each)(o,function(s){s.name===e&&a.setItemState(t,s,n)})},r.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,n=t.item,a=this.hasState(e,n);this.setItemState(e,n,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(Ur),fl=ZM,KM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(fl),$M=KM,Bv="inactive",Dv="active";function QM(i){var r=i.getItems();(0,f.each)(r,function(t){i.hasState(t,Dv)&&i.setItemState(t,Dv,!1),i.hasState(t,Bv)&&i.setItemState(t,Bv,!1)})}var xs="inactive",bo="active",JM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=bo,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(a){return a.name===e},n)},r.prototype.setItemState=function(t,e,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===e},n)},r.prototype.setHighlightBy=function(t,e,n){var a=t.getItems();if(n)(0,f.each)(a,function(l){e(l)?(t.hasState(l,xs)&&t.setItemState(l,xs,!1),t.setItemState(l,bo,!0)):t.hasState(l,bo)||t.setItemState(l,xs,!0)});else{var o=t.getItemsByState(bo),s=!0;(0,f.each)(o,function(l){if(!e(l))return s=!1,!1}),s?this.clear():(0,f.each)(a,function(l){e(l)&&(t.hasState(l,bo)&&t.setItemState(l,bo,!1),t.setItemState(l,xs,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)QM(t.list);else{var e=this.getAllowComponents();(0,f.each)(e,function(n){n.clearItemsState(bo),n.clearItemsState(xs)})}},r}(fl),Ef=JM,qM=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(fl),t2=qM,e2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(fl),r2=e2,n2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,a=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,G.__assign)({fill:"#C5D4EB",opacity:.3},e)});return n},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,a=t.y-e.y,o=this.points;(0,f.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}(Ur),Af=n2,i2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,f.last)(this.points),n=0,a=0,o=0;if(t.length){var s=t[0];n=Li(s,e)/2,a=(e.x+s.x)/2,o=(e.y+s.y)/2}return{x:a,y:o,r:n}},r}(Af),a2=i2,o2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,f.head)(t),end:(0,f.last)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end,a=Math.min(e.x,n.x),o=Math.min(e.y,n.y),s=Math.abs(n.x-e.x),l=Math.abs(n.y-e.y);return{x:a,y:o,width:s,height:l}},r}(Af),Fv=o2;function Rv(i){i.x=(0,f.clamp)(i.x,0,1),i.y=(0,f.clamp)(i.y,0,1)}var s2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,n=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,f.head)(n)),l=o.invert((0,f.last)(n));return this.inPlot&&(Rv(s),Rv(l)),a==="x"?(t=o.convert({x:s.x,y:0}),e=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),e=o.convert({x:1,y:l.y})),{start:t,end:e}},r}(Fv),Nv=s2,l2=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,f.each)(t,function(n,a){a===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Af),Gv=l2,u2=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return Fa(t,!0)},r}(Gv),f2=u2,h2=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(Ur),c2=h2,v2=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&(0,f.each)(t.views,function(o){a.filterView(o,e,n)})},r.prototype.filter=function(){var t=Yn(this.context);if(t){var e=this.context.view,n=t.component,a=n.get("field");if(Vn(t)){if(a){var o=n.getItemsByState("unchecked"),s=Ca(e,a),l=o.map(function(v){return v.name});l.length?this.filterView(e,a,function(v){var g=s.getText(v);return!l.includes(g)}):this.filterView(e,a,null),e.render(!0)}}else if(ni(t)){var u=n.getValue(),h=u[0],c=u[1];this.filterView(e,a,function(v){return v>=h&&v<=c}),e.render(!0)}}},r}(Ur),d2=v2;function Yv(i,r,t,e){var n=Math.min(t[r],e[r]),a=Math.max(t[r],e[r]),o=i.range,s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=i.invert(n),h=i.invert(a);if(i.isCategory){var c=i.values.indexOf(u),v=i.values.indexOf(h),g=i.values.slice(c,v+1);return function(A){return g.includes(A)}}else return function(A){return A>=u&&A<=h}}var p2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(ii(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},e={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context.view,s=o.getCoordinate(),l=s.invert(e),u=s.invert(t);if(this.hasDim("x")){var h=o.getXScale(),c=Yv(h,"x",l,u);this.filterView(o,h.field,c)}if(this.hasDim("y")){var v=o.getYScales()[0],c=Yv(v,"y",l,u);this.filterView(o,v.field,c)}this.reRender(o)}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t)},r.prototype.filterView=function(t,e,n){t.filter(e,n)},r.prototype.reRender=function(t){t.render(!0)},r}(Ur),hl=p2,g2=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,n){var a=ci(t);(0,f.each)(a,function(o){o.filter(e,n)})},r.prototype.reRender=function(t){var e=ci(t);(0,f.each)(e,function(n){n.render(!0)})},r}(hl),_f=g2,y2=function(i){(0,G.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=Yn(this.context),e=this.context.view,n=tn(e);if(ii(this.context)){var a=Di(this.context,10);a&&(0,f.each)(n,function(A){a.includes(A)?A.show():A.hide()})}else if(t){var o=t.component,s=o.get("field");if(Vn(t)){if(s){var l=o.getItemsByState("unchecked"),u=Ca(e,s),h=l.map(function(A){return A.name});(0,f.each)(n,function(A){var k=$n(A,s),F=u.getText(k);h.indexOf(F)>=0?A.hide():A.show()})}}else if(ni(t)){var c=o.getValue(),v=c[0],g=c[1];(0,f.each)(n,function(A){var k=$n(A,s);k>=v&&k<=g?A.show():A.hide()})}}},r.prototype.clear=function(){var t=tn(this.context.view);(0,f.each)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}(Ur),m2=y2,x2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){ii(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Di(this.context,10);if(!!e){var n=t.getXScale().field,a=t.getYScales()[0].field,o=e.map(function(l){return l.getModel().data}),s=ci(t);(0,f.each)(s,function(l){var u=tn(l);(0,f.each)(u,function(h){var c=h.getModel().data;Ka(o,c,n,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,n=ci(e);(0,f.each)(n,function(a){var o=Wi(t.context,a,10),s=tn(a);o&&(0,f.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=ci(this.context.view);(0,f.each)(t,function(e){var n=tn(e);(0,f.each)(n,function(a){a.show()})})},r}(Ur),zv=x2,b2=10,w2=5,S2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,f.deepMix)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:(0,G.__assign)({text:t.text},t.textStyle)}),a=n.getBBox(),o=ai(t.padding),s=e.addShape({type:"rect",name:"button-rect",attrs:(0,G.__assign)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),e.on("mouseenter",function(){s.attr(t.activeStyle)}),e.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),n=e.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=pn.transform(null,[["t",n.x-o.width-b2,n.y+o.height+w2]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}(Ur),C2=S2,M2=4,E2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event;this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):Li(t,this.startPoint)>M2&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}(Ur),A2=E2,_2=5,T2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),n=Li(t,e);if(n>_2&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=pn.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(Ur),P2=T2,Xv="x",Vv="y",L2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[Xv,Vv],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);e.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(Xv),this.resetDim(Vv);var t=this.context.view;t.render(!0)},r}(Ur),Hv=L2,O2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,f.each)(e,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(e),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view,c=this.dims;(0,f.each)(c,function(v){t.translateDim(v,{x:l*-1,y:u*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,e)}},r.prototype.translateLinear=function(t,e,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,h=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:s,max:l}),a.scale(e.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Hv),I2=O2,k2=function(i){(0,G.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,n=this.dims;(0,f.each)(n,function(a){e.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,e)}},r.prototype.zoomLinear=function(t,e,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=e.min,u=e.max,h=n*s,c=l-h,v=u+h,g=v-c,A=g/s;v>c&&A<100&&A>.01&&a.scale(e.field,{nice:!1,min:l-h,max:u+h})},r}(Hv),B2=k2;Yt("dark",Bo(bb)),et("canvas",O),et("svg",L),ca("Polygon",jS),ca("Interval",NS),ca("Schema",ZS),ca("Path",lf),ca("Point",VS),ca("Line",YS),ca("Area",PS),ca("Edge",OS),ca("Heatmap",BS),hs("base",Ks),hs("interval",hC),hs("pie",dC),hs("polar",pv),vo("overlap",EC),vo("distribute",gC),vo("fixed-overlap",MC),vo("limit-in-shape",bC),vo("limit-in-canvas",xC),vo("pie-outer",mC),Hn("fade-in",AC),Hn("fade-out",_C),Hn("grow-in-x",PC),Hn("grow-in-xy",OC),Hn("grow-in-y",LC),Hn("scale-in-x",BC),Hn("scale-in-y",DC),Hn("wave-in",NC),Hn("zoom-in",GC),Hn("zoom-out",YC),Hn("position-update",kC),Hn("sector-path-update",RC),Hn("path-in",IC),kr("rect",$C),kr("mirror",ZC),kr("list",HC),kr("matrix",jC),kr("circle",XC),kr("tree",JC),jr("axis",rM),jr("legend",uM),jr("tooltip",dM),jr("annotation",tM),jr("slider",hM),Sr("tooltip",Lv),Sr("sibling-tooltip",xM),Sr("ellipsis-text",wM),Sr("element-active",EM),Sr("element-single-active",kM),Sr("element-range-active",LM),Sr("element-highlight",Mf),Sr("element-highlight-by-x",NM),Sr("element-highlight-by-color",FM),Sr("element-single-highlight",zM),Sr("element-range-highlight",kv),Sr("element-sibling-highlight",kv,{effectSiblings:!0,effectByRecord:!0}),Sr("element-selected",WM),Sr("element-single-selected",UM),Sr("element-range-selected",VM),Sr("element-link-by-color",_M),Sr("active-region",gM),Sr("list-active",$M),Sr("list-selected",t2),Sr("list-highlight",Ef),Sr("list-unchecked",r2),Sr("legend-item-highlight",Ef,{componentNames:["legend"]}),Sr("axis-label-highlight",Ef,{componentNames:["axis"]}),Sr("rect-mask",Fv),Sr("x-rect-mask",Nv,{dim:"x"}),Sr("y-rect-mask",Nv,{dim:"y"}),Sr("circle-mask",a2),Sr("path-mask",Gv),Sr("smooth-path-mask",f2),Sr("cursor",c2),Sr("data-filter",d2),Sr("brush",hl),Sr("brush-x",hl,{dims:["x"]}),Sr("brush-y",hl,{dims:["y"]}),Sr("sibling-filter",_f),Sr("sibling-x-filter",_f),Sr("sibling-y-filter",_f),Sr("element-filter",m2),Sr("element-sibling-filter",zv),Sr("element-sibling-filter-record",zv,{byRecord:!0}),Sr("view-drag",A2),Sr("view-move",P2),Sr("scale-translate",I2),Sr("scale-zoom",B2),Sr("reset-button",C2,{name:"reset-button",text:"reset"});function to(i){return i.isInPlot()}gn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),gn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),gn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),gn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),gn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),gn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),gn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),gn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),gn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),gn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),gn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),gn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),gn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:to,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:to,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),gn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),gn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:to,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:to,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),gn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:to,action:"path-mask:start"},{trigger:"mousedown",isEnable:to,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),gn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),gn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),gn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),gn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),gn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),gn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Wv(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}gn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Wv(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Wv(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),gn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var jv={translate:Hu,rotate:Cc,zoom:cb,transform:Zs,getAngle:ri,polarToCartesian:cn},cl=function(){function i(r){this.EVENT="gesture",this.gm=r}return i.prototype.do=function(r){var t=r.type;switch(t){case"touchstart":this.onTouchStart(r);break;case"touchmove":this.onTouchMove(r);break;case"touchend":this.onTouchEnd(r);break;case"touchcancel":this.onTouchCancel(r);break;default:return}},i.prototype.emit=function(r){this.gm.emit(this.EVENT,r)},i}(),D2=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="pan",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=e-this.preX,o=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:a,deltaY:o,event:t})},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},r}(cl),eo=typeof performance=="object"&&performance.now?performance:Date,F2=300,Uv=10,R2=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="press",t}return r.prototype.onTouchCancel=function(t){this.clearTimeout()},r.prototype.onTouchEnd=function(t){this.clearTimeout()},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(e-this.touchStartX>Uv||n-this.touchStartY>Uv)&&this.clearTimeout()},r.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,a=t.y;this.touchStartTime=eo.now(),this.touchStartX=n,this.touchStartY=a,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:a,event:t})},F2)},r.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},r}(cl),N2=100,G2=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=this.speedX,n=this.speedY;if(eo.now()-this.latestMoveTime<N2){var a=t.x,o=t.y;this.emit({x:a,y:o,speedX:e,speedY:n,event:t})}},r.prototype.onTouchMove=function(t){var e=t.x,n=t.y,a=eo.now(),o=e-this.preX,s=n-this.preY,l=a-this.ms;this.speedX=o/l,this.speedY=s/l,this.latestMoveTime=a},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=eo.now()},r}(cl),Y2=300,Zv=2,z2=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.EVENT="tap",t}return r.prototype.onTouchCancel=function(t){},r.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<Zv&&n-this.touchStartY<Zv&&eo.now()-this.touchStartTime<Y2&&this.emit({x:e,y:n,event:t})},r.prototype.onTouchMove=function(t){},r.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=eo.now(),this.touchStartX=e,this.touchStartY=n},r}(cl),X2={Pan:D2,Press:R2,Swipe:G2,Tap:z2},V2=function(i){return X2[i]},Kv=function(i){(0,Rt.__extends)(r,i);function r(t,e){e===void 0&&(e={});var n=i.call(this)||this;return n.onTouchStart=function(a){n.preventEvent(a),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",a),n.doGestures(a)},n.onTouchMove=function(a){n.preventEvent(a),n.emit("touchmove",a),n.doGestures(a)},n.onTouchEnd=function(a){n.preventEvent(a),n.emit("touchend",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.onTouchCancel=function(a){n.preventEvent(a),n.emit("touchcancel",a),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(a)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}return r.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},r.prototype.initialGestures=function(){var t=this,e=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=e.map(function(n){var a=V2(n);return new a(t)})},r.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},r.prototype.preventEvent=function(t){var e=t.type,n=this.options.prevents||[];n.includes(e)&&t.preventDefault()},r.prototype.doGestures=function(t){this.gestures.forEach(function(e){e.do(t)})},r}(pe.default),H2=d(68716),W2=H2.yD,j2=800,U2="swipe",Z2="pan",$v="wheel",K2=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.rafMs=0,e.onPan=function(n){var a=n.deltaX,o=n.deltaY,s=e.getWrapperEvent(n,a,o);e.emit($v,s)},e.onSwipe=function(n){var a=n.speedX,o=n.speedY;e.rafMs=eo.now(),e.ms=e.rafMs,(a!==0||o!==0)&&e.rafInertia(n)},e.element=t,e.gm=new Kv(t,{gestures:["Pan","Swipe"]}),e.gm.on(U2,e.onSwipe),e.gm.on(Z2,e.onPan),e}return r.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},r.prototype.rafInertia=function(t){var e=this,n=t.speedX,a=t.speedY;this.raf=window.requestAnimationFrame(function(){var o=eo.now(),s=(o-e.ms)/j2;if(s<1){s=W2(1-s);var l=o-e.rafMs,u=n*s*l,h=a*s*l,c=e.getWrapperEvent(t,u,h);e.emit($v,c),e.rafMs=o,e.rafInertia(t)}})},r.prototype.getWrapperEvent=function(t,e,n){return(0,Rt.__assign)((0,Rt.__assign)({},t),{deltaX:-e,deltaY:-n})},r}(pe.default),nn=d(29583),Qv=d(64815),$2=d(6750),EG=d(61058),Q2=d(31882),ro=d(27978),AG=d(38700),J2=d(88373),wo=d(55225);jr("gesture",z.Z);var Zi="origin",bs="_origin",Jv=1e3,qv=60*Jv,td=60*qv,vl=24*td,q2=vl*7,tE=vl*30,eE=vl*365,rE={second:{value:Jv,format:"HH:mm:ss"},miniute:{value:qv,format:"HH:mm"},hour:{value:td,format:"HH"},day:{value:vl,format:"YYYY-MM-DD"},week:{value:q2,format:"YYYY-MM-DD"},month:{value:tE,format:"YYYY-MM"},year:{value:eE,format:"YYYY"}},dl=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],nE=[],iE={axis:"axis-label",label:"label",legend:"legend-item"},aE={title:"title",description:"description",breadcrumb:"breadcrumb"},ed=(0,f.deepMix)(si(aE),Tf("Plot",dl)),rd=Tf("Layer",dl),$r=(0,f.deepMix)({},si(iE),Tf("View",dl),oE());function zn(i,r,t){i.view.on(r,function(e){var n={x:e==null?void 0:e.x,y:e==null?void 0:e.y,clientX:e==null?void 0:e.clientX,clientY:e==null?void 0:e.clientY,target:e==null?void 0:e.target,data:(e==null?void 0:e.data)?e.data.data:null,plot:i,canvas:i.canvas,gEvent:e==null?void 0:e.gEvent};t(n)})}function si(i){var r={};return(0,f.each)(i,function(t,e){var n=(0,f.upperFirst)(e),a="on"+n,o=t+":";(0,f.each)(dl,function(s){var l=(0,f.upperFirst)(s),u=""+a+l,h=""+o+s;r[u]=h})}),r}function Tf(i,r){var t={},e="on";return(0,f.each)(r,function(n){var a=(0,f.upperFirst)(n),o=""+e+i+a;t[o]=n}),t}function oE(){var i={},r="on";return(0,f.each)(nE,function(t){var e=(0,f.upperFirst)(t),n=""+r+e;i[n]=t}),i}var sE=d(85800),lE=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.fromBBoxObject=function(t){return new r(t.x,t.y,t.width,t.height)},r}(sE.BBox),Dr=lE,uE=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}return r.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},r.prototype.updateConfig=function(t){this.options=(0,f.deepMix)({},this.options,t),this.processOptions(this.options)},r.prototype.beforeInit=function(){return null},r.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},r.prototype.afterInit=function(){return null},r.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},r.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},r.prototype.destroy=function(){var t=this;this.eachLayer(function(e){e.destroy()}),(0,f.each)(this.eventHandlers,function(e){t.off(e.eventName,e.handler)}),this.container.remove(!0),this.destroyed=!0},r.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},r.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&(t.parent!==this&&(t.parent=this,t.init()),this.layers.push(t))},r.prototype.removeLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e>=0&&this.layers.splice(e,1)},r.prototype.updateBBox=function(t,e){e===void 0&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},a=(0,f.deepMix)({},n,t);this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(o){o.updateBBoxByParent(),o.render()}),this.canvas.draw()},r.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},r.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},r.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new Dr(t.x,t.y,this.width,this.height)},r.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var a={x:0,y:0,width:e,height:n};return(0,f.deepMix)({},a,t)},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(rd);(0,f.each)(t,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=rd[o]||o,l=a;e.on(s,l),e.eventHandlers.push({name:s,handler:l})}})},r.prototype.getLayerBBox=function(){return new Dr(this.x,this.y,this.width,this.height)},r.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,a=this.parent.y,o=(this.x-n)/t,s=(this.y-a)/e,l=(this.x+this.width-n)/t,u=(this.y+this.height-a)/e;return{start:{x:o,y:s},end:{x:l,y:u}}}return{start:{x:0,y:0},end:{x:1,y:1}}},r}(pe.default),pl=uE;function Go(i){return i?!!(i.visible===!0&&typeof i.text=="string"&&i.text.trim()):!1}function nd(i,r){var t=(0,Rt.__spreadArrays)(i);return r.forEach(function(e,n){t.splice(e+n,0,`
`)}),t.join("")}function fE(i){return i.getComponents().filter(function(r){return r.type===nn.COMPONENT_TYPE.AXIS}).map(function(r){return r.component})}function hE(i){return i.getComponents().filter(function(r){return r.type===nn.COMPONENT_TYPE.LEGEND}).map(function(r){return r.component})}function _G(i){var r=i.backgroundGroup.findAll(function(t){if(t.get("name")){var e=t.get("name").split("-");return e[0]==="axis"}});return r}function TG(i){var r=i.foregroundGroup.findAll(function(t){if(t.get("name"))return t.get("name")==="legend-item-group"});return r}function cE(i,r){for(var t=i.length;t>0&&!(r>=i[t-1]);)t-=1;return t}function id(i,r){return!(i.maxY<r.minY||r.maxY<i.minY||i.maxX<r.minX||r.maxX<i.minX)}function PG(){return!!navigator.userAgent.match(/(Mobile)|(Android)|(WebOS)|(iPhone)|(iPad)/)}var vE=function(){function i(r){this.position="top",this.destroyed=!1,(0,f.assign)(this,r),this.init()}return i.prototype.getBBox=function(){var r=this;if(this.shape){var t=this.shape.getBBox();if(this.index===0)return Dr.fromBBoxObject(t);var e=this.plot.theme.description.padding;return(0,f.isArray)(e)&&(0,f.each)(e,function(n,a){typeof e[a]=="function"&&(e[a]=e[a](r.plot.options.legend.position))}),new Dr(t.maxX,t.minY,t.width,t.height)}return null},i.prototype.clear=function(){this.shape&&this.shape.attr("text","")},i.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},i.prototype.init=function(){var r=this.textWrapper(),t=this.getPosition(),e=t.x,n=t.y;this.shape=this.container.addShape("text",{attrs:(0,f.mix)({x:e,y:n,text:r},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},i.prototype.getPosition=function(){return this.alignTo==="left"?{x:this.leftMargin,y:this.topMargin}:this.alignTo==="middle"?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},i.prototype.getTextAlign=function(){return this.alignTo==="left"?"left":this.alignTo==="middle"?"center":"right"},i.prototype.textWrapper=function(){var r=this.wrapperWidth,t=this.style,e=this.text,n=this.container.addShape("text",{attrs:(0,Rt.__assign)({text:"",x:0,y:0},t)}),a=e.split(`
`),o=a.map(function(s){for(var l="",u=s.split(""),h=[],c=0;c<u.length;c++){var v=u[c];n.attr("text",l+=v);var g=n.getBBox().width-1;if(g>r){if(c===0)break;h.push(c),l=""}}return nd(u,h)});return n.remove(),o.join(`
`)},i}(),gl=vE,dE=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}return r.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},r.prototype.getGroup=function(){return this.group},r.prototype.getConfig=function(){return this.config},r.prototype.getBBox=function(){return this.getGroup().getBBox()},r.prototype.clear=function(){this.group.clear()},r.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},r.prototype.update=function(t){this.config=(0,Rt.__assign)((0,Rt.__assign)({},this.config),t),this.initConfig(this.config)},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},r.prototype.initGroup=function(){this.group=this.container.addGroup()},r.prototype.getCanvas=function(){return this.container.get("canvas")},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.initConfig=function(t){},r}(pe.default),ws=dE,pE=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}return r.prototype.getGeometry=function(){return this.geometry},r.prototype.getLabels=function(){return this.labels},r.prototype.show=function(){this.container.show()},r.prototype.hide=function(){this.container.hide()},r.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=(0,f.deepMix)(this.getDefaultOptions(),t.label);var a=function(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()};n.on(nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){n.off(nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)})},r.prototype.renderInner=function(t){var e=this;this.labels=[],this.labelsCfgMap={},(0,f.each)(this.geometry.elements,function(s,l){var u=[].concat(e.drawLabelItem(t,s,l));(0,f.each)(u,function(h,c){e.adjustLabel(h,s,c),h.destroyed||(e.labels.push(h),e.labelsCfgMap[h.get("id")]=(0,f.clone)(h.attrs))})}),this.layoutLabels(this.geometry,this.labels);var n=this.lastLabelsCfgMap,a=this.labelsCfgMap,o=this.geometry.animateOption?(0,ro.getDefaultAnimateCfg)("label",this.coord):!1;(0,f.each)(a,function(s,l){var u=t.findById(l);if(u)if(n[l]){var h=n[l],c=(0,f.get)(o,"update");c&&(u.stopAnimate(),u.attr(h),(0,ro.doAnimate)(u,c,{toAttrs:(0,Rt.__assign)({},s),coordinate:e.coord}))}else{var v=(0,f.get)(o,"appear");v&&(u.stopAnimate(),(0,ro.doAnimate)(u,v,{toAttrs:(0,Rt.__assign)({},u.attr()),coordinate:e.coord}))}delete n[l]}),(0,f.each)(n,function(s,l){var u=(0,f.get)(o,"leave");if(u){var h=t.addShape("text",{attrs:s,id:l,name:"label"});h.stopAnimate(),(0,ro.doAnimate)(h,u,{toAttrs:null,coordinate:e.coord})}}),this.lastLabelsCfgMap=this.labelsCfgMap},r.prototype.drawLabelText=function(t,e,n){return n===void 0&&(n={}),t.addShape("text",(0,Rt.__assign)({attrs:e},n))},r.prototype.drawLabelItem=function(t,e,n){var a=this,o=e.getModel(),s=[].concat(this.getLabelItemAttrs(e,n)),l=this.getDefaultOffset(),u=this.getLabelOffset();return(0,f.map)(s,function(h,c){var v,g={x:h.x+u.x,y:h.y+u.y},A=(0,f.isArray)(o.mappingData)?o.mappingData[c]:o.mappingData,k=a.getLabelId(A);return a.drawLabelText(t,(0,Rt.__assign)((0,Rt.__assign)({},h),g),(v={id:k,name:"label",offset:l,element:e},v[Zi]=A,v))})},r.prototype.getDefaultOffset=function(){return Number(this.options.offset)},r.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:(0,f.isNumber)(e)?e:0,y:(0,f.isNumber)(n)?n:0}},r.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,a=n.offsetX,o=n.offsetY,s=this.getDefaultOffset(),l={x:0,y:0};return l[t]=s*e,(0,f.isNumber)(a)&&(l.x+=a),(0,f.isNumber)(o)&&(l.y+=o),l},r.prototype.getDefaultOptions=function(){return{}},r.prototype.layoutLabels=function(t,e){},r.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,a=this.geometry.getXScale(),o=this.geometry.getYScale(),s=this.geometry.getElementId(t);return n==="line"||n==="area"?s+=" "+e[a.field]:n==="path"&&(s+=" "+e[a.field]+"-"+e[o.field]),s},r.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new Dr(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},r}(ws),Pf=pE,ad={};function Ri(i,r){ad[i]=r}function gE(i){return ad[i]}var Lf=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return function(t,e,n){return i.reduce(function(a,o){return o(a,e,n)},t)}},Of=function(){return function(i){return i}},od=function(i){return function(r){var t=Number(r);return isNaN(t)||(0,f.isNil)(i)?r:t.toFixed(i)}},sd=function(i){return function(r){return(0,f.isNil)(i)?r:r+" "+i}};function If(i,r,t){i[t]&&(r[t]=i[t])}var yE=function(){function i(r){this.config=!1,this.plot=r.plot,this.dim=r.dim,this.init()}return i.prototype.init=function(){this.config=!1;var r=this.plot.getPlotTheme();this.themeConfig=r&&r.axis&&r.axis[this.dim],this._needDraw()&&this._styleParser()},i.prototype._styleParser=function(){this.config=(0,Rt.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,If(this.localProps,this.config,"autoHideLabel"),If(this.localProps,this.config,"autoRotateLabel"),If(this.localProps,this.config,"autoRotateTitle")},i.prototype._needDraw=function(){var r=this.plot.options,t=r[this.dim+"Axis"]?r[this.dim+"Axis"]:{},e=(0,f.deepMix)({},this.themeConfig,t);return this.localProps=e,!!e.visible},i.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},i.prototype._gridParser=function(){var r=this,t,e,n,a,o,s=(e=(t=this.localProps.grid)===null||t===void 0?void 0:t.line)===null||e===void 0?void 0:e.style,l=(a=(n=this.localProps.grid)===null||n===void 0?void 0:n.line)===null||a===void 0?void 0:a.type,u=(o=this.localProps.grid)===null||o===void 0?void 0:o.alternateColor;(0,f.isFunction)(s)?this.config.grid=function(h,c,v){var g=s(h,c,v);return{line:{type:l,style:(0,f.deepMix)({},(0,f.get)(r.themeConfig,"grid.line.style"),g)},alternateColor:u}}:s&&(this.config.grid={line:{type:l,style:s},alternateColor:u},this.applyThemeConfig("grid"))},i.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},i.prototype._labelParser=function(){var r=this.localProps.label,t=r.style,e=(0,Rt.__rest)(r,["style"]),n=(0,Rt.__assign)({},e);t&&(n.style=(0,Rt.__assign)({},this.localProps.label.style)),n.style=(0,f.deepMix)({},(0,f.get)(this.themeConfig,"label.style"),n.style);var a=this.parseFormatter(n);n.formatter=a,this.config.label=n},i.prototype._titleParser=function(){var r=(0,Rt.__assign)({},this.localProps.title),t=this.localProps.title,e=t.visible,n=t.style,a=t.text;e?(this.config.showTitle=!0,n&&(r.style=n),r.style=(0,f.deepMix)({},(0,f.get)(this.config,"title.style"),r.textStyle),a&&(r.text=a)):this.config.showTitle=!1,this.config.title=r},i.prototype._isVisible=function(r){return!!(this.localProps[r]&&this.localProps[r].visible)},i.prototype.applyThemeConfig=function(r){this.config[r]=(0,f.deepMix)({},(0,f.get)(this.themeConfig,r+".style"),this.config[r])},i.prototype.parseFormatter=function(r){var t=Lf(Of(),od(r.precision),sd(r.suffix));return r.formatter&&(t=Lf(t,r.formatter)),t},i}(),mE=yE;function yl(i){var r=0;return each(i,function(t){r+=t*t}),Math.sqrt(r)}function kf(i,r){return i.x*r.y+i.y*r.x}function LG(i,r){var t=yl(i),e=yl(r),n=kf(i,r),a=Math.acos(n/t/e);return a}function OG(i,r){var t=yl(i),e=yl(r),n=kf(i,r),a=Math.acos(n/t/e);return t*e*Math.sin(a)}function IG(i,r){var t=i.x,e=i.y,n=i.z,a=r.x,o=r.y,s=r.z,l=e*s-n*o,u=n*a-t*s,h=t*o-e*a;return{x:l,y:u,z:h}}function kG(i,r){return{x:i.x-r.x,y:i.y-r.y}}function ml(i,r,t){t===void 0&&(t=1);var e=[i.x,i.y,t];return zc.transformMat3(e,e,r),{x:e[0],y:e[1]}}function ld(i,r,t){return i>=r&&i<=t}var xE=.001;function BG(i,r,t,e){var n={x:t.x-i.x,y:t.y-i.y},a={x:r.x-i.x,y:r.y-i.y},o={x:e.x-t.x,y:e.y-t.y},s=a.x*o.y-a.y*o.x,l=s*s,u=a.x*a.x+a.y*a.y,h=o.x*o.x+o.y*o.y,c=null;if(l>xE*u*h){var v=(n.x*o.y-n.y*o.x)/s,g=(n.x*a.y-n.y*a.x)/s;ld(v,0,1)&&ld(g,0,1)&&(c={x:i.x+v*a.x,y:i.y+v*a.y})}return c}function bE(i,r){for(var t=!1,e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=o>i.y!=l>i.y&&i.x<=(s-a)*(i.y-o)/(l-o)+a;u&&(t=!t)}return t}function xl(i){return i*i}function bl(i,r){return Math.sqrt(xl(i.x-r.x)+xl(i.y-r.y))}function ud(i,r){return Math.sqrt(xl(i.x-r.x)+xl(i.y-r.y))}function fd(i,r,t){var e=bl(r,t);if(e===0)return bl(i,r);var n=((i.x-r.x)*(t.x-r.x)+(i.y-r.y)*(t.y-r.y))/e;n=Math.max(0,Math.min(1,n));var a=bl(i,{x:r.x+n*(t.x-r.x),y:r.y+n*(t.y-r.y)});return Math.sqrt(a)}function hd(i,r){var t=Infinity;(0,f.each)(r,function(h){var c=Math.sqrt(bl(h,i));t>c&&(t=c)});for(var e=0,n=r.length-1;e<r.length;n=e++){var a=r[e].x,o=r[e].y,s=r[n].x,l=r[n].y,u=fd(i,{x:a,y:o},{x:s,y:l});t>u&&(t=u)}return t}function wE(i,r){for(var t=0,e=i;t<e.length;t++){var n=e[t],a=bE(n,r);if(a)return!0}return!1}function cd(i,r){if(wE(i,r))return 0;var t=Infinity,e=Infinity;return(0,f.each)(i,function(n){var a=hd(n,r);t>a&&(t=a)}),(0,f.each)(r,function(n){var a=hd(n,i);e>a&&(e=a)}),Math.min(t,e)}function SE(i){var r=i.getBBox(),t=r.minX,e=r.minY,n=r.maxX-r.minX,a=r.maxY-r.minY,o=i.attr("matrix"),s;o?s=[o[0],o[1],0,o[3],o[4],0,0,0,1]:s=[1,0,0,0,1,0,0,0,1];var l=ml({x:0,y:0},s);l.x+=t,l.y+=e;var u=ml({x:n,y:0},s);u.x+=t,u.y+=e;var h=ml({x:0,y:a},s);h.x+=t,h.y+=e;var c=ml({x:n,y:a},s);c.x+=t,c.y+=e;var v=[l,u,h,c];v.sort(function(Qt,Vt){return Qt.y-Vt.y});var g=v[0].y,A=v[v.length-1].y,k=[v[0],v[1]],F=[v[2],v[3]],Y=k[0].x<k[1].x?k[0]:k[1],N=k[0].x<k[1].x?k[1]:k[0],st=F[0].x<F[1].x?F[0]:F[1],lt=F[0].x<F[1].x?F[1]:F[0];v.sort(function(Qt,Vt){return Qt.x-Vt.x});var At=v[0].x,zt=v[v.length-1].x,Wt={width:zt-At,height:A-g,left:At,right:zt,top:g,bottom:A,topLeft:Y,topRight:N,bottomLeft:st,bottomRight:lt,centerX:At+(zt-At)/2,centerY:g+(A-g)/2};return Wt}var CE=2;function Bf(i){return i.length<5?i:Df(i,CE)}function Df(i,r){for(var t,e=-Infinity,n=0,a=i.length-1,o=1;o<a;o++){var s=i[o],l={start:i[0],end:i[a]},u=fd(s,l.start,l.end);u>e&&(e=u,n=o)}if(e>r){var h=Df(i.slice(0,n+1),r),c=Df(i.slice(n,i.length),r);t=h.concat(c)}else t=[i[0],i[i.length-1]];return t}function vd(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2?r[t]:(r[t-1]+r[t])/2}function ME(i){var r=0;return(0,f.each)(i,function(t){r+=t}),r/i.length}function dd(i){return Math.ceil(Math.log(i.length)/Math.LN2)+1}function EE(i,r,t,e,n){n===void 0&&(n=2);for(var a=[],o=i;o<=i+t;o+=n)a.push([o,r]);for(var s=r;s<=r+e;s+=n)a.push([i+t,s]);for(var o=i+t;o>=i;o-=n)a.push([o,r+e]);for(var s=r+e;s>=r;s-=n)a.push([i,s]);return a}var AE=function(){function i(r){(0,f.assign)(this,r),this._init()}return i.prototype._init=function(){var r=this.plot.options,t=r.yField,e=r.data,n=this.plot.processData(e);if(!((0,f.isEmpty)(n)||!(0,f.isNumber)(n[0][t]))){var a=this.getDefaultStyle(),o={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end};if(o.style=(0,f.deepMix)({},a.line.style,this.cfg.lineStyle),o.text=(0,f.deepMix)({},a.text,this.cfg.text),this.cfg.type){var s=this._getState(this.cfg.type),l=this.getYScale(),u=(1-l.scale(s))*100+"%",h=["0%",u],c=["100%",u];this.config=(0,f.mix)({start:h,end:c},o)}else{var v=this.cfg,g=v.start,A=v.end;this.config=(0,f.clone)(o);var k=this.getXScale(),F=this.getYScale(),Y=(0,f.clone)(g),N=(0,f.clone)(A);(0,f.each)(g,function(st,lt){(!(0,f.contains)((0,f.toArray)(g[lt]),"%")||(0,f.isNumber)(g[lt]))&&(lt===0?Y[lt]=k.scale(g[0])*100+"%":Y[lt]=(1-F.scale(g[1]))*100+"%")}),(0,f.each)(A,function(st,lt){(!(0,f.contains)((0,f.toArray)(A[lt]),"%")||(0,f.isNumber)(A[lt]))&&(lt===0?N[lt]=k.scale(A[0])*100+"%":N[lt]=(1-F.scale(A[1]))*100+"%")}),this.config.start=Y,this.config.end=N}}},i.prototype.getYScale=function(){var r=this._getState("min"),t=this._getState("max"),e=(0,Er.getScale)("linear"),n=new e((0,f.mix)({},{min:this.plot.type==="column"?0:r,max:t,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]));return n},i.prototype.getXScale=function(){var r=this.extractXValue();if((0,f.isString)(r[0])){var t=(0,Er.getScale)("cat"),e=new t((0,f.mix)({},{values:r},this.plot.config.scales[this.plot.options.xField]));return e}else{var n=Math.min.apply(Math,r),a=Math.max.apply(Math,r),t=(0,Er.getScale)("linear"),e=new t((0,f.mix)({},{min:n,max:a,nice:!0,values:r},this.plot.config.scales[this.plot.options.xField]));return e}},i.prototype._getState=function(r){if(this.values=this._extractValues(),r==="median")return vd(this.values);if(r==="mean")return ME(this.values);if(r==="max")return Math.max.apply(Math,this.values);if(r==="min")return Math.min.apply(Math,this.values)},i.prototype._extractValues=function(){var r=this.plot.options,t=r.yField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.extractXValue=function(){var r=this.plot.options,t=r.xField,e=[],n=this.plot.processData(r.data);return(0,f.each)(n,function(a){(0,f.isArray)(a[t])?e.push.apply(e,a[t]):e.push(a[t])}),e},i.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},i.prototype.getDefaultTextAlign=function(){var r=this.cfg.text;if(r){if(!r.position||r.position==="start")return"left";if(r.position==="center")return"center";if(r.position==="end")return"right"}},i}(),_E=AE,TE=function(){function i(r){this.config={};var t=r.plot,e=(0,Rt.__rest)(r,["plot"]);this.plot=t,this.originConfig=e,this.init(r)}return i.prototype.getConfig=function(){return this.config},i.prototype.init=function(r){var t=this;(0,f.assign)(this.config,r),this.config.callback=function(e){return t.parseCallBack(e)}},i.prototype.parseCallBack=function(r){var t=this.originConfig,e=this.plot.getPlotTheme(),n=(0,Rt.__assign)({},t);return this.parseOffset(t,n),t.position&&((0,f.isFunction)(t.position)?n.position=t.position(r):n.position=t.position),this.parseFormatter(n),t.style&&((0,f.isFunction)(t.style)?n.textStyle=t.style(r):n.textStyle=t.style),n.textStyle=(0,f.deepMix)({},(0,f.get)(e,"label.style"),n.textStyle),t.autoRotate&&(n.autoRotate=t.autoRotate),n},i.prototype.parseOffset=function(r,t){var e=["offset","offsetX","offsetY"],n=0;(0,f.each)(e,function(a){(0,f.has)(r,a)&&(t[a]=r[a],n++)}),n===0&&(0,f.get)(r,"position")==="middle"&&(t.offset=0)},i.prototype.parseFormatter=function(r){var t=this.originConfig;r.content=function(e,n){var a=e[t.fields[0]];return Lf(Of(),od(t.precision),sd(t.suffix),t.formatter?t.formatter:Of())(a,e,n)}},i}(),PE=TE,So,Ff;function pd(i,r){So||gd(i),(0,f.each)(So,function(t){var e=yd(t,r),n=e.labelData,a=e.con;if(md(n,a)){var o=kE();t.shape.attr(o)}})}function LE(i,r){So||gd(i),(0,f.each)(So,function(t,e){var n=yd(t,r),a=n.labelData,o=n.con;if(md(a,o)){var s=Ff[e],l=IE(s);t.shape.attr(l)}})}function gd(i){var r;So=[],Ff=[];var t=(r=i.view.getController("axis"))===null||r===void 0?void 0:r.getComponents();(0,f.each)(t,function(e){var n=e.component,a=[],o=OE(i,n),s=n.get("labelRenderer").get("group").get("children");if((0,f.each)(s,function(h){h.type==="text"&&(a.push({shape:h}),Ff.push(h.attr()))}),o){var l=o.ticks,u=o.field;(0,f.each)(a,function(h,c){h.value=l[c],h.scaleField=u,h.type=o.type})}So.push.apply(So,a)})}function OE(i,r){var t=i.options,e="y",n=r.get("position");(n==="bottom"||n==="top")&&(e="x");var a=t[e+"Field"];return i.view.get("scales")[a]}function yd(i,r){var t,e=(t={},t[i.scaleField]=i.value,t),n=(0,f.clone)(r);return i.type==="time"&&(0,f.isObject)(r)&&!(0,f.isFunction)(n.exp)&&(n.exp=new Date(n.exp).getTime()),{labelData:e,con:n}}function IE(i){var r=i.opacity||1;return{opacity:r*.2}}function kE(){return{opacity:1,fontWeight:600,fill:"red"}}function md(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return i[t]?(0,f.isFunction)(e)?e(i[t]):i[t]===e:!1}return r(i)}var BE={active:pd,selected:pd,disable:LE},DE=function(i){(0,Rt.__extends)(r,i);function r(){var t=i.call(this)||this;return t._states={},t._stateStack={},t}return r.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},r.prototype.getState=function(t){return this._states[t]},r.prototype.getAllStates=function(){return this._states},r.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},r.prototype._onUpdate=function(){var t=this,e=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){(0,f.each)(e,function(n,a){var o=e[a];(!t._states[a]||t._states[a]!==n)&&(t._states[a]=n,t._triggerEvent(a,o))}),t._stateStack={}},16)},r.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},r}(pe.default),FE=DE;function Xa(i,r){if(!(0,f.isFunction)(r)){var t=r.name,e=r.exp;return(0,f.isFunction)(e)?e(i[t]):i[t]===e}return r(i)}var RE=function(){function i(r){this.shapeContainers=[],(0,f.assign)(this,r)}return i.prototype.createStateManager=function(){this.stateManager=new FE},i.prototype.bindStateManager=function(r,t){this.stateManager=r,t.setState&&this._updateStateProcess(t.setState),t.onStateChange&&this._stateChangeProcess(t.onStateChange)},i.prototype.defaultStates=function(r){var t=this;(0,f.each)(r,function(e,n){var a=e.condition,o=e.related;t.setState({type:n,condition:a,related:o})})},i.prototype.setState=function(r){var t=this,e=r.type,n=r.condition,a=r.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),(0,f.each)(this.shapes,function(o,s){var l=o.get("origin").data,u=(0,f.isArray)(l)?l[0]:l;if(Xa(u,n)){var h=r.style?r.style:t._getDefaultStateStyle(e,o),c=t.originAttrs[s],v=void 0;(0,f.isFunction)(h)?v=h(c):v=(0,f.mix)({},c,h),o.attr(v),t.setZIndex(e,o)}}),a&&this._parserRelated(e,a,n),this.plot.canvas.draw()},i.prototype._updateStateProcess=function(r){var t=this;(0,f.each)(r,function(e){var n=e.state,a;(0,f.isFunction)(n)?a=function(o){var s=n(o);t.stateManager.setState(s.name,s.exp)}:a=function(){t.stateManager.setState(n.name,n.exp)},e.event?zn(t.plot,t._eventParser(e.event),a):a()})},i.prototype._stateChangeProcess=function(r){var t=this;(0,f.each)(r,function(e){t.stateManager.on(e.name+":change",function(n){e.callback(n,t.plot)})})},i.prototype._getShapes=function(){var r=this,t=[],e=this.plot.view.geometries;return(0,f.each)(e,function(n){var a=n.container;r.shapeContainers.push(a),n.destroyed||t.push.apply(t,n.getShapes())}),t},i.prototype._getOriginAttrs=function(){var r=[];return(0,f.each)(this.shapes,function(t){r.push((0,f.clone)(t.attr()))}),r},i.prototype._eventParser=function(r){var t=r.split(":"),e=this.plot.geometryParser("g2",t[0]),n=t[1];return e+":"+n},i.prototype._getDefaultStateStyle=function(r,t){var e=this.plot.theme,n=this.plot.geometryParser("plot",t.name),a=n+"Style";if(e[a]){var o=e[a][r];return(0,f.isFunction)(o)&&(o=o(t.attr())),o}return{}},i.prototype._parserRelated=function(r,t,e){var n=this;(0,f.each)(t,function(a){if(n.plot[a]){var o=KE(a,r);o(n.plot,e)}})},i.prototype.setZIndex=function(r,t){if(r==="active"||r==="selected"){var e=t.get("parent").get("children");e[e.length-1].setZIndex(0),t.setZIndex(1)}},i.prototype.resetZIndex=function(){(0,f.each)(this.shapeContainers,function(r){var t=r.get("children");t.sort(function(e,n){return e._INDEX-n._INDEX})})},i}(),NE=RE,Yo,wl;function xd(i,r){Yo||bd(i),(0,f.each)(Yo,function(t,e){var n=t.get("origin");if(Xa(n,r)){var a=wl[e],o=(0,f.mix)({},a,{opacity:1});t.attr(o)}})}function GE(i,r){Yo||bd(i),(0,f.each)(Yo,function(t,e){var n=t.get("origin");if(Xa(n,r)){var a=wl[e],o=YE(a);t.attr(o)}})}function bd(i){Yo=[],wl=[];var r=i.view.get("elements");(0,f.each)(r,function(t){var e=t.get("labels");e&&(0,f.each)(e,function(n){Yo.push(n),wl.push(n.attr())})})}function YE(i){var r=i.opacity||1;return{opacity:r*.2}}var zE={active:xd,selected:xd,disable:GE},XE=["xField","yField","angleField"];function wd(i,r){var t=i.options;if(HE(t,r)){var e=t.data;(0,f.each)(e,function(n){if(Xa(n,r)){var a=i.view.getXY(n);i.view.on("tooltip:create",function(o){Sd(r,o,!1)}),i.view.showTooltip(a)}})}}function VE(i,r){i.view.on("tooltip:change",function(t){Sd(r,t,!0)})}function Sd(i,r,t){var e=!t,n=(0,f.clone)(r.items);r.items.splice(0),(0,f.each)(n,function(a){var o=a.point._origin;Xa(o,i)===e&&r.items.push(a)})}function HE(i,r){var t=WE(i);return!(0,f.isFunction)(r)&&t.indexOf(r.name)}function WE(i){var r=[];return(0,f.each)(XE,function(t){(0,f.has)(i,t)&&r.push(t)}),r}var jE={active:wd,selected:wd,disable:VE},UE={axis:mE,label:PE,guideLine:_E},ZE={tooltip:jE,label:zE,axis:BE};function gi(i,r){var t=UE[i];return new t(r).config}function KE(i,r){return ZE[i][r]}var $E=["start","process","end","reset"],QE=function(){function i(r){var t=this.getDefaultCfg();(0,f.assign)(this,t,r),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}return i.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},i.prototype._start=function(r){this.preStart(r),this.start(r),this.afterStart(r)},i.prototype.preStart=function(r){},i.prototype.afterStart=function(r){},i.prototype._process=function(r){this.preProcess(r),this.process(r),this.afterProcess(r)},i.prototype.preProcess=function(r){},i.prototype.process=function(r){},i.prototype.afterProcess=function(r){},i.prototype._end=function(r){this.preEnd(r),this.end(r),this.afterEnd(r)},i.prototype.preEnd=function(r){},i.prototype.end=function(r){},i.prototype.afterEnd=function(r){},i.prototype._reset=function(r){this.preReset(r),this.reset(r),this.afterReset(r)},i.prototype.preReset=function(r){},i.prototype.reset=function(r){},i.prototype.afterReset=function(r){},i.prototype._bindEvents=function(){var r=this;(0,f.each)($E,function(t){var e=r[t+"Event"],n=(0,f.wrapBehavior)(r,"_"+t);r.view.on(e,n),r._eventHandlers.push({type:e,handler:n})})},i.prototype._unbindEvents=function(){var r=this,t=this._eventHandlers;(0,f.each)(t,function(e){r.view.off(e.type,e.handler)})},i.prototype.destroy=function(){this._unbindEvents(),this._reset()},i}(),Rf=QE,JE=function(i){(0,Rt.__extends)(r,i);function r(t,e,n,a){var o=i.call(this,t)||this;return o.viewLayer=e,o.interactionRange=n,o.interactionConfig=a,o.disposables=[],o}return r.registerInteraction=function(t,e){r.GLOBAL_INTERACTION_MAP[t]=e},r.registerPlotInteraction=function(t,e,n){r.PLOT_INTERACTION_MAP[t]||(r.PLOT_INTERACTION_MAP[t]={}),r.PLOT_INTERACTION_MAP[t][e]=n},r.getInteraction=function(t,e){return e&&r.PLOT_INTERACTION_MAP[e]&&r[e][t]?r.PLOT_INTERACTION_MAP[e][t]:r.GLOBAL_INTERACTION_MAP[t]},r.getInteractionRange=function(t,e){},r.prototype.destroy=function(){(0,f.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),i.prototype.destroy.call(this)},r.prototype.getViewLayer=function(){return this.viewLayer},r.prototype.getRange=function(){return this.interactionRange},r.prototype.getInteractionConfig=function(){return this.interactionConfig},r.prototype.addDisposable=function(t){this.disposables.push(t)},r.prototype.render=function(){},r.prototype.start=function(t){},r.GLOBAL_INTERACTION_MAP={},r.PLOT_INTERACTION_MAP={},r}(Rf),da=JE,Cd=function(i,r,t,e,n){var a=e[0],o=e[1];n===void 0&&(n=!1);var s=(0,f.groupBy)(t,i),l=n?r.slice(r.length-o,r.length-a):r.slice(a,o);return(0,f.flatten)((0,f.map)(l,function(u){return s[u]||[]}))},Ma;(function(i){i.BEFORE_INIT="beforeinit",i.AFTER_INIT="afterinit",i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata"})(Ma||(Ma={}));var Sl=4,Md=8,qE=32,tA=20,eA=999,Cl=function(i){i===void 0&&(i={});var r=(0,Rt.__assign)({type:"horizontal",categorySize:qE,width:Md,height:Md,padding:[0,0,0,0]},i);return i.padding||(r.padding=r.type==="horizontal"?[Sl,0,Sl,0]:[0,Sl,0,Sl]),r},rA=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Cl(e),a=n.padding,o=a[0],s=a[1],l=a[2],u=a[3];return n.type==="horizontal"?new Dr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l):new Dr(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;var a=function(){var s=t.view.padding;s==="auto"||(0,f.isEqual)(s,[0,0,0,1])||(t.trackLen?t.renderScrollbar():(t.measureScrollBar(),t.changeViewData(t.getScrollRange(),!0)))},o=function(){t.trackLen=0};n.on(nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a),this.addDisposable(function(){return n.off(nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,a)}),n.on(nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a),this.addDisposable(function(){return n.off(nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,a)}),e.on(Ma.BEFORE_CHANGE_DATA,o),this.addDisposable(function(){return e.off(Ma.BEFORE_CHANGE_DATA,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},r.prototype.renderScrollbar=function(){var t=Cl(this.getInteractionConfig()),e=this.getRange(),n=t.type!=="vertical",a=this.view.coordinateBBox,o=t.padding,s=o[0],l=o[3],u=n?{x:a.minX+l,y:e.minY+s}:{x:e.minX+l,y:a.minY+s};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:u.x,y:u.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new Hr.Scrollbar({container:this.container,x:u.x,y:u.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",eA),this.scrollbar.on("scrollchange",this.onChangeFn))},r.prototype.measureScrollBar=function(){var t=Cl(this.getInteractionConfig()),e=t.padding,n=e[0],a=e[1],o=e[2],s=e[3],l=t.type!=="vertical",u=this.view.coordinateBBox,h=this.view.getXScale(),c=this.view.getYScales().filter(function(v){return v});this.cnt=h.values.length,this.xScaleCfg={field:h.field,values:h.values||[]},this.yScalesCfg=c,this.step=Math.floor((l?u.width:u.height)/t.categorySize),this.trackLen=l?u.width-s-a:u.height-n-o,this.thumbLen=Math.max(this.trackLen*(0,f.clamp)(this.step/h.values.length,0,1),tA)},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,f.clamp)(this.ratio,0,1)),e=Math.min(t+this.step,this.cnt);return[t,e]},r.prototype.changeViewData=function(t,e){var n=this,a=t[0],o=t[1],s=Cl(this.getInteractionConfig()),l=this.getViewLayer(),u=l.options.meta,h=l.getData(),c=Cd(this.xScaleCfg.field,this.xScaleCfg.values,h,[a,o],s.type==="vertical");this.yScalesCfg.forEach(function(v){var g=(0,f.get)(u,v.field)||{};n.view.scale(v.field,(0,Rt.__assign)((0,Rt.__assign)({formatter:v.formatter},g),{type:v.type,min:v.min,max:v.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},r.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var a=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(a),this.renderScrollbar()},r}(da),nA=rA,Ml=4,Ed=16,Nf=function(i){i===void 0&&(i={});var r=(0,Rt.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},i);i.padding||(r.padding=r.type==="horizontal"?[Ml,0,Ml,0]:[0,Ml,0,Ml]),i.height||(r.height=Ed),i.width||(r.width=Ed);var t=(0,f.clamp)(Math.min(r.start,r.end),0,1),e=(0,f.clamp)(Math.max(r.start,r.end),0,1);return r.start=t,r.end=e,r},iA=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Nf(e),a=n.padding||[0,0,0,0],o=a[0],s=a[1],l=a[2],u=a[3];if(n.type==="horizontal"){var h=new Dr(t.minX,t.maxY-n.height-o-l,t.width,n.height+o+l);return h}else return new Dr(t.maxX-n.width-u-s,t.minY,n.width+u+s,t.height)},r.prototype.render=function(){var t=this,e=this.getViewLayer(),n=this.view,a=Nf(this.getInteractionConfig());this.curStart=a.start,this.curEnd=a.end,this.xScaleCfg=void 0;var o=function(){var s=t.view.padding;if(!(s==="auto"||(0,f.isEqual)(s,[0,0,0,1]))&&!(0,f.isEmpty)(e.options.data))if(t.xScaleCfg)t.renderSlider();else{var l=n.getXScale();t.xScaleCfg={field:l.field,values:l.values||[]},n.data(t.getSliderData(t.curStart,t.curEnd)),n.render()}};n.on(nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o),this.addDisposable(function(){return n.off(nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,o)}),n.on(nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o),this.addDisposable(function(){return n.off(nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,o)})},r.prototype.start=function(){},r.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},r.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new Hr.Slider((0,Rt.__assign)((0,Rt.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},r.prototype.getSliderConfig=function(){var t=this.view,e=t.coordinateBBox,n=this.getRange(),a=Nf(this.getInteractionConfig()),o=a||{},s=o.padding,l=s===void 0?[0,0,0,0]:s,u=o.backgroundStyle,h=o.foregroundStyle,c=o.handlerStyle,v=o.textStyle,g=o.trendCfg,A=g===void 0?{}:g,k=l[0],F=l[1],Y=l[2],N=l[3],st=this.getSliderMinMaxText(this.curStart,this.curEnd),lt=st.minText,At=st.maxText,zt={x:e.minX+N,y:n.minY+k,width:e.width-N-F,height:n.height-k-Y,start:this.curStart,end:this.curEnd,minText:lt,maxText:At,backgroundStyle:u,foregroundStyle:h,handlerStyle:c,textStyle:v,trendCfg:(0,Rt.__assign)((0,Rt.__assign)({isArea:!1,smooth:!1},A),{data:this.getSliderTrendData()})};return zt},r.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return(0,f.map)(e,function(a){return a[n]})},r.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),a=(0,f.size)(this.xScaleCfg.values),o=Math.round(t*a),s=Math.max(o+1,Math.round(e*a));return Cd(this.xScaleCfg.field,this.xScaleCfg.values,n,[o,s])},r.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,a=n.data,o=a===void 0?[]:a,s=n.xField,l=(0,f.size)(o),u=Math.round(t*l),h=Math.max(u+1,Math.round(e*l)),c=o.slice(u,h);return{minText:c.length>0?(0,f.head)(c)[s]:"",maxText:c.length>0?(0,f.last)(c)[s]:""}},r.prototype.onChange=function(t){var e=this.view,n=(0,f.clamp)(Math.min(t[0],t[1]),0,1),a=(0,f.clamp)(Math.max(t[0],t[1]),0,1),o=this.getSliderData(n,a),s=this.getSliderMinMaxText(n,a),l=s.minText,u=s.maxText;this.curStart=n,this.curEnd=a,this.slider.update({start:n,end:a,minText:l,maxText:u}),this.slider.render();var h=e.getOptions().animate;e.animate(!1),e.data(o),e.render(),e.animate(h)},r}(da),aA=iA,oA=function(i){(0,Rt.__extends)(r,i);function r(t){return i.call(this,(0,f.deepMix)({},t))||this}return r.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},r.prototype.destroy=function(){this.group.off(),i.prototype.destroy.call(this)},r.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=1/4*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},r.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=1/4*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},r.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},r}(ws),sA=oA,Ad="timelinestart",lA="timelinechange",_d="timelineend",uA="timelineupdate",fA=20,hA=20,cA=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,(0,f.deepMix)({},{speed:1,loop:!1},t))||this;return e.onTimeSelectMouseMove=function(n){n.stopPropagation(),n.preventDefault();var a=(0,f.get)(n,"touches.0.pageX",n.pageX),o=a-e.prevX;e.setTimeSelectX(o),e.prevX=a},e.onTimeSelectMouseUp=function(){e.syncCurrnentTick(),e.emit(_d,null);var n=e.getCanvas().get("container");n&&(n.removeEventListener("mousemove",e.onTimeSelectMouseMove),n.removeEventListener("mouseup",e.onTimeSelectMouseUp),n.removeEventListener("mouseleave",e.onTimeSelectMouseUp),n.removeEventListener("touchmove",e.onTimeSelectMouseMove),n.removeEventListener("touchend",e.onTimeSelectMouseUp),n.removeEventListener("touchcancel",e.onTimeSelectMouseUp))},e.onTimeSelectMouseDown=function(n){var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),e.isPlay===!1?e.emit(Ad,null):(e.isPlay=!1,e.changePlayStatus(!1)),e.prevX=(0,f.get)(a,"touches.0.pageX",a.pageX);var o=e.getCanvas().get("container");o.addEventListener("mousemove",e.onTimeSelectMouseMove),o.addEventListener("mouseup",e.onTimeSelectMouseUp),o.addEventListener("mouseleave",e.onTimeSelectMouseUp),o.addEventListener("touchmove",e.onTimeSelectMouseMove),o.addEventListener("touchend",e.onTimeSelectMouseUp),o.addEventListener("touchcancel",e.onTimeSelectMouseUp)},e}return r.prototype.renderInner=function(t){var e=this.config,n=e.ticks,a=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(a)?a:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},r.prototype.update=function(t){i.prototype.update.call(this,t),this.emit(uA,this.currentTick)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},r.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,a=e.x,o=e.y,s=.8,l=n/2*s;this.timeLineButton?this.timeLineButton.update({x:a+l,y:o+l+n*(1-s)/2,r:l}):(this.timeLineButton=new sA({container:t,x:a+l,y:o+l+n*(1-s)/2,r:l,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},r.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,a=t.width,o=t.height,s=o/2;return a>0?"M"+e+", "+n+("A"+s+","+s+" 90 0,0 "+e+","+(n+o))+("L"+(e+a)+", "+(n+o))+("A"+s+","+s+" 90 0,0 "+(e+a)+","+n)+("L"+e+", "+n):[]},r.prototype.renderTimeLine=function(t){var e=this,n=this.config,a=n.width,o=n.height,s=n.ticks,l=n.x,u=n.y;this.timeLine||(this.timeLine={}),this.timeLine.height=o*.15,this.timeLine.x=l+o+fA,this.timeLine.y=u+(o/2-this.timeLine.height/2),this.timeLine.width=a-this.timeLine.x-hA,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=t.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var h=this.timeLine.width/(s.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(v){v.destroy()});var c=-Infinity;this.timeLine.textList=s.map(function(v,g){e.tickPosList.push(e.timeLine.x+g*h);var A=t.addShape("text",{attrs:{x:e.timeLine.x+g*h,y:e.timeLine.y+e.timeLine.height+5,text:v,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),k=A.getBBox();return k.minX>c?(A.show(),c=k.minX+k.width+10):A.hide(),A})},r.prototype.renderTimeSelect=function(t,e){var n=this.config,a=n.ticks,o=n.height,s=this.timeLine.width/(a.length-1),l=(0,f.findIndex)(a,function(v){return v===e}),u=this.timeLine.x+l*s,h=this.config.y+o/2,c=o*.15;this.timeSelect?(this.timeSelect.attr("x",u),this.timeSelect.attr("y",h),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:u,y:h,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",u),this.timeSelectText.attr("y",h-o*.15-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:u,y:h-o*.15-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},r.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},r.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit(lA,this.currentTick)),this.getCanvas().draw()},r.prototype.syncCurrnentTick=function(){var t=this,e=this.config.ticks,n=this.timeLine.width/(e.length-1),a=(0,f.findIndex)(e,function(s){return s===t.currentTick}),o=this.timeLine.x+a*n;this.timeSelect.attr("x",o),this.timeSelectText.attr("x",o),this.getCanvas().draw()},r.prototype.startPlay=function(){var t=this;return window.requestAnimationFrame(function(){var e=t.config,n=e.speed,a=e.ticks,o=t.timeLine.width,s=o/a.length,l=s/(n*1e3/60);t.setTimeSelectX(l),t.isPlay&&(t.playHandler=t.startPlay())})},r.prototype.changePlayStatus=function(t){t===void 0&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Ad,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(_d,null))),this.getCanvas().draw()},r.prototype.initEvent=function(){var t=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){t.isPlay=!t.isPlay,t.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(e){t.onTimeSelectMouseDown(e)})},r}(ws),vA=cA,dA=40;function Td(i){return(0,Rt.__assign)({loop:!1,auto:!0,height:dA,padding:[0,20,0,0],speed:2},i)}var pA=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onChangeFn=(0,f.throttle)(t.onChange.bind(t),20,{leading:!0}),t}return r.getInteractionRange=function(t,e){var n=Td(e),a=n.padding[0],o=n.padding[2];return new Dr(t.minX,t.maxY-n.height-a-o,t.width,n.height+a+o)},r.prototype.setAnimate=function(t){var e=this.view.geometries;this.view.animate(t),e.forEach(function(n){n.animate(t)})},r.prototype.start=function(){},r.prototype.renderTimeLine=function(){var t=this;this.config=Td(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,a=n.loop,o=n.padding,s=n.speed,l=o[0],u=o[1],h=o[2],c=o[3],v=this.getRange(),g=this.getTicks(),A=e.width-c-u,k={x:e.minX+c,y:v.tl.y+l,width:A,height:v.height-l-h,loop:a,ticks:g,speed:s,defaultCurrentTick:g[0]};this.timeline?(0,f.isEqual)(k,this.timeLineConfig)||(this.timeLineConfig=k,this.timeline.update(k)):(this.container=this.canvas.addGroup(),this.timeline=new vA((0,Rt.__assign)({container:this.container},k)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(g[0])),this.timeLineConfig=k)},r.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},r.prototype.getFilterData=function(t){var e=this.config.field,n=this.getViewLayer().options.data;return n.filter(function(a){return a[e]===t})},r.prototype.getTicks=function(){var t=this.config.field,e=this.getViewLayer().options.data;return(0,f.uniq)(e.map(function(n){return n[t]}))},r.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(nn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(nn.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},r.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},r}(da),gA=pA;function yA(i,r){var t=[1,0,0,0,1,0,0,0,1],e=pn.transform(t,r);i.setMatrix(e)}function zo(i,r){var t=r?(0,f.clone)(r):[1,0,0,0,1,0,0,0,1];return pn.transform(t,i)}function Pd(i,r,t,e){var n=e?(0,f.clone)(e):[1,0,0,0,1,0,0,0,1];n[6]=r,n[7]=t,i.setMatrix(n)}function mA(i,r,t){jv.translate(i,r,t)}function DG(i,r){Util.rotate(i,r)}var xA=document.createElement("canvas"),Ld=xA.getContext("2d"),El=(0,f.memoize)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,n=r.fontWeight,a=r.fontStyle,o=r.fontVariant;return Ld.font=[a,o,n,t+"px",e].join(" "),Ld.measureText((0,f.isString)(i)?i:"").width},function(i,r){return r?(0,Rt.__spreadArrays)([i],(0,f.values)(r)).join(""):i}),Od=function(i,r,t){var e=16,n=El("...",t),a;(0,f.isString)(i)?a=i:a=(0,f.toString)(i);var o=r,s=[],l,u;if(El(i,t)<=r)return i;for(;l=a.substr(0,e),u=El(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(e),!a)return s.join("");for(;l=a.substr(0,1),u=El(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return s.join("")+"..."},kn;(function(i){i.TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",i.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",i.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",i.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",i.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",i.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",i.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",i.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",i.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",i.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",i.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value"})(kn||(kn={}));var Al;(function(i){i.ON_SELECT_ITEM="onSelectItem"})(Al||(Al={}));var no;(function(i){i[i.LARGE=12]="LARGE",i[i.NORMAL=8]="NORMAL",i[i.SMALL=4]="SMALL"})(no||(no={}));var bA=160,wA=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.curX=0,t.curY=0,t.offsetX=0,t.scrollWidth=0,t.onBodyGroupMousemove=function(e){var n=CA(e.target,function(o){return o.get("name")===kn.TOOLTIP_INDICATOR_ITEM_GROUP});if(n){var a=n.get("delegateObject");t.doSelectItem(a.item.id)}},t.onWheel=function(e){var n=t.config.width,a=n===void 0?0:n,o=e.deltaX,s=Math.min(t.scrollWidth-a,0)-(t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2)),l=Math.max(t.scrollWidth-a,0)+t.scrollWidth/2+Math.max(0,(t.scrollWidth-a)/2),u=(0,f.clamp)(t.offsetX+o,s,l);u!==t.offsetX&&(mA(t.bodyGroup,t.offsetX-u,0),t.offsetX=u)},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.selectItem=function(t){this.doSelectItem(t)},r.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},r.prototype.initConfig=function(t){var e,n=t.theme,a=n===void 0?{}:n,o={x:0,y:0,title:{text:"",spacingY:no.NORMAL,style:{}},line:{spacingX:no.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:no.SMALL,style:{}},itemName:{spacingX:no.NORMAL,spacingY:no.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:no.LARGE};this.config=(0,f.deepMix)({},(e=a==null?void 0:a.components)===null||e===void 0?void 0:e.tooltipIndicator,o,t),this.selectedItemId=this.config.selectedItem},r.prototype.renderInner=function(t){var e=this;this.resetRender();var n=this.config,a=n.items,o=n.x,s=n.y,l=[],u=t.addGroup({name:kn.TOOLTIP_INDICATOR_INNER});this.renderTitle(u),this.bodyGroup=u.addGroup({name:kn.TOOLTIP_INDICATOR_BODY}),a==null||a.forEach(function(h,c){l.push(e.renderItem(e.bodyGroup,h,c))}),this.layoutItems(u),Pd(u,o,s),this.applyClip(t),this.bindEvents(u)},r.prototype.renderTitle=function(t){var e=this.config.title;if(e==null?void 0:e.text){var n=t.addShape({type:"text",name:kn.TOOLTIP_INDICATOR_TITLE,attrs:(0,Rt.__assign)({text:e==null?void 0:e.text,textAlign:"left",textBaseline:"top"},(e==null?void 0:e.style)||{})}),a=n.getBBox();return this.curY+=a.height,this.curY+=e.spacingY||0,n}},r.prototype.renderItem=function(t,e,n){var a=this.config.itemBackground,o=t.addGroup({name:kn.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),s=this.curX,l=this.curY,u=o.addShape({name:kn.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:(0,Rt.__assign)({x:this.curX,y:this.curY,width:1,height:1},a.style||{})}),h=this.renderLine(o,e);this.renderItemTitle(o,e),this.renderItemValues(o,e);var c=o.getBBox();return h.attr({y2:h.attr("y1")+c.height}),this.curX=s+c.width,this.curX+=this.config.itemSpacing||0,u.attr({width:this.curX-s-u.attr("lineWidth")*2,height:this.curY-l-u.attr("lineWidth")*2}),this.curY=l,o},r.prototype.renderLine=function(t,e){var n=this.config.line,a=n.width||2,o=(0,Rt.__assign)({x1:this.curX+a/2,y1:this.curY,x2:this.curX+a/2,y2:this.curY,lineWidth:a,stroke:e.color},(n==null?void 0:n.style)||{}),s=t.addShape({name:kn.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:o}),l=s.getBBox();return this.curX+=l.width,this.curX+=n.spacingX||0,s},r.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,a=Od(e.title,bA,n.style||{}),o=t.addShape({name:kn.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:(0,Rt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:a},n.style||{})}),s=o.getBBox();return this.curY+=s.height,this.curY+=n.spacingY||0,o},r.prototype.renderItemValues=function(t,e){var n=this,a,o=t.addGroup({name:kn.TOOLTIP_INDICATOR_ITEM_BODY}),s=this.curX;return(a=e.values)===null||a===void 0||a.forEach(function(l,u){var h=o.addGroup({name:kn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:e,valueIndex:u}});n.curX=s,n.renderItemValueName(h,l),n.renderItemValueValue(h,l)}),this.layoutItemValues(o),o},r.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var a=t.addShape({name:kn.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:(0,Rt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),o=a.getBBox();return e.wrapLine?(this.curY+=o.height,this.curY+=n.spacingY||0):(this.curX+=o.width,this.curX+=n.spacingX||0),a}},r.prototype.renderItemValueValue=function(t,e){var n=this.config,a=n.itemName,o=n.itemValue,s=t.addShape({name:kn.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:(0,Rt.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},o.style||{})}),l=s.getBBox();return this.curY+=l.height,this.curY+=a.spacingY||0,s},r.prototype.layoutItems=function(t){var e=t.findAllByName(kn.TOOLTIP_INDICATOR_BODY)[0],n=t.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_GROUP);if(!(!e||n.length===0)){var a=e.getBBox();this.scrollWidth=a.width}},r.prototype.layoutItemValues=function(t){var e=t.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),n=e.map(function(l){return Dr.fromBBoxObject(l.getBBox())}),a=t.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_VALUE),o=a.map(function(l){return Dr.fromBBoxObject(l.getBBox())}),s=Math.max.apply(Math,o.map(function(l){return l.maxX}));e.forEach(function(l,u){var h=n[u],c=l.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_NAME)[0],v=l.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_VALUE)[0];if(c&&v){var g=Dr.fromBBoxObject(c.getBBox()),A=Dr.fromBBoxObject(v.getBBox());g.height<h.height&&c.attr("y",c.attr("y")+(h.height-g.height)/2),A.height<h.height&&v.attr("y",v.attr("y")+(h.height-A.height)/2),A.maxX<s&&v.attr("x",v.attr("x")+s-A.maxX)}})},r.prototype.applyClip=function(t){var e=this.config,n=e.x,a=e.y,o=e.width,s=e.height,l=t.getBBox();(o||s)&&t.setClip({type:"rect",attrs:{x:n,y:a,width:o||l.width,height:s||l.height}})},r.prototype.doSelectItem=function(t){var e=this,n=this.getGroup(),a=n.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_GROUP);t!==this.selectedItemId?(a.forEach(function(o){var s=o.get("delegateObject");s&&e.applyItemStyle(o,s.item.id===t?"selected":"inactive")}),this.selectedItemId=t):(a.forEach(function(o){e.applyItemStyle(o)}),this.selectedItemId=void 0),this.emit(Al.ON_SELECT_ITEM,this.selectedItemId)},r.prototype.applyItemStyle=function(t,e){var n=this.config,a=n.line,o=n.itemTitle,s=n.itemName,l=n.itemValue,u=t.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_LINE)[0],h=t.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_NAME),v=t.findAllByName(kn.TOOLTIP_INDICATOR_ITEM_VALUE),g=e&&e+"Style";u&&(u.attr(a.style),u.attr(a[g]||{})),h&&(h.attr(o.style),h.attr(o[g]||{})),c.forEach(function(A){A.attr(s.style),A.attr(s[g]||{})}),v.forEach(function(A){A.attr(l.style),A.attr(l[g]||{})})},r.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(kn.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new Kv(n),this.wheel=new K2(n),this.wheel.on("wheel",this.onWheel)},r.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},r.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},r}(ws),SA=wA;function CA(i,r){for(var t=i;t;){if(r(t))return t;t=t.getParent()}}function MA(i,r){return(0,f.filter)(i.geometries,function(t){return t.type===r})}function io(i,r){return(0,f.head)(MA(i,r))}function EA(i){return(0,f.map)(i.elements,function(r){return r.shape})}function FG(i,r){i.geometries.forEach(r)}function Gf(i,r){i.geometries.forEach(function(t){t.elements.forEach(function(e){r(e)})})}function AA(i,r,t){return(0,f.some)(r,function(e){return t(e.get(Zi),i.get(Zi))})}function _l(i,r){var t=i.getBBox(),e=0,n=0;t.minX<r.minX?e=t.minX-r.minX:t.maxX>r.maxX&&(e=t.maxX-r.maxX),e&&i.attr("x",i.attr("x")-e),t.minY<r.minY?n=t.minY-r.minY:t.maxY>r.maxY&&(n=t.maxY-r.maxY),n&&i.attr("y",i.attr("y")-n)}function Yf(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function Tl(i,r){var t=i.getBBox();return(0,f.some)(r,function(e){var n=e.getBBox();return Yf(t,n,2)>0})}var Id=8,kd=function(i){i===void 0&&(i={});var r=(0,Rt.__assign)({showTotal:!1,showPercent:!1,padding:[Id,24,Id,24],height:i.showPercent?72:54},i);return r},Xo;(function(i){i.ACTIVE_ELEMENT="tooltip_indicator_active_element",i.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x"})(Xo||(Xo={}));var _A=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}return r.prototype.active=function(){var t=Q2.getCurrentElement(this.context);t.hasState("selected")?this.isSingle?this.setStateByX(t):this.setState(t):this.setStateByX(t)},r.prototype.setState=function(t){var e=this;Gf(this.getView(),function(n){n===t?n.hasState(e.state)||n.setState(e.state,!0):n.setState(e.state,!1)}),this.isSingle=!0,this.getView().emit(Xo.ACTIVE_ELEMENT,{element:t,isSingle:!0})},r.prototype.setStateByX=function(t){var e=this,n=this.getXField(),a=t.getData()[n];Gf(this.getView(),function(o){o.getData()[n]===a?o.hasState(e.state)||o.setState(e.state,!0):o.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(Xo.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},r.prototype.setStateByField=function(t,e){var n=this,a=this.getView().getXScale().field,o=this.getView().getGroupScales()[0].field;Gf(this.getView(),function(s){var l=s.getData();s.setState(n.state,l[a]===t&&(e===void 0||l[o]===e))})},r.prototype.getView=function(){return this.context.view},r.prototype.getXField=function(){var t=this.context.view;return t.getXScale().field},r}(Ur);Sr("tooltip-indicator",_A),gn("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var TA=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.onElementActive=function(e){var n=e.element,a=e.isSingle,o=t.view.getXScale(),s=t.view.getXScale().field,l=t.view.getGroupScales()[0].field,u=n.getData(),h=u[s],c=t.getLegendItems(h);t.component.update({items:c,title:{text:o.getText(h)}}),t.component.render(),a&&t.component.selectItem(u[l]),t.curX=h},t.onSelectTooltipIndicatorItem=function(e){t.component&&e&&t.getInteractionAction().setStateByField(t.curX,e)},t}return r.getInteractionRange=function(t,e){var n=kd(e),a=n.padding,o=a[0],s=a[2];return new Dr(t.minX,t.minY,t.width,n.height+o+s)},r.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},r.prototype.render=function(){var t=this,e=this.view,n=function(){var a=t.view.getXScale(),o=(0,f.last)(a.getTicks()).tickValue,s=t.view.padding;(0,f.isEqual)([0,0,0,0],s)||(t.component?t.updateComponent():(t.createComponent(),t.component.on(Al.ON_SELECT_ITEM,t.onSelectTooltipIndicatorItem)),t.curX=o,t.component.update({title:{text:a.getText(t.curX)}}),t.component.render(),t.getInteractionAction().setStateByField(o))};e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,n),e.on(nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,n),e.on(Xo.ACTIVE_ELEMENT,this.onElementActive),e.on(Xo.ACTIVE_ELEMENT_BY_X,this.onElementActive)},r.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},r.prototype.createComponent=function(){var t=kd(this.getInteractionConfig()).padding,e=t[0],n=t[1],a=t[2],o=t[3],s=this.getLegendItems(),l=this.getRange(),u=this.view.getXScale(),h=(0,f.last)(u.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new SA({container:this.container,x:l.x+o,y:l.y+e,width:l.width-o-n,height:l.height-e-a,theme:this.getViewLayer().getPlotTheme(),items:s}),this.component.init(),this.getInteractionAction().setStateByField(h)},r.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},r.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),a=e.getTheme().defaultColor,o=e.getXScale(),s=e.getYScales()[0],l=t||(0,f.last)(o.getTicks()).tickValue,u=e.getLegendAttributes(),h=u.find(function(k){return k.type==="color"}),c=[],v=e.getGroupScales()[0],g=v.field;v&&v.isCategory&&v.getTicks().forEach(function(k){var F=k.text,Y=k.tickValue,N=h.mapping(Y).join("")||a;c.push({id:Y,title:F,color:N,values:[]})});var A=(n==null?void 0:n.filter(function(k){return k[o.field]===l}))||[];return c.forEach(function(k){var F=A.find(function(Y){return Y[g]===k.id});k.values.push({value:s.formatter?s.formatter(F[s.field]):F[s.field]})}),c},r}(da),PA=TA;da.registerInteraction("slider",aA),da.registerInteraction("scrollbar",nA),da.registerInteraction("timeline",gA),da.registerInteraction("tooltip-indicator",PA);var Bd=da,LA=function(){function i(r){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=r.plot}return i.prototype.registerPadding=function(r,t,e){t===void 0&&(t="outer"),e===void 0&&(e=!1),t==="inner"?e?this.innerPaddingComponents.find(function(n){return n==r})||this.innerPaddingComponents.push(r):this.innerPaddingComponents.push(r):e?this.outerPaddingComponents.find(function(n){return n==r})||this.outerPaddingComponents.push(r):this.outerPaddingComponents.push(r)},i.prototype.getPaddingComponents=function(r){return r===void 0&&(r="outer"),(r==="outer"?this.outerPaddingComponents:this.innerPaddingComponents)||[]},i.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=(0,f.filter)(this.outerPaddingComponents,function(r){return r.afterRender})},i.prototype.clearOuterComponents=function(){(0,f.each)(this.outerPaddingComponents,function(r){r.afterRender&&r.destroy()}),this.outerPaddingComponents=[]},i.prototype.getPadding=function(){var r=this.plot.options,t=r.padding?r.padding:this.plot.config.theme.padding;return t==="auto"?[0,0,0,1]:t},i.prototype.processAutoPadding=function(){var r=this._getInnerAutoPadding();this.plot.updateConfig({padding:r}),this.plot.render()},i.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new Dr(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var r=this.plot.layerBBox.minX,t=this.plot.layerBBox.maxX,e=this.plot.layerBBox.minY,n=this.plot.layerBBox.maxY;return(0,f.each)(this.outerPaddingComponents,function(a){var o=a.position;if(!a.destroyed){var s=a.getBBox(),l=s.minX,u=s.maxX,h=s.minY,c=s.maxY;c>=e&&c<=n&&o==="top"&&(e=c),h>=e&&h<=n&&o==="bottom"&&(n=h),u>r&&u<=t&&o==="left"&&(r=u),l>=r&&u<=t&&o==="right"&&(t=l)}}),new Dr(r,e,t-r,n-e)},i.prototype._getInnerAutoPadding=function(){var r,t=this.plot.options,e=this.plot.view,n=e.coordinateBBox,a=n.maxX,o=n.maxY,s=n.minY,l=n.minX,u=this.plot.config.theme.bleeding;(0,f.isArray)(u)&&(0,f.each)(u,function(k,F){typeof u[F]=="function"&&(u[F]=u[F](t))}),this.bleeding=(0,f.clone)(u);var h=[new Dr(n.minX,n.minY,n.width,n.height)];((r=this.plot.config.coordinate)===null||r===void 0?void 0:r.type)==="cartesian"&&this._getCartesianAxis(e,h[0],h);var c=this._mergeBBox(h);this._getLegend(e,c,h),c=this._mergeBBox(h);var v=this.innerPaddingComponents;(0,f.each)(v,function(k){var F=k,Y=F.getBBox();h.push(Y)}),c=this._mergeBBox(h);var g=[s-c.minY+this.bleeding[0],c.maxX-a+this.bleeding[1],c.maxY-o+this.bleeding[2],l-c.minX+this.bleeding[3]],A=this._getPanel(e);return g[0]+=A[0],g[1]+=A[1],g[2]+=A[2],g[3]+=A[3],g},i.prototype._getCartesianAxis=function(r,t,e){var n=fE(r),a=r.getCoordinate().isTransposed;(0,f.each)(n,function(o){if(o.get("group").get("children").length!==0){var s=o.get("position"),l=o.getLayoutBBox(),u=l.minX,h=l.minY,c=l.width,v=l.height;a?s==="bottom"?e.push(new Dr(t.minX-c,h,c,v)):s==="left"?e.push(new Dr(u,t.maxY,c,v)):s==="top"&&e.push(new Dr(t.maxX,h,c,v)):s==="left"?e.push(new Dr(t.minX-c,h,c,v)):s==="bottom"?e.push(new Dr(u,t.maxY,c,v)):s==="right"&&e.push(new Dr(t.maxX,h,c,v))}})},i.prototype._getLegend=function(r,t,e){var n=hE(r);(0,f.each)(n,function(a){var o=a.get("position").split("-")[0],s=a.getLayoutBBox(),l=s.minX,u=s.minY,h=s.width,c=s.height;o==="top"?e.push(new Dr(l,t.minY-c,h,c)):o==="bottom"?e.push(new Dr(l,t.maxY,h,c)):o==="left"?e.push(new Dr(t.minX-h,u,h,c)):e.push(new Dr(t.maxX,u,h,c))})},i.prototype._getPanel=function(r){var t=[],e=r.geometries;(0,f.each)(e,function(A){A.labelsContainer&&t.push(A.labelsContainer)});var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;(0,f.each)(t,function(A){var k=A.get("children");k.forEach(function(F){if(!(F.type==="group"&&F.get("children").length===0)){var Y=F.getBBox();Y.minX<n&&(n=Y.minX),Y.maxX>a&&(a=Y.maxX),Y.minY<o&&(o=Y.minY),Y.maxY>s&&(s=Y.maxY)}})});var l=r.coordinateBBox,u=Math.max(a-parseFloat(l.maxX),0);if(u>0){var h=l.width/(l.width+u);u*=h}var c=Math.max(parseFloat(l.minX)-n,0);if(c>0){var h=l.width/(l.width+c);c*=h}var v=Math.max(parseFloat(l.minY)-o,0);if(v>0){var h=l.height/(l.height+v);v*=h}var g=Math.max(s-parseFloat(l.maxY),0);if(g>0){var h=l.height/(l.height+g);g*=h}return[v,u,g,c]},i.prototype._mergeBBox=function(r){var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity;return(0,f.each)(r,function(o){var s=o;t=Math.min(s.minX,t),e=Math.max(s.maxX,e),n=Math.min(s.minY,n),a=Math.max(s.maxY,a)}),{minX:t,maxX:e,minY:n,maxY:a}},i}(),OA=LA,IA="#5B8FF9",kA=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],BA=["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],Dd=function(i){return i&&i.split("-")[0]==="top"?12:24},Fd=function(i){var r=i.title&&i.title.visible,t=i.description&&i.description.visible;return r||t?12:24},Rd=function(i){return(0,f.some)(i.interactions||[],function(r){return(r.type==="slider"||r.type==="scrollbar")&&(r.cfg&&r.cfg.type)!=="vertical"})?8:24},Nd={width:400,height:400,bleeding:[Fd,24,Rd,24],padding:"auto",defaultColor:IA,colors:kA,colors_20:BA,title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Dd,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},DA={backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[Fd,24,Rd,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,Dd,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}},Gd={default:Nd,dark:DA};function RG(i,r){var t=Ci();Gd[i.toLowerCase()]=deepMix({},t,r)}function Ci(i){i===void 0&&(i="default");var r=Gd[i.toLowerCase()];return r||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",i),Nd)}var Yd={};function zd(i,r){var t={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},e={};i==="area"&&(t={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var n={};return(0,f.each)(r,function(a,o){var s;if((0,f.has)(t,o)){var l=t[o];(0,f.each)(a,function(u,h){(0,f.set)(n,l+"."+[h==="normal"?"default":h==="disable"?"inactive":h]+".style",u)})}else e=(0,f.deepMix)({},e,(s={},s[o]=a,s))}),(0,f.isEmpty)(n)||(e=(0,f.deepMix)({},e,{geometries:n})),e}function Ni(i,r){Yd[i.toLowerCase()]=zd(i,r)}function Xd(i){return Yd[i.toLowerCase()]||{}}function FA(i){var r=(0,f.clone)(i);return r.legend||(r.legend={}),r}var zf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},Vd={default:zf};function Hd(i,r){Vd[i.toLowerCase()]=(0,f.deepMix)({},zf,r)}function Wd(i){var r=Vd[i.toLowerCase()];return r||zf}var RA=Pt(),NA=function(){function i(){}return i.getGlobalTheme=function(r){return(0,f.isString)(r)?Ci(r):(0,f.deepMix)({},Ci(),r)},i.prototype.getPlotTheme=function(r,t){var e=r.theme;return(0,f.isString)(e)?(0,f.deepMix)({},Ci(e),Xd(t)):(0,f.deepMix)({},Ci(),Xd(t),zd(t,e))},i.prototype.getTheme=function(r,t){var e=FA(this.getPlotTheme(r,t)),n=(0,f.deepMix)({},RA,e);return n},i.prototype.getResponsiveTheme=function(r){return Wd(r)||Wd("default")},i}(),Xf=NA,GA=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},e.options),e.paddingController=new OA({plot:e}),e.stateController=new NE({plot:e}),e.themeController=new Xf,e}return r.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t),o=(0,f.reduce)((0,f.flatten)((0,f.map)([n,a,(0,f.hasKey)(t,"interactions")?t:e],function(s){return(0,f.get)(s,"interactions",[])})),function(s,l){var u=(0,f.findIndex)(s,function(h){return h.type===l.type});return u>=0&&s.splice(u,1),(0,Rt.__spreadArrays)(s,[l])},[]);return(0,f.deepMix)({},n,a,e,t,{interactions:o})},r.prototype.beforeInit=function(){this.emit(Ma.BEFORE_INIT),i.prototype.beforeInit.call(this)},r.prototype.init=function(){var t=this;i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new Gu({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this),!(!this.view||this.view.destroyed)&&(this.options.padding!=="auto"&&this.parseEvents(),this.emit(Ma.AFTER_INIT))},r.prototype.afterRender=function(){var t,e;if(!(!this.view||this.view.destroyed)){var n=this.options,a=n.padding?n.padding:this.config.theme.padding;n.defaultState&&a!=="auto"&&this.stateController.defaultStates(n.defaultState),a==="auto"&&this.paddingController.processAutoPadding(),((e=(t=n.tooltip)===null||t===void 0?void 0:t.custom)===null||e===void 0?void 0:e.onChange)&&n.padding!=="auto"&&this.customTooltip()}},r.prototype.render=function(){this.emit(Ma.BEFORE_RENDER),i.prototype.render.call(this);var t=this.options.data;(0,f.isEmpty)(t)||this.view.render(),this.emit(Ma.AFTER_RENDER)},r.prototype.repaint=function(){this.canvas&&this.canvas.draw()},r.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},r.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options;if((0,f.contains)(t,"colorField"))return this.view.getScaleByField(t)},r.prototype.getShapes=function(){var t=this.view.geometries,e={};return(0,f.each)(t,function(n){var a=n.type;e[a]=n.getShapes()}),e},r.prototype.destroy=function(){this.doDestroy(),i.prototype.destroy.call(this)},r.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&this.initialOptions.padding==="auto"&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){this.emit(Ma.BEFORE_CHANGE_DATA);var e=(0,f.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(Ma.AFTER_CHANGE_DATA)},r.prototype.getPlot=function(){return this.view},r.prototype.getLabels=function(){return this.labels},r.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},r.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},r.prototype.getInteractions=function(){return this.interactions},r.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},r.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},r.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},r.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},r.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},r.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},r.prototype.processData=function(t){return t},r.prototype.scale=function(){var t=(0,f.mapValues)(this.config.scales,function(n){var a=n.type;return a?{type:a}:{}}),e=(0,f.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},r.prototype.axis=function(){var t=gi("axis",{plot:this,dim:"x"}),e=gi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.tooltip=function(){var t,e;if(this.options.tooltip.visible===!1){this.setConfig("tooltip",!1);return}var n=(0,f.get)(this.options,"tooltip");((t=n.custom)===null||t===void 0?void 0:t.container)&&(n.container=n.custom.container),((e=n.custom)===null||e===void 0?void 0:e.customContent)&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",(0,f.deepMix)({},n)),(0,f.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)},r.prototype.createTooltipContainer=function(){var t=document.createElement("div");return t.className="g2-tooltip",t},r.prototype.customTooltip=function(){var t=this.options.tooltip.custom,e;t.container&&(e=(0,f.isString)(t.container)?document.getElementById(t.container):t.container),e||(e=this.createTooltipContainer()),this.view.on("tooltip:show",function(n){(t==null?void 0:t.onChange)&&t.onChange(e,n)}),this.view.hideTooltip(),this.view.on("tooltip:change",function(n){t.onChange(e,n)})},r.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&e.length>1&&e[1]==="center"?e[0]:t},r.prototype.legend=function(){var t;if(this.options.legend.visible===!1){this.setConfig("legends",!1);return}var e=(0,f.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition((0,f.get)(e,"position")),offsetX:(0,f.get)(e,"offsetX"),offsetY:(0,f.get)(e,"offsetY"),flipPage:(0,f.get)(e,"flipPage"),marker:(0,f.get)(e,"marker"),title:((t=e.title)===null||t===void 0?void 0:t.visible)?(0,f.get)(e,"title"):null,itemName:(0,f.get)(e,"text")};this.setConfig("legends",n)},r.prototype.annotation=function(){var t=this,e=[];this.config.coordinate.type==="cartesian"&&this.options.guideLine&&(0,f.each)(this.options.guideLine,function(n){var a=gi("guideLine",{plot:t,cfg:n});e.push(a)}),this.setConfig("annotations",e)},r.prototype.interaction=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e;(0,f.each)(n,function(a){var o=a.type;if(o==="slider"||o==="scrollbar"){var s={label:{autoHide:!0,autoRotate:!1}};t.options.xAxis=(0,f.deepMix)({},t.options.xAxis,s)}t.setConfig("interaction",a)})},r.prototype.animation=function(){this.options.animation===!1&&this.setConfig("animate",!1)},r.prototype.applyInteractions=function(){var t=this,e=Dr.fromBBoxObject(this.layerBBox),n=this.title||this.description,a=new Dr(e.minX,e.minY,e.width,n?n.getBBox().maxY:0);e=e.cut(a,nn.DIRECTION.TOP);var o=this.options.interactions,s=o===void 0?[]:o;this.interactions&&this.interactions.forEach(function(l){l.destroy()}),this.interactions=[],s.forEach(function(l){var u=Bd.getInteraction(l.type,t.type);if(u){var h=new u({view:t.view},t,u.getInteractionRange(e,l.cfg),l.cfg);h.render(),t.interactions.push(h)}})},r.prototype.setConfig=function(t,e){if(t==="geometry"){this.config.geometries.push(e);return}if(t==="interaction"){this.config.interactions.push(e);return}if(e===!1){this.config[t]=!1;return}(0,f.assign)(this.config[t],e)},r.prototype.parseEvents=function(t){var e=this,n=this.options;if(n.events){i.prototype.parseEvents.call(this,n.events);var a=t?t.EVENT_MAP:$r;(0,f.each)(n.events,function(o,s){if((0,f.isFunction)(o)){var l=a[s]||s,u=o;zn(e,l,u)}})}},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Go(t.title)){var n=this.width,a=this.config.theme,o=new gl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Go(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o,this.paddingController.registerPadding(o,"outer")}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Go(t.description)){var n=this.width,a=this.config.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new gl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l,this.paddingController.registerPadding(l,"outer")}},r.prototype.doRenderLabel=function(t,e){(0,f.each)(this.labels,function(s){s.destroy()}),this.labels=[];var n={layer:this,container:t.labelsContainer,geometry:t,label:e},a=gE(e.type);if(a){var o=new a(n);o.init(),o.render(),this.labels.push(o)}},r.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},r.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},r.prototype.doDestroyLabels=function(){(0,f.each)(this.labels,function(t){t.destroy()}),this.labels=[]},r.prototype.getViewRange=function(){var t=this,e=this.options.interactions,n=e===void 0?[]:e,a=this.paddingController.processOuterPadding();n.forEach(function(s){var l=Bd.getInteraction(s.type,t.type),u=l&&l.getInteractionRange(a,s.cfg),h="";u&&(u.maxY===a.maxY&&u.minY>a.minY?h="bottom":u.maxX===a.maxX&&u.minX>a.minX?h="right":u.minX===a.minX&&u.maxX>a.maxX?h="left":u.minY===a.minY&&u.maxY<a.maxY&&(h="top"),t.paddingController.registerPadding({interaction:s.type,name:s.type,getBBox:function(){return u},position:h},"outer"))});var o=this.paddingController.processOuterPadding();return o},r.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!((0,f.hasKey)(t,"max")||(0,f.hasKey)(t,"min")||(0,f.hasKey)(t,"maxLimit")||(0,f.hasKey)(t,"minLimit"))},r.prototype.viewRangeToRegion=function(t){var e=this,n=e.x,a=e.y,o=e.width,s=e.height,l={x:0,y:0},u={x:1,y:1};return l.x=t.minX/(n+o),l.y=t.minY/(a+s),u.x=t.maxX/(n+o),u.y=t.maxY/(a+s),{start:l,end:u}},r}(pl),Bn=GA,YA=d(91033),zA=function(){function i(r){var t=this;this.onResize=(0,f.debounce)(function(){if(!t.plot.destroyed){var a=t.getCanvasSize(),o=a.width,s=a.height;t.width===o&&t.height===s||(t.width=o,t.height=s,t.plot.updateConfig({width:o,height:s}),t.plot.render())}},300);var e=r.containerDOM,n=r.plot;this.containerDOM=e,this.plot=n,this.init()}return i.prototype.getCanvasSize=function(){var r=Ci(),t=this.plot.width?this.plot.width:r.width,e=this.plot.height?this.plot.height:r.height;return this.plot.forceFit&&(t=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:t,e=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:e),{width:t,height:e}},i.prototype.getCanvasDOM=function(){return this.canvas.get("container")},i.prototype.updateCanvasSize=function(){var r=this.getCanvasSize(),t=r.width,e=r.height;this.width=t,this.height=e,this.canvas.changeSize(t,e)},i.prototype.updateCanvasTheme=function(){var r=this.plot.theme,t=Xf.getGlobalTheme(r),e=(0,f.get)(t,"backgroundStyle.fill");e&&this.updateCanvasStyle({backgroundColor:e})},i.prototype.updateCanvasStyle=function(r){(0,Lt.Z)(this.getCanvasDOM(),r),(0,Lt.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},i.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},i.prototype.bindForceFit=function(){var r=this.plot.forceFit;r&&(this.resizeObserver=new YA.Z(this.onResize),this.resizeObserver.observe(this.containerDOM))},i.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},i.prototype.initGCanvas=function(){var r=this.plot,t=r.renderer,e=t===void 0?"canvas":t,n=r.pixelRatio,a=r.localRefresh,o=a===void 0?!1:a,s=this.getCanvasSize(),l=s.width,u=s.height,h=e==="canvas"?$c:av;this.canvas=new h({localRefresh:o,container:this.containerDOM,width:l,height:u,pixelRatio:n}),this.width=l,this.height=u,this.updateCanvasTheme()},i}(),XA=zA;function VA(i,r){return!!(i&&r&&i===r)}function HA(i,r){return i.x>=r.minX&&i.x<=r.maxX&&i.y>=r.minY&&i.y<=r.maxY}var WA=function(){function i(r){this.plot=r.plot,this.canvas=r.canvas,this.eventHandlers=[]}return i.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",(0,f.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",(0,f.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",(0,f.wrapBehavior)(this,"onEvents"))},i.prototype.clearEvents=function(){var r=this.eventHandlers;(0,f.each)(r,function(t){t.target.off(t.type,t.handler)})},i.prototype.addEvent=function(r,t,e){r.on(t,e),this.eventHandlers.push({target:r,type:t,handler:e})},i.prototype.onEvents=function(r){var t=this.getEventObj(r),e=r.target;!this.isShapeInView(e)&&e.name&&this.plot.emit(e.name+":"+r.type,r),this.plot.emit(""+r.type,t);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,t,r.type)},i.prototype.onMove=function(r){var t=r.target,e=this.getEventObj(r);!this.isShapeInView(t)&&t.name&&(this.plot.emit(t.name+":"+r.type,e),this.lastShape&&!VA(t,this.lastShape)&&(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",e),this.plot.emit(t.name+":mouseenter",e)),this.lastShape=t),this.plot.emit("mousemove",e);var n=this.plot.getLayers();n.length>0&&this.onLayerEvent(n,e,"mousemove")},i.prototype.isShapeInView=function(r){for(var t=["frontgroundGroup","backgroundGroup","panelGroup"],e=r.get("parent");e;){var n=e.get("name");if(n&&(0,f.contains)(t,n))return!0;e=e.get("parent")}return!1},i.prototype.getEventObj=function(r){var t={clientX:r.clientX,clientY:r.clientY,x:r.x,y:r.y,plot:this.plot,data:r.data?r.data.data:null,canvas:this.canvas,target:r.target,gEvent:r};return t},i.prototype.onLayerEvent=function(r,t,e){var n=this;(0,f.each)(r,function(a){var o=a.getGlobalBBox();if(HA({x:t.x,y:t.y},o)){a.emit(""+e,t);var s=a.layers;s.length>0&&n.onLayerEvent(s,t,e)}})},i}(),jA=WA,jd={};function Xr(i,r){jd[i.toLowerCase()]=r}function UA(i){return jd[i.toLowerCase()]}var ZA=function(i){(0,Rt.__extends)(r,i);function r(t,e){var n=i.call(this)||this;return n.containerDOM=typeof t=="string"?document.getElementById(t):t,n.forceFit=(0,f.isNil)(e.forceFit)?(0,f.isNil)(e.width)&&(0,f.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new XA({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new jA({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}return r.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},r.prototype.repaint=function(){this.canvasController.canvas.draw()},r.prototype.updateConfig=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Bn&&a.updateConfig(t)});else{var n=this.layers[0];n instanceof pl&&n.updateConfig(t)}t.width&&(this.width=t.width),t.height&&(this.height=t.height),t.theme&&(this.theme=t.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},r.prototype.changeData=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof Bn&&a.changeData(t)});else{var n=this.layers[0];n instanceof Bn&&n.changeData(t)}},r.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},r.prototype.getXScale=function(){return this.layers[0].getXScale()},r.prototype.getYScale=function(){return this.layers[0].getYScale()},r.prototype.getColorScale=function(){return this.layers[0].getColorScale()},r.prototype.getPlotTheme=function(){var t=this.layers[0];return t.getPlotTheme()},r.prototype.getData=function(){var t=this.layers[0];return t.getData()},r.prototype.bindStateManager=function(t,e){this.eachLayer(function(n){n instanceof Bn&&n.bindStateManager(t,e)})},r.prototype.setActive=function(t,e){this.eachLayer(function(n){n instanceof Bn&&n.setActive(t,e)})},r.prototype.setSelected=function(t,e){this.eachLayer(function(n){n instanceof Bn&&n.setSelected(t,e)})},r.prototype.setDisable=function(t,e){this.eachLayer(function(n){n instanceof Bn&&n.setDisable(t,e)})},r.prototype.setDefault=function(t,e){this.eachLayer(function(n){n instanceof Bn&&n.setDefault(t,e)})},r.prototype.getView=function(){return this.layers[0].view},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers[t]},r.prototype.getCanvas=function(){return this.canvasController.canvas},r.prototype.getLayers=function(){return this.layers},r.prototype.render=function(){this.eachLayer(function(t){return t.render()})},r.prototype.eachLayer=function(t){(0,f.each)(this.layers,t)},r.prototype.addLayer=function(t){var e=(0,f.findIndex)(this.layers,function(n){return n===t});e<0&&this.layers.push(t)},r.prototype.createLayers=function(t){if(!t.layers){if(t.type){var e=UA(t.type),n=(0,f.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height}),a=new e(n);this.addLayer(a)}}},r.prototype.parseEvents=function(t){var e=this,n=(0,f.keys)(ed);t.events&&(0,f.each)(t.events,function(a,o){if((0,f.contains)(n,o)&&(0,f.isFunction)(a)){var s=ed[o]||o,l=a;e.on(s,l)}})},r}(pe.default),Ir=ZA,KA=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},i}(),Ss=KA,$A=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();if(n&&(e.fields=n),(0,f.has)(t,"color")){var a=t.color;(0,f.isString)(a)?e.values=[a]:(0,f.isFunction)(a)?e.callback=a:(0,f.isArray)(a)&&(n?e.values=a:a.length>0&&(e.values=[a[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Ss),Ud=$A;function QA(i,r){var t=[];if(i.length){for(var e=0,n=i.length;e<n;e+=1){var a=i[e],o=e===0?"M":"L";t.push([o,a.x,a.y])}r&&t.push(["Z"])}return t}function Zd(i,r){var t=i.getCenter(),e=Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2));return e}function Vf(i,r){for(var t=[i[0]],e=1,n=i.length;e<n;e=e+2){var a=r.convertPoint({x:i[e],y:i[e+1]});t.push(a.x,a.y)}return t}function JA(i,r,t){var e=t.isTransposed,n=t.startAngle,a=t.endAngle,o={x:i[1],y:i[2]},s={x:r[1],y:r[2]},l=[],u=e?"y":"x",h=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,v=h>Math.PI?1:0,g=t.convertPoint(s),A=Zd(t,g);if(A>=.5)if(h===Math.PI*2){var k={x:(s.x+o.x)/2,y:(s.y+o.y)/2},F=t.convertPoint(k);l.push(["A",A,A,0,v,c,F.x,F.y]),l.push(["A",A,A,0,v,c,g.x,g.y])}else l.push(["A",A,A,0,v,c,g.x,g.y]);return l}function qA(i){each(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var n=i[t-1],a=i[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var t_=function(i,r,t,e){var n=[],a,o,s=!!e,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,c=i.length;h<c;h++){var v=i[h];l=he.min([0,0],l,v),u=he.max([0,0],u,v)}l=he.min([0,0],l,e[0]),u=he.max([0,0],u,e[1])}for(var h=0,g=i.length;h<g;h++){var v=i[h];if(t)a=i[h?h-1:g-1],o=i[(h+1)%g];else if(h===0||h===g-1){n.push(v);continue}else a=i[h-1],o=i[h+1];var A=[0,0];A=he.sub(A,o,a),A=he.scale(A,A,r);var k=he.distance(v,a),F=he.distance(v,o),Y=k+F;Y!==0&&(k/=Y,F/=Y);var N=he.scale([0,0],A,-k),st=he.scale([0,0],A,F),lt=he.add([0,0],v,N),At=he.add([0,0],v,st);s&&(lt=he.max([0,0],lt,l),lt=he.min([0,0],lt,u),At=he.max([0,0],At,l),At=he.min([0,0],At,u)),n.push(lt),n.push(At)}return t&&n.push(n.shift()),n};function e_(i,r,t){for(var e=!!r,n=[],a=0,o=i.length;a<o;a+=2)n.push([i[a],i[a+1]]);for(var s=t_(n,.4,e,t),l=n.length,u=[],h,c,v,a=0;a<l-1;a++)h=s[a*2],c=s[a*2+1],v=n[a+1],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]]);return e&&(h=s[l],c=s[l+1],v=n[0],u.push(["C",h[0],h[1],c[0],c[1],v[0],v[1]])),u}function r_(i,r){return QA(i,r)}function Hf(i,r,t){var e=[],n=i[0],a=null;if(i.length<=2)return r_(i,r);(0,f.each)(i,function(l){(!a||!(a.x===l.x&&a.y===l.y))&&(e.push(l.x),e.push(l.y),a=l)});var o=t||[[0,0],[1,1]],s=e_(e,r,o);return s.unshift(["M",n.x,n.y]),s}function NG(i,r){return Zd(i,r)}function GG(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function YG(i,r){var t=[];return each(r,function(e){var n=e[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(Vf(e,i));break;case"z":default:t.push(e);break}}),t}function zG(i,r){var t=[],e,n,a,o;return each(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(Vf(s,i));break;case"l":e=r[l-1],n=s,a=i.isTransposed,o=a?e[e.length-2]===n[1]:e[e.length-1]===n[2],o?t=t.concat(JA(e,n,i)):t.push(Vf(s,i));break;case"z":default:t.push(s);break}}),qA(t),t}en("area","miniArea",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Kd(i,this,!1),n=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),a=r.addShape("path",{attrs:{path:e,fill:Qd(i.color||Ci().defaultColor),opacity:t||.4},style:n});return a}}),en("area","miniAreaSmooth",{draw:function(i,r){var t=i.style?i.style.opacity:null,e=Kd(i,this,!0),n=r.addShape("path",{attrs:{path:e,fill:Qd(i.color||Ci().defaultColor),opacity:t||.5}});return n}});function Kd(i,r,t){var e=[[0,0],[1,1]],n=[],a=[];(0,f.each)(i.points,function(u){n.push(u[1]),a.push(u[0])}),a=r.parsePoints(a.reverse()),n=Bf(r.parsePoints(n));var o=t?Hf(n,!1,e):$d(n),s=$d(a);s[0][0]="L";var l=o.concat(s);return l}function $d(i){for(var r=[],t=0;t<i.length;t++){var e=i[t],n=t===0?"M":"L";r.push([n,e.x,e.y])}return r}function Qd(i){return"l(90) 0:"+i+" 1:#ffffff"}var n_=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},r}(Ud),i_=n_,a_={main:Ud,mini:i_},Jd=["colorField","stackField","groupField"],o_=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.type="interval",i.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},r.prototype.parseColor=function(){var t=this.plot.options,e=this._getColorMappingField(t),n={};e&&(n.fields=e),t.color&&((0,f.isString)(t.color)?n.values=[t.color]:(0,f.isFunction)(t.color)?n.callback=t.color:(0,f.isArray)(t.color)?e?n.values=t.color:t.color.length>0&&(n.values=[t.color[0]]):(0,f.isObject)(t.color)&&(n.fields=e,n.callback=function(a){return t.color[a]})),this.config.color=n},r.prototype.parseSize=function(t){var e=this.plot.options,n={};(0,f.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},r.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,a=this.plot.options[t],o={};(0,f.isFunction)(a)?(o.fields=(n==null?void 0:n.fields)||[e.xField,e.yField],o.callback=a):o.cfg=a,this.config.style=o},r.prototype._getSizeProps=function(t){for(var e=["columnSize","barSize"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getStyleProps=function(t){for(var e=["columnStyle","barStyle","pieStyle","ringStyle"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return o}},r.prototype._getColorMappingField=function(t){for(var e=0,n=Jd;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=Jd;e<n.length;e++){var a=n[e];if(t[a])return!0}return!1},r}(Ss),s_=o_,l_={main:s_},u_=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||(0,f.get)(t,["line","style"]))&&this.parseStyle()},r.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};(0,f.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={};if(t.seriesField&&(e.fields=[t.seriesField]),(0,f.has)(t,"color")){var n=t.color;(0,f.isString)(n)?e.values=[n]:(0,f.isFunction)(n)?e.callback=n:(0,f.isArray)(n)&&(t.seriesField?e.values=n:n.length>0&&(e.values=[n[0]]))}this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||(0,f.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};(0,f.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},r}(Ss),Wf=u_,f_=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;!t.xField||!t.yField||(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?(e.fields=n,e.callback=t.color):(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]])),this.config.color=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.line.style,n={};(0,f.isFunction)(e)?(n.fields=this.config.position.fields,n.callback=e):n.cfg=e,this.config.style=n},r.prototype._needParseAttribute=function(t){var e=this.plot.options;return e[t]?!0:!!e.line[t]},r.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=["stackField","seriesField"],n=0,a=e;n<a.length;n++){var o=a[n];if((0,f.get)(t,o))return[t[o]]}},r}(Wf),h_=f_;en("line","miniLine",{draw:function(i,r){for(var t=Bf(i.points),e=[],n=0;n<t.length;n++){var a=t[n],o=n===0?"M":"L";e.push([o,a.x,a.y])}var s=(0,f.deepMix)({},{lineJoin:"round",lineCap:"round"},i.style),l=r.addShape("path",{attrs:(0,f.mix)({path:e,stroke:i.color||Ci().defaultColor,lineWidth:i.size||2},s)});return l}}),en("line","miniLineSmooth",{draw:function(i,r){var t=Bf(i.points),e=[[0,0],[1,1]],n=Hf(t,!1,e),a=r.addShape("path",{attrs:(0,f.mix)({path:n,stroke:i.color||Ci().defaultColor,lineWidth:i.size||2},i.style)});return a}});var c_=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){i.prototype.init.call(this),this.parseShape()},r.prototype.parseShape=function(){var t=this.plot.options;t.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},r}(Wf),v_=c_,d_={main:Wf,guide:h_,mini:v_},p_=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=(0,f.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),(0,f.isEmpty)(e)||(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=(0,f.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},r.prototype.parseShape=function(t){this.config.shape=t},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},a=t.xField,o=t.yField,s=t.colorField;(0,f.isFunction)(e)?(s?n.fields=(0,f.isArray)(s)?[a,o,s].concat(s):[a,o,s]:n.fields=[a,o],n.callback=e):(n.cfg=e,(0,f.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},r.prototype._parseColor=function(t,e){(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(e.values=t.color)},r}(Ss),g_=p_;function y_(i,r){var t=[];return(0,f.each)(r,function(e){var n=e[i];t.push(n)}),(0,f.uniq)(t)}var m_=["seriesField","stackField"],x_=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,!(!t.xField||!t.yField)&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},r.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField(t);if(n)this._parseColorByField(t,e,n);else if(t.point&&t.point.color)e.values=[t.point.color];else if(t.color)this._parseColor(t,e);else{var a=this.plot.getTheme();e.values=[a.defaultColor]}(0,f.keys)(e).length>0&&(this.config.color=e)},r.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},r.prototype.parseShape=function(t){var e={};(0,f.isString)(t)?e.values=[t]:(0,f.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},r.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},a=this._getColorMappingField(t);(0,f.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,a&&n.fields.unshift(a)):n.cfg=e,this.config.style=n},r.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var a=y_(n,t.data).length,o=[],s=0;s<a;s++)o.push(t.point.color);e.values=o}else t.color&&this._parseColor(t,e)},r.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);(0,f.isString)(t.color)?e.values=[t.color]:(0,f.isFunction)(t.color)?e.callback=t.color:(0,f.isArray)(t.color)&&(n?e.values=t.color:t.color.length>0&&(e.values=[t.color[0]]))},r.prototype._needParseAttribute=function(t){var e=this.plot.options,n=e.point&&(0,f.has)(e.point,t);return n},r.prototype._getColorMappingField=function(t){for(var e=0,n=m_;e<n.length;e++){var a=n[e];if((0,f.get)(t,a))return[t[a]]}},r}(Ss),b_=x_,w_={guide:b_,circle:g_},S_={area:a_,line:d_,point:w_,interval:l_};function Nn(i,r,t){var e=S_[i][r];return new e(t).config}function C_(i){var r=rE,t=i.split(" "),e=r[t[1]],n=parseInt(t[0],10);return[e.format,n*e.value]}function Qn(i,r){if(!r)return i;Object.prototype.hasOwnProperty.call(r,"tickCount")&&(i.tickCount=r.tickCount),Object.prototype.hasOwnProperty.call(r,"type")&&r.type!=="dateTime"&&(i.type=r.type),Object.prototype.hasOwnProperty.call(r,"tickInterval")&&(r.type==="time"?i.tickInterval=C_(r.tickInterval):i.tickInterval=r.tickInterval),r.type==="time"&&r.mask&&(i.mask=r.mask),Object.prototype.hasOwnProperty.call(r,"min")&&(i.min=r.min),Object.prototype.hasOwnProperty.call(r,"max")&&(i.max=r.max),Object.prototype.hasOwnProperty.call(r,"minLimit")&&(i.minLimit=r.minLimit),Object.prototype.hasOwnProperty.call(r,"maxLimit")&&(i.maxLimit=r.maxLimit),Object.prototype.hasOwnProperty.call(r,"nice")&&(i.nice=r.nice),Object.prototype.hasOwnProperty.call(r,"formatter")&&(i.formatter=r.formatter),Object.prototype.hasOwnProperty.call(r,"exponent")&&(i.exponent=r.exponent),Object.prototype.hasOwnProperty.call(r,"base")&&(i.base=r.base),r.tickMethod&&(i.tickMethod=r.tickMethod)}function M_(i,r){var t=(0,f.filter)(r,function(a){return(0,f.isNumber)(a)}),e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);e>0?(0,f.isNil)(i.min)&&(i.min=0):n<0&&(0,f.isNil)(i.max)&&(i.max=0)}var jf;function E_(i,r){var t={easing:"easeLinear",duration:1e4},e=(0,f.deepMix)({},r,t),n=i.get("element").geometry;n.labelsContainer.set("visible",!1);var a=i.get("index"),o=n.coordinate,s=n.scales,l=s[jf.options.yField],u=(0,f.clone)(i.get("origin"));A_(i,o);var h=i.get("clipShape"),c=i.get("parent"),v=12,g=null,A=jf.options.seriesField;A&&(g=c.addShape("text",{attrs:{x:o.start.x+v,y:0,text:u.data[0][A],fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var k=g?16:0,F=c.addShape("text",{attrs:{x:o.start.x+v,y:k,text:"test"+a,fill:i.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});e.callback=function(){i&&!i.get("destroyed")&&(i.setClip(null),h.remove(),F.animate({opacity:0},300,function(){F.remove(),(0,f.isNil)(g)||g.remove();var st=n.labelsContainer;st.get("visible")||st.set("visible",!0)}))};var Y=e.delay;(0,f.isFunction)(Y)&&(Y=e.delay(a));var N=e.easing;(0,f.isFunction)(N)&&(N=e.easing(a)),h.animate({width:o.getWidth()},e.duration,N,e.callback,Y),e.onFrame=function(st){var lt=qd(st,u,o);if(!!lt){F.attr("x",lt[0]+v),F.attr("y",lt[1]+k);var At=__(l,lt[1],o);l.formatter&&(At=l.formatter(At)),F.attr("text",At)}},F.animate(e.onFrame,{duration:e.duration,easing:N,callback:e.callback,delay:Y}),g&&g.animate({onFrame:function(st){var lt=qd(st,u,o);!lt||(g.attr("x",lt[0]+v),g.attr("y",lt[1]))}},e.duration,N,e.callback,Y)}function A_(i,r){var t=r.start,e=r.end,n=r.height;i.setClip({type:"rect",attrs:{x:t.x,y:e.y,width:0,height:n}})}function qd(i,r,t){for(var e=r.points,n=t.start.x+t.getWidth()*i,a=0;a<e.length-1;a++){var o=e[a],s=e[a+1];if(n>=o.x&&n<=s.x){var l=(s.y-o.y)/(s.x-o.x),u=o.y+l*(n-o.x);return[n,u]}}}function __(i,r,t){var e=(r-t.start.y)/(t.end.y-t.start.y);return i.invert(e).toFixed(2)}function T_(i){jf=i}Hn("clipingWithData",E_);var P_=function(){function i(r){this.type="shape",this.shapes=r.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=(0,f.deepMix)([],this.nodes)}return i.prototype.measure=function(r){var t=(0,f.deepMix)({},SE(r),{shape:r});return t},i.prototype.measureNodes=function(){var r=this,t=[],e=[];(0,f.each)(this.shapes,function(n,a){var o=(0,f.deepMix)({},r.nodes[a],r.measure(n));o.width!==0&&o.height!==0&&(t.push(o),e.push(n))}),this.nodes=t,this.shapes=e},i.prototype._parserNodes=function(){var r=this;(0,f.each)(this.shapes,function(t){var e=r.measure(t);r.nodes.push(e)})},i}(),tp=P_;function L_(i,r,t){return t===void 0&&(t={ratio:.6}),r.width*t.ratio}var O_={type:"padding",usage:"assign",expression:L_};function I_(i,r){var t=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],e=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],n=cd(t,e);return Math.round(n)>=2}var k_={type:"group",usage:"compare",expression:I_};function B_(i,r,t){t===void 0&&(t={value:4});var e=[i.topLeft,i.topRight,i.bottomRight,i.bottomLeft],n=[r.topLeft,r.topRight,r.bottomRight,r.bottomLeft],a=cd(e,n);return Math.round(a)>=t.value}var D_={type:"chain",usage:"compare",expression:B_};function F_(i,r,t){t===void 0&&(t={value:5});var e=Math.abs(i.bottom-r.top);return Math.round(e)>=t.value}var R_={type:"chain",usage:"compare",expression:F_};function N_(i,r,t){return t===void 0&&(t={ratio:.15}),i.width<r.width*t.ratio}var G_={type:"padding",usage:"compare",expression:N_};function Y_(i,r){var t=2,e=r.coord.radius/t;return Math.min(e,i.value)}var z_={type:"padding",usage:"assign",expression:Y_};function X_(i,r,t){return t===void 0&&(t={ratio:.8}),r.radius*t.ratio}var V_={type:"padding",usage:"assign",expression:X_},ep={elementDist:D_,elementDistVertical:R_,elementCollision:k_,elementWidth:G_,columnWidth:O_,ringThickness:V_,minRingThickness:z_};function XG(i,r){ep[i]=r}function Vo(i){i.attr("text","")}function H_(i,r,t,e){var n=e.nodes.nodes,a=n[t],o=[];if(!a.shape.get("blank"))for(var s=0;s<n.length;s++){var l=n[s],u=l.shape;if(s!==t&&!u.get("blank")){var h=rp(a,l);h&&o.push(l)}}o.length>0&&(o.push(a),o.sort(function(c,v){return v.top-c.top}),(0,f.each)(o,function(c,v){if(v>0){var g=c.shape;Vo(g),g.set("blank",!0)}}))}function rp(i,r){return!(i.bottom<r.top||r.bottom<i.top||i.right<r.left||r.right<i.left)}var ao=d(19432),W_=1e3,np=60*W_,Uf=60*np,Pl=24*Uf,ip=31*Pl,ap=365*Pl;function op(i,r,t,e){var n=e.nodes.nodes,a;t===n.length-1?a=n[t-1].shape.get("delegateObject").item.name:a=n[t+1].shape.get("delegateObject").item.name;var o=new Date(a),s=i.get("delegateObject").item.name,l=new Date(s),u=n[0].shape.get("delegateObject").item.name,h=new Date(u),c=n[n.length-1].shape.get("delegateObject").item.name,v=new Date(c),g=sp(h,v),A=sp(l,o);if(g===A){if(t!==0&&t!==n.length-1){var k=Z_(g);i.attr("text",ao.default.format(l,k))}return}if(t!==0){var F=n[t-1].shape.get("delegateObject").item.name,Y=new Date(F),N=j_(g,l,Y);if(N){var k=U_(g,A);i.attr("text",ao.default.format(l,k));return}}}function j_(i,r,t){var e=lp(r,i),n=lp(t,i);return e===n}function sp(i,r){var t,e=Math.abs(i-r),n={minute:[np,Uf],hour:[Uf,Pl],day:[Pl,ip],month:[ip,ap],year:[ap,Infinity]};return(0,f.each)(n,function(a,o){e>=a[0]&&e<a[1]&&(t=o)}),t}function U_(i,r){for(var t=["year","month","day","hour","minute"],e=["YYYY","MM","DD","HH","MM"],n=t.indexOf(i)+1,a=t.indexOf(r),o="",s=n;s<=a;s++)o+=e[s],s<a&&(o+="-");return o}function Z_(i){var r=["year","month","day","hour","minute"],t=["YYYY","MM","DD","HH","MM"],e=r.indexOf(i),n=t[e];return n}function lp(i,r){if(r==="year")return i.getFullYear();if(r==="month")return i.getMonth()+1;if(r==="day")return i.getDay()+1;if(r==="hour")return i.getHours()+1;if(r==="minute")return i.getMinutes()+1}function K_(i){var r=/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/,t=/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/;return r.test(i)||t.test(i)}var up={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function fp(i,r,t,e){if(!(!(0,f.has)(e,"node")||!(0,f.has)(e.node,"node"))){var n=e.nodes.nodes,a=parseFloat(i.get("origin").text);if(a!==0){if(r.formatter){i.attr("text",r.formatter(a));return}if(r.unit){var o=hp(r,a),s=o.num,l=o.unitname;i.attr("text",s+l)}else{var u=Q_(n),h=vd(u),l=$_(h),c=up[l].number,v=J_(n),g=q_(v,c),s=hp({unit:l,decimal:g},a).num;i.attr("text",s+l)}}}}function hp(i,r){var t=["k","m","b","t"],e,n;if(i.unit==="auto"){var a=Math.floor(Math.log(r)/Math.log(1e3));n=t[a-1],e=(r/Math.pow(1e3,a)).toFixed(i.decimal)}else if(i.unit){var o=up[i.unit];n=i.unit,e=(r/o.number).toFixed(i.decimal)}return{num:e,unitname:n}}function $_(i){var r=["k","m","b","t"],t=Math.floor(Math.log(i)/Math.log(1e3));return r[t-1]}function Q_(i){var r=[];return(0,f.each)(i,function(t){var e=t,n=parseFloat(e.shape.get("origin").text);r.push(n)}),r}function J_(i){if(i.length>=2){var r=parseFloat(i[0].shape.get("origin").text),t=parseFloat(i[1].shape.get("origin").text);return Math.abs(r-t)}return 0}function q_(i,r){var t=Math.floor(Math.log10(r));if(i>=r){var e=i%r;if(e>0){var n=Math.floor(Math.log10(e));return Math.abs(n-t)}}else{var a=Math.floor(Math.log10(i));return Math.abs(a-t)}return 0}function tT(i,r,t){var e=t.nodes.nodes;if(r!==e.length-1){var n=e[r],a=e[r+1],o=eT(n,a).dir,s=i.get("startPoint");o==="x"&&i.attr("y",s.y+20)}}function eT(i,r){var t,e={x:r.centerX-i.centerX,y:r.centerY-i.centerY},n=Math.sqrt(e.x*e.x+e.y*e.y),a={x:10,y:0},o=Math.sqrt(a.x*a.x+a.y*a.y),s=kf(e,a),l=s/(n*o)*180/Math.PI;l<0&&(l=360-l),l=rT(l);var u=Math.abs(i.centerX-r.centerX),h=Math.abs(i.centerY-r.centerY);return l>45?t="x":l<45&&(t="y"),{dir:t,distX:u,distY:h}}function rT(i){return i>90&&i<=180?180-i:i>180&&i<270?i-180:360-i}function nT(i,r,t,e){var n=e.nodes.nodes;if(t!==0){var a=n[t],o=n[t-1];if(rp(a,o)){var s=e.plot.view.geometries[0].elements[0],l=o.top-a.height/2,u=10;if(l-u>e.region.top){var h=a.shape.get("origin"),c=s.getShapeId(h),v=s.getShapes(),g=iT(c,v).get("box"),A=g.left+g.width/2,k=g.top,F=s.get("labelController").labelsContainer,Y=F.addShape("path",{attrs:{path:[["M",A,k],["L",a.shape.attr("x"),l]],stroke:"#ccc",lineWidth:1}}),N={x:i.attr("x"),y:i.attr("y")};a.shape.attr("y",l-u),n[t]=e.nodes.measure(a.shape),n[t].line=Y,n[t].origin_position=N}}}}function iT(i,r){var t;return(0,f.each)(r,function(e){var n=e,a=n.get("id");a===i&&(t=n)}),t}function aT(i,r,t,e){var n=e.nodes.nodes,a=n.length%2!=0;if(!cp(r.keep,t,n)){var o=t%2==0;(!a&&o||a&&!o)&&Vo(i)}}function cp(i,r,t){var e=[];(0,f.each)(i,function(s){s==="start"?e.push(r===0):s==="end"?e.push(r===t.length-1):(0,f.isNumber)(s)&&e.push(r===s)});for(var n=0,a=e;n<a.length;n++){var o=a[n];if(o===!0)return!0}return!1}function oT(i,r,t,e){var n=e.nodes.nodes;if(!cp(r.keep,t,n)){var a=i.attr("text"),o=i.get("delegateObject").item.name;a!==o&&Vo(i)}}function sT(i,r,t,e){var n=e.nodes.nodes,a=uT(n);if(!(t<=1)){var o=n[t],s=lT(t,n),l=s.centerX-o.centerX,u=s.centerY-o.centerY,h=Math.sqrt(l*l+u*u);h<a&&(Vo(i),i.set("blank",!0))}}function lT(i,r){for(var t=i-1;t>0;t--){var e=r[t];if(!e.shape.get("blank"))return e}}function uT(i){var r=(0,f.deepMix)([],i);return r.sort(function(t,e){return e.width-t.width}),Math.round(r[0].width)}function fT(i,r,t,e){var n=e.nodes.nodes,a=n[t];a.line&&a.line.remove();var o=e.plot.initialOptions.data,s=e.plot[e.plot.type]||e.plot[e.plot.baseType],l=(0,f.get)(s,["label","fields",0],(0,f.get)(s,["position","fields",1])),u=hT(o,l,n),h=!1;if((0,f.each)(u,function(A){A.shape.get("origin")===a.shape.get("origin")&&(h=!0)}),h){if(a.origin_position){var c=a.origin_position,v=c.x,g=c.y;i.attr("x",v),i.attr("y",g)}}else Vo(i)}function hT(i,r,t){var e=[];(0,f.each)(i,function(h){e.push(h[r])}),e.sort(function(h,c){return h-c});var n=e[0],a=Zf(t,r,n),o=e[e.length-1],s=Zf(t,r,o),l=cT(e),u=Zf(t,r,l);return{min:a,max:s,median:u}}function cT(i){var r=(0,f.clone)(i);r.sort(function(e,n){return e-n});var t=Math.floor(r.length/2);return r.length%2,r[t]}function Zf(i,r,t){for(var e=0,n=i;e<n.length;e++){var a=n[e],o=a.shape.get("origin")._origin;if(o[r]===t)return a}}function vp(i,r){var t=r.abbreviateBy?r.abbreviateBy:"end",e=i.attr("text"),n;t==="end"&&(n=e[0]+"..."),t==="start"&&(n="..."+e[e.length-1]),t==="middle"&&(n=e[0]+"..."+e[e.length-1]),i.resetMatrix(),i.attr({text:n,textAlign:"center",textBaseline:"top"})}function vT(i,r,t,e){var n=e.nodes.nodes,a=i.attr("text"),o=/^\d+$/.test(a);o?fp(i,r,t,n):K_(a)?op(i,r,t,n):vp(i,r)}function dT(i,r){i.resetMatrix(),i.attr({rotate:360-r.degree,textAlign:"right",textBaseline:"middle"})}function pT(i,r){for(var t=i.attr("text"),e=Math.ceil(t.length/r.lineNumber),n="",a=1;a<r.lineNumber;a++){var o=e*a;n=t.slice(0,o)+`
`+t.slice(o)}var s=i.attr("fontSize");i.attr({text:n,lineHeight:s,textAlign:"center",textBaseline:"top"})}var dp={textWrapper:pT,textRotation:dT,textAbbreviate:vp,textHide:Vo,digitsAbbreviate:fp,datetimeStringAbbrevaite:op,robustAbbrevaite:vT,nodesResampling:aT,nodesResamplingByAbbrevate:oT,nodesResamplingByChange:sT,nodesResamplingByState:fT,nodeJitter:tT,nodeJitterUpward:nT,clearOverlapping:H_};function VG(i,r){dp[i]=r}var gT=function(){function i(r){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,(0,f.assign)(this,r),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}return i.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},i.prototype._iteration=function(){var r;this.nodes.type==="shape"?r=this.nodes:r=this.nodes,r.type==="shape"&&r.measureNodes(),this.rules&&this._applyRules(),r.type==="shape"&&r.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},i.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},i.prototype._run=function(){for(var r=this._constraintsTest();!r&&!(this.iterationIndex>this.iterationTime-1);)this._iteration(),r=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},i.prototype._constraintsTest=function(){var r=ep[this.currentConstraint.name],t=this.currentConstraint.option;return r.usage==="compare"?this._constraintCompare(r,t):this._constraintAssignment(r,t)},i.prototype._constraintCompare=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintCompare(n,a,t);if(e==="padding")return this._paddingConstraintCompare(n,this.region,a,t);if(e==="group")return this._groupConstraintCompare(n,a,t)},i.prototype._chainConstraintCompare=function(r,t,e){for(var n=0;n<t.length-1;n++){var a=t[n],o=t[n+1];if(r(a,o,e)===!1)return!1}return!0},i.prototype._paddingConstraintCompare=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a];if(r(s,t,n)===!1)return!1}return!0},i.prototype._groupConstraintCompare=function(r,t,e){for(var n=0;n<t.length;n++)for(var a=t[n],o=0;o<t.length;o++)if(o!==n){var s=t[o];if(r(a,s,e)===!1)return!1}return!0},i.prototype._constraintAssignment=function(r,t){var e=r.type,n=r.expression,a=this.nodes.nodes;if(e==="chain")return this._chainConstraintAssign();if(e==="padding")return this._paddingConstraintAssign(n,this.region,a,t)},i.prototype._chainConstraintAssign=function(){return!0},i.prototype._paddingConstraintAssign=function(r,t,e,n){if(t)for(var a=0,o=e;a<o.length;a++){var s=o[a],l=r(s,t,n);s.value=l}return!0},i.prototype._applyRules=function(){for(var r=this.rules[this.currentConstraint.name][this.iterationIndex],t=dp[r.name],e=r.option?r.option:{},n=this.nodes.nodes,a=0;a<n.length;a++){var o=n[a];this._applyRule(o.shape,t,e,a)}},i.prototype._applyRule=function(r,t,e,n){var a={nodes:this.nodes,region:this.region,plot:this.plot};t(r,e,n,a)},i}(),pp=gT,yT=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},i}(),gp=yT,mT={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"},xT=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.axisInstance=this.getAxisInstance(),i.prototype.init.call(this)},r.prototype.shouldApply=function(){var t=this.plot.options;return this.responsiveTheme.axis?!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible):!1},r.prototype.apply=function(){for(var t=this,e=this.plot.view.backgroundGroup.findAll(function(h){var c=h.get("name");if(c==="axis-label"){var v=h.get("delegateObject").axis.get("field");if(v===t.plot.options[t.dim+"Field"])return h}}),n=[],a=0;a<e.length;a++)n.push(e[a]);var o=new tp({shapes:n}),s=this.responsiveTheme.axis.x[this.type],l=s.constraints,u=s.rules;new pp({nodes:o,constraints:l,region:this.plot.getViewRange(),rules:u,plot:this.plot,onEnd:function(h){t.updateTicks(h.origion_nodes)}})},r.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&t[e].type==="dateTime")return"dateTime";var a=this.plot.view.getScaleByField([t[n]]).type;return mT[a]},r.prototype.getAxisInstance=function(){var t,e,n=this.dim==="x"?0:1,a=(t=this.plot.view.getController("axis"))===null||t===void 0?void 0:t.getComponents();if(a)return(e=a[n])===null||e===void 0?void 0:e.component},r.prototype.updateTicks=function(t){var e=this,n=this.plot.view.backgroundGroup.findAll(function(o){var s=o.get("name");if(s==="axis-tickline-group"){var l=o.get("delegateObject").axis.get("field");if(l===e.plot.options[e.dim+"Field"])return o}})[0];if(n){var a=n.get("children");(0,f.each)(t,function(o,s){o.shape.attr("text")===""&&a[s].attr("opacity",0)})}this.plot.canvas.draw()},r}(gp),oo=xT;function bT(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var wT=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},r.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];(0,f.each)(t,function(l){e=e.concat(l.findAllByName("label"))});var n=new tp({shapes:e}),a=this.responsiveTheme.label[this.type],o=a.constraints,s=a.rules;new pp({nodes:n,constraints:o,rules:s,plot:this.plot,region:this.plot.view.coordinateBBox})},r.prototype.getType=function(){return null},r}(gp),yp=wT,ST=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","type"],"point")},r}(yp);function CT(i){var r=i.getResponsiveTheme();new ST({plot:i,responsiveTheme:r})}var MT=[],ET=[{name:"responsiveAxis",method:bT},{name:"responsivePointLabel",method:CT}],AT={preRender:MT,afterRender:ET},mp=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Rt.__assign)({offsetX:0,offsetY:0},n)},r.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},r.prototype.getLabelItemAttrs=function(t,e){var n=this,a=this.options,o=a.style,s=a.formatter,l=(0,f.get)(t,"model.mappingData",[]);return(0,f.map)(l,function(u,h){var c,v=n.getValue(u);return(0,Rt.__assign)((0,Rt.__assign)((0,Rt.__assign)({},n.getPosition(u)),{text:s?s(v,(c={},c[bs]=u._origin,c.mappingDatum=u,c.mappingDatumIndex=h,c.element=t,c.elementIndex=e,c),e):v,textAlign:"center",textBaseline:"middle"}),o)})},r.prototype.getValue=function(t){return(0,f.get)(t._origin,this.layer.options.yField)},r.prototype.getPosition=function(t){var e={x:(0,f.isArray)(t.x)?(0,f.last)(t.x):t.x,y:(0,f.isArray)(t.y)?(0,f.last)(t.y):t.y};return e},r.prototype.layoutLabels=function(t,e){var n=this;if(!!this.options.adjustPosition){var a=this.isOverlapped(e);if(a){var o=this.getGlobalTolerance(e);(0,f.each)(e,function(s,l){l>1&&n.labelResamplingByChange(s,e,l,o)})}a=this.isOverlapped(e),a&&(0,f.each)(e,function(s,l){s.get("visible")&&n.clearOverlapping(s,e,l)})}},r.prototype.adjustLabel=function(){},r.prototype.labelResamplingByChange=function(t,e,n,a){var o=this.findPrevious(n,e),s=this.getCenter(t),l=this.getCenter(o),u=l.x-s.x,h=l.y-s.y,c=Math.sqrt(u*u+h*h);c<a&&t.set("visible",!1)},r.prototype.clearOverlapping=function(t,e,n){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(o!==n&&s.get("visible")){var l=id(t.getBBox(),s.getBBox());l&&a.push(s)}}a.length>0&&(a.push(t),a.sort(function(u,h){return h.minY-u.minY}),(0,f.each)(a,function(u,h){h>0&&u.set("visible",!1)}))},r.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible")){for(var n=t[e].getBBox(),a=0;a<t.length;a++)if(a!==e&&t[a].get("visible")){var o=t[a].getBBox(),s=id(n,o);if(s)return!0}}return!1},r.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(n,a){return a.getBBox().width-n.getBBox().width}),Math.round(e[0].getBBox().width)},r.prototype.findPrevious=function(t,e){for(var n=t-1;n>0;n--)if(e[n].get("visible"))return e[n]},r.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,a=e.maxX,o=e.minY,s=e.maxY;return{x:n+(a-n)/2,y:o+(s-o)/2}},r}(Pf),xp=mp;Ri("point",mp);var bp=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){var n=this,a,o=[],s=Dr.fromBBoxObject(this.getCoordinateBBox()),l=t.getXYFields(),u=l[0],h=l[1],c=(0,f.groupBy)(e,function(g){return g.get(Zi)[nn.FIELD_ORIGIN][u]}),v=(a=e[0])===null||a===void 0?void 0:a.get("offset");(0,f.each)((0,f.keys)(c).reverse(),function(g){for(var A=n.sortLabels(t,c[g]);A.length;){var k=A.shift();if(AA(k,o,function(N,st){return N._origin[u]===st._origin[u]&&N._origin[h]===st._origin[h]})){k.set("visible",!1);continue}_l(k,s);var F=Tl(k,o),Y=void 0;if(F&&(k.attr("y",k.attr("y")+2*v),_l(k,s),Y=Tl(k,o)),Y){k.set("visible",!1);continue}o.push(k)}})},r.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],a=[];return e.sort(function(o,s){return s.get(Zi)[nn.FIELD_ORIGIN][n]-o.get(Zi)[nn.FIELD_ORIGIN][n]}),e.length>0&&a.push(e.shift()),e.length>0&&a.push(e.pop()),a.push.apply(a,e),a},r}(xp),_T=bp;Ri("point-auto",bp);var TT=8,PT=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=r.getShapeInfo(e.shape),a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(n.name):n.name;r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:n.x+s,y:n.y+l,text:h,fill:n.color,textAlign:"left",textBaseline:"middle"},o),name:"label"})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return delete t.fill,{offsetX:TT,offsetY:0,style:t}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="line"})},i.prototype.getShapeInfo=function(r){var t=r.get("origin").points,e=t[t.length-1],n=r.attr("stroke"),a=this.plot.options.seriesField,o=r.get("origin").data[0][a];return{x:e.x,y:e.y,color:n,name:o}},i}(),wp=PT,LT={line:"line",point:"point"},OT=si(LT);(0,f.assign)($r,OT);var IT={stroke:"transparent",fill:"#FCC509",lineWidth:0},kT={stroke:"#FFF",fill:"#FCC509",lineWidth:1},BT={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1},DT=function(){function i(r){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:IT,selected:BT,active:kT},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=r.view,this.size=r.size||6,this.config=(0,f.deepMix)({},this.defaultCfg,r),this._init()}return i.prototype.render=function(){var r=this.getDataArray();this._renderPoints(r),this.view.canvas.draw(),this._addInteraction()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},i.prototype.getDataArray=function(){var r=this.view.geometries[0];return r.dataArray},i.prototype._init=function(){var r=this,t=this.view.foregroundGroup;this.container=t.addGroup(),this.render(),this.view.on("beforerender",function(){r.clear()})},i.prototype._renderPoints=function(r){var t=this;(0,f.each)(this.config.data,function(e,n){(0,f.each)(r,function(a){var o=(0,f.find)(a,function(Y){return(0,f.isMatch)(Y._origin,e)});if(o){var s=t.config.style.normal,l=t.container.addGroup({name:t.name}),u=o.x,h=o.y;(0,f.isArray)(u)&&(u=u[0]),(0,f.isArray)(h)&&(h=h[0]);var c=t.config.symbol,v=t.config,g=v.offsetX,A=v.offsetY,k=void 0;if((0,f.isString)(c)&&c.startsWith("image://")){var F=c.substr(8);k=l.addShape("image",{attrs:{x:u-t.size/2+g,y:h-t.size/2+A,img:F,width:t.size,height:t.size}})}else c=(0,f.isString)(c)?$2.MarkerSymbols[c]:c,k=l.addShape({type:"marker",name:"marker-point",id:"point-"+n,attrs:(0,Rt.__assign)((0,Rt.__assign)({x:u+g,y:h+A,r:t.size/2},s),{symbol:c})});t.points.push(k),t._animatePoint(k),t._renderLabel(l,o,n),l.set("data",e),l.set("origin",o)}})})},i.prototype._renderLabel=function(r,t,e){var n=this.config.label;if(n&&n.visible){var a=n.offsetX,o=a===void 0?0:a,s=n.offsetY,l=s===void 0?0:s,u=n.formatter,h=n.position,c=n.field,v=t._origin[c];u&&(v=u(v,{_origin:t._origin},e));var g=(0,f.isArray)(t.x)?t.x[0]:t.x,A=(0,f.isArray)(t.y)?t.y[0]:t.y,k=r.addShape("text",{name:"marker-label",id:"label-"+e,attrs:(0,Rt.__assign)((0,Rt.__assign)({x:g+o,y:A+l,text:v||""},n.style),{textAlign:"center",textBaseline:h==="top"?"bottom":"top"})});this.labels.push(k)}},i.prototype._addInteraction=function(){var r=this,t=this.config.events;(0,f.each)(t,function(e,n){r.container.on(r.name+":"+n,function(a){e(a);var o=a.target.get("parent"),s=o.get("children")[0];if(s){var l=s.get("data"),u=s.get("id"),h={id:u,data:l};n==="click"?r.selectedPoint&&r.selectedPoint.get("id")===u?(r.selectedPoint=null,r.setState("inactive",h)):(r.selectedPoint=s,r.setState("selected",h)):n==="mouseenter"?r.setState("active",h):n==="mouseleave"&&r.setState("inactive",h)}r.view.canvas.draw()}),r.view.on("click",function(a){var o=a.target.get("parent");(!o||o.get("name")!==r.name&&r.selectedPoint)&&(r.selectedPoint=null,r.setState("inactive"))})})},i.prototype.setState=function(r,t){var e=this;r==="active"?(!this.selectedPoint||t.id!==this.selectedPoint.get("id"))&&this._onActive(t):r==="inactive"?this.points.forEach(function(n){return e._onInactive(n)}):r==="selected"&&this._onSelected(t)},i.prototype._onActive=function(r){var t=this,e=this.config.style.active;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._onInactive=function(r){var t=this.config.style.normal;(!this.selectedPoint||r.get("id")!==this.selectedPoint.get("id"))&&(0,f.each)(t,function(e,n){r.attr(n,e)})},i.prototype._onSelected=function(r){var t=this,e=this.config.style.selected;(0,f.each)(this.points,function(n){n.get("id")===r.id?(0,f.each)(e,function(a,o){n.attr(o,a)}):t._onInactive(n)})},i.prototype._animatePoint=function(r){var t=this.config,e=t.animation,n=t.size;if(e!==!1){var a=e,o=a.endState,s=o===void 0?{}:o,l=a.animateCfg,u=l===void 0?ro.DEFAULT_ANIMATE_CFG.appear:l;r.animate((0,Rt.__assign)({r:Number.isNaN(s.size/2)?n/2:s.size/2},s),u)}},i}(),FT=DT,RT=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+1}},NT=function(i){var r=i.shape,t=r.attr("opacity")||1;return{opacity:t*.2}},GT=function(i){var r=i.shape,t=r.attr("lineWidth")||1;return{lineWidth:t+2}};Ni("line",{lineStyle:{normal:{},active:RT,disable:NT,selected:GT},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var YT={label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}};Hd("line",YT);var zT=function(i){(0,Rt.__extends)(r,i);function r(t){return i.call(this,(0,Rt.__assign)({processEvent:"mousemove"},t))||this}return r.prototype.start=function(){},r.prototype.process=function(t){var e=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"}),n=t.target;if(n.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",s.data===a)})})}else(0,f.each)(e,function(o){(0,f.each)(o.elements,function(s){s.setState("active",!1)})})},r}(Rf),XT=zT,VT=function(i){(0,Rt.__extends)(r,i);function r(t){return i.call(this,(0,Rt.__assign)({endEvent:"click"},t))||this}return r.prototype.start=function(){},r.prototype.end=function(t){var e=t.target,n=(0,f.filter)(this.view.geometries,function(o){return o.type=="line"});if(e.get("name")==="line"){var a=(0,f.get)(t,"data.data");(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",s.data!==a)})})}else(0,f.each)(n,function(o){(0,f.each)(o.elements,function(s){s.setState("inactive",!1)})})},r}(Rf),HT=VT,WT=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},r}(Qv.Z);jr("selected-tooltip",WT);var jT=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.getPoint();(0,f.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.showTooltip=function(t){var e=this.getTooltipController();e.showTooltip(t)},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},r.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],a=t.getCoordinate(),o=(0,f.last)(e.getTicks()).value;return a.convert({x:o,y:(n.range[0]+n.range[1])/2})},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},r}(Ur),UT=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),r.prototype.getTooltipCfg=function(){var t=i.prototype.getTooltipCfg.call(this);return(0,Rt.__assign)((0,Rt.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},r}(Qv.Z);jr("tooltip-active",UT);var ZT=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(){this.getView().removeInteraction("tooltip")},r.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},r.prototype.hide=function(){var t=this.getView(),e=this.getTooltipController();e.hideTooltip();var n=(0,f.filter)(t.geometries,function(a){return a.type=="point"});(0,f.each)(n,function(a){(0,f.each)(a.elements,function(o){o.setState("active",!1)})})},r.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var a=n.getTooltipItems(t),o=(0,f.filter)(e.geometries,function(s){return s.type=="point"});(0,f.each)(o,function(s){(0,f.each)(s.elements,function(l){l.setState("active",(0,f.findIndex)(a,function(u){return u.data===l.data})!==-1)})})},r.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},r.prototype.getView=function(){return this.context.view},r.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},r}(Ur),KT=ZT;Sr("selected-tooltip",jT),gn("selected-tooltip",{start:[{trigger:nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),Sr("marker-active",KT),gn("marker-active",{start:[{trigger:nn.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var $T={line:"line",point:"point"},Sp=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},r.prototype.afterRender=function(){var t=this,e=this.options;this.renderLabel(),e.markerPoints&&((0,f.each)(this.markerPoints,function(n){return n.destroy()}),this.markerPoints=[],e.markerPoints.forEach(function(n){if(n.visible){var a=new FT((0,Rt.__assign)((0,Rt.__assign)({},n),{view:t.view}));t.markerPoints.push(a)}})),e.responsive&&e.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return $T[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Qn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Qn(e[t.yField],t.yAxis),this.setConfig("scales",e),M_(e[t.yField],(0,f.map)(t.data||[],function(n){return n[t.yField]})),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.tooltip=function(){(0,f.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){this.addLine(),this.addPoint()},r.prototype.addLine=function(){var t=this.options;this.line=Nn("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},r.prototype.addPoint=function(){var t=this.options,e={visible:!1};t.point&&(t.point=(0,f.deepMix)(e,t.point)),t.point&&t.point.visible&&(this.point=Nn("point","guide",{plot:this}),this.setConfig("geometry",this.point))},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=io(this.view,"line");if(n.type==="line"){var l=new wp((0,Rt.__assign)({view:this.view,plot:this},this.options.label));l.render()}else this.doRenderLabel(s,(0,Rt.__assign)({type:"point",formatter:o.formatter&&function(u){return o.formatter(u)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation?(T_({options:this.options,view:this.view}),this.line.animate=t.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},r.prototype.applyInteractions=function(){i.prototype.applyInteractions.call(this),this.interactions.push(new XT({view:this.view})),this.interactions.push(new HT({view:this.view}))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,_)},r.prototype.applyResponsive=function(t){var e=this,n=AT[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&this.options.label.type==="line"},r}(Bn),Cs=Sp;Xr("line",Sp);var QT=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Cs.getDefaultOptions,r}(Ir),Cp=QT;function JT(i,r,t,e,n){var a=e-r,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=r;(0,f.each)(o,function(h){h.y0=t,h.y1=n,h.x0=u,u+=h.value*l,h.x1=h.x0+h.value*l})}function qT(i,r,t,e,n){var a=n-t,o=i.children,s=i.value;o.sort(function(h,c){return c.value-h.value});var l=a/s,u=t;(0,f.each)(o,function(h){h.x0=r,h.x1=e,h.y0=u,u+=h.value*l,h.y1=h.y0+h.value*l})}var tP=(1+Math.sqrt(5))/2;function Mp(i,r,t,e,n){var a=i.children,o=i.value;a.sort(function(Wt,Qt){return Qt.value-Wt.value});for(var s=[],l,u,h,c,v,g,A,k,F=0,Y=0;F<a.length;){var N=e-r,st=n-t;for(l=a[Y++].value,u=l,h=l,c=Math.max(st/N,N/st)/(o*tP),v=l*l*c,A=Math.max(u/v,v/h);Y<a.length;Y++){if(k=a[Y].value,l+=k,k<h&&(h=k),k>u&&(u=k),v=l*l*c,g=Math.max(u/v,v/h),g>A){l-=k;break}A=g}var lt={value:l,dice:N<st,children:a.slice(F,Y)};if(s.push(lt),lt.dice){var At=o?st*l/o:st;JT(lt,r,t,e,t+At),o&&(t+=At)}else{var zt=o?N*l/o:N;qT(lt,r,t,r+zt,n),o&&(r+=zt)}o-=l,F=Y}return s}var eP=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.listeners=[],t.onItemGroupToggleActive=function(e,n){return function(){var a=e.get("children").find(function(o){return o.get("class")==="item-background"});a&&a.attr(n?t.itemActiveBackgroundStyle:t.itemBackgroundStyle),t.getCanvas().draw()}},t}return r.prototype.destroy=function(){this.offEvents(),i.prototype.destroy.call(this)},r.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=(0,Rt.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=(0,Rt.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=(0,Rt.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=(0,Rt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=(0,Rt.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},r.prototype.renderInner=function(t){var e=0,n=0;this.offEvents(),this.renderItems(t,e,n),Pd(this.group,this.x,this.y)},r.prototype.renderItems=function(t,e,n){var a=this,o=this.itemPadding,s=o[0],l=o[1],u=o[2],h=o[3],c,v=t.addShape("rect",{class:"breadcrumb-background",attrs:(0,Rt.__assign)({x:e,y:n,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(g,A){var k=t.addGroup({id:"item-group-"+g.key,data:g,class:"item-group",attrs:{cursor:"pointer"}}),F=k.addShape("rect",{id:"item-background-"+g.key,class:"item-background",attrs:(0,Rt.__assign)((0,Rt.__assign)({x:e,y:n,width:h+l,height:s+u},a.itemBackgroundStyle),{cursor:"pointer"})});F.name="breadcrumb";var Y=k.addShape("text",{id:"item-text-"+g.key,class:"item-text",attrs:(0,Rt.__assign)((0,Rt.__assign)({x:e+h,y:n+s,text:g.text},a.textStyle),{cursor:"pointer"})});Y.name="breadcrumb";var N=Y.getBBox();c=a.itemHeight||N.height;var st=a.itemWidth||N.width;a.maxItemWidth&&(st=Math.min(st,a.maxItemWidth));var lt={x:e,y:n,width:st+h+l,height:c+s+u};if(F.attr("width",lt.width),F.attr("height",lt.height),k.setClip({type:"rect",attrs:lt}),e+=lt.width,A!==a.items.length-1){var At=t.addShape("text",{attrs:(0,Rt.__assign)({x:e,y:n+s,text:a.separator},a.separatorStyle),class:"separator"});e+=At.getBBox().width}}),v.attr({width:e,height:c+s+u})},r.prototype.bindEvents=function(t){var e=this,n=this.items,a=t.get("children").filter(function(s){return s.get("class")==="item-group"}),o=function(s,l,u){return function(){var h=l.get("data"),c=n.find(function(v){return v.key===h});e.emit(u,{item:c})}};a.forEach(function(s){var l=o("click",s,"onItemClick"),u=o("dblclick",s,"onItemDblclick"),h=e.onItemGroupToggleActive(s,!0),c=e.onItemGroupToggleActive(s,!1);s.on("click",l),s.on("dblclick",u),s.on("mouseenter",h),s.on("mouseleave",c),e.listeners.push({target:s,event:"click",callback:l}),e.listeners.push({target:s,event:"dblclick",callback:u}),e.listeners.push({target:s,event:"mouseenter",callback:h}),e.listeners.push({target:s,event:"mouseleave",callback:c})})},r.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,a=t.callback;e.off(n,a)}),this.listeners=[]},r}(ws),rP=eP,Ll=[1,0,0,0,1,0,0,0,1],Co=400,Ho="easeQuadInOut";function nP(i,r,t){var e=Tp(i),n=_p(r),a=n.width/e.width,o=n.height/e.height,s=(n.minX-e.minX)*a,l=(n.minY-e.minY)*o,u=zo([["s",a,o],["t",s,l]]),h=r.geometries[0];Ol(h);var c=r.backgroundGroup.addGroup();c.set("zIndex",-100),c.setClip({type:"rect",attrs:{x:n.minX,y:n.minY,width:n.width,height:n.height}});var v=Ep(h,c);h.container.set("visible",!1),r.canvas.draw(),t(),window.setTimeout(function(){(0,f.each)(v,function(F,Y){Y===0?F.animate({matrix:u},Co,Ho,function(){c.remove(),r.canvas.draw()}):F.animate(zo,Co)}),h=r.geometries[0],Ol(h);var g=h.getShapes();(0,f.each)(g,function(F){F.attr("opacity",0),F.animate({opacity:1},Co,Ho)});var A=h.container;A.stopAnimate(),A.set("visible",!0),A.attr("matrix",(0,f.clone)(Ll)),yA(A,[["s",e.width/n.width,e.height/n.height],["t",e.minX,e.minY]]);var k=(0,f.clone)(Ll);h.container.animate({matrix:k},Co,Ho,function(){Pp(h)}),r.canvas.draw()},16)}function Ep(i,r){var t=i.getShapes(),e=[];return(0,f.each)(t,function(n){var a=r.addShape("path",{attrs:(0,f.deepMix)({},n.attrs,{capture:!1})});e.push(a)}),e}function Ap(i,r,t){var e=r.geometries[0];Ol(e);var n=e.container;n.attr("matrix",(0,f.clone)(Ll));var a=r.backgroundGroup.addGroup();a.set("zIndex",-100);var o=Ep(e,a);n.set("visible",!1),r.canvas.draw(),t(),e=r.geometries[0],Ol(e),n=e.container;var s=iP(e.getShapes(),i),l=Tp(s),u=_p(r),h=n.get("parent");h.get("clipShape")||n.setClip({type:"rect",attrs:{x:u.minX,y:u.minY,width:u.width,height:u.height}}),aP(a,o,l,u);var c=u.width/l.width,v=u.height/l.height,g=(u.minX-l.minX)*c,A=(u.minY-l.minY)*v,k=zo([["s",c,v],["t",g,A]]);n.setMatrix(k),n.set("visible",!0),n.animate({matrix:Ll},Co,Ho,function(){Pp(e)})}function iP(i,r){var t;return(0,f.each)(i,function(e){var n=e.get("origin").data.name;n===r&&(t=e)}),t}function _p(i){var r=i.coordinateBBox,t={minX:r.minX,minY:r.minY,centerX:(r.maxX-r.minX)/2,centerY:(r.maxY-r.minY)/2,width:r.width,height:r.height};return t}function Tp(i){var r=i.attr("path"),t=r[0][1],e=r[0][2],n=r[1][1],a=r[2][2],o={minX:t,minY:a,centerX:(n-t)/2,centerY:(e-a)/2,width:Math.abs(n-t),height:Math.abs(e-a)};return o}function aP(i,r,t,e){var n=t.width/e.width,a=t.height/e.height,o=zo([["s",n,a],["t",t.minX,t.minY]]);i.animate({matrix:o},Co,Ho,function(){i.remove()}),(0,f.each)(r,function(s){s.animate({opacity:0},Co,Ho)})}function Ol(i){var r=i.labelsContainer;r.set("visible",!1)}function Pp(i){var r=i.labelsContainer;r.set("visible",!0)}var oP=100,sP=30,lP=10,uP=function(i){i===void 0&&(i={});var r=(0,Rt.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:oP,itemHeight:sP,padding:[0,0,0,0]},i);return r},Lp=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getInteractionRange=function(t,e){var n=uP(e),a=n.padding,o=a[0],s=a[1];if(t)return new Dr(t.minX,t.maxY-n.itemHeight-o-s,t.width,n.itemHeight+o+s)},r.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:(0,f.clone)(this.currentNode.name),value:(0,f.clone)(this.currentNode.value)},depth:(0,f.clone)(this.currentDepth)},this.currentDepth++,nP(t.target,this.view,function(){e.update(n)}))},r.prototype.update=function(t){(0,f.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},r.prototype.render=function(){if(this.breadcrumb){var t=this.getItems();this.breadcrumb.update({items:t}),this.breadcrumb.render(),this.layout()}else this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),this.startNode.name==="root"?(this.startNodeName=(0,f.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+lP,this.breadcrumb=new rP({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw(),this.layout();this.onInteraction()},r.prototype.clear=function(){},r.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},r.prototype.getItems=function(){var t=[];if(this.currentNode.name&&this.currentNode.name===this.startNodeName){var e=this.getRootItem();t.push(e)}else{t=[];var n=[];this.findParent(this.currentNode,n),t.push(this.getRootItem()),(0,f.each)(n,function(a,o){t.push({key:String(o+2),text:a.name,data:a})}),t.push({key:String(n.length+2),text:this.currentNode.name,data:this.currentNode})}return t},r.prototype.findParent=function(t,e){if(t.parent)(0,f.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e);else return},r.prototype.onInteraction=function(){var t=this;this.container.on("click",function(e){var n=e.target.get("parent");if(n&&n.get("class")==="item-group"){var a=n.get("data");if(a.data)if(a.text===t.startNodeName){var o=1;t.currentDepth-1===o?Ap(t.currentNode.name,t.view,function(){t.updateRoot(a)}):t.updateRoot(a),t.currentDepth=1}else{if(t.currentNode===a.data)return;var s=(0,f.clone)(t.currentDepth);t.currentDepth=parseInt(a.key),s-1===t.currentDepth?Ap(t.currentNode.name,t.view,function(){t.update(a.data)}):t.update(a.data)}}})},r.prototype.getRootItem=function(){var t=this.plot.options.data,e=(0,f.hasKey)(t,"name")?t.name:"root";return{key:"1",text:e,data:this.plot.rootData}},r.prototype.saveOriginMapping=function(){var t=this.plot.options,e=t.colorField,n=t.colors,a={field:e,values:n};this.originMapping=a},r.prototype.adjustScale=function(t){var e=this.view;if(this.mapping&&(0,f.hasKey)(this.mapping,String(t))){var n=(0,f.clone)(this.mapping[t]);if(n.values&&(0,f.isFunction)(n.values)){var a=n.values(this.parentNode,this.currentNode);n.values=a}this.view.geometries[0].color(n.field,n.values)}else{var n=(0,f.clone)(this.originMapping);this.view.geometries[0].color(n.field,n.values)}e.render()},r.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox,e=this.geometry.container;e.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},r.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},r}(da),fP=Lp;da.registerInteraction("drilldown",Lp);var hP={drilldown:fP},cP={rect:"polygon",breadcrumb:"breadcrumb"},vP=si(cP);(0,f.assign)($r,vP);var Op=4,dP=8;function pP(i,r){return!i.children||i.depth>=r}function gP(i,r,t){var e=i.attr("fontSize"),n=i.attr("text"),a=t.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),o=n.split(`
`),s=o.map(function(l){for(var u="",h=l.split(""),c=[],v=0;v<h.length;v++){var g=h[v];a.attr("text",u+=g);var A=a.getBBox().width-1;if(A>r){if(v===0)break;c.push(v),u=""}}return nd(h,c)});return a.remove(),s.join(`
`)}function Ip(i,r,t,e){for(var n=e.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:r}}),a=n.getBBox().width,o=e.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:r}}),s="",l=t-a,u=0;u<i.length;u++){var h=i[u];o.attr("text",s+=h);var c=o.getBBox().width;if(c>=l){var v=s.substr(0,s.length-1);if(v.length>0)return v+"..."}}return o.remove(),n.remove(),s}var yP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry().elements;(0,f.each)(t,function(e){var n=e.shape,a=n.get("origin").data,o=pP(a,r.plot.options.maxLevel);if(a.showLabel){var s=(0,f.clone)(r.options.style),l=r.getPosition(n,o),u=r.options.formatter,h=u?u(a.name):a.name,c=r.getTextBaseLine(o),v=r.container.addShape("text",{attrs:(0,f.deepMix)({},s,{x:l.x,y:l.y,text:h,fill:"black",textAlign:"center",textBaseline:c,fontWeight:o?300:600}),name:"label"});r.adjustLabel(v,n,o)}})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getPosition=function(r,t){var e=r.getBBox(),n=0,a=0;return t?(n=e.minX+e.width/2,a=e.minY+e.height/2):(n=e.x+e.width/2,a=e.y+4),{x:n,y:a}},i.prototype.getTextBaseLine=function(r){return r?"middle":"top"},i.prototype.adjustLabel=function(r,t,e){e?this.adjustLeafLabel(r,t):this.adjustParentLabel(r,t)},i.prototype.adjustLeafLabel=function(r,t){var e=t.getBBox(),n=r.getBBox(),a=(0,f.clone)(r.attr("text")),o=2,s=Math.max(r.attr("fontSize")-o,dP),l=e.x+e.width/2,u=e.y+e.height/2;r.attr({x:l,y:u,textAlign:"center",textBaseline:"middle",lineHeight:s,fontSize:s});var h=e.width-Op*2;if(n.width>e.width&&n.height>e.height){r.attr("text","");return}else if(h<s){r.attr("text","");return}if(n.width>e.width){var c=gP(r,h,this.container);r.attr({lineHeight:r.attr("fontSize"),text:c});var v=r.getBBox();if(v.height>e.height){var g=Ip(a,s,h,this.container);r.attr("text",g)}}},i.prototype.adjustParentLabel=function(r,t){var e=t.getBBox(),n=e.width-Op*2;if(r.getBBox().width>n){var a=Ip(r.attr("text"),r.attr("fontSize"),n,this.container);r.attr("text",a)}},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="polygon"})},i}(),mP=yP,xP=4,Ms=4,kp=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},r.prototype.beforeInit=function(){var t=this;i.prototype.beforeInit.call(this);var e=this.options.interactions;e&&(0,f.each)(e,function(o){o.type==="drilldown"&&(t.isDrilldown=!0,t.options.maxLevel=1)});var n=this.options.data,a=this.getTreemapData(n);this.rootData=a},r.prototype.afterRender=function(){if(i.prototype.afterRender.call(this),this.options.label&&this.options.label.visible){var t=new mP((0,Rt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.geometryParser=function(){return"polygon"},r.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),a=Mp(t,n.x,n.y,n.width,n.height);this.recursive(a,1);var o=[];return this.getAllNodes(a,o,e),o.sort(function(s,l){return s.depth-l.depth}),this.options.xField="x",this.options.yField="y",o},r.prototype.processData=function(){return this.rootData},r.prototype.coord=function(){},r.prototype.addGeometry=function(){var t=this,e=this.options,n=e.data,a=e.colorField,o=e.color,s=this.getTreemapData(n);this.rootData=s;var l=this.isNested(s);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[a],values:o},style:{fields:["depth"],callback:function(u){var h=t.adjustStyleByDepth(u,l);return(0,f.deepMix)({},h,t.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},r.prototype.applyInteractions=function(){var t=this,e=this.options.interactions,n=this.view.interactions;(0,f.each)(e,function(a){var o=hP[a.type];if(o){var s=new o((0,f.deepMix)({},{view:t.view,plot:t,startEvent:"polygon:click"},a.cfg,o.getInteractionRange(t.layerBBox,a.cfg)));n[a.type]=s}})},r.prototype.animation=function(){i.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,E)},r.prototype.recursive=function(t,e){var n=this,a=this.options.colorField;(0,f.each)(t,function(o){(0,f.each)(o.children,function(s){s.depth=e,e>1&&(s.parent=o),(0,f.hasKey)(s,a)||(s[a]=o[a]),s.showLabel=!0;var l=n.isLeaf(s);if(!l){var u=Math.abs(s.y1-s.y0),h=n.getLabelHeight(),c=u/2>h?h:Ms;s.showLabel=c!==Ms;var v=Mp(s,s.x0+Ms,s.y0+c,s.x1-Ms,s.y1-Ms);n.fillColorField(v,a,s[a]),n.recursive(v,s.depth+1)}})})},r.prototype.getAllNodes=function(t,e,n){var a=this,o=n||this.options.maxLevel,s=this.getViewRange();(0,f.each)(t,function(l){(0,f.hasKey)(l,"x0")&&l.depth<=o&&e.push((0,Rt.__assign)((0,Rt.__assign)({},l),{x:[l.x0,l.x1,l.x1,l.x0],y:[s.height-l.y1,s.height-l.y1,s.height-l.y0,s.height-l.y0]})),(0,f.hasKey)(l,"children")&&a.getAllNodes(l.children,e)})},r.prototype.fillColorField=function(t,e,n){(0,f.each)(t,function(a){(0,f.hasKey)(a,e)||(a[e]=n)})},r.prototype.getLabelHeight=function(){var t=this.options.label,e=this.getPlotTheme().label.style.fontSize,n=0;if(t&&t.visible){var a=t.style;n=a&&a.fontSize?a.fontSize:e}return n+xP*2},r.prototype.isLeaf=function(t){return!t.children||t.children.length===0},r.prototype.isNested=function(t){var e=this.options.maxLevel;if(e===1)return!1;for(var n=!1,a=0;a<t.length;a++)if(t[a].children){n=!0;break}return n},r.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?t===1?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},r}(Bn),bP=kp;Xr("treemap",kp);var wP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="treemap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=bP.getDefaultOptions,r}(Ir),Bp=wP,Dp=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="step-line",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{step:"hv"})},r}(Cs);Xr("step-line",Dp);var SP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="step-line",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Dp.getDefaultOptions,r}(Ir),Fp=SP;function Rp(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}var CP=function(){function i(r){(0,f.deepMix)(this,this.constructor.getDefaultOptions(r),r),this._init()}return i.getDefaultOptions=function(r){var t=r.transpose;return{visible:!0,size:t?32:80,spacing:t?8:12,offset:t?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(e,n){return(100*n/e).toFixed(2)+"%"}},animation:(0,f.deepMix)({},ro.DEFAULT_ANIMATE_CFG)}},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype.draw=function(){var r=this,t=this.transpose,e=this.view.getScaleByField(this.field).values,n=this.view.geometries[0],a=n.getShapes(),o,s,l,u;t?a.forEach(function(h,c){s=e[c],c++>0&&r._drawTag(l,u,h,s),u=s,l=h}):a.forEach(function(h,c){u=e[c],c++>0&&r._drawTag(h,u,o,s),s=u,o=h})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._drawTag=function(r,t,e,n){var a=this.transpose,o=this.view.geometries[0].coordinate,s=Rp(r,o)[a?3:0],l=Rp(e,o)[a?0:3];this._drawTagArrow(s,l),this._drawTagValue(s,t,l,n)},i.prototype._drawTagArrow=function(r,t){var e=this.spacing,n=this,a=n.size,o=n.offset,s=n.animation,l=n.transpose,u=this.arrow.headSize,h=t.y-r.y,c=t.x-r.x,v;l?(c-u)/2<e?(e=Math.max(1,(c-u)/2),v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e,t.y-o-a/2]]):v=[[r.x+e,r.y-o],[r.x+e,r.y-o-a],[t.x-e-u,t.y-o-a],[t.x-e,t.y-o-a/2],[t.x-e-u,t.y-o]]:(h-u)/2<e?(e=Math.max(1,(h-u)/2),v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a/2,t.y-e]]):v=[[r.x+o,r.y+e],[r.x+o+a,r.y+e],[t.x+o+a,t.y-e-u],[t.x+o+a/2,t.y-e],[t.x+o,t.y-e-u]];var g=this.container.addShape("polygon",{name:"arrow",attrs:(0,Rt.__assign)((0,Rt.__assign)({},this.arrow.style),{points:v})});s!==!1&&this._fadeInTagShape(g)},i.prototype._drawTagValue=function(r,t,e,n){var a=this,o=a.size,s=a.offset,l=a.animation,u=a.transpose,h=this.value.formatter(t,n),c=this.container.addShape("text",{name:"value",attrs:(0,Rt.__assign)((0,Rt.__assign)({},this.value.style),{text:h,x:u?(r.x+e.x)/2:r.x+s+o/2,y:u?r.y-s-o/2:(r.y+e.y)/2,textAlign:"center",textBaseline:"middle"})});if(u){var v=e.x-r.x,g=c.getBBox().width;if(g>v){var A=g/h.length,k=Math.max(1,Math.ceil(v/A)-1),F=h.slice(0,k)+"...";c.attr("text",F)}}l!==!1&&this._fadeInTagShape(c)},i.prototype._fadeInTagShape=function(r){var t=this.animation,e=r.attr("opacity");r.attr("opacity",0);var n=(0,f.get)(t,"appear",ro.DEFAULT_ANIMATE_CFG.appear).duration;r.animate({opacity:e},n)},i}(),Np=CP;function MP(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var EP=[],AP=[{name:"responsiveAxis",method:MP}],_P={preRender:EP,afterRender:AP},TP=function(i){var r=i.opacity||1;return{opacity:r*.5}},PP=function(i){var r=i.opacity||1;return{opacity:r*.5}},Kf={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:TP,disable:PP,selected:{lineWidth:1,stroke:"black"}}};Ni("bar",Kf);function Va(i){var r=i.indexOf("#")===0?i.substr(1):i,t=[];return t.push(parseInt(r.substr(0,2),16)),t.push(parseInt(r.substr(2,2),16)),t.push(parseInt(r.substr(4,2),16)),t}function $f(i){var r;return r=Math.round(i),r=r.toString(16),r.length===1&&(r="0"+i),r}function HG(i){return"#"+($f(i[0])+$f(i[1])+$f(i[2]))}function Il(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var Qf=function(i){var r=Va(i),t=r[0],e=r[1],n=r[2],a=(t*299+e*587+n*114)/1e3<128;return a},Gp=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a=this.options,o=a.style,s=a.formatter,l=[].concat(t.getModel().mappingData),u=this.getValue(t);return(0,f.deepMix)({},o,(0,Rt.__assign)((0,Rt.__assign)({},this.getPosition(t)),{text:s?s(u,(n={},n[bs]=l[0]._origin,n.mappingDatum=l[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):u,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},r.prototype.adjustLabel=function(t,e){var n=this.options,a=n.adjustPosition,o=n.style;if(a){var s=this.getDefaultOffset(),l=t.getBBox(),u=this.getElementShapeBBox(e);if(u.width<=l.width){var h=u.maxX+this.options.offsetX+s;t.attr("x",h),t.attr("fill",o.fill)}}},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Rt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.xField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,A=c.position,k=l+u/2+g,F=n<0?-1:1,Y;if(A==="left"){var N=n>0?o:s;Y=N+e*F+v}else if(A==="right"){var N=n>0?s:o;Y=N+e*F+v}else Y=o+h/2+v;return{x:Y,y:k}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="right"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Va(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=Il(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="right"&&o&&e!=="black"?null:void 0},r.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position,a={right:"left",left:"left",middle:"center"},o={right:"right",left:"right",middle:"center"};return e<0?o[n]:a[n]},r.prototype.getTextBaseline=function(){return"middle"},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new Dr(s,h,l-s,c-h);return v},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Pf),Yp=Gp;Ri("bar",Gp);var zp=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.maxX,l=a.minY,u=a.height,h=this.options,c=h.offsetX,v=h.offsetY,g=l+u/2+v,A=n<0?-1:1,k=n>0?s:o,F=k+e*A+c;return{x:F,y:g}},r.prototype.getTextAlign=function(t){var e=this.getValue(t);return e>0?"left":"right"},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.height>=a.height})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(Zi)[nn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(Zi)[nn.FIELD_ORIGIN][o]]||[],g=c.get("element"),A=g.shape,k=Qf(A.attr("fill")),F=n.getElementShapeBBox(g),Y=Dr.fromBBoxObject(c.getBBox());if(Yf(a,F)<=0&&c.set("visible",!1),Y.width>F.width){var N=(0,f.findIndex)(v,function(lt){return lt===c});N!==v.length-1&&c.set("visible",!1)}else{c.attr({x:F.x+F.width/2,textAlign:"center"});var st=Y.width>F.width||Y.height>F.height;st?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:k?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:k?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(Zi)[nn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(Zi)[nn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(A){return l.push(A)})});l.length>0;){var v=l.shift();v.get("visible")&&(_l(v,n),Tl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(Yp),LP=zp;Ri("bar-auto",zp);var OP={bar:"interval"},IP=si(OP);(0,f.assign)($r,IP);var kP={bar:"interval"},BP={interval:"bar"},Xp=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){var t={xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this);var t=this.options;t.responsive&&t.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&t.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Np((0,Rt.__assign)({view:this.view,field:t.xField,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?kP[e]:BP[e]},r.prototype.processData=function(t){var e=t&&t.slice().reverse(),n=this.options.yField,a=[];return(0,f.each)(e,function(o){var s=(0,f.clone)(o);s[n]=s[n].toString(),a.push(s)}),a},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},(0,f.has)(t,"yAxis")&&Qn(e[t.yField],t.yAxis),e[t.xField]={},(0,f.has)(t,"xAxis")&&Qn(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.axis=function(){var t=gi("axis",{plot:this,dim:"x"}),e=gi("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},r.prototype.adjustBar=function(t){return null},r.prototype.addGeometry=function(){var t=this.options,e=Nn("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.bar.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,C)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,Rt.__assign)({type:"bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},r.prototype.applyResponsive=function(t){var e=this,n=_P[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r.prototype.getLabelOptionsByPosition=function(t){if(t==="middle")return{offset:0};if(t==="left")return{offset:7,style:{stroke:null,lineWidth:0}};if(t==="right")return{offset:4}},r}(Bn),kl=Xp;Xr("bar",Xp);var DP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=kl.getDefaultOptions,r}(Ir),Vp=DP;Ni("stackedBar",Kf);var FP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){if(this.options.adjustPosition){var n=t.getBBox(),a=this.getElementShapeBBox(e);a.maxX<=n.maxX&&t.set("visible",!1)}},r}(Yp),WG=null;Ri("stacked-bar",FP);var RP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(LP),jG=null;Ri("stacked-bar-auto",RP);var Hp=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.xField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,Rt.__assign)({type:"stacked-bar",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(kl),Jf=Hp;Xr("stackedBar",Hp);var NP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Jf.getDefaultOptions,r}(Ir),Wp=NP;Ni("groupedBar",Kf);var jp=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=(0,f.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(e){var n=e.items,a=n===void 0?[]:n,o=(0,f.sortBy)(a.slice(),function(s){return t.indexOf(s.name)}).reverse();o.forEach(function(s,l){e.items[l]=s})})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.scale=function(){var t={};t[this.options.groupField]={values:(0,f.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=(0,f.deepMix)({},this.options.meta,t):this.options.meta=t,i.prototype.scale.call(this)},r.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(kl),Up=jp;Xr("groupedBar",jp);var GP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Up.getDefaultOptions,r}(Ir),Zp=GP,qf=function(i,r,t){var e=(0,f.groupBy)(i,r);e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){return(0,f.map)(t,function(l){return s[l]})})}),e=(0,f.mapValues)(e,f.flatten),e=(0,f.mapValues)(e,function(o){return(0,f.map)(o,function(s){var l=Number.parseFloat(s);return!(0,f.isNumber)(l)||isNaN(l)?0:l})});var n=(0,f.mapValues)(e,function(o){return(0,f.reduce)(o,function(s,l){return s+l},0)}),a=(0,f.map)(i,function(o){var s=(0,Rt.__assign)((0,Rt.__assign)({},o),{_origin:o,total:n[o[r]]});return(0,f.each)(t,function(l){s[l]=o[l]/(n[o[r]]||1)}),s});return(0,f.each)((0,f.groupBy)(a,r),function(o){var s=0;(0,f.each)(o,function(l,u){(0,f.each)(t,function(h,c){(s+l[h]>=1||u===o.length-1&&c===t.length-1&&s>0)&&(l[h]=1-s),s+=l[h]})})}),a},Kp=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField,o=i.prototype.processData.call(this,t);return qf(o,a,[n])},r.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Jf),$p=Kp;Xr("percentStackedBar",Kp);var YP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$p.getDefaultOptions,r}(Ir),Qp=YP,Jp=8;function zP(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var XP=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,(0,f.each)(e,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextAlign(),h=[];(0,f.each)(s,function(c,v){var g=v===0?r.options.leftStyle:r.options.rightStyle,A=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&A!=="black"&&(g.stroke=null);var k=r.options.formatter,F=k?k(l[v]):l[v],Y=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:F,fill:A,textAlign:u[v],textBaseline:"middle"}),name:"label"});h.push(Y),r.doAnimation(Y)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Dr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:Jp,offsetY:0,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.maxX,a=t.minY,o=t.height,s=this.options,l=s.offsetX,u=s.offsetY,h=a+o/2+u,c,v;return this.options.position==="outer"?(c=e-l,v=n+l):(c=e+l,v=n-l),[{x:c,y:h},{x:v,y:h}]},i.prototype.getValue=function(r){var t=this.plot.options.xField;return r.get("origin").data[t]},i.prototype.getTextAlign=function(){return this.options.position==="outer"?["right","left"]:["left","right"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=Va(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=zP(s,o);return l}var u=t===0?this.options.leftStyle.fill:this.options.rightStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.x[0],o=n.x[1],s=Math.abs(o-a),l=this.view.coordinateBBox,u=[r.getBBox(),t.getBBox()],h=r.attr("x"),c=t.attr("x");if(this.options.adjustPosition&&this.options.position==="inner"){var v=u[0].width+u[1].width,g=u[0].maxX-u[1].minX>2,A=v>s;(g||A)&&(h=a-this.options.offsetX,r.attr("fill",this.options.leftStyle.fill),r.attr("textAlign","right"),u[0]=r.getBBox(),c=o+this.options.offsetX,t.attr("fill",this.options.rightStyle.fill),t.attr("textAlign","left"),u[1]=t.getBBox())}u[0].minX<l.minX&&(h=l.minX+Jp,r.attr("textAlign","left")),r.attr("x",h),t.attr("x",c),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),VP=XP,qp;function tg(i,r){var t=i.getBBox(),e=t.minX+t.width/2;i.setClip({type:"rect",attrs:{x:e,y:t.minY,width:0,height:t.height}});var n=i.get("clipShape");n.animate({width:t.width,x:t.minX},r.duration,r.easing,function(){i.setClip(null)},r.delay)}tg.animationName="clipInFromCenter";function HP(i){qp=i}function eg(i,r){var t=WP(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function WP(i){var r=i.id,t;return(0,f.each)(qp,function(e){e.id===r&&(t=e)}),t}eg.animationName="updateFromCenter",Hn("clipInFromCenter",tg),Hn("updateFromCenter",eg);var rg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeBar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),HP(t),i.prototype.afterRender.call(this)},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new VP((0,Rt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r.prototype.animation=function(){i.prototype.animation.call(this)},r}(kl),jP=rg;Xr("rangeBar",rg);var UP=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeBar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=jP.getDefaultOptions,r}(Ir),ng=UP,ig=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(xp),ZP=ig;Ri("area-point",ig);var ag=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.layoutLabels=function(t,e){i.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},r.prototype.adjustAreaLabelsStyle=function(t){var e=this.view,n=this.options,a=n.darkStyle,o=n.lightStyle,s=io(e,"area"),l=EA(s).sort(function(u,h){return h.getBBox().height-u.getBBox().height});(0,f.each)(t,function(u){var h=u.getBBox(),c=EE(h.x,h.y,h.width,h.height),v=(0,f.map)(l,function(k){return{area:k,matches:(0,f.filter)(c,function(F){return!!k.isHit(F[0],F[1])}).length}}).sort(function(k,F){return k.matches-F.matches});if((0,f.last)(v).matches>0){var g=(0,f.last)(v).area.attr("fill"),A=Qf(g);u.attr({fill:A?o==null?void 0:o.fill:a==null?void 0:a.fill,fillOpacity:A?o.fillOpacity:a.fillOpacity,stroke:A?o==null?void 0:o.stroke:a==null?void 0:a.stroke})}})},r}(_T),KP=ag;Ri("area-point-auto",ag);function $P(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var QP=[],JP=[{name:"responsiveAxis",method:$P}],qP={preRender:QP,afterRender:JP},tL={area:"area",line:"line",point:"point"},eL=si(tL);(0,f.assign)($r,eL);var rL=function(i){var r=i.opacity||1;return{opacity:r}},nL=function(i){var r=i.opacity||1;return{opacity:r*.5}},iL=function(i){var r=i.opacity||1;return{opacity:r}},aL=function(i){var r=i.opacity||1;return{opacity:r*.5}},oL=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},sL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},lL=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},uL=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}},og={areaStyle:{normal:{},active:rL,disable:nL,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:iL,disable:aL,selected:oL},pointStyle:{normal:{},active:sL,disable:uL,selected:lL},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};Ni("area",og);var fL={area:"area",line:"line",point:"point"},sg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return fL[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Qn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Qn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){return null},r.prototype.addGeometry=function(){var t=this.options,e=Nn("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},r.prototype.adjustArea=function(t){},r.prototype.adjustLine=function(t){},r.prototype.adjustPoint=function(t){},r.prototype.addLine=function(){var t=this.options,e=(0,f.deepMix)({},t.line);if(e.visible){var n=Nn("line","guide",{type:"line",plot:this,line:e});this.adjustLine(n),this.setConfig("geometry",n),this.line=n}},r.prototype.addPoint=function(){var t=this.options,e=(0,f.deepMix)({},t.point);if(e.visible){var n=Nn("point","guide",{plot:this});this.adjustPoint(n),this.setConfig("geometry",n),this.point=n}},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n.visible){var s=io(this.view,"area");this.doRenderLabel(s,(0,Rt.__assign)({type:"area-point",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.label=function(){},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,p)},r.prototype.applyResponsive=function(t){var e=this,n=qP[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(Bn),th=sg;Xr("area",sg);var hL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="area",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=th.getDefaultOptions,r}(Ir),lg=hL,cL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],a=t.attr("stroke"),o=this.plot.options.stackField,s=t.get("origin").data[0][o],l=(0,f.reduce)(n.y,function(u,h){return u+h},0)/(0,f.size)(n.y);return{x:n.x,y:l,color:a,name:s}},r}(wp),vL=cL,eh=12,dL=.01,pL=100,gL=12;function yL(i){var r=-Infinity,t=Infinity,e=-Infinity;return(0,f.each)(i,function(n){t=Math.min(n.x,t),e=Math.max(n.x,e);var a=Math.abs(n.y[0]-n.y[1]);r=Math.max(r,a)}),{xRange:[t,e],maxHeight:r}}function ug(i,r,t){var e=r[0],n=r[r.length-1];(0,f.each)(r,function(o){if(o.x===i)return o.y[t];o.x<i&&o.x>e.x&&(e=o),o.x>i&&o.x<n.x&&(n=o)});var a=(i-e.x)/(n.x-e.x);return e.y[t]*(1-a)+n.y[t]*a}function mL(i,r){var t;for(t=0;t<i.length;t++){var e=i[t];if(e.x===r||e.x>r)break}return t}var xL=function(){function i(r){this.destroyed=!1,this.scaleFactor=[],this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.plot.options.stackField,e=this.getGeometry().dataArray,n=[];(0,f.each)(e,function(o,s){var l=r.drawLabel(o,s);l&&(n.push((0,f.deepMix)({},o[0],l)),r.scaleFactor.push(l.scaleFactor))});var a=[];(0,f.each)(n,function(o,s){var l=r.options,u=l.style,h=l.offsetX,c=l.offsetY,v=r.getFontSize(s),g=r.options.formatter,A=g?g(o._origin[t]):o._origin[t],k=r.container.addShape("text",{attrs:(0,f.deepMix)({},{x:o.x+h,y:o.y+c,text:A,fill:o.color,fontSize:v,textAlign:"center",textBaseline:"top"},u),name:"label"});a.push(k)}),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=(0,f.clone)(r.label.style);return t.stroke=null,delete t.fill,{offsetX:0,offsetY:0,style:t,autoScale:!0}},i.prototype.drawLabel=function(r,t){var e=yL(r),n=e.xRange,a=e.maxHeight,o=n[1]-n[0],s=this.getInterpolatedPoints(n[0],o,r),l=this.getLabelBbox(t),u={xRange:n,aspect:l.width/l.height,data:s,justTest:!0},h=this.bisection(gL,a,this.testFit,u,dL,pL);if(h!==null){u.justTest=!1;var c=this.testFit(u);return c.x=c.x,c.y=c.y0+(c.y1-c.y0)/2,c.scaleFactor=h/l.height*.2,c}},i.prototype.getInterpolatedPoints=function(r,t,e){for(var n=[],a=2,o=r;o<t;o+=a){var s=ug(o,e,0),l=ug(o,e,1);n.push({x:o,y:[s,l]})}return n},i.prototype.bisection=function(r,t,e,n,a,o){for(var s=0;s<o;s++){var l=(r+t)/2,u=n;u.height=l,u.width=l*u.aspect;var h=e(u),c=(t-r)/2<a;if(h&&c)return l;h?r=l:t=l}return null},i.prototype.testFit=function(r){for(var t=r.xRange,e=r.width,n=r.height,a=r.data,o=r.justTest,s=0;s<a.length;s++){var l=a[s],u=l.x,h=u+e;if(h>t[1])break;for(var c=mL(a,h),v=-Infinity,g=null,A=Infinity,k=s;k<c;k++){var F=a[k].y[1],Y=a[k].y[0];if(Y<A&&(A=Y),F>v&&(v=F,g=Y),A-v<n)break}if(A-v>=n)return o?!0:{x:u,y0:v,y1:g,width:e,height:n}}return!1},i.prototype.getLabelBbox=function(r){var t=(0,f.clone)(this.plot.theme.label.textStyle);t.fontSize=eh;var e=this.container.addShape("text",{attrs:(0,Rt.__assign)({text:r,x:0,y:0},t)}),n=e.getBBox();return e.remove(),n},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="area"})},i.prototype.getFontSize=function(r){if(this.options.autoScale){var t=this.scaleFactor[r];return eh*t}return eh},i}(),bL=xL,wL={lineLabel:{Ctr:vL},areaLabel:{Ctr:bL}};function SL(i,r,t){if(i.options[r]&&i.options[r].visible){var e=wL[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var CL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(ZP),UG=null;Ri("stackedArea-point",CL);var ML=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.sortLabels=function(t,e){var n=[];return e.length>0&&n.push(e.shift()),e.length>0&&n.push(e.pop()),n.push.apply(n,e),n},r}(KP),ZG=null;Ri("stackedArea-point-auto",ML),Ni("stackedArea",og);var fg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},r.prototype.beforeInit=function(){var t=(0,f.get)(this.options,["label","visible"]),e=(0,f.get)(this.options,["label","type"]),n=this.options;t&&(e==="line"&&(n.lineLabel=this.options.label),e==="area"&&(n.areaLabel=this.options.label)),i.prototype.beforeInit.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.label=function(){var t=this.options,e=t.label;if(e&&e.visible===!1){this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),this.area.label=!1;return}},r.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},r.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},r.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,i.prototype.afterRender.call(this)},r.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r.prototype.renderPlotComponents=function(){var t=this,e=["areaLabel","lineLabel"];(0,f.each)(e,function(n){var a=(0,Rt.__assign)({view:t.view,plot:t},t.options[n]),o=SL(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(th),rh=fg;Xr("stackedArea",fg);var EL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=rh.getDefaultOptions,r}(Ir),hg=EL,cg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){var e=/%/gi;return t.replace(e,"")}}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return qf(t,n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},t,this.options.meta),i.prototype.scale.call(this)},r}(rh),vg=cg;Xr("percentStackedArea",cg);var AL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=vg.getDefaultOptions,r}(Ir),dg=AL;function _L(i){var r=i.getResponsiveTheme(),t=i.canvas;new oo({plot:i,responsiveTheme:r,dim:"x"}),new oo({plot:i,responsiveTheme:r,dim:"y"}),t.draw()}var TL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getType=function(){return(0,f.get)(this.plot.options,["label","position"],"inner")},r}(yp);function PL(i){var r=i.getResponsiveTheme();new TL({plot:i,responsiveTheme:r})}var LL=[],OL=[{name:"responsiveAxis",method:_L},{name:"responsiveLabel",method:PL}],IL={preRender:LL,afterRender:OL},kL={label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}};Hd("column",kL);var pg=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelItemAttrs=function(t,e){var n,a,o=this.options,s=o.style,l=o.formatter,u=[].concat(t.getModel().mappingData),h=this.getValue(t);return(0,f.deepMix)({},s,(0,Rt.__assign)((0,Rt.__assign)({},this.getPosition(t)),{text:l?l(h,(n={},n[bs]=(a=u[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=u[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):h,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},r.prototype.getDefaultOptions=function(){var t=this.layer.theme,e=t.label,n=e===void 0?{}:e;return(0,Rt.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},n)},r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=this.getDefaultOffset(),o=t.getBBox(),s=this.getElementShapeBBox(e);if(s.height<=o.height){var l=s.minY+this.options.offsetY-a;t.attr("y",l),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)}}},r.prototype.getValue=function(t){return(0,f.get)(t.getData(),this.layer.options.yField)},r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.height,h=a.width,c=this.options,v=c.offsetX,g=c.offsetY,A=c.position,k=o+h/2+v,F=n>0?-1:1,Y;if(A==="top"){var N=n>0?s:l;Y=N+e*F+g}else if(A==="bottom"){var N=n>0?l:s;Y=N+e*F+g}else Y=s+u/2+g;return{x:k,y:Y}},r.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&this.options.position!=="top"){var n=e.attr("fill"),a=e.attr("opacity")?e.attr("opacity"):1,o=Va(n),s=Math.round(o[0]*.299+o[1]*.587+o[2]*.114)/a,l=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],u=Il(l,s);return u}var h=this.options.style.fill;return h},r.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,a=n.position,o=n.adjustColor;return a!=="top"&&o&&e!=="black"?null:void 0},r.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,a=[];(0,f.each)(n.get("origin").points,function(g){a.push(e.coord.convertPoint(g))});var o=a.map(function(g){return g.x}),s=Math.min.apply(Math,o),l=Math.max.apply(Math,o),u=a.map(function(g){return g.y}),h=Math.min.apply(Math,u),c=Math.max.apply(Math,u),v=new Dr(s,h,l-s,c-h);return v},r.prototype.getTextAlign=function(){return"center"},r.prototype.getTextBaseLine=function(){return"middle"},r.prototype.getLabelOffset=function(){return{x:0,y:0}},r}(Pf),nh=pg;Ri("column",pg);var gg=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),a=this.getElementShapeBBox(t),o=a.minX,s=a.minY,l=a.maxY,u=a.width,h=this.options,c=h.offsetX,v=h.offsetY,g=o+u/2+c,A=n>0?-1:1,k=n>0?s:l,F=k+e*A+v;return{x:g,y:F}},r.prototype.getTextFill=function(t){var e=this.options.style;return e.fill},r.prototype.getTextStroke=function(t){},r.prototype.adjustLabel=function(t,e){},r.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},r.prototype.shouldInShapeLabels=function(t){var e=this;return(0,f.every)(t,function(n){var a=n.getBBox(),o=n.get("element"),s=e.getElementShapeBBox(o);return s.width>=a.width})},r.prototype.inShapeLabels=function(t,e){var n=this,a=this.getCoordinateBBox(),o=t.getXYFields()[0],s=this.options,l=s.darkStyle,u=s.lightStyle,h=(0,f.groupBy)(e,function(c){return c.get(Zi)[nn.FIELD_ORIGIN][o]});(0,f.each)(e,function(c){var v=h[c.get(Zi)[nn.FIELD_ORIGIN][o]]||[],g=c.get("element"),A=g.shape,k=Qf(A.attr("fill")),F=n.getElementShapeBBox(g),Y=Dr.fromBBoxObject(c.getBBox());if(Yf(a,F)<=0&&c.set("visible",!1),Y.height>F.height){var N=(0,f.findIndex)(v,function(lt){return lt===c});N!==0&&c.set("visible",!1)}else{c.attr({y:F.y+F.height/2,textBaseline:"middle"});var st=Y.width>F.width||Y.height>F.height;st?c.attr({stroke:u==null?void 0:u.stroke}):c.attr({fill:k?u==null?void 0:u.fill:l==null?void 0:l.fill,fillOpacity:k?u==null?void 0:u.fillOpacity:l==null?void 0:l.fillOpacity,stroke:void 0})}})},r.prototype.autoHideLabels=function(t,e){var n=this.getCoordinateBBox(),a=this.filterLabels(e),o=t.getXYFields()[0],s=[],l=[],u=(0,f.groupBy)(a,function(g){return g.get(Zi)[nn.FIELD_ORIGIN][o]}),h=(0,f.uniq)((0,f.map)(a,function(g){return g.get(Zi)[nn.FIELD_ORIGIN][o]})),c;for((0,f.size)(h)>0&&(c=h.shift(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.size)(h)>0&&(c=h.pop(),(0,f.each)(u[c],function(g){return l.push(g)})),(0,f.each)(h.reverse(),function(g){(0,f.each)(u[g],function(A){return l.push(A)})});l.length>0;){var v=l.shift();v.get("visible")&&(_l(v,n),Tl(v,s)?v.set("visible",!1):s.push(v))}},r.prototype.filterLabels=function(t){var e=500,n=[],a=Math.max(Math.floor(t.length/e),1);return(0,f.each)(t,function(o,s){s%a==0?n.push(o):o.set("visible",!1)}),n},r}(nh),BL=gg;Ri("column-auto",gg);var DL={column:"interval"},FL=si(DL);(0,f.assign)($r,FL);var RL=function(i){var r=i.opacity||1;return{opacity:r*.5}},NL=function(i){var r=i.opacity||1;return{opacity:r*.5,fillOpacity:r*.5}},ih={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:RL,disable:NL,selected:{lineWidth:1,stroke:"black"}}};Ni("column",ih);var GL={column:"interval"},YL={interval:"column"},yg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("preRender")},r.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&this.options.padding!=="auto"&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Np((0,Rt.__assign)({view:this.view,field:t.yField,transpose:!0,animation:t.animation!==!1},t.conversionTag))),i.prototype.afterRender.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?GL[e]:YL[e]},r.prototype.processData=function(t){var e=this.options.xField,n=[];return(0,f.each)(t,function(a){var o=(0,f.clone)(a);o[e]=o[e].toString(),n.push(o)}),n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Qn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Qn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.adjustColumn=function(t){},r.prototype.addGeometry=function(){var t=this.options,e=Nn("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",(0,f.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},r.prototype.animation=function(){i.prototype.animation.call(this),this.options.animation===!1&&(this.column.animate=!1)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,b)},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n==null?void 0:n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,Rt.__assign)({type:"column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.applyResponsive=function(t){var e=this,n=IL[t];(0,f.each)(n,function(a){var o=a;o.method(e)})},r}(Bn),Wo=yg;Xr("column",yg);var zL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="column",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Wo.getDefaultOptions,r}(Ir),mg=zL;Ni("groupedColumn",ih);var xg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},r.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.addGeometry=function(){i.prototype.addGeometry.call(this)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},r}(Wo),ah=xg;Xr("groupedColumn",xg);var XL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ah.getDefaultOptions,r}(Ir),bg=XL;function wg(i,r){var t=[],e=i.get("origin").points;return(0,f.each)(e,function(n){t.push(r.convertPoint(n))}),t}function VL(){return{areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}}var HL=function(){function i(r){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},(0,f.assign)(this,r),this._init()}return i.prototype.draw=function(){var r=this,t=this._getGroupedShapes();(0,f.each)(t,function(e,n){e.length>0&&r._drawConnection(e,n)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},i.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.setState=function(r,t){r==="active"&&this._onActive(t),r==="disabled"&&this._onDisabled(t),r==="selected"&&this._onSelected(t)},i.prototype._init=function(){var r=this,t=this.view.backgroundGroup;this.container=t.addGroup(),this.draw(),this.view.on("beforerender",function(){r.clear()})},i.prototype._getGroupedShapes=function(){var r=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0],n=e.getShapes(),a={};return(0,f.each)(t,function(o){a[o]=[]}),(0,f.each)(n,function(o){var s=o.get("origin").data,l=s[r.field];a[l].push(o)}),a},i.prototype._drawConnection=function(r,t){var e=r[0].attr("fill");this._areaStyle[t]=this._getShapeStyle(e,"area"),this._lineStyle[t]=this._getShapeStyle(e,"line");for(var n=this.view.geometries[0].coordinate,a=0;a<r.length-1;a++){var o=wg(r[a],n),s=wg(r[a+1],n),l=(0,f.mix)({},this._areaStyle[t]),u=(0,f.mix)({},this._lineStyle[t]);this.triggerOn&&(l.opacity=0,u.opacity=0);var h=this.container.addShape("path",{attrs:(0,f.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y],["L",s[0].x,s[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),c=this.container.addShape("path",{attrs:(0,f.mix)({},u,{path:[["M",o[2].x,o[2].y],["L",s[1].x,s[1].y]]}),name:"connectedArea"}),v=r[a].get("origin").data;h.set("data",v),c.set("data",v),this.areas.push(h),this.lines.push(c)}},i.prototype._getShapeStyle=function(r,t){var e=t+"Style";if(this[e])return this[e];var n=VL()[e],a={fill:r};return t==="line"&&(a={stroke:r}),(0,f.mix)(n,a)},i.prototype._addInteraction=function(){var r=this,t=this.triggerOn;this.view.on("interval:"+t,function(e){var n=e.target.get("origin").data[r.field];r.setState("active",{name:r.field,exp:n}),r.setState("disabled",{name:r.field,exp:function(a){return a!==n}}),r.view.canvas.draw()}),this.view.on("mousemove",function(e){e.gEvent.target.get("name")!=="interval"&&r.setState("disabled",{name:r.field,exp:function(){return!0}})})},i.prototype._initialAnimation=function(){var r=this.view.coordinateBBox,t=r.x,e=r.y,n=r.width,a=r.height;this.container.setClip({type:"rect",attrs:{x:t,y:e,width:0,height:a}}),this.container.set("animating",!0),this.container.getClip().animate({width:n},600,"easeQuadOut",function(){},400)},i.prototype._onActive=function(r){var t=this;(0,f.each)(this.areas,function(e){var n=e.get("data"),a=n[t.field];if(Xa(n,r)){var o=t._areaStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}}),(0,f.each)(this.lines,function(e){var n=e.get("data"),a=n[t.field];if(Xa(n,r)){var o=t._lineStyle[a].opacity||1;e.stopAnimate(),e.animate({opacity:o},400,"easeQuadOut")}})},i.prototype._onDisabled=function(r){(0,f.each)(this.areas,function(t){var e=t.get("data");Xa(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),(0,f.each)(this.lines,function(t){var e=t.get("data");Xa(e,r)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},i.prototype._onSelected=function(r){this._onActive(r)},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),WL=HL;Ni("stackedColumn",ih);var jL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n=this.options.adjustPosition;if(n){var a=t.getBBox(),o=this.getElementShapeBBox(e);(o.height<a.height||o.width<a.width)&&t.hide()}},r}(nh),KG=null;Ri("stacked-column",jL);var UL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.shouldInShapeLabels=function(t){return!0},r}(BL),$G=null;Ri("stacked-column-auto",UL);var Sg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},r.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),i.prototype.init.call(this)},r.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new WL((0,Rt.__assign)({view:this.view,field:t.stackField,animation:t.animation!==!1},t.connectedArea))),i.prototype.afterRender.call(this)},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},r.prototype.renderLabel=function(){var t=this.config.scales,e=this.options,n=e.label,a=e.yField,o=t[a];if(n&&n.visible){var s=io(this.view,"interval");this.doRenderLabel(s,(0,Rt.__assign)({type:"stacked-column",formatter:o.formatter&&function(l){return o.formatter(l)}},this.options.label))}},r.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},r}(Wo),Bl=Sg;Xr("stackedColumn",Sg);var ZL=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Bl.getDefaultOptions,r}(Ir),Cg=ZL,oh=8;function KL(i,r){var t;return(0,f.each)(i,function(e){var n=e;r>=n.from&&r<n.to&&(t=n.color)}),t}var $L=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}return i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,(0,f.each)(n,function(a){var o=a.shape,s=r.getPosition(o),l=r.getValue(o),u=r.getTextBaseline(),h=[];(0,f.each)(s,function(c,v){var g=v===1?r.options.topStyle:r.options.bottomStyle,A=r.getTextColor(o,v);r.options.position==="inner"&&r.options.adjustColor&&A!=="black"&&(g.stroke=null);var k=r.options.formatter,F=k?k(l[v]):l[v],Y=r.container.addShape("text",{attrs:(0,f.deepMix)({},g,{x:c.x,y:c.y,text:F,fill:A,textAlign:"center",textBaseline:u[v]}),name:"label"});h.push(Y),r.doAnimation(Y)}),o.set("labelShapes",h),r.adjustPosition(h[0],h[1],o)}),this.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getShapeBbox=function(r){var t=this,e=[];(0,f.each)(r.get("origin").points,function(a){e.push(t.coord.convertPoint(a))});var n=new Dr(e[0].x,e[1].y,Math.abs(e[2].x-e[0].x),Math.abs(e[0].y-e[1].y));return n},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{position:"outer",offsetX:0,offsetY:oh,style:(0,f.clone)(t),adjustColor:!0,adjustPosition:!0}},i.prototype.getPosition=function(r){var t=this.getShapeBbox(r),e=t.minX,n=t.minY,a=t.maxY,o=t.width,s=this.options.offsetY,l=e+o/2,u,h;return this.options.position==="outer"?(u=n-s,h=a+s):(u=n+s,h=a-s),[{x:l,y:h},{x:l,y:u}]},i.prototype.getValue=function(r){var t=this.plot.options.yField;return r.get("origin").data[t]},i.prototype.getTextBaseline=function(){return this.options.position==="outer"?["top","bottom"]:["bottom","top"]},i.prototype.getTextColor=function(r,t){if(this.options.adjustColor&&this.options.position==="inner"){var e=r.attr("fill"),n=r.attr("opacity")?r.attr("opacity"):1,a=Va(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=KL(s,o);return l}var u=t===1?this.options.topStyle.fill:this.options.bottomStyle.fill;return u},i.prototype.doAnimation=function(r){this.plot.animation&&this.plot.animation===!1||(r.attr("fillOpacity",0),r.attr("strokeOpacity",0),r.stopAnimate(),r.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},i.prototype.adjustPosition=function(r,t,e){var n=e.get("origin"),a=n.y[1],o=n.y[0],s=e.getBBox(),l=s.height,u=l,h=this.view.coordinateBBox,c=[r.getBBox(),t.getBBox()],v=r.attr("y"),g=t.attr("y");if(this.options.adjustPosition&&this.options.position==="inner"){var A=c[0].height+c[1].height,k=c[1].maxY-c[0].minY>2,F=A>u;(k||F)&&(g=a-this.options.offsetY,t.attr("fill",this.options.topStyle.fill),t.attr("textBaseline","bottom"),v=o+this.options.offsetY,r.attr("fill",this.options.bottomStyle.fill),r.attr("textBaseline","top"),c[0]=r.getBBox(),c[1]=t.getBBox())}c[0].maxY>h.maxY-oh&&(v=h.maxY-oh/2,r.attr("textBaseline","bottom")),r.attr("y",v),t.attr("y",g),this.plot.canvas.draw()},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),QL=$L,Mg;function Eg(i,r){var t=i.getBBox(),e=t.minY+t.height/2;i.setClip({type:"rect",attrs:{x:t.minX,y:e,width:t.width,height:0}});var n=i.get("clipShape");n.animate({height:t.height,y:t.minY},r.duration,r.easing,function(){i.setClip(null)},r.delay)}Eg.animationName="clipInFromCenterVertical";function JL(i){Mg=i}function Ag(i,r){var t=qL(i).attr("path"),e=(0,f.clone)(i.attr("path"));i.attr("path",t),i.animate({path:e},r.duration,r.easing,r.callback,100)}function qL(i){var r=i.id,t;return(0,f.each)(Mg,function(e){e.id===r&&(t=e)}),t}Ag.animationName="updateFromCenterVertical",Hn("clipInFromCenterVertical",Eg),Hn("updateFromCenterVertical",Ag);var _g=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rangeColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)(i.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},r.prototype.afterRender=function(){this.renderLabel();var t=[],e=this.view.geometries;(0,f.each)(e,function(n){var a=n.elements;(0,f.each)(a,function(o){t.push(o.shape)})}),JL(t),i.prototype.afterRender.call(this)},r.prototype.animation=function(){i.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},r.prototype.renderLabel=function(){if(this.options.label&&this.options.label.visible){var t=new QL((0,Rt.__assign)({view:this.view,plot:this},this.options.label));t.render()}},r}(Wo),tO=_g;Xr("rangeColumn",_g);var eO=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rangeColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=tO.getDefaultOptions,r}(Ir),Tg=eO,Pg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="percentStackedColumn",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},r.prototype.processData=function(t){var e=this.options,n=e.xField,a=e.yField;return qf(t||[],n,[a])},r.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(n){var a=(n*100).toFixed(1);return a+"%"}},this.options.meta=(0,f.deepMix)({},this.options.meta,t),i.prototype.scale.call(this)},r}(Bl),Lg=Pg;Xr("percentStackedColumn",Pg);var rO=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Lg.getDefaultOptions,r}(Ir),Og=rO,nO={pie:"interval"},iO=si(nO);(0,f.assign)($r,iO);function Dl(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}function QG(i){return{x:i.x+i.width/2,y:i.y+i.height/2}}function aO(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*n}function oO(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),n=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e&&i.x<r.x&&(e=-e),n&&i.y<r.y&&(n=-n),i.x===r.x&&i.width===r.width&&(e=r.width),i.y===r.y&&i.height===r.height&&(n=r.height),{xOverlap:e,yOverlap:n}}function JG(i,r){return i.x<r.x&&i.x+i.width>r.x+r.width&&i.y<r.y&&i.y+i.height>r.y+r.height}var sO=function(i,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[i,r].includes(Infinity)?Math.abs(i)===Math.abs(r):Math.abs(i-r)<t};function lO(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function uO(i){var r=Math.PI/2,t=i;return(t>r||t<-r)&&(t=t+Math.PI),t}var qG=4;function fO(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}function hO(i,r){var t=i.getBBox();r.y<=t.y&&r.y+r.height>=t.y+t.height||i.get("parent").set("visible",!1)}var cO=function(){function i(r,t){this.destroyed=!1,this.plot=r,this.coordinateBBox=this.plot.view.coordinateBBox;var e=(0,f.deepMix)(this.getDefaultOptions(),t,{});this.adjustOption(e),this.options=e,this.init()}return i.prototype.adjustOverlap=function(r,t){for(var e=1;e<r.length;e++)for(var n=r[e],a=0,o=e-1;o>=0;o--){var s=r[o],l=s.getBBox(),u=n.getBBox();if(s.get("parent").get("visible")&&(a=aO(l,u),!sO(a,0))){n.get("parent").set("visible",!1);break}}r.forEach(function(h){return hO(h,t)})},i.prototype.adjustItem=function(r){},i.prototype.init=function(){var r=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getFilteredSum=function(){var r=this.plot.options.angleField,t=this.plot.view.filteredData||[];return t.reduce(function(e,n){return e+n[r]},0)},i.prototype.drawTexts=function(){var r=this,t=this.options,e=t.style,n=t.formatter,a=t.autoRotate,o=t.offsetX,s=t.offsetY,l=t.adjustPosition,u=t.allowOverlap,h=this.getItems(),c=[];h.map(function(v,g){var A=(0,f.deepMix)({},v,e),k=r.getFilteredSum(),F=r.plot.options.angleField,Y=v.origin[F]/k,N=n?n(v.name,{_origin:v.origin,percent:Y},g):v.name,st=r.container.addGroup({name:"itemGroup",index:g,capture:!1}),lt=st.addShape("text",{attrs:(0,f.deepMix)({},A,{x:v.x+o,y:v.y+s,text:N})});lt.set("id","text-"+v.name+"-"+g),c.push(lt)}),c.forEach(function(v){var g=r.coordinateBBox;r.adjustText(v,g)}),l&&this.layout(c,h,this.coordinateBBox),u||this.adjustOverlap(c,this.coordinateBBox),c.forEach(function(v,g){a&&r.rotateLabel(v,uO(h[g].angle))})},i.prototype.adjustText=function(r,t){var e=r.getBBox(),n=e.width,a=0;if(e.maxX>t.maxX?n=t.maxX-e.minX:e.minX<t.minX&&(n=e.maxX-t.minX),r.attr("textAlign")==="left"?r.attr("x",Math.max(e.x-a,0)):r.attr("textAlign")==="right"&&r.attr("x",Math.max(e.maxX-a,0)),n!==e.width){var o={};["fontSize","fontFamily","fontWeight"].forEach(function(l){o[l]=r.attr(l)});var s=r.attr("text").split(`
`).map(function(l){return Od(l,n,o)});r.attr("text",s.join(`
`))}},i.prototype.drawLines=function(){var r=this;if(this.options.line.visible){var t=this.container.get("children"),e=this.getCoordinate().center;t.forEach(function(n,a){var o=n.get("children")[0],s=r.arcPoints[a],l=s.x<e.x,u=r.options.offset>4?4:0,h=r.getLinePath(o,s,u),c=r.options.line;n.addShape("path",{attrs:(0,Rt.__assign)({path:h,stroke:s.color},c)}),o.attr("x",o.attr("x")+(l?-u:u))})}},i.prototype.getLinePath=function(r,t,e){var n=this.options.line?this.options.line.smooth:!1,a=t.angle,o=this.getCoordinate(),s=o.center,l=o.radius,u=Dl(s,a,l+e);e<4&&(u=t);var h=t.x<s.x,c=r.getBBox(),v={x:h?c.maxX:c.minX,y:c.y+c.height/2},g=["C",v.x+(h?1:-1)*(e<4?e/2:4),v.y,2*u.x-t.x,2*u.y-t.y,u.x,u.y],A=["L",u.x,u.y],k=n?g:A,F=["M",v.x,v.y].concat(k).concat("L",t.x,t.y);return F.join(",")},i.prototype.getGeometry=function(){return this.plot.view.geometries[0]},i.prototype.getCoordinate=function(){var r=this.getGeometry().coordinate,t=r.getCenter(),e=r.getRadius(),n=r.startAngle;return{center:t,radius:e,startAngle:n}},i.prototype.adjustOption=function(r){var t=r.offset,e=this.getCoordinate().radius;(0,f.isString)(t)&&(t=e*fO(t)),r.offset=t},i.prototype.rotateLabel=function(r,t){var e=r.attr("x"),n=r.attr("y"),a=pn.transform(r.getMatrix(),[["t",-e,-n],["r",t],["t",e,n]]);r.setMatrix(a)},i.prototype.getItems=function(){var r=this,t=this.options.offset,e=this.getCoordinate(),n=e.center,a=e.radius,o=this.arcPoints.map(function(s){var l=Dl(n,s.angle,a+t),u=(0,Rt.__assign)((0,Rt.__assign)({},s),l);return r.adjustItem(u),u});return o},i.prototype.initArcPoints=function(){var r=this,t=this.plot.options.angleField,e=this.getGeometry().elements,n=this.getCoordinate(),a=n.center,o=n.radius,s=this.getCoordinate().startAngle,l=this.getGeometry().attributes.position.scales,u=l[1],h=u.field,c=e.map(function(v){var g=v.shape.get("origin"),A=g.color,k=g.data[0]||g.data,F=s+Math.PI*2*u.scale(k[h]),Y=(s+F)/2,N=Dl(a,Y,o);s=F;var st=u.getText(k[t]),lt=N.x>a.x?"left":"right";return{x:N.x,y:N.y,color:A,name:st,origin:k,angle:lO(r.getGeometry().coordinate,N),textAlign:lt}});this.arcPoints=c},i}(),sh=cO;function tY(i){var r=Number(i.endsWith("%")?i.slice(0,-1):i);return r/100}var vO=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset>0&&(t.offset=0)},r.prototype.adjustItem=function(t){t.textAlign="middle"},r.prototype.drawLines=function(){},r.prototype.layout=function(t,e){var n=this;t.forEach(function(a,o){o>0&&(0,f.each)(t.slice(0,o),function(s){n.resolveCollision(a,s,e[o])})})},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:(0,Rt.__assign)((0,Rt.__assign)({},e),{textAlign:"center",textBaseline:"middle"})}},r.prototype.resolveCollision=function(t,e,n){var a=this.getCoordinate().center,o=n.angle,s=t.getBBox(),l=e.getBBox(),u={x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},h=(0,f.clone)(u),c=(0,f.clone)(u);if(e.get("id")!==t.get("id")){var v=oO(s,l),g=v.xOverlap,A=v.yOverlap;if(g&&(h.x=u.x+g,h.y=u.y+Math.tan(o)*g),A){var k=A;u.y<a.y?k=k<0?k:l.minY-s.maxY:k=k>0?k:l.maxY-s.minY,c.y=u.y+k,c.x=u.x+k/Math.tan(o)}var F=ud(u,h),Y=ud(u,c),N=F<Y?h:c;t.attr("x",N.x),t.attr("y",N.y)}},r}(sh),dO=vO,eY=16,pO=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Rt.__assign)((0,Rt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.layout=function(t,e,n){var a=this,o=this.getCoordinate().center,s=(0,f.filter)(t,function(u){return u.attr("x")<=o.x}),l=(0,f.filter)(t,function(u){return u.attr("x")>o.x});[l,s].forEach(function(u,h){a._antiCollision(u,!h,n)})},r.prototype._antiCollision=function(t,e,n){var a=this,o=this.getLabelHeight(t),s=this.getCoordinate(),l=s.center,u=s.radius,h=this.options.offset,c=u+h,v=Math.min(n.height,Math.max(c*2+o*2,t.length*o)),g=Math.floor(v/o);this.options.allowOverlap||t.slice(g).forEach(function(Vt){Vt.get("parent").set("visible",!1)}),t.splice(g,t.length-g),t.sort(function(Vt,te){return Vt.getBBox().y-te.getBBox().y});for(var A=!0,k,F=l.y+v/2,Y=l.y-v/2,N=t.map(function(Vt){var te=Vt.getBBox();return te.maxY>F&&(F=Math.min(n.maxY,te.maxY)),te.minY<Y&&(Y=Math.max(n.minY,te.minY)),{text:Vt.attr("text"),size:o,pos:te.y,targets:[]}}),st=0;st<N.length;)st===N.length-1?N[st].targets[0]=F:N[st].targets[0]=N[st+1].pos-N[st+1].size/2,st++;for(;A;)for(N.forEach(function(Vt){var te=(0,f.last)(Vt.targets);Vt.pos=Math.max(Y,Math.min(Vt.pos,te-Vt.size))}),A=!1,k=N.length;k--;)if(k>0){var lt=N[k-1],At=N[k];if(lt.pos+lt.size>At.pos){lt.size+=At.size,lt.targets=lt.targets.concat(At.targets);var zt=(0,f.last)(lt.targets);lt.pos+lt.size>zt&&(lt.pos=zt-lt.size),N.splice(k,1),A=!0}else lt.targets.splice(-1,1,At.pos)}k=0,N.forEach(function(Vt){var te=o/2;Vt.targets.forEach(function(){t[k].attr("y",Vt.pos+te),te+=o,k++})});var Wt=[],Qt=[];t.forEach(function(Vt,te){var le=a.arcPoints[te];le.angle>=0&&le.angle<=Math.PI?Qt.push(Vt):Wt.push(Vt)}),[Wt,Qt].forEach(function(Vt,te){if(!!Vt.length){var le=te?(0,f.last)(Vt).getBBox().maxY-l.y:l.y-(0,f.head)(Vt).getBBox().minY;le=Math.max(c,le);var ae=h>4?4:0,Se=Math.max.apply(0,(0,f.map)(t,function(Ne){return Ne.getBBox().width}))+h+ae,_e=Math.max(c,Math.min((le+c)/2,l.x-(n.minX+Se))),Ee=_e*_e,Fe=le*le;Vt.forEach(function(Ne,Ye){var Be=a.arcPoints[Ye],De=Ne.getBBox(),rr={x:De.minX+De.width/2,y:De.minY+De.height/2},tr=Math.pow(rr.y-l.y,2),lr=Dl(l,Be.angle,u),Xe=(e?1:-1)*ae*2;if(tr>Fe)console.warn("\u5F02\u5E38(\u4E00\u822C\u4E0D\u4F1A\u51FA\u73B0)",Ne.attr("text")),Ne.attr("x",lr.x+Xe);else{var ar=l.x+(e?1:-1)*Math.sqrt((1-tr/Fe)*Ee);(l.x===lr.x&&rr.y===lr.y||l.y===lr.y&&ar===lr.x)&&(ar=lr.x),Ne.attr("x",ar+Xe)}})}})},r.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:(0,f.head)(t)?(0,f.head)(t).getBBox().height:14},r}(sh),gO=pO,rY=16,yO=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustOption=function(t){i.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},r.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=t.label.style;return{offsetX:0,offsetY:0,offset:12,style:(0,Rt.__assign)((0,Rt.__assign)({},e),{textBaseline:"middle"})}},r.prototype.adjustItem=function(t){var e=this.options.offset;t.textAlign==="left"?t.x+=e>4?4:e/2:t.textAlign==="right"&&(t.x-=e>4?4:e/2)},r.prototype.layout=function(t,e,n){},r}(sh),mO=yO,Ig={inner:dO,outer:gO,"outer-center":mO};function xO(i){if(!Ig[i]){console.warn("this label "+i+" is not registered");return}return Ig[i]}var bO=0,lh=15,wO="#CCC",SO=2,CO=-2,kg=15;function Bg(i,r,t){return{x:i.x+t*Math.cos(r),y:i.y+t*Math.sin(r)}}var MO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.options=(0,f.deepMix)({},this.getDefaultOptions(),r),this._adjustOptions(this.options),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear()})},i.prototype.render=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.halves=[[],[]];var e=[],n=this.view.geometries[0].elements;(0,f.each)(n,function(At){e.push(At.shape)}),this.coord=this.view.geometries[0].coordinate;var a=this.options,o=a.allZero,s=a.angleField,l=this.options.fields[0],u=this.view.getScalesByDim("y")[l],h=this.coord.getCenter(),c=this.coord.startAngle,v=this.coord.polarRadius,g=this.view.coordinateBBox,A=g.width,k=g.height;this.width=A,this.height=k;for(var F=c,Y=function(At){var zt=t[At],Wt=u.scale(zt[l]),Qt=F+Math.PI*2*Wt,Vt=F+(Qt-F)/2;F=Qt;var te=Bg(h,Vt,v+bO),le=Bg(h,Vt,v+lh),ae=wO;if(N.options.fields.length===2){var Se=N.options.fields[1],_e=N.view.geometries[0].scales[Se],Ee=_e.scale(zt[Se]);if(Ee){var Fe=Math.floor(Ee*(e.length-1));ae=e[Fe].attr("fill")}}var Ne={_anchor:te,_inflection:le,_data:zt,x:le.x,y:le.y,r:v+lh,fill:ae,textGroup:null,_side:null},Ye=[];if((0,f.each)(N.options.fields,function(yr){o&&yr===Fl?Ye.push(zt[s]):Ye.push(zt[yr])}),N.options.formatter){var Be=N.options.formatter(zt[s],{_origin:zt,color:ae},At);(0,f.isString)(Be)&&(Be=[Be]),Ye=Be}var De=N.container.addGroup({capture:!1,visible:!1}),rr={x:0,y:0,fontSize:N.options.text.fontSize,lineHeight:N.options.text.fontSize,fontWeight:N.options.text.fontWeight,fill:N.options.text.fill},tr=zt[s];N.options.formatter&&(tr=Ye[0]);var lr=(0,f.clone)(rr);Ye.length===2&&(lr.fontWeight=700);var Xe=De.addShape("text",{attrs:(0,f.mix)({textBaseline:Ye.length===2?"top":"middle",text:tr},lr),data:zt,offsetY:Ye.length===2?SO:0,name:"label"});if(Xe.name="label",Ye.length===2){var ar=De.addShape("text",{attrs:(0,f.mix)({textBaseline:"bottom",text:Ye[1]},rr),data:zt,offsetY:CO,name:"label"});ar.name="label"}Ne.textGroup=De,te.x<h.x?(Ne._side="left",N.halves[0].push(Ne)):(Ne._side="right",N.halves[1].push(Ne))},N=this,st=0;st<t.length;st++)Y(st);var lt=Math.floor(k/this.options.lineHeight);(0,f.each)(this.halves,function(At){At.length>lt&&At.splice(lt,At.length-lt),At.sort(function(zt,Wt){return zt.y-Wt.y}),r._antiCollision(At)}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},i.prototype._antiCollision=function(r){var t=this,e=this.coord,n=e.getHeight(),a=e.center,o=e.getRadius(),s=a.y-o-lh-this.options.lineHeight,l=!0,u=n,h,c=0,v=Number.MIN_VALUE,g=0,A=r.map(function(st){var lt=st.y;lt>c&&(c=lt),lt<v&&(v=lt);var At=st.textGroup,zt=At.getBBox().width;return zt>=g&&(g=zt),{size:t.options.lineHeight,targets:[lt-s]}});c-s>u&&(u=c-s);for(var k=function(st){st.forEach(function(lt){var At=(Math.min.apply(v,lt.targets)+Math.max.apply(v,lt.targets))/2;lt.pos=Math.min(Math.max(v,At-lt.size/2),u-lt.size)})};l;)for(k(A),l=!1,h=A.length;h--;)if(h>0){var F=A[h-1],Y=A[h];F.pos+F.size>Y.pos&&(F.size+=Y.size,F.targets=F.targets.concat(Y.targets),F.pos+F.size>u&&(F.pos=u-F.size),A.splice(h,1),l=!0)}h=0,A.forEach(function(st){var lt=s;st.targets.forEach(function(){r[h].y=st.pos+lt+t.options.lineHeight/2,lt+=t.options.lineHeight,h++})});var N=[];r.forEach(function(st){var lt=t._drawLabel(st);t._drawLabelLine(st,g,lt),N.push(lt)})},i.prototype._drawLabel=function(r){var t=this.coord,e=t.getCenter(),n=t.getRadius(),a=r.y,o=r.textGroup,s=o.get("children"),l=r._side==="left"?1:-1,u=(0,Rt.__assign)({textAlign:r._side==="left"?"right":"left",x:r._side==="left"?e.x-n-this.options.sidePadding:e.x+n+this.options.sidePadding},this.options.style);return this.options.offsetX&&(u.x+=this.options.offsetX*l),s.forEach(function(h){var c=h.get("offsetY"),v=a+c;h.attr(u),h.attr("y",v)}),o.show(),o},i.prototype._drawLabelLine=function(r,t,e){var n=[r._anchor.x,r._anchor.y],a=[r._inflection.x,r._inflection.y],o=r.y,s=r.textGroup;if(!!s){var l=[r._side==="left"?s.getBBox().maxX+4:s.getBBox().minX-4,o],u=[n,a,l];if(a[1]!==o)if(a[1]<this.height/2&&a[1]<o||a[1]>=this.height/2&&a[1]>o){var h=a,c=l[0]+kg,v=l[0]-kg,g=[r._side==="left"?c:v,a[1]];u=[n,h,g,l],(r._side==="right"&&g[0]<h[0]||r._side==="left"&&g[0]>h[0])&&(u=[n,h,l])}else u=[n,[a[0],o],l];for(var A=[],k=0;k<u.length;k++){var F=u[k],Y="L";k===0&&(Y="M"),A.push([Y,F[0],F[1]])}e.addShape("path",{attrs:{path:A,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},i.prototype._adjustOptions=function(r){r.text.fontSize&&(r.lineHeight=r.text.fontSize*3)},i}(),EO=MO,AO=function(i){var r=i.opacity||1;return{fillOpacity:r*.8}},_O=function(i){var r=i.opacity||1;return{fillOpacity:r*.5}};Ni("pie",{columnStyle:{normal:{},active:AO,disable:_O,selected:{lineWidth:1,stroke:"black"}}});var Fl="$$percentage$$",TO={pie:"interval"},PO={pie:"column"},Dg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.angleField,n=t.colorField,a=t.data,o=(0,f.every)(a,function(l){return l[e]===0});if(o){var s=this.view.geometries[0];s.tooltip(n+"*"+e)}},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;if(t.label&&t.label.visible){this.labelComponent&&this.labelComponent.clear();var e=t.label;if(e.type==="spider"){var n=t.data,a=t.colorField,o=t.angleField,s=(0,f.every)(n,function(h){return h[o]===0}),l=s?Fl:o;this.labelComponent=new EO((0,Rt.__assign)({view:this.view,fields:a?[l,a]:[l],angleField:o,allZero:s},this.options.label)),this.labelComponent.render()}else{var u=xO(e.type);this.labelComponent=new u(this,t.label),this.labelComponent.render()}}},r.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?TO[e]:PO[e]},r.prototype.scale=function(){var t=this.options;i.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=(0,f.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},r.prototype.processData=function(t){var e=this.options.angleField,n=(0,f.every)(t,function(a){return a[e]===0});return n?t.map(function(a){var o;return(0,Rt.__assign)((0,Rt.__assign)({},a),(o={},o[e]=typeof a[e]=="string"?Number.parseFloat(a[e]):a[e],o[Fl]=1/t.length,o))}):t.map(function(a){var o,s=a[e];return(0,Rt.__assign)((0,Rt.__assign)({},a),(o={},o[e]=s&&!isNaN(s)?+s:s,o))})},r.prototype.axis=function(){},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,a,o=(0,f.every)(e,function(s){return s[n]===0});o?a=Nn("interval","main",{plot:this,positionFields:[1,Fl]}):a=Nn("interval","main",{plot:this,positionFields:[1,t.angleField]}),a.adjust=[{type:"stack"}],this.pie=a,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",a)},r.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.pie.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,x)},r.prototype.label=function(){this.pie.label=!1},r}(Bn),Fg=Dg;Xr("pie",Dg);var LO=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="pie",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=Fg.getDefaultOptions,r}(Ir),Rg=LO,OO=.3989422804014327,IO=1/255/16,Es="_origin",kO=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}return r.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},r.prototype.clear=function(){this.clearShadowCanvasCtx(),i.prototype.clear.call(this)},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),n=e.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Es][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),(0,f.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},r.prototype.prepareBlur=function(){var t=(0,f.get)(this.styleOption,["style","shadowBlur"]);(0,f.isNumber)(t)||(t=this.radius/2),this.blur=t},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate,n=Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4));return n},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(s){var l=void 0;a[s]?l=a[s]:(l=Va(e.gradient(s/256)),a[s]=l),n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},r.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,a=Math.sqrt(-2*Math.log(IO/t/n/OO))/3*t,o=a-t,s=a+o,l=e.getContext("2d");e.width=e.height=s*2,l.clearRect(0,0,e.width,e.height),l.shadowOffsetX=l.shadowOffsetY=s*2,l.shadowBlur=o,l.shadowColor="black",l.beginPath(),l.arc(-s,-s,t,0,Math.PI*2,!0),l.closePath(),l.fill()},r.prototype.drawGrayScaleBlurredCircle=function(t,e,n,a,o){var s=this.grayScaleCanvas;o.globalAlpha=a,o.drawImage(s,t-n,e-n)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;t=e.addShape({type:"image",attrs:{}}),this.imageShape=t},r.prototype.drawWithRange=function(t,e){var n=this.coordinate,a=n.start,o=n.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),u=this.getAttribute("color"),h=u.getFields()[0];this.clearShadowCanvasCtx();var c=this.getShadowCanvasCtx();e&&(t=t.filter(function(st){return st[Es][h]<=e[1]&&st[Es][h]>=e[0]}));for(var v=this.scales[h],g=0;g<t.length;g++){var A=t[g],k=this.getDrawCfg(A),F=v.scale(A[Es][h]);this.drawGrayScaleBlurredCircle(k.x-a.x,k.y-o.y,this.radius+this.blur,F,c)}var Y=c.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(Y),c.putImageData(Y,0,0);var N=new Image;N.src=c.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",a.x),this.imageShape.attr("y",o.y),this.imageShape.attr("width",s),this.imageShape.attr("height",l),this.imageShape.attr("img",c.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return(0,Rt.__assign)((0,Rt.__assign)({},e),{mappingData:t,data:this.getData(t)})},r.prototype.getData=function(t){return t.map(function(e){return e[Es]})},r}(Na);ca("linearHeatmap",kO);var BO=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}return r.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},r.prototype.render=function(){if(this.options.type==="color")this.renderColorBackground();else if(this.options.type==="image")this.renderImageBackground();else if(this.options.callback){var t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container};this.options.callback(t)}},r.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},r.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},r.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},r.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},r.prototype.getCoordinate=function(){var t;return(0,f.each)(this.view.geometries,function(e){e.type==="heatmap"&&(t=e.coordinate)}),t},r}(pe.default),DO=BO,Rl=4,Ng=1,FO=.1,RO=function(){function i(r){this.destroyed=!1,this.dataSlides={};var t=this.getDefaultOptions();r.plot.options.theme&&r.plot.options.theme==="dark"&&(t=this.getDarkOptions()),this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var r=this.options.plot.container;this.container=r.addGroup()},i.prototype.render=function(){var r=this.getScales(),t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Dr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=this.width,o=this.height/e.length,s=this.container.addGroup(),l=(0,f.clone)(e).reverse(),u=(t-r)/e.length;(0,f.each)(l,function(h,c){var v=o*c,g={to:t-u*c,from:t-u*(c+1)},A=n.container.addShape("rect",{attrs:{x:0,y:v,width:a,height:o,fill:h,opacity:Ng,cursor:"pointer"},name:"legend"});A.set("info",g);var k=n.getDataSlide(g);n.dataSlides[g.from+"-"+g.to]={mode:"active",data:k},s.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",0,v+o],["L",a,v+o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Rt.__assign)({text:t,x:a/2,y:-Rl,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Rt.__assign)((0,Rt.__assign)({text:r,x:a/2,y:this.height+Rl,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),s.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=this.width/e.length,o=this.height,s=this.container.addGroup(),l=(t-r)/e.length;(0,f.each)(e,function(u,h){var c=a*h,v={from:l*h,to:l*(h+1)},g=n.container.addShape("rect",{attrs:{x:c,y:0,width:a,height:o,fill:u,opacity:.8,cursor:"pointer"},name:"legend"});g.set("info",v),s.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",c+a,0],["L",c+a,o]]},n.options.gridlineStyle)})}),this.container.addShape("text",{attrs:(0,Rt.__assign)((0,Rt.__assign)({text:r,x:-Rl,y:o/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:(0,Rt.__assign)({text:t,x:this.width+Rl,y:o/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.options.plot.options.width;return r*.5}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.options.plot.options.height;return r*.5}return 10},i.prototype.legendLayout=function(){var r=this,t=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(t)&&(0,f.each)(t,function(u,h){typeof t[h]=="function"&&(t[h]=t[h](r.options.plot.options))});var e=this.container.getBBox(),n=0,a=0,o=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;o[0]==="left"?n=t[3]:o[0]==="right"?n=s-t[1]-e.width:o[1]==="center"?n=(s-e.width)/2:o[1]==="left"?n=t[3]:o[1]==="right"&&(n=this.options.plot.width-t[1]-e.width),o[0]==="bottom"?a=l-t[2]-e.height:o[0]==="top"?a=this.getTopPosition(t):o[1]==="center"?a=(l-e.height)/2:o[1]==="top"?a=t[0]:o[1]==="bottom"&&(a=l-t[2]-e.height),this.x=n,this.y=a,this.container.translate(n,a)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},i.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},i.prototype.addInteraction=function(){var r=this,t=this.options.plot.options.colorField;this.container.on("click",function(e){var n=e.target;if(n.get("name")==="legend"){var a=n.get("info"),o=a.from+"-"+a.to,s=r.dataSlides[o];s.mode==="active"?(s.mode="deactive",n.stopAnimate(),n.animate({opacity:FO},200)):(s.mode="active",n.stopAnimate(),n.animate({opacity:Ng},200));var l=r.getFilteredData();l.length>0&&(r.view.changeData(l),r.view.scale(t,{min:r.colorScale.min,max:r.colorScale.max,nice:r.colorScale.nice}),r.view.render())}})},i.prototype.getFilteredData=function(){var r=[];return(0,f.each)(this.dataSlides,function(t){t.mode=="active"&&r.push.apply(r,t.data)}),r},i.prototype.getDataSlide=function(r){var t=[],e=this.options.plot.options,n=e.colorField,a=e.data;return(0,f.each)(a,function(o){var s=o[n];s>=r.from&&s<r.to&&t.push(o)}),t},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.getScales=function(){var r;return(0,f.each)(this.view.geometries,function(t){t.type==="heatmap"&&(r=t.scales)}),r},i}(),NO=RO,GO={background:{Ctr:DO},legend:{Ctr:NO,padding:"outer"}};function YO(i,r,t){if(i.options[r]&&i.options[r].visible){var e=GO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var zO={heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"},XO=si(zO);(0,f.assign)($r,XO);var Gg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Qn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Qn(e[t.yField],t.yAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.geometryParser=function(){return"heatmap"},r.prototype.addGeometry=function(){if(this.options.data.length>1){var t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}};this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint()}},r.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=(0,f.deepMix)(e,t.point):t.point=e;var n=Nn("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=gi("label",(0,Rt.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e));return n},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,w)},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()});var e=["legend","background"];(0,f.each)(e,function(n){var a=(0,Rt.__assign)({view:t.view,plot:t},t.options[n]),o=YO(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Bn),VO=Gg;Xr("densityHeatmap",Gg);var HO=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="densityHeatmap",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=VO.getDefaultOptions,r}(Ir),Yg=HO;function Nl(i,r,t,e,n){var a=t*n,o=e*n,s=[["M",i-a/2,r+o/2],["Q",i-a/2,r,i-a/2,r-o/2],["Q",i,r-o/2,i+a/2,r-o/2],["Q",i+a/2,r,i+a/2,r+o/2],["Q",i,r+o/2,i-a/2,r+o/2],["Z"]];return s}function Gl(i,r,t){var e=[["M",i,r],["l",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-(t*2),0],["Z"]];return e}function zg(i,r,t){var e=[["M",i-t,r],["Q",i-t,r-t,i,r-t],["Q",i+t,r-t,i+t,r],["Q",i+t,r+t,i,r+t],["Q",i-t,r+t,i-t,r],["Z"]];return e}en("polygon","rect",{draw:function(i,r){var t=this.parsePoints(i.points),e=t[2].x-t[0].x,n=t[0].y-t[1].y,a=t[0].x+e/2,o=t[1].y+n/2,s=Nl(a,o,e,n,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:s,fill:i.color,opacity:1},i.style)})}}),en("point","curvePoint",{draw:function(i,r){var t=Gl(i.x,i.y,i.size);return r.addShape("path",{attrs:(0,f.deepMix)({},{path:t,fill:i.color,opacity:1},i.style)})}});var WO=function(){function i(r){this.destroyed=!1,this.view=r.view,this.plot=r.plot;var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.init()}return i.prototype.init=function(){var r=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){r.clear(),r.plot.canvas.draw()})},i.prototype.render=function(){var r=this,t=this.view.geometries[0].elements;(0,f.each)(t,function(e){var n=e.shape,a=r.options,o=a.style,s=a.offsetX,l=a.offsetY,u=r.options.formatter,h=u?u(r.getContent(n)):r.getContent(n),c=r.getPosition(n),v=r.getTextColor(n),g=r.container.addShape("text",{attrs:(0,f.deepMix)({},o,{x:c.x+s,y:c.y+l,text:h,fill:v,textAlign:"center",textBaseline:"middle"}),name:"label"});r.options.adjustPosition&&r.adjustLabel(g,n)})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},i.prototype.getBBox=function(){return this.container.getBBox()},i.prototype.getDefaultOptions=function(){var r=this.plot.theme,t=r.label.style;return{offsetX:0,offsetY:0,style:(0,f.clone)(t)}},i.prototype.getContent=function(r){var t=r.get("origin").data,e=this.plot.options.colorField;return t[e]},i.prototype.getPosition=function(r){var t=r.getBBox();return{x:t.minX+t.width/2,y:t.minY+t.height/2}},i.prototype.getTextColor=function(r){if(this.options.adjustColor){var t=r.attr("fill"),e=r.attr("opacity")?r.attr("opacity"):1,n=Va(t),a=Math.round(n[0]*.299+n[1]*.587+n[2]*.114)/e,o=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=Il(o,a);return s}var l=this.options.style.fill;return l},i.prototype.adjustLabel=function(r,t){var e=r.getBBox(),n=t.getBBox();(e.width>n.width||e.height>n.height)&&r.attr("text","")},i}(),jO=WO,Xg=4,UO=function(){function i(r){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var t=this.getDefaultOptions();this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.afterRender=!0,this.init()}return i.prototype.init=function(){var r=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container&&this.container.remove(),this.container=t.addGroup(),this.view.on("beforerender",function(){r.clear(),r.options.plot.canvas.draw()})},i.prototype.render=function(){var r=this.view.geometries[0].scales,t=this.options.plot.options.colorField;this.colorScale=r[t];var e=this.colorScale,n=e.min,a=e.max,o=this.options.plot.options.color;this.layout==="horizontal"?this.renderHorizontal(n,a,o):this.renderVertical(n,a,o),this.legendLayout(),this.addInteraction()},i.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},i.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},i.prototype.getBBox=function(){var r=this.container.getBBox();return new Dr(this.x,this.y,r.width,r.height)},i.prototype.renderVertical=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.height/(e.length-1),l="l(90)";(0,f.each)(e,function(v,g){var A=o*g;l+=A+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var A=s*g;n.container.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",0,A],["L",n.width,A]]},n.options.ticklineStyle)});var k=Math.round(a*g);n.container.addShape("text",{attrs:(0,Rt.__assign)({text:k,textAlign:"left",textBaseline:"middle",x:n.width+Xg,y:A},n.options.text.style),name:"legend-label"})});var u=10,h=14,c=[["M",-u,-h/2],["L",0,0],["L",-u,h/2],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Rt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.renderHorizontal=function(r,t,e){var n=this,a=(t-r)/(e.length-1),o=1/(e.length-1),s=this.width/(e.length-1),l="l(0)";(0,f.each)(e,function(v,g){var A=o*g;l+=A+":"+v+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:l},name:"legend"}),(0,f.each)(e,function(v,g){var A=s*g;n.container.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",A,0],["L",A,n.height]]},n.options.ticklineStyle),name:"legend-label"});var k=Math.round(a*g);n.container.addShape("text",{attrs:(0,Rt.__assign)({text:k,textAlign:"center",textBaseline:"top",x:A,y:n.height+Xg},n.options.text.style)})});var u=14,h=10,c=[["M",0,0],["L",-u/2,-h],["L",u/2,-h],["Z"]];this.anchor=this.container.addShape("path",{attrs:(0,Rt.__assign)({path:c},this.options.anchorStyle)}),this.anchor.set("visible",!1)},i.prototype.getLayout=function(){var r=this.options.position.split("-");return this.position=r[0],r[0]==="left"||r[0]==="right"?"vertical":"horizontal"},i.prototype.getDefaultWidth=function(){if(this.layout==="horizontal"){var r=this.view.coordinateBBox.width;return r}return 10},i.prototype.getDefaultHeight=function(){if(this.layout==="vertical"){var r=this.view.coordinateBBox.height;return r}return 10},i.prototype.legendLayout=function(){var r=this,t=this.view.coordinateBBox,e=this.options.plot.getPlotTheme().bleeding;(0,f.isArray)(e)&&(0,f.each)(e,function(h,c){typeof e[c]=="function"&&(e[c]=e[c](r.options.plot.options))});var n=this.container.getBBox(),a=0,o=0,s=this.options.position.split("-"),l=this.options.plot.width,u=this.options.plot.height;s[0]==="left"?a=e[3]:s[0]==="right"?a=l-e[1]-n.width:s[1]==="center"?this.width===t.width?a=t.x:a=(l-n.width)/2:s[1]==="left"?a=e[3]:s[1]==="right"&&(a=this.options.plot.width-e[1]-n.width),s[0]==="bottom"?o=u-e[2]-n.height:s[0]==="top"?o=this.getTopPosition(e):s[1]==="center"?this.height===t.height?o=t.y:o=(u-n.height)/2:s[1]==="top"?o=e[0]:s[1]==="bottom"&&(o=u-e[2]-n.height),this.x=a,this.y=o,this.container.translate(a,o)},i.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},i.prototype.addInteraction=function(){var r=this,t;this.options.plot.options.shapeType==="rect"?t="polygon":t="point";var e=t+":"+this.options.triggerOn,n=this.options.plot.options.colorField,a=this.colorScale,o=a.min,s=a.max,l=function(h){var c=h.data.data[n],v=(c-o)/(s-o);r.moveAnchor(v)};this.view.on(e,l),this.interactiveEvents[e]={target:this.view,handler:l};var u=function(){r.anchor.set("visible",!1)};this.options.plot.canvas.on("mouseleave",u),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:u}},i.prototype.moveAnchor=function(r){if(this.anchor.set("visible",!0),this.layout==="vertical"){var t=this.height*r,e=[1,0,0,0,1,0,0,0,1];e[7]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}else{var t=this.width*r,e=[1,0,0,0,1,0,0,0,1];e[6]=t,this.anchor.stopAnimate(),this.anchor.animate({matrix:e},400,"easeLinear")}},i.prototype.getTopPosition=function(r){if(this.options.plot.description){var t=this.options.plot.description.getBBox();return t.maxY+10}else if(this.options.plot.title){var t=this.options.plot.title.getBBox();return t.maxY+10}return r[0]},i.prototype.offEvent=function(){(0,f.each)(this.interactiveEvents,function(r,t){var e=r.target,n=r.handler;e.off(t,n)})},i}(),ZO=UO,KO={label:{Ctr:jO},legend:{Ctr:ZO,padding:"outer"}};function $O(i,r,t){if(i.options[r]&&i.options[r].visible){var e=KO[r],n=new e.Ctr(t);return e.padding&&i.paddingController.registerPadding(n,e.padding),n}}var Vg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},r.prototype.afterRender=function(){this.renderPlotComponents(),i.prototype.afterRender.call(this)},r.prototype.changeShape=function(t){if(this.options.shapeType!==t){if(this.options.shapeType=t,t==="rect"){var e=this.getShape();this.circleToRect(e)}else if(t==="circle"){var e=this.getShape();this.rectToCircle(e)}}},r.prototype.mappingSize=function(t){if(!(this.options.sizeField&&this.options.sizeField===t)){this.options.sizeField=t;var e=(0,f.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),a=Math.max.apply(Math,e),o=(0,Er.getScale)("linear"),s=new o({min:n,max:a}),l=this.getShape();this.options.shapeType==="rect"?this.rectSizeMapping(l,s,t):this.options.shapeType==="circle"&&this.circleSizeMapping(l,s,t)}},r.prototype.disableMappingSize=function(){var t=this.getShape();this.options.shapeType==="rect"?this.rectDisableSizeMapping(t):this.options.shapeType==="circle"&&this.circleDisableSizeMapping(t)},r.prototype.destroy=function(){(0,f.each)(this.plotComponents,function(t){t.destroy()}),i.prototype.destroy.call(this)},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(){return""},r.prototype.coord=function(){},r.prototype.legend=function(){this.setConfig("legends",!1)},r.prototype.addGeometry=function(){this.gridSize=this.getGridSize();var t;if(this.options.shapeType==="rect")t=this.addRect();else{var e=this.addCircle();t=e}if(this.options.shapeStyle){var n={};(0,f.isFunction)(this.options.shapeStyle)?(n.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],n.callback=this.options.shapeStyle):(0,f.isObject)(this.options.shapeStyle)&&(n.cfg=this.options.shapeStyle),t.style=n}this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},r.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},r.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[Math.min(this.gridSize[0],this.gridSize[1])*.5*.9]},e},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},r.prototype.getGridSize=function(){if(this.options.padding==="auto")return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,a=e.xField,o=e.yField,s=e.data,l=t.width-n[1]-n[3],u=t.height-n[0]-n[2],h=(0,f.valuesOfKey)(s,a).length,c=(0,f.valuesOfKey)(s,o).length;return[l/h,u/c]},r.prototype.circleToRect=function(t){var e=this,n=this.gridSize;(0,f.each)(t,function(a){var o=a.get("origin"),s=o.x,l=o.y,u=o.size,h=u*2/Math.min(n[0],n[1]);e.options.sizeField||(h=1);var c=zg(s,l,u),v=Nl(s,l,n[0],n[1],h);a.stopAnimate(),a.attr("path",c),a.animate({path:v},500,"easeLinear")})},r.prototype.rectToCircle=function(t){var e=this;(0,f.each)(t,function(n){var a=n.get("coord"),o=n.get("origin").points,s=[];(0,f.each)(o,function(F){s.push(a.convertPoint(F))});var l=n.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=e.options.sizeField?1:.9,A=zg(c,v,Math.min(u,h)/2*g),k=Gl(c,v,Math.min(u,h)/2*g);n.stopAnimate(),n.animate({path:A},500,"easeLinear",function(){n.attr("path",k)})})},r.prototype.rectSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6;a.get("origin").size=s;var l=a.getBBox(),u=l.width,h=l.height,c=l.minX+u/2,v=l.minY+h/2,g=Nl(c,v,u,h,s);a.stopAnimate(),a.animate({path:g},500,"easeLinear")})},r.prototype.circleSizeMapping=function(t,e,n){(0,f.each)(t,function(a){var o=a.get("origin").data,s=.3+e.scale(o[n])*.6,l=a.get("origin"),u=l.x,h=l.y,c=l.size,v=Gl(u,h,c*s);a.get("origin").size=c*s,a.stopAnimate(),a.animate({path:v},500,"easeLinear")})},r.prototype.circleDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.get("origin"),o=a.x,s=a.y,l=Math.min(e.gridSize[0],e.gridSize[1])*.9;n.get("origin").size=l/2;var u=Gl(o,s,l/2);n.stopAnimate(),n.animate({path:u},500,"easeLinear")})},r.prototype.rectDisableSizeMapping=function(t){var e=this;this.options.sizeField=null,(0,f.each)(t,function(n){var a=n.getBBox(),o=a.width,s=a.height,l=a.minX+o/2,u=a.minY+s/2,h=Nl(l,u,e.gridSize[0],e.gridSize[1],1);n.get("origin").size=1,n.stopAnimate(),n.animate({path:h},500,"easeLinear")})},r.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return(0,f.each)(t,function(n){e.push(n.shape)}),e},r.prototype.renderPlotComponents=function(){var t=this;(0,f.each)(this.plotComponents,function(n){n.destroy()}),this.plotComponents=[];var e=["label","legend"];(0,f.each)(e,function(n){var a=(0,Rt.__assign)({view:t.view,plot:t},t.options[n]),o=$O(t,n,a);o&&(o.render(),t.plotComponents.push(o))})},r}(Bn),QO=Vg;Xr("heatmap",Vg);var JO=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="heatmap",i.prototype.createLayers.call(this,e)},r.prototype.changeShape=function(t){var e=this.layers[0];e.changeShape(t)},r.prototype.mappingSize=function(t){var e=this.layers[0];e.mappingSize(t)},r.prototype.disableMappingSize=function(){var t=this.layers[0];t.disableMappingSize()},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=QO.getDefaultOptions,r}(Ir),Hg=JO,qO=function(i){(0,Rt.__extends)(r,i);function r(t){var e=this,n=(0,f.deepMix)({},t,{itemTpl:`<div data-index={index}>
        <span style="background-color:{color};" class="g2-tooltip-marker"></span>
        {name}<span class="g2-tooltip-value">{value}</span></div>`},t);return e=i.call(this,n)||this,e}return r}(J2.Z),tI=qO;/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2013 Tim Chien
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(o){var s=t.length;return t.push(o),window.postMessage(e+s.toString(36),"*"),s};return window.addEventListener("message",function(o){if(!(typeof o.data!="string"||o.data.substr(0,e.length)!==e)){o.stopImmediatePropagation();var s=parseInt(o.data.substr(e.length),36);!t[s]||(t[s](),t[s]=void 0)}},!0),window.clearImmediate=function(o){!t[o]||(t[o]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var uh=function(){var r=document.createElement("canvas");if(!r||!r.getContext)return!1;var t=r.getContext("2d");return!(!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),jo=function(){if(!!uh){for(var r=document.createElement("canvas").getContext("2d"),t=20,e,n;t;){if(r.font=t.toString(10)+"px sans-serif",r.measureText("\uFF37").width===e&&r.measureText("m").width===n)return t+1;e=r.measureText("\uFF37").width,n=r.measureText("m").width,t--}return 0}}(),eI=function(r){for(var t,e,n=r.length;n;t=Math.floor(Math.random()*n),e=r[--n],r[n]=r[t],r[t]=e);return r},fh=function(r,t){if(!uh)return;Array.isArray(r)||(r=[r]),r.forEach(function(hr,Te){if(typeof hr=="string"){if(r[Te]=document.getElementById(hr),!r[Te])throw"The element id specified is not found."}else if(!hr.tagName&&!hr.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var e={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "\u5FAE\u8EDF\u6B63\u9ED1\u9AD4", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:jo,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},n=[];if(t)for(var a in t)if(a==="wordStyle")for(var o in t[a])o in e&&(e[o]=t[a][o]);else a in e&&(e[a]=t[a]);if(e.minFontSize<jo&&(e.minFontSize=jo),e.minFontSize>e.maxFontSize){console.error("minSize cant bigger than maxSize");return}for(var s=0,l=0;l<e.data.length;l++)s<e.data[l].weight&&(s=e.data[l].weight);var u=function(Te){var Ve=Math.min(Math.max(e.minFontSize,e.maxFontSize*Te/s),e.maxFontSize);return xr?Ve*e.fontScale:Ve},h=!1;if(typeof e.shape!="function")switch(e.shape){case"circle":default:e.shape="circle";break;case"cardioid":e.shape=function(Te){return 1-Math.sin(Te)},h=!0;break;case"diamond":e.shape=function(Te){var Ve=Te%(2*Math.PI/4);return 1/(Math.cos(Ve)+Math.sin(Ve))};break;case"square":e.shape=function(Te){var Ve=(Te+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(Ve)+Math.sin(Ve))};break;case"triangle-forward":e.shape=function(Te){var Ve=Te%(2*Math.PI/3);return 1/(Math.cos(Ve)+Math.sqrt(3)*Math.sin(Ve))};break;case"triangle-backward":e.shape=function(Te){var Ve=(Te+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(Ve)+Math.sqrt(3)*Math.sin(Ve))};break;case"triangle":case"triangle-up":e.shape=function(Te){var Ve=(Te+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(Ve)+Math.sqrt(3)*Math.sin(Ve))};break;case"triangle-down":e.shape=function(Te){var Ve=(Te+Math.PI*5/2)%(2*Math.PI/3);return 1/(Math.cos(Ve)+Math.sqrt(3)*Math.sin(Ve))};break;case"pentagon":e.shape=function(Te){var Ve=(Te+.955)%(2*Math.PI/5);return 1/(Math.cos(Ve)+.726543*Math.sin(Ve))};break;case"star":e.shape=function(Te){var Ve=(Te+.955)%(2*Math.PI/10);return(Te+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-Ve)+3.07768*Math.sin(2*Math.PI/10-Ve)):1/(Math.cos(Ve)+3.07768*Math.sin(Ve))};break}e.gridSize=Math.max(Math.floor(e.gridSize),4);var c=e.gridSize,v=c-e.maskGapWidth,g=Math.abs(e.maxRotation-e.minRotation),A=Math.min(e.maxRotation,e.minRotation),k=e.rotationSteps,F,Y,N,st,lt,At,zt;function Wt(hr,Te){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Te-hr)+hr).toFixed()+"%)"}switch(e.color){case"random-dark":zt=function(){return Wt(10,50)};break;case"random-light":zt=function(){return Wt(50,90)};break;default:typeof e.color=="function"&&(zt=e.color);break}var Qt=null;typeof e.classes=="function"&&(Qt=e.classes);var Vt=!1,te=[],le,ae=function(Te){var Ve=Te.currentTarget,br=Ve.getBoundingClientRect(),Lr,dr;Te.touches?(Lr=Te.touches[0].clientX,dr=Te.touches[0].clientY):(Lr=Te.clientX,dr=Te.clientY);var Nr=Lr-br.left,Br=dr-br.top,Mr=Math.floor(Nr*(Ve.width/br.width||1)/c),Gr=Math.floor(Br*(Ve.height/br.height||1)/c);return te&&te[Mr]&&te[Mr][Gr]},Se=function(Te,Ve,br,Lr){Lr(Te?Te.id:-1)},_e=function(Te){var Ve=ae(Te);if(le!==Ve&&!(xr&&Ve&&Ve.item&&!(0,f.get)(Ve,["item","twiceRender"]))){if(!Ve){e.onWordCloudHover(void 0,void 0,Te,Fr),e.active&&Se(void 0,void 0,Te,Fr);return}e.onWordCloudHover(Ve.item,Ve.dimension,Te,Fr),e.active&&Se(Ve.item,Ve.dimension,Te,Fr),le=Ve}},Ee=function(Te){var Ve=ae(Te);!Ve||(e.onWordCloudClick(Ve.item,Ve.dimension,Te),Te.preventDefault())},Fe=[],Ne=function(Te){if(Fe[Te])return Fe[Te];var Ve=Te*8,br=Ve,Lr=[];for(Te===0&&Lr.push([st[0],st[1],0]);br--;){var dr=1;e.shape!=="circle"&&(dr=e.shape(br/Ve*2*Math.PI)),Lr.push([st[0]+Te*dr*Math.cos(-br/Ve*2*Math.PI),st[1]+Te*dr*Math.sin(-br/Ve*2*Math.PI)*e.ellipticity,br/Ve*2*Math.PI])}return Fe[Te]=Lr,Lr},Ye=function(){return e.abortThreshold>0&&new Date().getTime()-At>e.abortThreshold},Be=function(){return e.rotateRatio===0||Math.random()>e.rotateRatio?0:g===0?A:k>0?A+Math.floor(Math.random()*k)*g/k:A+Math.random()*g},De=function(Te,Ve,br){var Lr=!1,dr=u(Ve);if(dr<=0)return!1;var Nr=1;dr<jo&&(Nr=function(){for(var To=2;To*dr<jo;)To+=2;return To}());var Br=document.createElement("canvas"),Mr=Br.getContext("2d",{willReadFrequently:!0});Mr.font=e.fontWeight+" "+(dr*Nr).toString(10)+"px "+e.fontFamily;var Gr=Mr.measureText(Te).width/Nr,Qr=Math.max(dr*Nr,Mr.measureText("m").width,Mr.measureText("\uFF37").width)/Nr,Sn=Gr+Qr*2,ln=Qr*3,Ln=Math.ceil(Sn/c),Rn=Math.ceil(ln/c);Sn=Ln*c,ln=Rn*c;var xi=-Gr/2,Ai=-Qr*.4,Un=Math.ceil((Sn*Math.abs(Math.sin(br))+ln*Math.abs(Math.cos(br)))/c),mr=Math.ceil((Sn*Math.abs(Math.cos(br))+ln*Math.abs(Math.sin(br)))/c),On=mr*c,ui=Un*c;Br.setAttribute("width",On),Br.setAttribute("height",ui),Lr&&(document.body.appendChild(Br),Mr.save()),Mr.scale(1/Nr,1/Nr),Mr.translate(On*Nr/2,ui*Nr/2),Mr.rotate(-br),Mr.font=e.fontWeight+" "+(dr*Nr).toString(10)+"px "+e.fontFamily,Mr.fillStyle="#000",Mr.textBaseline="middle",Mr.fillText(Te,xi*Nr,(Ai+dr*.5)*Nr);var Jn;try{Jn=Mr.getImageData(0,0,On,ui).data}catch(_i){return!1}if(Ye())return!1;Lr&&(Mr.strokeRect(xi*Nr,Ai,Gr*Nr,Qr*Nr),Mr.restore());for(var Ba=[],fi=mr,fn,an,Cn,Tn=[Un/2,mr/2,Un/2,mr/2];fi--;)for(fn=Un;fn--;){Cn=c;t:{for(;Cn--;)for(an=c;an--;)if(Jn[((fn*c+Cn)*On+(fi*c+an))*4+3]){Ba.push([fi,fn]),fi<Tn[3]&&(Tn[3]=fi),fi>Tn[1]&&(Tn[1]=fi),fn<Tn[0]&&(Tn[0]=fn),fn>Tn[2]&&(Tn[2]=fn),Lr&&(Mr.fillStyle="rgba(255, 0, 0, 0.5)",Mr.fillRect(fi*c,fn*c,c-.5,c-.5));break t}Lr&&(Mr.fillStyle="rgba(0, 0, 255, 0.5)",Mr.fillRect(fi*c,fn*c,c-.5,c-.5))}}return Lr&&(Mr.fillStyle="rgba(0, 255, 0, 0.5)",Mr.fillRect(Tn[3]*c,Tn[0]*c,(Tn[1]-Tn[3]+1)*c,(Tn[2]-Tn[0]+1)*c)),{mu:Nr,occupied:Ba,bounds:Tn,gw:mr,gh:Un,fillTextOffsetX:xi,fillTextOffsetY:Ai,fillTextWidth:Gr,fillTextHeight:Qr,fontSize:dr}},rr=function(Te,Ve,br,Lr,dr){for(var Nr=dr.length;Nr--;){var Br=Te+dr[Nr][0],Mr=Ve+dr[Nr][1];if(Br>=Y||Mr>=N||Br<0||Mr<0){if(!e.drawOutOfBound)return!1;continue}if(!F[Br][Mr])return!1}return!0},tr=function(Te,Ve,br,Lr,dr,Nr,Br,Mr,Gr,Qr,Sn){var ln=br.fontSize,Ln=e.color,Rn=e.classes;if(!Sn)zt?Ln=zt(Lr,dr,ln,Nr,Br):Ln=e.color,Qt?Rn=Qt(Lr,dr,ln,Nr,Br):Rn=e.classes;else{var xi=or(Qr);Ln=xi?xi.color:e.color}var Ai,Un=br.bounds;Ai={x:(Te+Un[3])*c,y:(Ve+Un[0])*c,w:(Un[1]-Un[3]+1)*c,h:(Un[2]-Un[0]+1)*c},r.forEach(function(mr){if(mr.getContext){var On=mr.getContext("2d"),ui=br.mu;On.save();var Jn=e.fontWeight+" "+(ln*ui).toString(10)+"px "+e.fontFamily;On.scale(1/ui,1/ui),On.font=Jn,On.fillStyle=Ln;var Ba=(Te+br.gw/2)*c*ui,fi=(Ve+br.gh/2)*c*ui;On.translate(Ba,fi),Mr!==0&&On.rotate(-Mr),On.textBaseline="middle",e.selected===Qr&&(On.shadowColor=e.shadowColor,On.shadowBlur=e.shadowBlur),On.fillText(Lr,br.fillTextOffsetX*ui,(br.fillTextOffsetY+ln*.5)*ui),Sn||n.push({gx:Te,gy:Ve,info:br,word:Lr,weight:dr,distance:Nr,theta:Br,rotateDeg:Mr,attributes:Gr,id:Qr,color:Ln}),On.restore()}else{var fn=document.createElement("span"),an="";an="rotate("+-Mr/Math.PI*180+"deg) ",br.mu!==1&&(an+="translateX(-"+br.fillTextWidth/4+"px) scale("+1/br.mu+")");var Cn={position:"absolute",display:"block",font:e.fontWeight+" "+ln*br.mu+"px "+e.fontFamily,left:(Te+br.gw/2)*c+br.fillTextOffsetX+"px",top:(Ve+br.gh/2)*c+br.fillTextOffsetY+"px",width:br.fillTextWidth+"px",height:br.fillTextHeight+"px",lineHeight:ln+"px",whiteSpace:"nowrap",transform:an,webkitTransform:an,msTransform:an,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Ln&&(Cn.color=Ln),fn.textContent=Lr;for(var Tn in Cn)fn.style[Tn]=Cn[Tn];if(Gr)for(var _i in Gr)fn.setAttribute(_i,Gr[_i]);Rn&&(fn.className+=Rn),mr.appendChild(fn)}})},lr=function(Te,Ve,br,Lr,dr){if(!(Te>=Y||Ve>=N||Te<0||Ve<0)){if(F[Te][Ve]=!1,br){var Nr=r[0].getContext("2d");Nr.fillRect(Te*c,Ve*c,v,v)}Vt&&(te[Te][Ve]={item:dr,dimension:Lr})}},Xe=function(Te,Ve,br,Lr,dr){var Nr=dr.occupied,Br=e.drawMask,Mr;Br&&(Mr=r[0].getContext("2d"),Mr.save(),Mr.fillStyle=e.maskColor);var Gr;if(Vt){var Qr=dr.bounds;Gr={x:(Te+Qr[3])*c,y:(Ve+Qr[0])*c,w:(Qr[1]-Qr[3]+1)*c,h:(Qr[2]-Qr[0]+1)*c}}for(var Sn=Nr.length;Sn--;){var ln=Te+Nr[Sn][0],Ln=Ve+Nr[Sn][1];if(!(ln>=Y||Ln>=N||ln<0||Ln<0)){var Rn=or(dr.item.id);Rn&&(dr.item.color=Rn.color),lr(ln,Ln,Br,Gr,dr.item)}}Br&&Mr.restore()},ar=function(Te,Ve,br,Lr,dr,Nr,Br,Mr){var Gr=Math.floor(Te[0]-Ve.gw/2),Qr=Math.floor(Te[1]-Ve.gh/2),Sn=Ve.gw,ln=Ve.gh;return rr(Gr,Qr,Sn,ln,Ve.occupied)?(tr(Gr,Qr,Ve,br,Lr,dr,Te[2],Nr,Br,Mr,!1),Xe(Gr,Qr,Sn,ln,Ve),{gx:Gr,gy:Qr,rot:Nr,info:Ve}):!1},yr=function(Te){var Ve,br,Lr,dr;Array.isArray(Te)?(Ve=Te[0],br=Te[1]):(Ve=Te.word,br=Te.weight,Lr=Te.attributes,dr=Te.id);var Nr=(0,f.isNil)(Te.rotateDeg)?Be():Te.rotateDeg,Br=De(Ve,br,Nr);if(Br&&(Br.item=Te),!Br||Ye())return!1;if(!e.drawOutOfBound){var Mr=Br.bounds;if(Mr[1]-Mr[3]+1>Y||Mr[2]-Mr[0]+1>N)return!1}for(var Gr=lt+1;Gr--;){var Qr=Ne(lt-Gr);e.shuffle&&(Qr=[].concat(Qr),eI(Qr));for(var Sn=0;Sn<Qr.length;Sn++){var ln=ar(Qr[Sn],Br,Ve,br,lt-Gr,Nr,Lr,dr);if(ln)return ln}}return null},sr=function(Te,Ve,br){if(Ve)return!r.some(function(Lr){var dr=document.createEvent("CustomEvent");return dr.initCustomEvent(Te,!0,Ve,br||{}),!Lr.dispatchEvent(dr)},this);r.forEach(function(Lr){var dr=document.createEvent("CustomEvent");dr.initCustomEvent(Te,!0,Ve,br||{}),Lr.dispatchEvent(dr)},this)},or=function(Te){for(var Ve=0;Ve<n.length;Ve++){var br=n[Ve];if(n[Ve].id===Te)return br}},xr,Fr=function(Te){if(Te!==void 0){if(e.selected!==Te&&r[0].getContext){e.selected=Te;var Ve=r[0].getContext("2d");Ve.fillStyle=e.backgroundColor,Ve.clearRect(0,0,r[0].width,r[0].height),Ve.fillRect(0,0,r[0].width,r[0].height);for(var br=0;br<n.length;br++){var Lr=n[br];(!xr||xr&&(0,f.get)(Lr,["info","item","twiceRender"]))&&tr(Lr.gx,Lr.gy,Lr.info,Lr.word,Lr.weight,Lr.distance,Lr.theta,Lr.rotateDeg,Lr.attributes,Lr.id,!0)}}return}var dr=r[0];if(dr.getContext)Y=Math.ceil(dr.width/c),N=Math.ceil(dr.height/c);else{var Nr=dr.getBoundingClientRect();Y=Math.ceil(Nr.width/c),N=Math.ceil(Nr.height/c)}if(!!sr("wordcloudstart",!0)){st=e.origin?[e.origin[0]/c,e.origin[1]/c]:[Y/2,N/(h?4:2)],lt=Math.floor(Math.sqrt(Y*Y+N*N)),F=[];var Br,Mr,Gr;if(!dr.getContext||e.clearCanvas)for(r.forEach(function(an){if(an.getContext){var Cn=an.getContext("2d");Cn.fillStyle=e.backgroundColor,Cn.clearRect(0,0,Y*(c+1),N*(c+1)),Cn.fillRect(0,0,Y*(c+1),N*(c+1))}else an.textContent="",an.style.backgroundColor=e.backgroundColor,an.style.position="relative"}),Br=Y;Br--;)for(F[Br]=[],Mr=N;Mr--;)F[Br][Mr]=!0;else{var Qr=document.createElement("canvas").getContext("2d");Qr.fillStyle=e.backgroundColor,Qr.fillRect(0,0,1,1);var Sn=Qr.getImageData(0,0,1,1).data,ln=dr.getContext("2d").getImageData(0,0,Y*c,N*c).data;Br=Y;for(var Ln,Rn;Br--;)for(F[Br]=[],Mr=N;Mr--;){Rn=c;t:for(;Rn--;)for(Ln=c;Ln--;)for(Gr=4;Gr--;)if(ln[((Mr*c+Rn)*Y*c+(Br*c+Ln))*4+Gr]!==Sn[Gr]){F[Br][Mr]=!1;break t}F[Br][Mr]!==!1&&(F[Br][Mr]=!0)}ln=Qr=Sn=void 0}if(e.onWordCloudHover||e.onWordCloudClick){for(Vt=!0,Br=Y+1;Br--;)te[Br]=[];e.onWordCloudHover&&dr.addEventListener("mousemove",_e),e.onWordCloudClick&&(dr.addEventListener("click",Ee),dr.addEventListener("touchstart",Ee),dr.addEventListener("touchend",function(an){an.preventDefault()}),dr.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),dr.addEventListener("wordcloudstart",function an(){dr.removeEventListener("wordcloudstart",an),dr.removeEventListener("mousemove",_e),dr.removeEventListener("click",Ee),le=void 0})}if(e.animatable){Gr=0;var On,ui;e.wait!==0?(On=window.setTimeout,ui=window.clearTimeout):(On=window.setImmediate,ui=window.clearImmediate);var Jn=function(Cn,Tn){r.forEach(function(_i){_i.addEventListener(Cn,Tn)},this)},Ba=function(Cn,Tn){r.forEach(function(_i){_i.removeEventListener(Cn,Tn)},this)},fi=function an(){Ba("wordcloudstart",an),ui(fn)};Jn("wordcloudstart",fi);var fn=On(function an(){if(Gr>=e.data.length){ui(fn),sr("wordcloudstop",!1),Ba("wordcloudstart",fi);return}At=new Date().getTime();var Cn=yr(e.data[Gr]),Tn=!sr("wordclouddrawn",!0,{item:e.data[Gr],drawn:Cn});if(Ye()||Tn){ui(fn),e.abort(),sr("wordcloudabort",!1),sr("wordcloudstop",!1),Ba("wordcloudstart",fi);return}Gr++,fn=On(an,e.wait)},e.wait)}else{t.maskImage&&r.forEach(function(an){if(an.getContext){var Cn=an.getContext("2d");Cn.fillStyle=e.backgroundColor,Cn.clearRect(0,0,Y*(c+1),N*(c+1)),Cn.fillRect(0,0,Y*(c+1),N*(c+1))}});for(var xi=[],Ai=0;Ai<e.data.length;Ai++){var Un=yr(e.data[Ai]);Un&&xi.push(Un)}if(xi.length===e.data.length&&!xr){for(r.forEach(function(an){if(an.getContext){var Cn=an.getContext("2d");Cn.fillStyle=e.backgroundColor,Cn.clearRect(0,0,Y*(c+1),N*(c+1)),Cn.fillRect(0,0,Y*(c+1),N*(c+1))}}),Br=Y;Br--;)for(F[Br]=[],Mr=N;Mr--;)F[Br][Mr]=!0;xr=!0;for(var mr=0;mr<e.data.length;mr++)yr((0,Rt.__assign)((0,Rt.__assign)({},e.data[mr]),{twiceRender:xr}))}}}};Fr()};fh.isSupported=uh,fh.minFontSize=jo;var rI=fh,nI=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e._toolTipsAction=function(n,a,o,s){a?(e._toolTips.update({items:[{color:n.color||"red",name:n.word,value:n.weight}],x:o.offsetX,y:o.offsetY}),e._toolTips.show()):e._toolTips.hide(),e._toolTips.render(),e._configHoverAction&&e._configHoverAction(n,a,o,s)},e._configHoverAction=t.onWordCloudHover,e._enableToolTips=(0,f.get)(t,"tooltip.visible",!0),e.options=(0,f.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:e._enableToolTips?e._toolTipsAction:e._configHoverAction}),e}return r.prototype.init=function(){i.prototype.init.call(this),this._initToolTips()},r.prototype.render=function(){i.prototype.render.call(this),this._render()},r.prototype._initToolTips=function(){this._toolTips=new tI({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},r.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},r.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+new Date().getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},r.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),rI(this._targetCanvas,this.options)},r.prototype._handleG2PlotConfig=function(){var t=this.options.wordStyle.fontSize||[10,60],e=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2],n,a,o;this.options.wordStyle.active?(n=!0,a=this.options.wordStyle.active.shadowColor||"#333",o=this.options.wordStyle.active.shadowBlur||10):n=!1,this.options=(0,f.deepMix)({},this.options,{minFontSize:t[0],maxFontSize:t[1],minRotation:e[0],maxRotation:e[1],active:n,shadowColor:a,shadowBlur:o})},r.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,a=e.maskImageContext,o=document.createElement("canvas").getContext("2d");o.fillStyle=this.options.backgroundColor||"#fff",o.fillRect(0,0,1,1);for(var s=o.getImageData(0,0,1,1).data,l=a.getImageData(0,0,n.width,n.height),u=a.createImageData(l),h=0;h<l.data.length;h+=4)l.data[h+3]>128?(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=s[3]):(u.data[h]=s[0],u.data[h+1]=s[1],u.data[h+2]=s[2],u.data[h+3]=254);a.putImageData(u,0,0);var c=this._targetCanvas.getContext("2d");c.drawImage(n,0,0),this.options=(0,f.deepMix)({},this.options,{clearCanvas:!1}),this._start()},r.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},r.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var a=n.getImageData(0,0,e.width,e.height),o=4,s=0,l=255,u=0;u<a.data.length;u+=o){var h=a.data[u]+a.data[u+1]+a.data[u+2],c=a.data[u+3];c<128||h>250*3?(a.data[u]=l,a.data[u+1]=l,a.data[u+2]=l,a.data[u+3]=s):(a.data[u]=s,a.data[u+1]=s,a.data[u+2]=s,a.data[u+3]=l)}return n.putImageData(a,0,0),e},r}(pl),iI=nI,aI=function(i){(0,Rt.__extends)(r,i);function r(t,e){var n=this;return e.renderer="canvas",n=i.call(this,t,e)||this,n}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,i.prototype.createLayers.call(this,e)},r}(Ir),oI=aI;Xr("wordCloud",iI);var sI={rose:"interval"},lI=si(sI);(0,f.assign)($r,lI);var uI={rose:"interval"},fI={rose:"column"},Wg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t),n=t.sectorStyle,a=t.categoryField,o=t.radiusField;return(0,f.deepMix)({},e,{columnStyle:n,xField:a,yField:o})},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},r.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return t==="g2"?uI[e]:fI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},r.prototype.addGeometry=function(){var t=this.options,e=Nn("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.adjustRoseAdjust=function(){},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.rose.animate=!1)},r.prototype.annotation=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,y)},r.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=(0,f.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField],a=gi("label",(0,Rt.__assign)({plot:this,labelType:"polar",fields:n},e));return a},r.prototype.adjustLabelOptions=function(t){var e=this.options.radiusField;if(t){var n=t.offset,a=t.type,o=t.content;a==="inner"?t.offset=n<0?n:-10:a==="outer"&&(t.offset=n>=0?n:10),o||(t.content=function(s,l){return""+l._origin[e]})}},r}(Bn),hh=Wg;Xr("rose",Wg);var hI=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="rose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=hh.getDefaultOptions,r}(Ir),jg=hI,cI=function(i){var r=i.opacity||1;return{opacity:r*.5}},vI=function(i){var r=i.opacity||1;return{opacity:r*.5}};Ni("funnel",{columnStyle:{normal:{},active:cI,disable:vI,selected:{lineWidth:1,stroke:"black"}}});var Ug=d(26485);function dI(i,r){r===void 0&&(r=!1);var t=i.x,e=i.y,n=i.y0,a=i.size,o,s;(0,f.isArray)(e)?(o=e[0],s=e[1]):(o=n,s=e);var l,u;(0,f.isArray)(t)?(l=t[0],u=t[1]):(l=t-a/2,u=t+a/2);var h=[{x:l,y:o},{x:l,y:s}];return r?h.push({x:u,y:(s+o)/2}):h.push({x:u,y:s},{x:u,y:o}),h}function pI(i,r){var t=[],e=i.points,n=i.nextPoints;if(r){var a=r.yValues,o=r.yValuesMax,s=r.yValuesNext,l=(e[0].y+e[1].y)/2,u=a[0]+a[1],h=a.map(function(k){return k/u/.5}),c=(o[0]/(o[0]+o[1])-.5)*.9,v=.001;if((0,f.isNil)(n))t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l],["L",e[1].x,c+l],["L",e[2].x,c+l],["L",e[3].x,c+(e[3].y-l)*h[0]+l],["Z"]),t.push(["M",e[0].x,c+.002+l],["L",e[1].x,c+.002+(e[1].y-l)*h[1]+l],["L",e[2].x,c+.002+(e[2].y-l)*h[1]+l],["L",e[3].x,c+.002+l],["Z"]);else{var g=s[0]+s[1],A=s.map(function(k){return k/g/.5});t.push(["M",e[0].x,c+(e[0].y-l)*h[0]+l-v],["L",e[1].x,c+l-v],["L",n[1].x,c+l-v],["L",n[0].x,c+(n[3].y-l)*A[0]+l-v],["Z"]),t.push(["M",e[0].x,c+l+v],["L",e[1].x,c+(e[1].y-l)*h[1]+l+v],["L",n[1].x,c+(n[2].y-l)*A[1]+l+v],["L",n[0].x,c+l+v],["Z"])}}else(0,f.isNil)(n)?t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):t.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",n[1].x,n[1].y],["L",n[0].x,n[0].y],["Z"]);return t}en("interval","funnel-basic-rect",{getPoints:function(i){return i.size=i.size*1.8,dI(i)},draw:function(i,r){var t,e=(0,Ug.getStyle)(i,!1,!0),n=(0,f.get)(i,"data.__compare__"),a=this.parsePath(pI(i,n));return r.addShape("path",(t={name:"interval",attrs:(0,Rt.__assign)((0,Rt.__assign)({},e),{path:a})},t.__compare__=n,t))},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function ch(i,r,t){return(1-t)*i+t*r}function gI(i,r){var t=r.reverse,e=r.ratioUpper,n=r.ratioLower,a=[],o=i[0],s=(i[1].x+i[2].x)/2,l=1.2,u=.6;if(t){var h=n;n=e,e=h}var c=(o.x-s)*ch(u,l,n)+s;a.push(["M",c,o.y]);for(var v=1,g=i.length;v<g;v++){var A=i[v].x;switch(v){case 1:case 2:A=(A-s)*ch(u,l,e)+s;break;case 3:A=(A-s)*ch(u,l,n)+s;break}a.push(["L",A,i[v].y])}return a.push(["L",c,o.y]),a.push(["z"]),a}en("interval","funnel-dynamic-rect",{draw:function(i,r){var t=(0,Ug.getStyle)(i,!1,!0),e=(0,f.get)(i,"data.__custom__"),n=this.parsePath(gI(i.points,e));return r.addShape("path",{attrs:(0,Rt.__assign)((0,Rt.__assign)({},t),{path:n})})},getMarker:function(i){var r=i.color,t=i.isInPolar;return{symbol:t?"circle":"square",style:{r:t?4.5:4,fill:r}}}});function Zg(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=l?u.maxX:u.minX,c=(u.minY+u.maxY)/2,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(pn.transform(v.getMatrix(),[["t",-h,-c],["s",0,1],["t",h,c]]));var A={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(A,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Zg.animationName="funnelScaleInX",Hn("funnelScaleInX",Zg);function Kg(i,r){var t=r||{},e=t.duration,n=e===void 0?200:e,a=t.delay,o=t.easing,s=t.callback,l=t.reverse,u=i.getBBox(),h=(u.minX+u.maxX)/2,c=l?u.maxY:u.minY,v=i.setClip({type:"rect",attrs:{x:u.x,y:u.y,width:u.width,height:u.height}}),g={matrix:[1,0,0,0,1,0,0,0,1]};v.setMatrix(pn.transform(v.getMatrix(),[["t",-h,-c],["s",1,0],["t",h,c]]));var A={fillOpacity:i.attr("fillOpacity"),strokeOpacity:i.attr("strokeOpacity"),opacity:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),v.animate(g,{duration:200,easing:o,callback:function(){i.setClip(null),v.remove()},delay:a}),i.animate(A,{duration:n,easing:o,delay:a}),s&&setTimeout(function(){return s(i)},n+a)}Kg.animationName="funnelScaleInY",Hn("funnelScaleInY",Kg);function Yl(i,r,t){return(1-t)*i+t*r}var yI={column:"interval"},mI={interval:"funnel"},$g=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="funnel",e._shouldResetPercentages=!0,e._shouldResetLabels=!0,e._shouldResetCompareTexts=!0,e._legendsListenerAttached=!1,e._onLegendContainerMouseDown=function(n){var a=e.options,o=n.target.get("name");if(o.startsWith("legend-item")){var s=n.target.get("parent");if(s.set("unchecked",!s.get("unchecked")),e.refreshPercentages(),e.refreshLabels(),a.dynamicHeight){var l=e._findCheckedDataByMouseDownLegendItem(s);e._genCustomFieldForDynamicHeight(l)}if(a.compareField){var l=e._findCheckedDataByMouseDownLegendItem(s);e._updateDataForCompare(l),e.refreshCompareTexts()}}},e.adjustProps(e.options),t.dynamicHeight&&e._genCustomFieldForDynamicHeight(e.getData()),t.compareField&&(e.options.data=e._reduceDataForCompare(e.getData())),e}return r.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"\u8F6C\u5316\u7387",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(n,a){return(100*a/n).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:(0,f.deepMix)({},ro.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return(0,f.deepMix)({},i.getDefaultOptions.call(this),e)},r.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},r.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},(0,f.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},r.prototype.tooltip=function(){var t=this.options;t.compareField&&(0,f.deepMix)(t.tooltip,{htmlContent:function(e,n){var a,o,s,l;a=vi.CONTAINER_CLASS,o=(0,dt.Z)('<div class="'+a+'"></div>'),(0,Lt.Z)(o,wo.default[a]);var u=o;if(e){a=vi.TITLE_CLASS,o=(0,dt.Z)('<div class="'+a+'"></div>'),(0,Lt.Z)(o,wo.default[a]),u.appendChild(o);var h=o;a=vi.MARKER_CLASS,o=(0,dt.Z)('<span class="'+a+'"></span>'),(0,Lt.Z)(o,wo.default[a]),(0,Lt.Z)(o,{width:"10px",height:"10px"}),h.appendChild(o),l=o,o=(0,dt.Z)("<span>"+e+"</span>"),h.appendChild(o)}if(n){a=vi.LIST_CLASS,o=(0,dt.Z)('<ul class="'+a+'"></ul>'),(0,Lt.Z)(o,wo.default[a]),u.appendChild(o);var c=o;n.reduce(function(v,g){s||(s=g.color);var A=(0,f.get)(g,"point._origin.__compare__.compareValues"),k=(0,f.get)(g,"point._origin.__compare__.yValues");return k.forEach(function(F,Y){return v.push([A[Y],F])}),v},[]).forEach(function(v,g){var A=v[0],k=v[1];a=vi.LIST_ITEM_CLASS,o=(0,dt.Z)('<li class="'+a+'" data-index='+g+"></li>"),(0,Lt.Z)(o,wo.default[a]),c.appendChild(o);var F=o;a=vi.NAME_CLASS,o=(0,dt.Z)('<span class="'+a+'">'+A+"</span>"),(0,Lt.Z)(o,wo.default[a]),F.appendChild(o),a=vi.VALUE_CLASS,o=(0,dt.Z)('<span class="'+a+'">'+k+"</span>"),(0,Lt.Z)(o,wo.default[a]),F.appendChild(o)})}return s&&l&&(0,Lt.Z)(l,{backgroundColor:s}),u}}),i.prototype.tooltip.call(this)},r.prototype.addGeometry=function(){var t=this.options,e=Nn("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e),t.compareField||this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.options.tooltip;t.fields&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.fields=t.fields),t.formatter&&(this.funnel.tooltip||(this.funnel.tooltip={}),this.funnel.tooltip.callback=t.formatter,t.fields||(this.funnel.tooltip.fields=[this.options.xField,this.options.yField]))},r.prototype.animation=function(){var t=this;i.prototype.animation.call(this);var e=this.options;if(e.animation===!1)this.funnel.animate=!1;else{var n=this.getData(),a=(0,f.get)(e,"animation.appear.duration"),o=a/(n.length||1);this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){t.fadeInPercentages(o),e.compareField&&t.fadeInCompareTexts(o),delete t._animationAppearTimeoutHandler},a),this.funnel.animate=(0,f.deepMix)({},e.animation,{appear:{animation:e.transpose?"funnelScaleInX":"funnelScaleInY",duration:o,delay:function(s){return(0,f.findIndex)(n,function(l){return(0,f.isEqual)(l,s)})*o},callback:function(s){t.fadeInLabels(s,.5*o)}},enter:{animation:"fade-in"}})}},r.prototype.afterRender=function(){var t=this.options;if(this.resetLabels(),this.resetPercentages(),t.compareField&&this.resetCompareTexts(),t.padding=="auto"){var e=this._findPercentageContainer();e&&this.paddingController.registerPadding(e,"inner",!0);var n=this._findCompareTextContainer();n&&this.paddingController.registerPadding(n,"inner",!0)}if(i.prototype.afterRender.call(this),t.animation===!1&&(this.fadeInLabels(),this.fadeInPercentages(),t.compareField&&this.fadeInCompareTexts()),!this._legendsListenerAttached){this._legendsListenerAttached=!0;var a=this.view.getController("legend").container;a.on("mousedown",this._onLegendContainerMouseDown)}},r.prototype.updateConfig=function(t){t=this.adjustProps(t),i.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},r.prototype.changeData=function(t){var e=this.options;if(e.animation!==!1&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),e.dynamicHeight){var n=this._findCheckedDataInNewData(t);this._genCustomFieldForDynamicHeight(n)}if(e.compareField){t=this._reduceDataForCompare(t);var n=this._findCheckedDataInNewData(t);this._updateDataForCompare(n)}i.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),e.compareField&&this.fadeInCompareTexts()},r.prototype.geometryParser=function(t,e){return t==="g2"?yI[e]:mI[e]},r.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&((0,f.set)(t,"meta."+t.yField+".nice",!1),(0,f.set)(t,"tooltip.shared",!1)),t},r.prototype.resetPercentages=function(){var t=this;if(!!this._shouldResetPercentages){var e=this.options,n=e.percentage||{},a=n.offsetX,o=n.offsetY,s=n.spacing,l=n.line,u=l===void 0?{}:l,h=n.text,c=h===void 0?{}:h,v=n.value,g=v===void 0?{}:v,A=Date.now(),k=this._findPercentageContainer(!0);this._eachShape(function(F,Y,N,st){if(Y>0){var lt=F.getBBox(),At=lt.minX,zt=lt.maxX,Wt=lt.maxY,Qt=lt.minY,Vt=e.transpose?At:zt,te=e.transpose&&e.compareField?Wt:Qt,le=t._findPercentageMembersInContainerByIndex(k,Y,!0),ae=le.line,Se=le.text,_e=le.value,Ee=[function(Be,De,rr,tr,lr){rr&&(rr.attr((0,f.deepMix)({},u.style,{x1:Be,y1:De,x2:e.transpose?Be+a:Be-a,y2:e.transpose?De-o:De+o,opacity:0})),rr.set("adjustTimestamp",A));var Xe=0,ar=0,yr=function(){tr&&(tr.attr((0,f.deepMix)({},c.style,{x:e.transpose?Be+a:Be-a-s-ar-s,y:e.transpose?De-o-s:De+o,opacity:0,text:c.content,textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),tr.set("adjustTimestamp",A),Xe=tr.getBBox().width)},sr=function(){lr&&(lr.attr((0,f.deepMix)({},g.style,{x:e.transpose?Be+a+Xe+s:Be-a-s,y:e.transpose?De-o-s:De+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)(st,"__compare__.yValues.0"),(0,f.get)(N,"__compare__.yValues.0")):g.formatter(st[e.yField],N[e.yField]):"",textAlign:e.transpose?"left":"right",textBaseline:e.transpose?"bottom":"middle"})),lr.set("adjustTimestamp",A),ar=lr.getBBox().width)};e.transpose?(yr(),sr()):(sr(),yr())},function(Be,De,rr,tr,lr){rr&&(rr.attr((0,f.deepMix)({},u.style,{x1:Be,y1:De,x2:Be+a,y2:e.transpose?e.compareField?De+o:De-o:De+o,opacity:0})),rr.set("adjustTimestamp",A));var Xe=0;tr&&(tr.attr((0,f.deepMix)({},c.style,{x:e.transpose?Be+a:Be+a+s,y:e.transpose?e.compareField?De+o+s:De-o-s:De+o,opacity:0,text:c.content,textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),tr.set("adjustTimestamp",A),Xe=tr.getBBox().width),lr&&(lr.attr((0,f.deepMix)({},g.style,{x:e.transpose?Be+a+Xe+s:Be+a+s+Xe+s,y:e.transpose?e.compareField?De+o+s:De-o-s:De+o,opacity:0,text:(0,f.isFunction)(g.formatter)?e.compareField?g.formatter((0,f.get)(st,"__compare__.yValues.1"),(0,f.get)(N,"__compare__.yValues.1")):g.formatter(st[e.yField],N[e.yField]):"",textAlign:"left",textBaseline:e.transpose?e.compareField?"top":"bottom":"middle"})),lr.set("adjustTimestamp",A))}];if(e.compareField){var Fe=[At,Qt],Ne=Fe[0],Ye=Fe[1];[[Ne,Ye],[Vt,te]].forEach(function(Be,De){var rr=Be[0],tr=Be[1];return Ee[De](rr,tr,ae&&ae[De],Se&&Se[De],_e&&_e[De])})}else Ee[1](Vt,te,ae,Se,_e)}st=N,Y++}),k.get("children").forEach(function(F){F.get("adjustTimestamp")!=A&&(F.attr({opacity:0}),k.set(F.get("id"),null),setTimeout(function(){return F.remove()},0))})}},r.prototype.fadeInPercentages=function(t,e){var n=this,a=this.options,o=this._findPercentageContainer(),s=function(l){var u={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity};n._eachShape(function(h,c){var v=n._findPercentageMembersInContainerByIndex(o,c),g={minX:Infinity,maxX:-Infinity,minY:Infinity,maxY:-Infinity},A=function(F){if(F&&F.get("type")=="text"){var Y=F.getBBox(),N=Y.minX,st=Y.maxX,lt=Y.minY,At=Y.maxY;N<g.minX&&(g.minX=N),st>g.maxX&&(g.maxX=st),lt<g.minY&&(g.minY=lt),At>g.maxY&&(g.maxY=At)}};if((0,f.each)(v,function(F){return(0,f.isArray)(F)?A(F[l]):A(F)}),g.minX>u.maxX||g.maxX<u.minX||g.minY>u.maxY||g.maxY<u.minY){var k=function(F){if(F){var Y={opacity:1};t?F.animate(Y,t):F.attr(Y)}};(0,f.each)(v,function(F){return(0,f.isArray)(F)?k(F[l]):k(F)}),(0,f.assign)(u,g)}})};a.compareField?[0,1].forEach(s):s(),t&&e&&setTimeout(e,t)},r.prototype.fadeOutPercentages=function(t,e){var n=this,a=this._findPercentageContainer();this._eachShape(function(o,s){var l=n._findPercentageMembersInContainerByIndex(a,s),u=function(h){if(h){var c={opacity:0};t?h.animate(c,t):h.attr(c)}};(0,f.each)(l,function(h){return(0,f.isArray)(h)?h.forEach(u):u(h)})}),t&&e&&setTimeout(e,t)},r.prototype.refreshPercentages=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetPercentages=!1,this.fadeOutPercentages(o,function(){e._shouldResetPercentages=!0,e.resetPercentages(),e.fadeInPercentages(s,t)})}},r.prototype._findPercentageContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},r.prototype._findPercentageMembersInContainerByIndex=function(t,e,n){n===void 0&&(n=!1);var a=this.options,o=a.percentage||{},s=o.visible,l=o.line,u=l===void 0?{}:l,h=o.text,c=h===void 0?{}:h,v=o.value,g=v===void 0?{}:v,A={line:void 0,text:void 0,value:void 0};if(s===!1||!t)return A;if(u.visible!==!1){var k=function(st){var lt="_percentage-line-"+e+"-"+st,At=t.get(lt);return!At&&n&&(At=t.addShape({id:lt,type:"line",attrs:{}}),t.set(lt,At)),At},F=a.compareField?[0,1].map(k):k(0);A.line=F}if(c.visible!==!1){var k=function(lt){var At="_percentage-text-"+e+"-"+lt,zt=t.get(At);return!zt&&n&&(zt=t.addShape({id:At,type:"text",attrs:{}}),t.set(At,zt)),zt},Y=a.compareField?[0,1].map(k):k(0);A.text=Y}if(g.visible!==!1){var k=function(lt){var At="_percentage-value-"+e+"-"+lt,zt=t.get(At);return!zt&&n&&(zt=t.addShape({id:At,type:"text",attrs:{}}),t.set(At,zt)),zt},N=a.compareField?[0,1].map(k):k(0);A.value=N}return A},r.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=(0,f.get)(t,"animation.update.duration"),n=(0,f.get)(t,"animation.enter.duration"),a=Math.min(n,e)*.6,o=Math.max(n,e)*1.2;return{fadeInDuration:a,fadeOutDuration:o}},r.prototype.resetLabels=function(){var t=this;if(!!this._shouldResetLabels){var e=this.options,n=e.xField,a=e.yField,o=Date.now(),s=this._getGeometry().labelsContainer,l=e.label||{},u=(0,f.deepMix)((0,Rt.__assign)({},this.theme.label),e.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),h;this._eachShape(function(c,v,g,A){var k,F=c.get("element");v==0&&(h=g);var Y=c.getBBox(),N=Y.minX,st=Y.maxX,lt=Y.minY,At=Y.maxY,zt=g[n],Wt=g[a];l.adjustColor&&(u.fill=t._getAdjustedTextFillByShape(c));var Qt=g.__compare__,Vt,te=(k={},k[bs]=g,k.element=F,k.elementIndex=A,k.mappingDatum=[].concat(F.getModel().mappingData)[0],k.mappingDatumIndex=0,k);l.formatter?Vt=l.formatter(zt,te,v,Wt,h[a]):Qt?Vt=[0,1].map(function(){return""+Wt}).join(e.transpose?`

`:"    "):Vt=zt+" "+Wt;var le=t._findLabelInContainerByIndex(s,v,!0),ae=Qt?Qt.yValues[0]/(Qt.yValues[0]+Qt.yValues[1]):.5;le&&(le.attr((0,Rt.__assign)((0,Rt.__assign)({},u),{x:Yl(N,st,e.transpose?.5:ae),y:Yl(lt,At,e.transpose?ae:.5),text:Vt})),le.set("adjustTimestamp",o))}),s.get("children").forEach(function(c){c.get("adjustTimestamp")!=o&&(c.attr({opacity:0}),s.set(c.get("id"),null),setTimeout(function(){return c.remove()}))})}},r.prototype.fadeInLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h=s.getBBox(),c=u.getBBox();if(c.minX>=h.minX&&c.maxX<=h.maxX&&c.minY>=h.minY&&c.maxY<=h.maxY){var v={opacity:1};e?u.animate(v,e):u.attr(v)}}}}),e&&n&&setTimeout(n,e)},r.prototype.fadeOutLabels=function(t,e,n){var a=this,o=this._getGeometry().labelsContainer;this._eachShape(function(s,l){if(!t||t==s){var u=a._findLabelInContainerByIndex(o,l);if(u){var h={opacity:0};e?u.animate(h,e):u.attr(h)}}}),e&&n&&setTimeout(n,e)},r.prototype.refreshLabels=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeOutDuration,s=a.fadeInDuration;this._shouldResetLabels=!1,this.fadeOutLabels(null,o,function(){e._shouldResetLabels=!0,e.resetLabels(),e.fadeInLabels(null,s,t)})}},r.prototype._findLabelInContainerByIndex=function(t,e,n){var a;n===void 0&&(n=!1);var o=this.options,s;if(((a=o.label)===null||a===void 0?void 0:a.visible)===!1)return s;var l="_label-"+e;return s=t.get(l),!s&&n&&(s=t.addShape({id:l,type:"text",attrs:{}}),t.set(l,s)),s},r.prototype.resetCompareTexts=function(){if(!!this._shouldResetCompareTexts){var t=this.options,e,n;if(this._eachShape(function(g,A,k){A==0&&(e=g.get("parent").getBBox(),n=(0,f.get)(k,"__compare__"))}),e&&n&&(0,f.get)(t,"compareText.visible")!==!1){var a=this._findCompareTextContainer(!0),o=n.yValuesMax,s=n.compareValues,l=e.minX,u=e.maxX,h=e.minY,c=e.maxY,v=a.get("children");[0,1].forEach(function(g){var A=v[g];A||(A=a.addShape({type:"text"})),A.attr((0,f.deepMix)({},(0,f.get)(t,"compareText.style"),{text:t.transpose?s[g]:g?"  "+s[g]:s[g]+"  ",x:t.transpose?l+(0,f.get)(t,"compareText.offsetX"):Yl(l,u,o[0]/(o[0]+o[1])),y:t.transpose?Yl(h,c,o[0]/(o[0]+o[1]))+(g?8:-8):h+(0,f.get)(t,"compareText.offsetY"),opacity:0,textAlign:t.transpose?"right":g?"left":"right",textBaseline:t.transpose&&g?"top":"bottom"}))})}}},r.prototype.fadeInCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:1};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.fadeOutCompareTexts=function(t,e){var n=this._findCompareTextContainer();if(n){var a=n.get("children");[0,1].forEach(function(o){var s=a[o];if(s){var l={opacity:0};t?s.animate(l,t):s.attr(l)}})}t&&e&&setTimeout(e,t)},r.prototype.refreshCompareTexts=function(t){var e=this,n=this.options;if(n.animation!==!1){var a=this._calcRefreshFadeDurations(),o=a.fadeInDuration,s=a.fadeOutDuration;this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(s,function(){e._shouldResetCompareTexts=!0,e.resetCompareTexts(),e.fadeInCompareTexts(o,t)})}},r.prototype._findCompareTextContainer=function(t){t===void 0&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},r.prototype._eachShape=function(t){var e,n=this._findCheckedData(this.getData()),a=n.length,o=0,s;(e=this._getGeometry())===null||e===void 0||e.elements.forEach(function(l,u){var h=l.shape,c=n[o];o<a&&t(h,o,c,s,u),s=c,o++})},r.prototype._getGeometry=function(){return this.view.geometries[0]},r.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,a=Va(e),o=Math.round(a[0]*.299+a[1]*.587+a[2]*.114)/n,s=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],l=Il(s,o);return l},r.prototype._genCustomFieldForDynamicHeight=function(t){var e=this.options,n=t.reduce(function(o,s){return o+s[e.yField]},0),a=1;t.forEach(function(o,s){var l=o[e.yField],u=l/n,h=a-u;o.__custom__={datumIndex:s,dataLength:t.length,ratioUpper:a,ratioLower:h,reverse:e.transpose},a=h})},r.prototype._findCheckedDataByMouseDownLegendItem=function(t){var e=t.get("parent").get("children").map(function(a){return!a.get("unchecked")}),n=this.getData().filter(function(a,o){return e[o]});return n},r.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container,a=n.findAll(function(s){return s.get("name")=="legend-item"}).filter(function(s){return s.get("unchecked")}).map(function(s){return s.get("id").replace("-legend-item-","")}),o=t.filter(function(s){return!(0,f.contains)(a,s[e.xField])});return o},r.prototype._findCheckedData=function(t){var e,n=this.options;if((e=n.legend)===null||e===void 0?void 0:e.visible){var a=this.view.getController("legend").container,o=a.findAll(function(l){return l.get("name")=="legend-item"}).filter(function(l){return!l.get("unchecked")}).map(function(l){return l.get("id").replace("-legend-item-","")}),s=t.filter(function(l){return(0,f.contains)(o,l[n.xField])});return s}else return this.processData(n.data)},r.prototype._reduceDataForCompare=function(t){var e=this.options,n,a=[-Infinity,-Infinity];return t=t.reduce(function(o,s){var l,u=s[e.xField],h=s[e.yField],c=s[e.compareField];n||(n=c);var v=o.find(function(A){return A[e.xField]==u});v||(v=(l={},l[e.xField]=u,l[e.yField]=0,l.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:e.transpose},l),o.push(v));var g=c==n?0:1;return v.__compare__.yValues[g]=h,a[g]<h&&(a[g]=h),v.__compare__.compareValues[g]=c,o},[]),t.forEach(function(o,s){o[e.yField]=(0,f.get)(o,"__compare__.yValues",[]).reduce(function(l,u){return l+=u},0),(0,f.set)(o,"__compare__.yValuesMax",a),(0,f.set)(o,"__compare__.yValuesNext",(0,f.get)(t,s+1+".__compare__.yValues"))}),t},r.prototype._updateDataForCompare=function(t){var e=[-Infinity,-Infinity];t.forEach(function(n){var a=(0,f.get)(n,"__compare__.yValues");[0,1].forEach(function(o){a[o]>e[o]&&(e[o]=a[o])})}),t.forEach(function(n,a){(0,f.set)(n,"__compare__.yValuesMax",e),(0,f.set)(n,"__compare__.yValuesNext",(0,f.get)(t,a+1+".__compare__.yValues"))})},r}(Bn),xI=$g;Xr("funnel",$g);var bI=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="funnel",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xI.getDefaultOptions,r}(Ir),wI=bI,Qg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},r}(hh),SI=Qg;Xr("stackedRose",Qg);var CI=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedRose",i.prototype.createLayers.call(this,e)},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=SI.getDefaultOptions,r}(Ir),Jg=CI,qg=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},r.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},r.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},r.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},r}(hh),MI=qg;Xr("groupedRose",qg);var EI=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedRose",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=MI.getDefaultOptions,r}(Ir),ty=EI,AI={area:"area",line:"line",point:"point"},_I=si(AI);(0,f.assign)($r,_I);var TI=function(i){var r=i.opacity||1;return{opacity:r}},PI=function(i){var r=i.opacity||1;return{opacity:r*.5}},LI=function(i){var r=i.opacity||1;return{opacity:r}},OI=function(i){var r=i.opacity||1;return{opacity:r*.5}},II=function(i){var r=i.lineWidth||1;return{lineWidth:r+2}},kI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+1,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},BI=function(i){var r=i.fill||i.fillStyle,t=i.size||i.radius;return{radius:t+2,shadowBlur:t,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:2}},DI=function(i){var r=i.opacity||i.fillOpacity||1;return{opacity:r*.5}};Ni("radar",{areaStyle:{normal:{},active:TI,disable:PI,selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:LI,disable:OI,selected:II},pointStyle:{normal:{},active:kI,disable:DI,selected:BI}});var FI={area:"area",line:"line",point:"point"},ey=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="radar",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},r.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,i.prototype.init.call(this)},r.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},r.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},r.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},r.prototype.geometryParser=function(t,e){return FI[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},(0,f.has)(t,"angleAxis")&&Qn(e[t.angleField],t.angleAxis),e[t.radiusField]={},(0,f.has)(t,"radiusAxis")&&Qn(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius}};this.setConfig("coordinate",e)},r.prototype.axis=function(){var t=this.options,e=gi("axis",{plot:this,dim:"angle"}),n=gi("axis",{plot:this,dim:"radius"}),a={};a[t.angleField]=e,a[t.radiusField]=n,this.setConfig("axes",a)},r.prototype.addGeometry=function(){var t=this.options;if(t.area.visible){var e=Nn("area","main",{plot:this});this.setConfig("geometry",e),this.area=e}if(t.line&&t.line.visible){var n=Nn("line","main",{plot:this});this.setConfig("geometry",n),this.line=n}if(t.point&&t.point.visible){var a=Nn("point","guide",{plot:this});this.setConfig("geometry",a),this.point=a}t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip()},r.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),this.area&&(this.area.label=!1);return}var e=gi("label",(0,Rt.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},r.prototype.annotation=function(){},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,M)},r}(Bn),RI=ey;Xr("radar",ey);var NI=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="radar",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.prototype.getRadiusScale=function(){var t=this.layers[0];return t.getRadiusScale()},r.prototype.getColorScale=function(){var t=this.layers[0];return t.getColorScale()},r.getDefaultOptions=RI.getDefaultOptions,r}(Ir),ry=NI,GI=d(89810),YI=d(79189),zI=function(){function i(r){var t=this.getDefaultOptions();this.options=(0,f.deepMix)(t,r,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}return i.prototype.render=function(){if((0,f.isElement)(this.container)){this.wrapperNode=(0,dt.Z)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),(0,Lt.Z)(this.wrapperNode,{position:"absolute",pointerEvents:"none"});var r=this.html;this.wrapperNode.appendChild(r),this.setDomPosition(this.x,this.y)}},i.prototype.updateHtml=function(r){(0,f.isType)(r,"HTMLDivElement")?(this.wrapperNode.innerHTML="",this.wrapperNode.appendChild(r)):this.wrapperNode.innerHTML=r,this.setDomPosition(this.x,this.y)},i.prototype.updatePosition=function(r,t){this.x=r,this.y=t,this.setDomPosition(r,t)},i.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},i.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},i.prototype.setDomPosition=function(r,t){var e=r,n=t,a=(0,GI.Z)(this.wrapperNode),o=(0,YI.Z)(this.wrapperNode);this.options.alignX==="middle"&&(e=r-a/2),this.options.alignY==="middle"&&(n=t-o/2),(0,Lt.Z)(this.wrapperNode,{top:Math.round(n)+"px",left:Math.round(e)+"px",transform:a>0?"none":"translate(-50%, -50%)"})},i}(),ny=zI,XI="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",VI="font-size:32px;font-weight:bold;color:#4D4D4D";function HI(i,r){var t='<span class="liquid-guide-value" style='+VI+">"+i+"</span>";return'<div class="liquid-guide-html '+r+'" style='+XI+">"+t+"</div>"}var WI=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.getTotalHtmlString=function(){var t=document.createElement("div"),e=this.plot.options,n=e.value,a=n===void 0?0:n,o=e.statistic;if(o&&!o.visible)return t;var s=this.options.htmlContent(a);return(0,f.isType)(s,"HTMLDivElement")?t.appendChild(s):t.innerHTML=HI(s,this.statisticClass),t},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r}(ny),jI=WI,UI={liquid:"intervl",statistic:"annotation-text"},ZI=si(UI);(0,f.assign)($r,ZI);var iy=Ci(),ay={splitPoints:function(i){var r=[],t=i.x,e=i.y;return e=(0,f.isArray)(e)?e:[e],(0,f.each)(e,function(n,a){var o={x:(0,f.isArray)(t)?t[a]:t,y:n};r.push(o)}),r},addFillAttrs:function(i,r){r.color&&!i.fill&&(i.fill=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.fillOpacity=r.opacity)},addStrokeAttrs:function(i,r){r.color&&!i.stroke&&(i.stroke=r.color),(0,f.isNumber)(r.opacity)&&(i.opacity=i.strokeOpacity=r.opacity)}},vh={lerp:function(i,r,t){return(1-t)*i+t*r}},KI=function(i){var r={lineWidth:0,fill:iy.color,fillOpacity:.85},t=(0,f.mix)({},r,i.style);return ay.addFillAttrs(t,i),i.color&&!t.stroke&&(t.stroke=t.stroke||i.color),t},$I=function(i){var r={fill:"#fff",stroke:iy.color,fillOpacity:0,lineWidth:2},t=(0,f.mix)({},r,i.style);return ay.addStrokeAttrs(t,i),t};function QI(i,r,t,e){return r===0?[[i+1/2*t/Math.PI/2,e/2],[i+1/2*t/Math.PI,e],[i+t/4,e]]:r===1?[[i+1/2*t/Math.PI/2*(Math.PI-2),e],[i+1/2*t/Math.PI/2*(Math.PI-1),e/2],[i+t/4,0]]:r===2?[[i+1/2*t/Math.PI/2,-e/2],[i+1/2*t/Math.PI,-e],[i+t/4,-e]]:[[i+1/2*t/Math.PI/2*(Math.PI-2),-e],[i+1/2*t/Math.PI/2*(Math.PI-1),-e/2],[i+t/4,0]]}function JI(i,r,t,e,n,a,o){for(var s=Math.ceil(2*i/t*4)*2,l=[],u=e;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var h=a-i+u-i*2;l.push(["M",h,r]);for(var c=0,v=0;v<s;++v){var g=v%4,A=QI(v*t/4,g,t,n);l.push(["C",A[0][0]+h,-A[0][1]+r,A[1][0]+h,-A[1][1]+r,A[2][0]+h,-A[2][1]+r]),v===s-1&&(c=A[2][0])}return l.push(["L",c+h,o+i]),l.push(["L",h,o+i]),l.push(["L",h,r]),l}function qI(i,r,t,e,n,a,o,s){for(var l=o.getBBox(),u=l.maxX-l.minX,h=l.maxY-l.minY,c=5e3,v=0;v<e;v++){var g=e<=1?0:v/(e-1),A=a.addShape("path",{attrs:{path:JI(s,l.minY+h*t,u/4,0,u/vh.lerp(56,64,g),i,r),fill:n,opacity:vh.lerp(.6,.3,g)}}),k=zo([["t",u/2,0]]);A.animate({matrix:k},{duration:vh.lerp(c,.7*c,g),repeat:!0})}}en("interval","liquid-fill-gauge",{draw:function(i,r){var t=.5,e=Infinity;(0,f.each)(i.points,function(v){v.x<e&&(e=v.x)});var n=.5,a=this.parsePoint({x:n,y:t}),o=this.parsePoint({x:e,y:.5}),s=a.x-o.x,l=Math.min(s,o.y),u=KI(i).fill,h=r.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:l}});var c=h.get("clipShape");return qI(a.x,a.y,1-i.points[1].y,3,u,h,c,l*4),r.addShape("circle",{name:"wrap",attrs:(0,f.mix)($I(i),{x:a.x,y:a.y,r:l,fill:"transparent"})}),h[0]}});function oy(i,r){var t=i.get("parent"),e=t.getBBox(),n=Math.min(Math.max(0,(0,f.get)(r,"factor",.5)),1),a=(0,f.get)(r,"delay",0),o=(0,f.get)(r,"duration",800),s=r.callback,l=(e.minX+e.maxX)/2,u=e.maxY,h=t.find(function(k){return k.get("name")=="wrap"}),c=h.attr("opacity");h.attr("opacity",0),h.animate({opacity:c},o*n,"easeLinear",null,a);var v=t.find(function(k){return k.get("name")=="waves"}),g=(0,f.clone)(v.attr("matrix"))||[1,0,0,0,1,0,0,0,1],A=zo(g,[["t",-l,-u],["s",1,0],["t",l,u]]);v.setMatrix(A),v.animate({matrix:g},o,r.easing,function(){return s&&s(t,h,v)},a)}oy.animationName="liquidMoveIn",Hn("liquidMoveIn",oy);var tk={column:"interval"},ek={interval:"liquid"},sy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}return r.getDefaultOptions=function(){var t={padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}};return(0,f.deepMix)({},i.getDefaultOptions.call(this),t)},r.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,a=t.value;if(!(0,f.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!(0,f.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!(0,f.isNumber)(a))throw new Error("The value of Liquid is required, and the type of value must be Number.")},r.prototype.init=function(){this.options.data=[{}],i.prototype.init.call(this)},r.prototype.coord=function(){},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a={value:{}};Qn(a.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",a),i.prototype.scale.call(this)},r.prototype.axis=function(){this.setConfig("axes",!1)},r.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;(0,f.isFunction)(n)&&(n=n()),n&&(t.style=n)},r.prototype.addGeometry=function(){var t=Nn("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=Math.min(e.width,e.height)*.8,a=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[a]},this.liquid=t,this.setConfig("geometry",t)},r.prototype.animation=function(){var t=this.options;if(t.animation===!1)this.liquid.animate=!1;else{var e=(0,f.get)(t,"animation.factor"),n=(0,f.get)(t,"animation.easing"),a=(0,f.get)(t,"animation.duration");this.liquid.animate={appear:{animation:"liquidMoveIn",factor:e,easing:n,duration:a}}}},r.prototype.geometryParser=function(t,e){return t==="g2"?tk[e]:ek[e]},r.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},r.prototype.useHtmlContent=function(){var t=this.options,e=t.statistic||{};return(0,f.isFunction)(e.htmlContent)},r.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t=this.options,e=t.statistic||{},n;(0,f.isFunction)(e.formatter)?n=e.formatter(t.value):n=""+t.value;var a,o;if(n){var s=Math.min(this.width,this.height);a=s/n.length*.5,o=Math.max(1,Math.ceil(.025*a))}var l;if(e.visible!==!1){var u=(0,f.deepMix)({style:{fontSize:a,shadowBlur:o}},{top:!0,content:n,type:"text",position:["50%","50%"],style:{opacity:l,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},e);return delete u.visible,delete u.formatter,delete u.adjustColor,u}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,T)},r.prototype.afterRender=function(){var t;((t=this.options.statistic)===null||t===void 0?void 0:t.visible)&&!this.useHtmlContent()&&this.fadeInAnnotation();var e=this.options,n=e.padding?e.padding:this.config.theme.padding;if(e.defaultState&&n!=="auto"&&this.stateController.defaultStates(e.defaultState),n==="auto"&&this.paddingController.processAutoPadding(),this.useHtmlContent()){var a=this.canvas.get("container");if(this.statistic&&a.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible){var o=this.canvas.get("container");(0,Lt.Z)(o,{position:"relative"}),this.statistic=new jI((0,Rt.__assign)({container:o,view:this.view,plot:this},this.options.statistic)),this.statistic.render()}i.prototype.afterRender.call(this)}},r.prototype.processData=function(){var t=this.options;return[{_:"_",value:t.value}]},r.prototype.changeValue=function(t){var e=this.options;e.value=t,this.changeData([])},r.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(s){return s.get("name")==="annotation-text"})[0],a=e.animation||{},o=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(o,a.duration*Math.min(1,1.5*a.factor),null,function(){t.shouldFadeInAnnotation=!1}):(0,f.forIn)(o,function(s,l){return n.attr(l,s)})},r.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#f6f6f6",shadowColor:"black"},n={fill:"#303030",shadowColor:"white"};if((0,f.get)(t,"statistic.adjustColor")===!1)return{fill:(0,f.get)(t,"statistic.style.fill",n.fill),shadowColor:(0,f.get)(t,"statistic.style.shadowColor",n.shadowColor)};var a=t.min,o=t.max,s=t.value;a=Math.min(a,o),o=Math.max(a,o);var l;if(a==o?l=1:l=(s-a)/(o-a),l>.55){var u=this.options.color,h=.8,c=Va(u),v=Math.round(c[0]*.299+c[1]*.587+c[2]*.114)/h;return v<156?e:n}return n},r.prototype.updateConfig=function(t){i.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},r.prototype.getViewRange=function(){var t=i.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,a=t.minX,o=t.minY,s=t.width,l=t.height,u=Math.min(s,l)-n*2,h=a+s/2,c=o+l/2,v=h-u/2,g=c-u/2;return new Dr(v,g,u,u)},r}(Bn),dh=sy;Xr("liquid",sy);var rk=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="liquid",i.prototype.createLayers.call(this,e)},r.prototype.changeValue=function(t,e){if(e===void 0&&(e=!1),e)this.eachLayer(function(a){a instanceof dh&&a.changeValue(t)});else{var n=this.layers[0];n instanceof dh&&n.changeValue(t)}},r.getDefaultOptions=dh.getDefaultOptions,r}(Ir),ly=rk,uy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="histogram",t}return r.prototype.init=function(){this.options.xField="range",this.options.yField="count",i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=(0,f.clone)(t);(0,f.sortBy)(l,a);var u=(0,f.valuesOfKey)(l,a),h=(0,f.getRange)(u),c=h.max-h.min,v=o;if(!o&&s&&(v=c/s),!o&&!s){var g=dd(u);v=c/g}var A={};(0,f.each)(l,function(F){var Y=F[a],N=e.getBin(Y,v),st=N[0]+"-"+N[1];(0,f.hasKey)(A,st)||(A[st]={name:st,range:N,count:0,data:[]}),A[st].data.push(F),A[st].count+=1});var k=[];return(0,f.each)(A,function(F){k.push(F)}),k},r.prototype.scale=function(){i.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},r.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},r}(Wo),nk=uy;Xr("histogram",uy);var ik=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="histogram",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=nk.getDefaultOptions,r}(Ir),fy=ik,ak={epanechnikov:function(i){return Math.abs(i)<=1?.75*(1-i*i):0},gaussian:function(i){return 1/Math.sqrt(Math.PI*2)*Math.exp(-.5*Math.pow(i,2))},uniform:function(i){return Math.abs(i)<=1?.5:0},triangle:function(i){return Math.abs(i)<=1?1-Math.abs(i):0},quartic:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*r*r:0},triweight:function(i){var r=1-i*i;return Math.abs(i)<=1?15/16*Math.pow(r,3):0},cosinus:function(i){var r=Math.PI/4*Math.cos(.5*Math.PI*i);return Math.abs(i)<=1?r:0}},hy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="density",t}return r.prototype.init=function(){var t=this.options.xAxis?(0,f.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=(0,f.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,i.prototype.init.call(this)},r.prototype.processData=function(t){var e=this,n=this.options,a=n.binField,o=n.binWidth,s=n.binNumber,l=n.kernel,u=l||"epanechnikov",h=ak[u],c=(0,f.clone)(t);(0,f.sortBy)(c,a);var v=(0,f.valuesOfKey)(c,a),g=(0,f.getRange)(v),A=g.max-g.min,k=s,F=o;!s&&o&&(k=Math.floor(A/o)),!o&&s&&(F=A/s),!s&&!o&&(k=dd(v),F=A/s);var Y=(0,Er.getScale)("linear"),N=new Y({min:g.min,max:g.max,tickCount:k,nice:!1}),st=N.getTicks(),lt=[];return(0,f.each)(st,function(At){var zt=e.kernelDensityEstimator(F,h,At,v);lt.push({value:At.text,density:zt})}),lt},r.prototype.kernelDensityEstimator=function(t,e,n,a){var o=0;return(0,f.each)(a,function(s){var l=(n.tickValue-s)/t;o+=e(l)}),a.length===0?0:o/a.length},r}(th),ok=hy;Xr("density",hy);var nY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="density",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=ok.getDefaultOptions,r}(Ir),iY=null,sk={ring:"interval"},lk=si(sk);(0,f.assign)($r,lk);var uk="color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;",fk="font-weight:300;white-space: nowrap;text-overflow: ellipsis;",hk="font-size:32px;font-weight:bold;color:#4D4D4D";function ck(i,r,t,e){var n=uk+"width:"+e+"px;",a=i?'<span class="ring-guide-name" style='+fk+">"+i+"</span><br/>":"",o='<span class="ring-guide-value" style='+hk+">"+r+"</span>";return'<div class="ring-guide-html '+t+'" style='+n+">"+a+o+"</div>"}var vk=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}return r.prototype.triggerOn=function(){var t=this,e=this.options.triggerOn;this.view.on("interval:"+e,(0,f.debounce)(function(a){var o=t.parseStatisticData("item",a.data.data,a.data.color),s=t.getStatisticHtmlString(o);t.updateHtml(s)},150));var n=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+n,(0,f.debounce)(function(){var a=t.getTotalHtmlString();t.updateHtml(a)},150))},r.prototype.getTotalHtmlString=function(){var t;if(this.options.content)t=this.options.content;else{var e=this.getTotalValue();t=this.parseStatisticData("total",e)}var n;this.options.htmlContent?n=this.options.htmlContent(t,this.getStatisticSize()):n=this.getStatisticTemplate(t);var a=document.createElement("div");return(0,f.isType)(n,"HTMLDivElement")?a.appendChild(n):a.innerHTML=n,a},r.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,a=t.width,o=t.height;this.x=e+a/2,this.y=n+o/2},r.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,a=n.angleField,o=n.colorField,s=this.options.totalLabel;(0,f.each)(this.plot.options.data,function(u){typeof u[a]=="number"&&(e+=u[a])});var l=(t={},t[a]=e,t[o]=s,t);return l},r.prototype.parseStatisticData=function(t,e,n){var a=this.plot,o=a.options,s=o.angleField,l=o.colorField,u=a.getScaleByField(s),h=a.getScaleByField(l),c={name:h?h.getText(e[l]):null,value:u.getText(e[s])};return t==="item"&&(c.itemData=e,c.color=n),c},r.prototype.getStatisticTemplate=function(t){var e=this.getStatisticSize(),n=ck(t.name,t.value,this.statisticClass,e);return n},r.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,a=e.innerRadius,o=Math.min(t.width,t.height),s=o*n*a;return s},r.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n;return e?n=e(t,this.getStatisticSize()):n=this.getStatisticTemplate(t),n},r}(ny),dk=vk,pk={ring:"interval"},gk={interval:"ring"},cy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="donut",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"\u603B\u8BA1",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},r.prototype.beforeInit=function(){i.prototype.beforeInit.call(this),r.centralId++,this.statisticClass="statisticClassId"+r.centralId,this.adjustLabelDefaultOptions()},r.prototype.afterRender=function(){var t=this.canvas.get("container");if(this.statistic&&(t.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible){var e=this.canvas.get("container");(0,Lt.Z)(e,{position:"relative"}),this.statistic=new dk((0,Rt.__assign)({container:e,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()}i.prototype.afterRender.call(this)},r.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),i.prototype.destroy.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?pk[e]:gk[e]},r.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,B)},r.prototype.adjustLabelDefaultOptions=function(){var t=this.options.label;if(t&&t.type==="inner"){var e=t.style||{};e.textAlign||(e.textAlign="center"),t.style=e,t.offset||(t.offset=(this.options.innerRadius-1)/2*100+"%")}},r.centralId=0,r}(Fg),vy=cy;Xr("donut",cy);var yk=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e)},r.prototype.getAngleScale=function(){var t=this.layers[0];return t.getAngleScale()},r.getDefaultOptions=vy.getDefaultOptions,r}(Ir),dy=yk;function mk(i,r,t){var e=i.style,n=i.defaultStyle,a=i.color,o=(0,Rt.__assign)((0,Rt.__assign)({},n),e);return a&&(r&&(o.stroke=a),t&&(o.fill=a)),o}function xk(i){var r=[],t=i[0];r.push(["M",t.x,t.y]);for(var e=1,n=i.length;e<n;e++)r.push(["L",i[e].x,i[e].y]);return r.push(["L",t.x,t.y]),r.push(["z"]),r}en("interval","waterfall",{draw:function(i,r){var t=mk(i,!1,!0),e=this.parsePath(xk(i.points)),n=r.addShape("path",{attrs:(0,Rt.__assign)((0,Rt.__assign)({},t),{path:e}),name:"interval"}),a=(0,f.get)(i.style,"leaderLine");if(a&&a.visible){var o=a.style||{};if(i.nextPoints){var s=[["M",i.points[2].x,i.points[2].y],["L",i.nextPoints[0].x,i.nextPoints[0].y]];s=this.parsePath(s),r.addShape("path",{attrs:(0,Rt.__assign)({path:s,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},o),name:"leader-line"})}}return n}});var py=2,bk=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.adjustLabel=function(t,e){var n,a,o=e.shape,s=o.getBBox(),l=e.getData(),u=l[Ki],h=l[this.layer.options.yField],c=(0,f.isArray)(u)?u[1]:u,v=this.options.formatter,g=[].concat(e.getModel().mappingData),A=v?g[0]&&g[0]._origin[zl]:0,k=v?v(c,(n={},n[bs]=(a=g[0])===null||a===void 0?void 0:a._origin,n.mappingDatum=g[0],n.mappingDatumIndex=0,n.element=e,n.elementIndex=A,n),A):c,F=(s.minY+s.maxY)/2,Y="bottom";h<0?(F=s.maxY+py,Y="top"):F=s.minY-py,t.attr("y",F),t.attr("text",k),t.attr("textBaseline",Y)},r}(nh),aY=null;Ri("waterfall",bk);function wk(){return{fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"}}var Sk=function(){function i(r){this.textAttrs={},this.view=r.view,this.fields=r.fields,this.formatter=r.formatter,this.textAttrs=(0,f.mix)(wk(),r.style),this._init()}return i.prototype.draw=function(){var r=this;if(!(!this.view||this.view.destroyed)){var t=(0,f.clone)(this.view.getData());this.container=this.view.foregroundGroup.addGroup();var e=this.view.geometries[0].elements.map(function(n){return n.shape});(0,f.each)(e,function(n,a){if(!!n.cfg.origin){var o=n.cfg.origin.data,s=n.getBBox(),l=o[Ki],u=l;(0,f.isArray)(l)&&(u=l[1]-l[0]),u=u>0?"+"+u:u,o[ph]&&(u=l[0]-l[1]);var h=u;if(r.formatter){var c=e[a].attr("fill");h=r.formatter(""+u,{_origin:t[a],color:c},a)}var v=r.container.addShape("text",{attrs:(0,Rt.__assign)({text:h,textBaseline:"middle",textAlign:"center",x:(s.minX+s.maxX)/2,y:(s.minY+s.maxY)/2},r.textAttrs),name:"dill-label"});v.getBBox().height>s.height&&v.set("visible",!1)}}),this.view.getCanvas().draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype._init=function(){var r=this;this.view.on(nn.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){r.clear()}),this.view.on(nn.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){r.draw()})},i}(),Ck=Sk,Mk={waterfall:"interval"},Ek={interval:"waterfall"},Ki="$$value$$",ph="$$total$$",zl="$$index$$",gy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="watarfall",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:"\u603B\u8BA1\u503C"},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new Ck({view:this.view,fields:[t.xField,t.yField,Ki],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},r.prototype.afterRender=function(){i.prototype.afterRender.call(this);var t=this.options;this.view.on("tooltip:change",function(e){for(var n=e.items,a=0;a<n.length;a++){var o=n[a],s=(0,f.get)(o,"data",{});if(o.name=s[t.xField],o.value=s[t.yField],!o.value&&s[ph]){var l=s[Ki];o.value=l[0]-l[1]}e.items[a]=o}}),this.renderLabel()},r.prototype.renderLabel=function(){var t=io(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,(0,Rt.__assign)({type:"waterfall"},this.options.label))},r.prototype.geometryParser=function(t,e){return t==="g2"?Mk[e]:Ek[e]},r.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},r.prototype.addGeometry=function(){var t=this.options,e={type:"interval",position:{fields:[t.xField,Ki]},shape:{values:["waterfall"]}};e.style=this._parseStyle(),e.color=this._parseColor(),this.waterfall=e,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},r.prototype.processData=function(t){var e,n=[],a=this.options.xField,o=this.options.yField;if((0,f.map)(t,function(u,h){var c,v=u[o];if(h>0){var g=n[h-1][Ki];(0,f.isArray)(g)?v=[g[1],u[o]+g[1]]:v=[g,u[o]+g]}n.push((0,Rt.__assign)((0,Rt.__assign)({},u),(c={},c[Ki]=v,c[zl]=h,c)))}),this.options.showTotal&&this.options.showTotal.visible){var s=(0,f.map)(t,function(u){return u[o]}),l=(0,f.reduce)(s,function(u,h){return u+h},0);n.push((e={},e[a]=this.options.showTotal.label,e[o]=null,e[Ki]=[l,0],e[zl]=n.length,e[ph]=!0,e))}return n},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Qn(e[t.xField],t.xAxis),e[Ki]={},(0,f.has)(t,"yAxis")&&Qn(e[Ki],t.yAxis),this.setConfig("scales",e)},r.prototype.axis=function(){var t=gi("axis",{plot:this,dim:"x"}),e=gi("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[Ki]=e,this.setConfig("axes",n)},r.prototype.coord=function(){},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,D)},r.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,Ki]))},r.prototype._parseStyle=function(){var t=this.options.waterfallStyle,e=this.options.leaderLine,n={};return(0,f.isFunction)(t)?n.callback=function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];return Object.assign({},t.apply(void 0,a),{leaderLine:e})}:n.cfg=(0,Rt.__assign)((0,Rt.__assign)({},t),{leaderLine:e}),n},r.prototype._parseColor=function(){var t=this,e=this.options,n=this.options,a=n.xField,o=n.yField,s={fields:[a,o,Ki,zl]};if((0,f.isFunction)(e.color))s.callback=e.color;else{var l="#f4664a",u="#30bf78",h="rgba(0, 0, 0, 0.25)";if((0,f.isString)(e.color))l=u=h=e.color;else if((0,f.isObject)(e.color)){var c=e.color,v=c.rising,g=c.falling,A=c.total;l=v,u=g,h=A}s.callback=function(k,F,Y,N){return N===t.options.data.length?h||(Y[0]>=0?l:u):((0,f.isArray)(Y)?Y[1]-Y[0]:Y)>=0?l:u}}return s},r.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},r.prototype.adjustMeta=function(t){var e=t.meta;if(e){var n=e?e[t.yField]:{};n.alias=n.alias||t.yField,t.meta[Ki]=n}},r}(Bn),Ak=gy;Xr("waterfall",gy);var _k=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="waterfall",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=Ak.getDefaultOptions,r}(Ir),yy=_k,Tk=function(){function i(r){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=r,this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options,t=r.xBaseline,e=r.yBaseline,n=this.view.getCoordinate(),a=this.view.getScaleByField(this.options.plotOptions.xField),o=this.view.getScaleByField(this.options.plotOptions.yField),s;if(t>a.min&&t<a.max){var l=(t-a.min)/(a.max-a.min);s=[new Dr(n.start.x,n.end.y,n.getWidth()*l,n.getHeight()),new Dr(n.start.x+n.getWidth()*l,n.end.y,n.getWidth()*(1-l),n.getHeight())];var u={start:{x:n.start.x+n.getWidth()*l,y:n.end.y},end:{x:n.start.x+n.getWidth()*l,y:n.start.y}};this.lineData.push(u)}else s=[new Dr(n.start.x,n.end.y,n.getWidth(),n.getHeight())];if(e>o.min&&e<o.max){var l=(e-o.min)/(o.max-o.min),h={start:{x:n.start.x,y:n.start.y-n.getHeight()*l},end:{x:n.end.x,y:n.start.y-n.getHeight()*l}};this.lineData.push(h);var c={name:t<=a.min?"top-right":"top-left",bbox:new Dr(s[0].minX,s[0].minY,s[0].width,s[0].height*(1-l)),index:t<=a.min?2:0};this.regionData.push(c);var v={name:t<=a.min?"bottom-right":"bottom-left",bbox:new Dr(s[0].minX,s[0].minY+s[0].height*(1-l),s[0].width,s[0].height*l),index:t<=a.min?3:1};if(this.regionData.push(v),s.length>1){var g={name:"top-right",bbox:new Dr(s[1].minX,s[1].minY,s[1].width,s[1].height*(1-l)),index:2};this.regionData.push(g);var A={name:"bottom-right",bbox:new Dr(s[1].minX,s[1].minY+s[1].height*(1-l),s[1].width,s[1].height*l),index:3};this.regionData.push(A)}}else if(s.length===2)if(e<=o.min){var k={name:"top-left",bbox:s[0],index:0};this.regionData.push(k);var g={name:"top-right",bbox:s[1],index:2};this.regionData.push(g)}else{var F={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(F);var A={name:"bottom-right",bbox:s[1],index:3};this.regionData.push(A)}else if(t<=a.min)if(e<=o.min){var g={name:"top-right",bbox:s[0],index:2};this.regionData.push(g)}else{var A={name:"bottom-right",bbox:s[0],index:3};this.regionData.push(A)}else if(e<=o.min){var k={name:"top-left",bbox:s[0],index:0};this.regionData.push(k)}else{var F={name:"bottom-left",bbox:s[0],index:1};this.regionData.push(F)}this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this;if(this.regionData.length>0){var t=this.getDefaultStyle(),e=this.getRegionStyle(this.regionData);(0,f.each)(this.regionData,function(a){var o=a.index,s=r.container.addGroup(),l=s.addShape("rect",{attrs:(0,Rt.__assign)({x:a.bbox.minX,y:a.bbox.minY,width:a.bbox.width,height:a.bbox.height},e[o]),name:"quadrant"});if(r.options.label&&r.options.label.text){var u=(0,f.deepMix)({},t.label,r.options.label),h=r.getLabelConfig(a,u);s.addShape("text",{attrs:(0,Rt.__assign)({},h),name:"quadrant-label"})}l.set("data",a),r.quadrantGroups.push(s)});var n=(0,f.deepMix)({},t.line,this.options.lineStyle);(0,f.each)(this.lineData,function(a){r.container.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",a.start.x,a.start.y],["L",a.end.x,a.end.y]]},n),name:"quadrant-line"})}),this.view.canvas.draw()}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},i.prototype.getRegionStyle=function(r){var t=this.getDefaultStyle(),e=t.regionStyle;if(this.options.regionStyle){var n=this.options.regionStyle;(0,f.isArray)(n)?e=e.map(function(a,o){return n.length>o&&n[o]?n[o]:a}):(0,f.isFunction)(n)&&(0,f.each)(r,function(a,o){e[o]=n(a)})}return e},i.prototype.getLabelConfig=function(r,t){var e=r.index,n=0,a=0,o={},s=t.text;(0,f.isFunction)(s)?s=s(r):(0,f.isArray)(s)&&(s=s[e]);var l=t.position,u=l.split("-"),h=r.name.split("-");return h[1]==="left"?(u[0]==="inner"&&(n=r.bbox.maxX-t.offset,o.textAlign="right"),u[0]==="outter"&&(n=r.bbox.minX+t.offset,o.textAlign="left")):h[1]==="right"&&(u[0]==="inner"&&(n=r.bbox.minX+t.offset,o.textAlign="left"),u[0]==="outter"&&(n=r.bbox.maxX-t.offset,o.textAlign="right")),h[0]==="top"?(u[1]==="inner"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom"),u[1]==="outter"&&(a=r.bbox.minY+t.offset,o.textBaseline="top")):h[0]==="bottom"&&(u[1]==="inner"&&(a=r.bbox.minY+t.offset,o.textBaseline="top"),u[1]==="outter"&&(a=r.bbox.maxY-t.offset,o.textBaseline="bottom")),o=(0,f.deepMix)({},t.style,o),o.lineHeight=o.fontSize,(0,Rt.__assign)({x:n,y:a,text:s},o)},i}(),Pk=Tk,Mo=d(56645),Lk={exp:Mo.regressionExp,linear:Mo.regressionLinear,loess:Mo.regressionLoess,log:Mo.regressionLog,poly:Mo.regressionPoly,pow:Mo.regressionPow,quad:Mo.regressionQuad};function Ok(i,r){return Math.sqrt(i*(1-i)/r)*1.96}var Ik=function(){function i(r){var t={type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}};this.options=(0,f.deepMix)({},t,r),this.view=this.options.view,this.init()}return i.prototype.init=function(){var r=this.options.plotOptions,t=r.xField,e=r.yField,n=r.data,a=Lk[this.options.type]().x(function(o){return o[t]}).y(function(o){return o[e]});this.data=this.processData(a(n)),this.container=this.view.backgroundGroup.addGroup()},i.prototype.render=function(){var r=this.view.getScaleByField(this.options.plotOptions.xField),t=this.view.getScaleByField(this.options.plotOptions.yField),e=this.view.getCoordinate(),n=this.data.trendlineData,a=(0,Er.getScale)("linear"),o=this.adjustScale(r,n,"x"),s=new a({min:o.min,max:o.max}),l=this.adjustScale(t,n,"y"),u=new a({min:l.min,max:l.max});if(this.options.showConfidence){var h=this.getConfidencePath(s,u,e);this.container.addShape("path",{attrs:(0,Rt.__assign)({path:h},this.options.confidenceStyle),name:"confidence"})}var c=this.getTrendlinePoints(s,u,e),v=[[0,0],[1,1]],g=Hf(c,!1,v);this.shape=this.container.addShape("path",{attrs:(0,Rt.__assign)({path:g},this.options.style),name:"trendline"})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.destroy()},i.prototype.processData=function(r){var t=[],e=[];return(0,f.each)(r,function(n){t.push({x:n[0],y:n[1]});var a=Ok(r.rSquared,n[1]);e.push({x:n[0],y0:n[1]-a,y1:n[1]+a})}),{trendlineData:t,confidenceData:e}},i.prototype.getTrendlinePoints=function(r,t,e){var n=[];return(0,f.each)(this.data.trendlineData,function(a){var o=r.scale(a.x),s=t.scale(a.y),l=e.start.x+e.width*o,u=e.start.y-e.height*s;n.push({x:l,y:u})}),n},i.prototype.getConfidencePath=function(r,t,e){var n=[],a=[],o=[];(0,f.each)(this.data.confidenceData,function(c){var v=r.scale(c.x),g=t.scale(c.y0),A=t.scale(c.y1),k=e.start.x+e.width*v,F=e.start.y-e.height*g,Y=e.start.y-e.height*A;n.push({x:k,y:F}),a.push({x:k,y:Y})});for(var s=0;s<n.length;s++){var l=s===0?"M":"L",u=n[s];!isNaN(u.x)&&!isNaN(u.y)&&o.push([l,u.x,u.y])}for(var h=a.length-1;h>0;h--){var u=a[h];!isNaN(u.x)&&!isNaN(u.y)&&o.push(["L",u.x,u.y])}return o},i.prototype.adjustScale=function(r,t,e){var n=r.min,a=r.max,o=this.options.plotOptions,s=o.data,l=o.xField,u=o.yField,h=e==="x"?l:u,c=(0,f.minBy)(s,h)[h],v=(0,f.maxBy)(s,h)[h],g=(n-c)/(v-c),A=(a-v)/(v-c),k=(0,f.minBy)(t,e)[e],F=(0,f.maxBy)(t,e)[e];return{min:k+g*(F-k),max:F+A*(F-k)}},i}(),kk=Ik,Bk={point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"},Dk=si(Bk);(0,f.assign)($r,Dk);var Fk=function(i){var r=i.stroke||"#000";return{stroke:r}},Rk=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},Nk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};Ni("scatter",{pointStyle:{normal:{},active:Fk,selected:Rk,inactive:Nk}});var Gk={scatter:"point"},Yk={point:"point"},my=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="scatter",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new Pk((0,Rt.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new kk((0,Rt.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},r.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),i.prototype.destroy.call(this)},r.prototype.isValidLinearValue=function(t){return(0,f.isNil)(t)?!1:!Number.isNaN(Number(t))},r.prototype.processData=function(t){var e=this,n=this.options,a=n.xField,o=n.yField,s=(0,f.get)(this.options,["xAxis","type"],"linear"),l=(0,f.get)(this.options,["yAxis","type"],"linear");if(s&&l){var u=t.filter(function(h){return!(s==="linear"&&!e.isValidLinearValue(h[a])||l==="linear"&&!e.isValidLinearValue(h[o]))}).map(function(h){var c;return(0,Rt.__assign)((0,Rt.__assign)({},h),(c={},c[a]=s==="linear"?Number(h[a]):String(h[a]),c[o]=l==="linear"?Number(h[o]):String(h[o]),c))});return u}return t},r.prototype.geometryParser=function(t,e){return t==="g2"?Gk[e]:Yk[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},(0,f.has)(t,"xAxis")&&Qn(e[t.xField],t.xAxis),e[t.yField]={},(0,f.has)(t,"yAxis")&&Qn(e[t.yField],t.yAxis);var n=(0,f.find)(t.interactions,function(o){return o.type==="timeline"});if(n&&(0,f.get)(n,"cfg.key")){var a=n.cfg.key;e[a]?e[a].key=!0:e[a]={key:!0}}this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.coord=function(){},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=Nn("point","circle",{plot:this});if(this.points=t,this.options.tooltip&&this.options.tooltip.visible){var e=this.options.tooltip,n=e.showTitle,a=e.titleField;this.extractTooltip(),this.setConfig("tooltip",(0,Rt.__assign)({showTitle:n,title:n?a:void 0},this.options.tooltip))}this.options.label&&this.label(),this.setConfig("geometry",t)},r.prototype.label=function(){var t=this.options;if(t.label.visible===!1){this.points&&(this.points.label=!1);return}var e=gi("label",(0,Rt.__assign)((0,Rt.__assign)({fields:t.label.field?[t.label.field]:[t.yField]},t.label),{plot:this}));this.points&&(this.points.label=e)},r.prototype.animation=function(){i.prototype.animation.call(this);var t=this.options;t.animation===!1&&(this.points.animate=!1)},r.prototype.parseEvents=function(t){i.prototype.parseEvents.call(this,t||X)},r.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},r}(Bn),xy=my;Xr("scatter",my);var zk=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="scatter",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xy.getDefaultOptions,r}(Ir),by=zk,Xk=d(75564);en("point","bubble-point",{draw:function(i,r){var t=(0,Xk.iV)(this,i,r,"circle",!1);if(!i.style.stroke){var e=t.attr("fill");t.attr("stroke",e)}return t},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}});var Vk=function(i){var r=i.stroke||"#000",t=i.fillOpacity||i.opacity||.95;return{stroke:r,fillOpacity:t}},Hk=function(i){var r=i.stroke||"#000",t=i.lineWidth||2;return{stroke:r,lineWidth:t}},Wk=function(i){var r=i.fillOpacity||i.opacity||.3;return{fillOpacity:r}};Ni("bubble",{pointStyle:{normal:{},active:Vk,selected:Hk,inactive:Wk}});var wy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bubble",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},r.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},r.prototype.legend=function(){var t;i.prototype.legend.call(this),!(this.options.legend&&this.options.legend.visible===!1)&&this.setConfig("legends",(t={},t[this.options.sizeField]=!1,t))},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,X)},r}(xy),jk=wy;Xr("bubble",wy);var Uk=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bubble",i.prototype.createLayers.call(this,e)},r.prototype.getSizeScale=function(){var t=this.layers[0];return t.getSizeScale()},r.getDefaultOptions=jk.getDefaultOptions,r}(Ir),Sy=Uk,Zk={bullet:"interval",bulletTarget:"bullet-target"},Kk=si(Zk);(0,f.assign)($r,Kk);var $k=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var r=this.getGeometry(),t=(0,f.map)(r==null?void 0:r.elements,function(o){return o.shape}),e=0;e<this.cfg.ranges.length;e+=1){var n=t[e].getBBox(),a=n.width/t[e].get("origin").data[this.cfg.yField];this.drawRect(n,this.cfg.ranges[e]||[0,1],a)}this.view.canvas.draw()}},i.prototype.drawRect=function(r,t,e){for(var n=this.cfg,a=n.rangeColors,o=r.minX,s=r.minY-r.height*(n.rangeSize-1)/2,l=1;l<t.length;l+=1){var u=(t[l]-t[l-1])*n.rangeMax*e;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:r.height*n.rangeSize,x:o,y:s,fill:a[(l-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),o+=u}if(n.axis&&n.axis.visible){var h=n.rangeMax/(n.axis.tickCount-1),c=new Dr(r.x,s,o,r.height*n.rangeSize);this.drawBulletTicks(c,h,e)}},i.prototype.drawBulletTicks=function(r,t,e){for(var n=this.cfg,a=n.axis.style,o=n.axis.tickCount,s=n.axis.position,l=(0,f.get)(a,"lineHeight",0)-a.fontSize/2,u=0;u<o;u+=1){var h=r.minX+t*u*e,c=""+t*u;if(n.axis.formatter&&(c=n.axis.formatter(c,u)),this.container.addShape("text",{name:"tick",attrs:(0,Rt.__assign)({x:h,y:s==="before"?r.minY-l:r.maxY+l,text:""+c},a)}),n.axis.tickLine&&n.axis.tickLine.visible){var v=n.axis.tickLine;u>0&&u!==o-1&&this.container.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",h,r.minY],["L",h,r.maxY]]},v)}).set("zIndex",-1)}}},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),Qk=$k,Jk=function(){function i(r,t){this.view=r,this.cfg=t,this._init()}return i.prototype.draw=function(){if(!(!this.view||this.view.destroyed)){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var r=(0,f.map)(this.getGeometry().elements,function(a){return a.shape}),t=0;t<this.cfg.targets.length;t+=1){var e=r[t].getBBox(),n=e.width/r[t].get("origin").data[this.cfg.yField];this.drawTarget(e,this.cfg.targets[t],n)}this.view.canvas.draw()}},i.prototype.drawTarget=function(r,t,e){var n=this,a=this.cfg,o=a.markerColors;t.forEach(function(s,l){var u=a.markerStyle;n.container.addShape("rect",{name:"bullet-target",attrs:(0,Rt.__assign)((0,Rt.__assign)({width:u.width,height:r.height*a.markerSize-u.width/2,x:r.minX+s*e,y:r.minY-r.height*(a.markerSize-1)/2},u),{fill:o[l%o.length]||u.fill})})})},i.prototype.clear=function(){this.container&&this.container.clear()},i.prototype.destroy=function(){this.container&&this.container.remove()},i.prototype._init=function(){var r=this;this.view.on("beforerender",function(){r.clear()}),this.view.on("afterrender",function(){r.draw()})},i.prototype.getGeometry=function(){return(0,f.find)(this.view.geometries,function(r){return r.type==="interval"})},i}(),qk=Jk,tB=function(i){var r=i.opacity||1;return{opacity:r*.5,lineWidth:0}},eB=function(i){var r=i.opacity||1;return{opacity:r*.5}};Ni("bullet",{columnStyle:{normal:{},active:tB,disable:eB,selected:{}}});var rB={bullet:"interval"},nB={interval:"bullet"},iB="$$stackField$$",aB="$$xField$$",oB="$$yField$$",Cy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{data:[],stackField:iB,xField:aB,yField:oB,rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},r.prototype.afterRender=function(){i.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},r.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},(0,f.has)(t,"yAxis")&&Qn(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},(0,f.has)(t,"xAxis")&&Qn(e[t.xField],t.xAxis),this.setConfig("scales",e),i.prototype.scale.call(this)},r.prototype.getOptions=function(t){var e=i.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},r.prototype.afterInit=function(){i.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(a){return a.ranges}),n=t.data.map(function(a){return a.targets});this.bulletRect=new Qk(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new qk(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},r.prototype.geometryParser=function(t,e){return t==="g2"?rB[e]:nB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=t.measureColors||this.theme.colors,a=[{name:"\u5B9E\u9645\u8FDB\u5EA6",value:"\u5B9E\u9645\u8FDB\u5EA6",marker:{symbol:"square",style:{fill:n[0]}}},{name:"\u76EE\u6807\u503C",value:"\u76EE\u6807\u503C",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],o=(0,Rt.__assign)({custom:!0,position:"bottom",items:a},t.legend);this.setConfig("legends",o)},r.prototype.addGeometry=function(){var t=this.options,e=Nn("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,$)},r.prototype.extractLabel=function(){var t=this.options,e=(0,f.deepMix)({},t.label);if(e.visible===!1)return!1;var n=gi("label",(0,Rt.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e));return n},r.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},r.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(n){return e.push(n.measures.reduce(function(a,o){return a+o},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},r.prototype.processData=function(t){var e=this.options,n=[];return t.forEach(function(a,o){for(var s,l=0;l<a.measures.length;l+=1){var u=a.measures[l],h=a.title||""+o;n.push((s={},s[e.xField]=h,s[e.yField]=u,s[e.stackField]=""+l,s))}}),n},r}(Bn),sB=Cy;Xr("bullet",Cy);var lB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="bullet",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=sB.getDefaultOptions,r}(Ir),My=lB,Uo="$$day$$",Zo="$$week$$",Ey="$$date$$",oY="$$is_month_center$$",Ko="YYYY-MM-DD",uB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fB=["S","M","T","W","T","F","S"],As=864e5;function hB(i){var r=(0,Rt.__spreadArrays)(i).sort(function(t,e){return t.getTime()-e.getTime()});return[ao.default.format((0,f.head)(r),Ko),ao.default.format((0,f.last)(r),Ko)]}function sY(i){var r=i||new Date;return[fecha.format(new Date(r.getFullYear(),0,1),FORMATTER),fecha.format(new Date(r.getFullYear(),11,30),FORMATTER)]}function cB(i){return i.getMonth()!==Xl(new Date(i),7*As).getMonth()}function vB(i){return i.getMonth()!==Xl(new Date(i),As).getMonth()}function Ay(i){var r=new Date(i.getFullYear(),0,1);return Math.ceil(((i.getTime()-r.getTime())/As+r.getDay()+1)/7)}function dB(i){return i.getDay()}function Xl(i,r){return i.setMilliseconds(i.getMilliseconds()+r),i}function _y(i){var r,t=i[0],e=i[1],n=ao.default.parse(t,Ko),a=ao.default.parse(e,Ko);return n>a&&(r=[n,a],a=r[0],n=r[1]),[n,a]}function pB(i,r,t){for(var e=[],n=_y(r),a=n[0],o=n[1],s=new Date(a),l=function(){var u,h=ao.default.format(s,Ko),c=(0,f.find)(i,function(v){return v[t]===h});e.push((0,Rt.__assign)((u={},u[Uo]=dB(s),u[Zo]=""+Ay(s),u[t]=h,u[Ey]=new Date(s),u),c)),Xl(s,As)};s<=o;)l();return e}function gB(i){var r=_y(i),t=r[0],e=r[1],n=new Map;function a(l){var u=l.getMonth(),h=Ay(l);n.has(u)||n.set(u,[]),n.get(u).push(h)}for(var o=new Date(t);o<=e;)a(o),Xl(o,As*7);e<o&&a(e);var s={};return n.forEach(function(l,u){var h=Math.ceil(((0,f.head)(l)+(0,f.last)(l))/2);s[h]=u}),s}var yB={rect:"polygon"},mB=si(yB);(0,f.assign)($r,mB);var Ty=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="calendar",t}return r.getDefaultOptions=function(){var t;return(0,f.deepMix)({},i.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:(t={},t[Uo]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[Zo]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},r.prototype.processData=function(t){var e=this.options.dateField,n=this.options.dateRange;if((0,f.isNil)(n)){var a=(0,f.map)(t,function(o){return ao.default.parse(""+o[e],Ko)});n=hB(a)}return pB(t,n,e)},r.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,a=t.tooltip,o={type:"polygon",position:{fields:[Zo,Uo]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};a&&(a.fields||a.formatter)&&this.geometryTooltip(o),this.setConfig("geometry",o)},r.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[Zo,Uo]))},r.prototype.extractLabel=function(){var t=this.options,e=t.label;if(e&&e.visible===!1)return!1;var n=this.options.valueField;return gi("label",(0,Rt.__assign)({plot:this,fields:[n],position:"top",offset:0},e))},r.prototype.coord=function(){var t={type:"rect",cfg:{},actions:[["reflect","y"]]};this.setConfig("coordinate",t)},r.prototype.geometryParser=function(){return""},r.prototype.axis=function(){var t=gi("axis",{plot:this,dim:"x"}),e=gi("axis",{plot:this,dim:"y"}),n={};n[Zo]=t,n[Uo]=e,this.setConfig("axes",n)},r.prototype.scale=function(){i.prototype.scale.call(this);var t=gB(this.options.dateRange),e=this.config.scales,n=this.options,a=n.weeks,o=a===void 0?fB:a,s=n.months,l=s===void 0?uB:s,u=e[Zo],h=e[Uo];u.formatter=function(A){var k=t[A];return k!==void 0?l[k]:""},h.formatter=function(A){return o[A]||""};var c=this.options,v=c.xAxis,g=c.yAxis;u.alias=(0,f.get)(v,["title","text"],u.alias),h.alias=(0,f.get)(g,["title","text"],h.alias),this.setConfig("scales",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,H)},r}(Bn),xB=Ty;Xr("calendar",Ty),en("polygon","calendar-polygon",{draw:function(i,r){if(!(0,f.isEmpty)(i.points)){var t=i.points,e=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]];e=this.parsePath(e);var n=(0,Rt.__assign)((0,Rt.__assign)({stroke:"#fff",lineWidth:1,fill:i.color},i.style),{path:e}),a=r.addShape("path",{attrs:n}),o=i.data[Ey];if(cB(o)){var s=[["M",t[2].x,t[2].y],["L",t[3].x,t[3].y]];r.addShape("path",{zIndex:1,attrs:{path:this.parsePath(s),lineWidth:1,stroke:"#404040"}}),vB(o)&&r.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",t[1].x,t[1].y],["L",t[2].x,t[2].y]]),lineWidth:1,stroke:"#404040"}})}return r.sort(),a}}});var bB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="calendar",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=xB.getDefaultOptions,r}(Ir),wB=bB,Py=function(){function i(r){this.uid=r}return i.prototype.setOption=function(r,t){this.type=r,this.options=t,this.axis=t.axis,this.pivot=t.pivot},i.prototype.render=function(){var r=this;en("point","gauge",{draw:function(t,e){var n,a,o;this.gauge={},this.gauge.options=r.options,this.gauge.axis=r.axis,this.gauge.pivot=r.pivot,this.gauge.type=r.type;var s=this.gauge,l=this.gauge.type,u=t.points[0],h=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:u.x||0,y:1});s.center=h,s.group=e;var v={x:h.x-c.x,y:h.y-c.y};this.gauge.ringRadius=Math.sqrt(v.x*v.x+v.y*v.y);var g=this.getAngleRange(),A=g.starAngle,k=g.endAngle,F=u.x*(k-A)+A;switch(l){case"meterGauge":this.drawBarGauge(F),this.gauge.axis.visible&&((n=this.gauge.axis.tickLine)===null||n===void 0?void 0:n.visible)&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(F),this.gauge.axis.visible&&((a=this.gauge.axis.tickLine)===null||a===void 0?void 0:a.visible)&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(F),this.gauge.axis.visible&&((o=this.gauge.axis.tickLine)===null||o===void 0?void 0:o.visible)&&this.drawAxis();break}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.range,o=t.color,s=t.rangeStyle,l=o||Ci().colors,u=this.getAngleRange(),h=u.starAngle,c=u.endAngle,v={min:e,max:n,starAngle:h,endAngle:c},g=0;g<a.length;g++){var A=this.valueToAngle(a[g],v),k=this.valueToAngle(a[g+1],v);if(k>=A){var F=this.getPath(A,k),Y=(0,f.deepMix)({fill:l[g]},s);this.drawRing(F,Y)}}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,a=this.gauge.options.rangeBackgroundStyle,o=this.getPath(e,n);this.drawRing(o,a)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,a=this.getPath(e,t);this.drawRing(a,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,a=t.axis,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:e,max:n,starAngle:s,endAngle:l},h=(n-e)/a.tickCount,c=0;c<a.tickCount;c++){var v=e+c*h,g=this.valueToAngle(v+h/2,u);this.drawRect(g,{length:a.tickLine.length,style:a.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u),A=(0,f.clone)(t.tickLine.style);c%5!=0&&(A.lineWidth=A.lineWidth/2),this.drawRect(g,{length:c%5==0?t.tickLine.length:t.tickLine.length/2,style:A})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,a=e.max,o=this.getAngleRange(),s=o.starAngle,l=o.endAngle,u={min:n,max:a,starAngle:s,endAngle:l},h=(a-n)/(t.tickCount-1),c=0;c<t.tickCount;c++){var v=n+c*h,g=this.valueToAngle(v,u);this.drawRect(g,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,a=n.min,o=n.max,s=n.range,l=n.color,u=n.rangeStyle,h=n.rangeBackgroundStyle,c=l||Ci().colors,v=this.getAngleRange(),g=v.starAngle,A=v.endAngle,k={min:a,max:o,starAngle:g,endAngle:A},F=(A-g)/(50-1),Y=F/3,N=0;N<50;N++){var st=g+N*F,lt=this.getPath(st-Y/2,st+Y-Y/2),At=h;if(s&&s.length){var zt=s.map(function(Vt){return e.valueToAngle(Vt,k)}),Wt=cE(zt,st),Qt=Math.min(Wt,s.length-1);At=(0,f.deepMix)({},{fill:c[Qt-1]},u)||h}else At=t>=st?(0,f.deepMix)({},{fill:l},u):h;this.drawRing(lt,At)}},getAngleRange:function(){var t=this.gauge.options.angle,e=90-(360-t)*.5,n=(270-90-e)*Math.PI/180,a=(270+90+e)*Math.PI/180;return{starAngle:n,endAngle:a}},valueToAngle:function(t,e){var n=e.min,a=e.max,o=e.starAngle,s=e.endAngle;if(t===a)return s;if(t===n)return o;var l=(t-n)/(a-n);a===n&&(l=1);var u=l*(s-o)+o;return u=Math.max(u,o),u=Math.min(u,s),u},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:(0,f.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,a=(0,Rt.__assign)((0,Rt.__assign)({},n),e),o=a.offset,s=a.length,l=this.gauge.center,u;o<0?u=this.gauge.ringRadius-this.gauge.options.rangeSize+o:u=this.gauge.ringRadius+o;var h=u*Math.cos(t)+l.x,c=u*Math.sin(t)+l.y,v=(u+s)*Math.cos(t)+l.x,g=(u+s)*Math.sin(t)+l.y,A=this.gauge.group.addShape("line",{attrs:(0,f.deepMix)({},{x1:h,y1:c,x2:v,y2:g},e.style)});A.set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,a=this.gauge.ringRadius,o=this.gauge.options.rangeSize,s=a*Math.cos(t)+n.x,l=a*Math.sin(t)+n.y,u=(a-o)*Math.cos(t)+n.x,h=(a-o)*Math.sin(t)+n.y,c=a*Math.cos(e)+n.x,v=a*Math.sin(e)+n.y,g=(a-o)*Math.cos(e)+n.x,A=(a-o)*Math.sin(e)+n.y,k=Math.abs(t-e)>Math.PI?1:0;return[["M",s,l],["A",a,a,0,k,1,c,v],["L",g,A],["A",a-o,a-o,0,k,0,u,h],["Z"]]},drawPivot:function(t){var e=this.getAngleRange(),n=e.starAngle,a=e.endAngle,o=this.gauge.options,s=o.radius,l=o.rangeSize,u=this.gauge.pivot,h=u.thickness,c=u.thickness/2.5,v=this.gauge.group,g=t.points[0],A=this.parsePoint({x:0,y:0}),k=g.x*(a-n)+n,F=(this.gauge.ringRadius-l)*s*Math.cos(k)+this.gauge.center.x,Y=(this.gauge.ringRadius-l)*s*Math.sin(k)+this.gauge.center.y,N={x:F,y:Y};if(u.base.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:A.x,y:A.y,r:u.base.size?u.base.size/2:h*2.2},u.base.style)}),u.pointer.visible){var st={x:A.x-N.x,y:A.y-N.y},lt=Math.sqrt(st.x*st.x+st.y*st.y);st.x*=1/lt,st.y*=1/lt;var At=-Math.PI/2,zt=Math.cos(At)*st.x-Math.sin(At)*st.y,Wt=Math.sin(At)*st.x+Math.cos(At)*st.y,Qt=Math.PI/2,Vt=Math.cos(Qt)*st.x-Math.sin(Qt)*st.y,te=Math.sin(Qt)*st.x+Math.cos(Qt)*st.y,le=[["M",N.x+zt*c,N.y+Wt*c],["L",A.x+zt*h,A.y+Wt*h],["L",A.x+Vt*h,A.y+te*h],["L",N.x+Vt*c,N.y+te*c],["Z"]];v.addShape("path",{attrs:(0,f.deepMix)({},{path:le},u.pointer.style)}),v.addShape("circle",{attrs:{x:N.x,y:N.y,r:c,fill:u.pointer.style.fill}}),v.addShape("circle",{attrs:{x:A.x,y:A.y,r:h,fill:u.pointer.style.fill}})}u.pin.visible&&v.addShape("circle",{attrs:(0,f.deepMix)({},{x:A.x,y:A.y,r:c/1.2},u.pin.style)})}})},i}(),SB={range:"point",statistic:"annotation-text"},CB=si(SB);(0,f.assign)($r,CB);var Ly=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.type="gauge",e}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},r.prototype.init=function(){var t=this.options,e=t.value,n=t.range,a=(n||[]).map(function(A){return+A}).sort(function(A,k){return A-k}),o=this.options,s=o.min,l=s===void 0?a[0]:s,u=o.max,h=u===void 0?a[a.length-1]:u,c=o.format,v=c===void 0?function(A){return""+A}:c,g=v(e);this.options.data=[{value:e||0}],this.options.valueText=g,this.options.min=l,this.options.max=h,this.options.format=v,this.initG2Shape(),i.prototype.init.call(this)},r.prototype.initG2Shape=function(){this.gaugeShape=new Py((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},r.prototype.geometryParser=function(){return"gauge"},r.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,a=t.format,o={value:{}};Qn(o.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:a,tickInterval:20}),this.setConfig("scales",o),i.prototype.scale.call(this)},r.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},r.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n;t.offset<0?n=t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:n=t.offset+t.tickLine.length+t.label.offset,t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e["1"]=!1,e.value=t.visible?e.value:!1,this.setConfig("axes",e)},r.prototype.addGeometry=function(){var t=this.options.pivot.pointer.style.fill||this.theme.defaultColor,e={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[t]}};this.setConfig("geometry",e)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}this.setConfig("annotations",e)},r.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic,n={type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:t*1.2,textAlign:"center",textBaseline:"middle"}};return n},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,nt)},r}(Bn),gh=Ly;Xr("gauge",Ly);var MB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="gauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=gh.getDefaultOptions,r}(Ir),Oy=MB,Iy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="fanGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},r.prototype.initG2Shape=function(){this.gaugeShape=new Py((0,f.uniqueId)()),this.gaugeShape.setOption(this.type,(0,f.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},r.prototype.axis=function(){var t={value:!1,1:!1};this.setConfig("axes",t)},r.prototype.annotation=function(){var t=this.options.statistic,e=[];if(t&&t.visible){var n=this.renderStatistic();e.push(n)}var a=this.renderSideText(),o=e.concat(a);this.setConfig("annotations",o)},r.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,a=t.format,o=t.rangeSize,s=t.axis,l=12;return[n,e].map(function(u,h){return{type:"text",top:!0,position:["50%","50%"],content:a(u),style:(0,f.deepMix)({},s.label.style,{textAlign:"center"}),offsetX:h?o:-o,offsetY:l}})},r}(gh),EB=Iy;Xr("fanGauge",Iy);var AB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="fanGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=EB.getDefaultOptions,r}(Ir),ky=AB,By=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="meterGauge",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},r}(gh),_B=By;Xr("meterGauge",By);var TB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="meterGauge",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=_B.getDefaultOptions,r}(Ir),Dy=TB,PB=d(42473),Ha=d.n(PB),lY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="donut",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},r.getDefaultOptions=vy.getDefaultOptions,r}(Ir),uY=null,fY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumn",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},r.getDefaultOptions=ah.getDefaultOptions,r}(Ir),hY=null,cY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedBar",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},r.getDefaultOptions=Up.getDefaultOptions,r}(Ir),vY=null,dY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedArea",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},r.getDefaultOptions=vg.getDefaultOptions,r}(Ir),pY=null,gY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedBar",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},r.getDefaultOptions=$p.getDefaultOptions,r}(Ir),yY=null,mY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="percentStackedColumn",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},r.getDefaultOptions=Lg.getDefaultOptions,r}(Ir),xY=null,bY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedArea",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},r.getDefaultOptions=rh.getDefaultOptions,r}(Ir),wY=null,SY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedBar",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},r.getDefaultOptions=Jf.getDefaultOptions,r}(Ir),CY=null,MY=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumn",i.prototype.createLayers.call(this,e),Ha()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},r.getDefaultOptions=Bl.getDefaultOptions,r}(Ir),EY=null,LB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},r.prototype.coord=function(){},r.prototype.addGeometry=function(){},r.prototype.annotation=function(){var t=this,e=this.options,n=[],a={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};(0,f.each)(e.guideLine,function(o){var s=gi("guideLine",{plot:t,cfg:(0,f.deepMix)({},a,o)});n.push(s)}),this.setConfig("annotations",n)},r}(Bn),Vl=LB,OB=function(){function i(r){(0,f.assign)(this,r),this.init()}return i.prototype.destroy=function(){this.shape&&this.shape.destroy()},i.prototype.update=function(r,t,e){var n={};if((0,f.assign)(this,r),this.coord=this.view.geometries[0].coordinate,r.value){var a=this.coord.convert({x:0,y:this.value}).x,o=[1,0,0,0,1,0,a,0,1];n.matrix=o}if(r.style){var s=this.shape,l=s.attrs,u=(0,f.deepMix)({},l,r.style);n=(0,f.deepMix)({},u,n)}this.shape.stopAnimate(),this.shape.animate(n,t,e)},i.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var r=this.coord.convert({x:0,y:this.value}).x,t=this.coord.center.y-this.progressSize/2-2,e=this.coord.center.y+this.progressSize/2+2,n=(0,f.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:(0,Rt.__assign)({path:[["M",0,t],["L",0,e]]},n),name:"progress-marker"}),this.shape.move(r,0),this.canvas.draw()},i}(),Fy=OB,IB={progress:"interval"},kB=si(IB);(0,f.assign)($r,kB);var BB={progress:"interval"},DB={interval:"progress"},Ry=["#55A6F3","#E8EDF3"],Ny=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:t.size?t.size:this.getSize(),barStyle:t.progressStyle,color:this.parseColorProps(t)||Ry};t=(0,f.mix)(t,e)},r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.beforeInit=function(){var t=this.options.percent;if(!(0,f.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},r.prototype.update=function(t){var e=this.options;if((0,f.hasKey)(t,"percent")&&(e.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color){var n=void 0;(0,f.isArray)(t.color)?(this.options.color=t.color,n=[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,n={fill:t.color}),this.styleUpdateAnimation(n)}t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},r.prototype.destroy=function(){this.markers&&this.markers.length>0&&((0,f.each)(this.markers,function(t){t.destroy()}),this.markers=[]),i.prototype.destroy.call(this)},r.prototype.afterRender=function(){var t=this;this.options.marker&&!this.markers&&(this.markers=[],(0,f.each)(this.options.marker,function(s){var l=(0,f.mix)({canvas:t.canvas,view:t.view,progressSize:t.options.barSize},s),u=new Fy(l);t.markers.push(u)}));var e=this.view.geometries[0].container,n=e.getBBox(),a=e.addShape("rect",{attrs:{width:n.width,height:n.height,x:n.minX,y:n.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),a.on("mouseenter",function(s){t.isEntered=!0,t.view.emit("progress:mouseenter",s)}),a.on("mouseleave",function(s){t.isEntered=!1,t.view.emit("progress:mouseleave",s)});var o=this.canvas.get("container");o.addEventListener("mouseleave",function(s){t.isEntered&&(t.view.emit("progress:mouseleave",s),t.isEntered=!1)})},r.prototype.geometryParser=function(t,e){return t==="g2"?BB[e]:DB[e]},r.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},r.prototype.addGeometry=function(){var t=this.options,e=Nn("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],(0,f.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},r.prototype.parseEvents=function(t){t?i.prototype.parseEvents.call(this,t):i.prototype.parseEvents.call(this,ht)},r.prototype.parseColorProps=function(t){var e;if(t.color)if((0,f.isFunction)(t.color)?e=t.color(t.percent):e=t.color,(0,f.isString)(e)){var n=(0,f.clone)(Ry);return n[0]=e,n}else return e;return t.color},r.prototype.processData=function(){var t=this.options,e=[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}];return e},r.prototype.updateMarkers=function(t){var e=t.length,n=this.getUpdateAnimationOptions();if((0,f.each)(this.markers,function(u,h){h>e-1?u.destroy():u.update(t[h],n.duration,n.easing)}),this.markers.length<e)for(var a=this.markers.length,o=a;o<e;o++){var s=(0,f.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},t[o]),l=new Fy(s);this.markers.push(l)}},r.prototype.getSize=function(){var t=this.height;return t>=50?10:4},r.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,a=e.easing,o=[],s=this.view,l=s.geometries;(0,f.each)(l,function(u){if(u.type==="interval"){var h=u.elements;(0,f.each)(h,function(c){o.push.apply(o,c.shape)})}}),(0,f.isArray)(t)?(0,f.each)(t,function(u,h){o[h].animate(u,n,a)}):o[0].animate(t,n,a)},r.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},r.prototype.updateColorConfigByStyle=function(t){var e=this;(0,f.isArray)(t)?(0,f.each)(t,function(n,a){n.fill&&(e.options.color[a]=n.fill)}):t.fill&&(this.options.color[0]=t.fill)},r}(Vl),Gy=Ny;Xr("progress",Ny);var FB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="progress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t,e){var n=this.layers[0];n.update(t,e)},r.getDefaultOptions=Gy.getDefaultOptions,r}(Ir),Yy=FB,RB={ringProgress:"interval"},NB=si(RB);(0,f.assign)($r,NB);var GB=["#55A6F3","#E8EDF3"],zy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="ringProgrsss",t}return r.prototype.processProps=function(){var t=this.options;t.data=this.processData();var e={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:t.progressStyle,color:this.parseColorProps(t)||GB};t=(0,f.mix)(t,e)},r.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},r.prototype.annotation=function(){},r.prototype.addGeometry=function(){var t=this.options;this.ring=Nn("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},r.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,at)},r.prototype.getThickness=function(t){var e=this.width,n=this.height,a=Math.min(e,n);return t?1-t/a:a>=60?1-20/a:1-10/a},r}(Gy),YB=zy;Xr("ringProgress",zy);var zB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="ringProgress",i.prototype.createLayers.call(this,e)},r.prototype.update=function(t){var e=this.layers[0];e.update(t)},r.getDefaultOptions=YB.getDefaultOptions,r}(Ir),Xy=zB,XB={onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"};(0,f.assign)($r,XB);var VB=.6,HB={column:"interval"},WB={interval:"column"},Vy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyColumn",t}return r.prototype.init=function(){this.processProps(),i.prototype.init.call(this)},r.prototype.geometryParser=function(t,e){return t==="g2"?HB[e]:WB[e]},r.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},this.setConfig("scales",e)},r.prototype.addGeometry=function(){var t=this.options,e=Nn("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Ot)},r.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=(0,f.mix)(this.options,t)},r.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField),n=this.width;return n/e*VB},r.prototype.getColumnNum=function(t,e){var n=[];return(0,f.each)(t,function(a){var o=a[e];n.indexOf(o)<0&&n.push(o)}),n.length},r}(Vl),jB=Vy;Xr("tinyColumn",Vy);var UB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyColumn",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=jB.getDefaultOptions,r}(Ir),Hy=UB,ZB={onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)($r,ZB);var KB={area:"area",line:"line"},Wy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyArea",t}return r.prototype.geometryParser=function(t,e){return KB[e]},r.prototype.addGeometry=function(){this.area=Nn("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=Nn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Ft)},r}(Vl),$B=Wy;Xr("tinyArea",Wy);var QB=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyArea",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=$B.getDefaultOptions,r}(Ir),jy=QB,JB={onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"};(0,f.assign)($r,JB);var qB={line:"line"},Uy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="tinyLine",t}return r.prototype.geometryParser=function(t,e){return qB[e]},r.prototype.addGeometry=function(){this.line=Nn("line","mini",{plot:this}),this.setConfig("geometry",this.line)},r.prototype.parseEvents=function(){i.prototype.parseEvents.call(this,Dt)},r}(Vl),tD=Uy;Xr("tinyLine",Uy);var eD=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="tinyLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=tD.getDefaultOptions,r}(Ir),Zy=eD,yh=5,rD=function(i){(0,Rt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=(0,f.deepMix)({},t),e.themeController=new Xf,e}return r.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},r.prototype.getOptions=function(t){var e=this.options||{},n=i.prototype.getOptions.call(this,t),a=this.constructor.getDefaultOptions(t);return(0,f.deepMix)({},n,a,e,t)},r.prototype.checkData=function(){for(var t=this,e,n,a=this.options,o=a.data,s=a.xField,l=a.yField,u=0;u<this.requiredField.length;u++){var h=this.requiredField[u];if(!(0,f.hasKey)(this.options,h))return!1}return!(!(0,f.isArray)(l)||l.length<2||!(0,f.isArray)(o)||o.length===0||((e=o[0])===null||e===void 0?void 0:e.length)===0&&((n=o[1])===null||n===void 0?void 0:n.length)===0||((0,f.each)(o,function(c,v){if(!(0,f.isArray)(c)||c.length===0){var g=t.getMockData(v);o[v]=g}}),!o[0][0][s]||!o[1][0][s]))},r.prototype.init=function(){i.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},r.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},r.prototype.changeData=function(t){t&&t.length<2||!(0,f.isArray)(t[0])||(0,f.each)(this.geomLayers,function(e,n){e.changeData(t[n])})},r.prototype.changeDataByIndex=function(t,e){if(!(0,f.isArray)(t[0])){var n=this.geomLayers[e];n.changeData(t)}},r.prototype.doDestroy=function(){(0,f.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],(0,f.each)(this.legends,function(t){t.destroy()}),this.legends=[]},r.prototype.createLayer=function(t,e,n){var a=this.getViewRange(),o=new t((0,Rt.__assign)({canvas:this.canvas,container:this.container,x:a.minX,y:a.minY,width:a.width,height:a.height,data:e},n));return this.geomLayers.push(o),o},r.prototype.getLeftYAxisMax=function(){var t=this.getScaleData(0),e=this.getScaleData(1);return t.min==0&&t.max===0?Math.max(e.max,0):t.max},r.prototype.yAxis=function(t){var e=this.getScaleData(0),n=this.options.yAxis,a=t===0?n.leftConfig:n.rightConfig,o=this.colors[t],s=(0,f.clone)(a),l={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};a.visible&&a.colorMapping&&(0,f.each)(s,function(h,c){if(!(0,f.isString)(h)&&(0,f.hasKey)(l,c)){var v=l[c];h.style||(h.style={}),h.style[v]=o}}),a.visible||(s.title.visible=!1,s.tickLine.visible=!1,s.label.visible=!1,s.line.visible=!1,s.visible=!0);var u=this.getYAxisGlobalConfig();return t===0&&e.max===0&&e.min===0&&(s.max=this.getLeftYAxisMax()),(0,f.deepMix)({},u,s)},r.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=(0,Er.getScale)("linear"),a=new n((0,f.deepMix)({},{min:0,max:this.getLeftYAxisMax(),nice:!0,values:e.values},{tickCount:t.tickCount})),o=a.ticks.length,s=t.max?a.max:this.getScaleData(1).max,l=s/(o-1),u=[],h=0;h<o;h++){var c=h*l;Number.isInteger(c)||(c=parseFloat(c.toFixed(1))),u.push(c)}return u},r.prototype.getScaleData=function(t){var e=this.options,n=e.data,a=e.yField,o=e.yAxis,s=[];(0,f.each)(n[t],function(h){s.push(h[a[t]])}),s.sort(function(h,c){return h-c});var l=s[0],u=o.max?o.max:s[s.length-1];return{min:l,max:u,values:s}},r.prototype.getDataByXField=function(t,e){var n=this.options,a=n.data,o=n.xField,s=a[e];return s.filter(function(l){return l[o]===t})},r.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis,e=t.min,n=t.max,a=t.tickCount;return{min:e,max:n,tickCount:a}},r.prototype.adjustLayout=function(){var t=this,e,n,a=Ci().bleeding;(0,f.isArray)(a)&&(0,f.each)(a,function(g,A){typeof a[A]=="function"&&(a[A]=a[A](t.options))});var o=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),u=0,h,c;((e=this.options.legend)===null||e===void 0?void 0:e.visible)&&(h=this.legends[0].getLayoutBBox(),c=this.legends[1].getLayoutBBox(),u=h.height+yh*2);var v=s.map(function(g,A){return A===0?Math.max.apply(null,[g+u,l[A]]):Math.max.apply(null,[g,l[A]])});this.geomLayers[0].updateConfig({padding:v}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:v}),this.geomLayers[1].render(),((n=this.options.legend)===null||n===void 0?void 0:n.visible)&&(this.legends[0].setLocation({x:a[3],y:o.minY+yh}),this.legends[1].setLocation({x:o.maxX-a[1]-c.width,y:o.minY+yh}))},r.prototype.transfromPadding=function(t){return typeof t=="string"||typeof t=="number"?[Number(t)]:t},r.prototype.legendFilter=function(t){var e=this,n=this.legends[t],a=n.get("group");a.on("click",function(){var o=n.get("items")[0];o.unchecked?(n.setItemState(o,"unchecked",!1),e.showLayer(t)):(n.setItemState(o,"unchecked",!0),e.hideLayer(t))})},r.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!1),this.setGeometryVisibility(a,!1),this.canvas.draw()},r.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],a=e.view,o=this.getYAxisContainer(a,n);o&&o.set("visible",!0),this.setGeometryVisibility(a,!0),this.canvas.draw()},r.prototype.setGeometryVisibility=function(t,e){(0,f.each)(t.geometries,function(n){var a=n.container,o=n.labelsContainer;a&&a.set("visible",e),o&&o.set("visible",e)})},r.prototype.getYAxisContainer=function(t,e){var n,a=t.controllers.filter(function(l){return(0,f.hasKey)(l,"axisContainer")})[0];if(a){var o=a,s=o.axisContainer.get("children");(0,f.each)(s,function(l){var u=l.get("component").get("field");u===e&&(n=l)})}return n},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.drawTitle=function(){var t=this.options,e=this.layerBBox;if(this.title&&(this.title.destroy(),this.title=null),Go(t.title)){var n=this.width,a=this.theme,o=new gl({leftMargin:e.minX+a.title.padding[3],rightMargin:e.maxX-a.title.padding[1],topMargin:e.minY+a.title.padding[0],text:t.title.text,style:(0,f.mix)(a.title,t.title.style),wrapperWidth:n-a.title.padding[3]-a.title.padding[1],container:this.container.addGroup(),theme:a,index:Go(t.description)?0:1,plot:this,alignTo:t.title.alignTo,name:"title"});this.title=o}},r.prototype.drawDescription=function(){var t=this.options,e=this.layerBBox;if(this.description&&(this.description.destroy(),this.description=null),Go(t.description)){var n=this.width,a=this.theme,o=0;if(this.title){var s=this.title.getBBox();o+=s.minY+s.height,o+=a.description.padding[0]}else o+=e.minY+a.title.padding[0];var l=new gl({leftMargin:e.minX+a.description.padding[3],topMargin:o,rightMargin:e.maxX-a.title.padding[1],text:t.description.text,style:(0,f.mix)(a.description,t.description.style),wrapperWidth:n-a.description.padding[3]-a.description.padding[1],container:this.container.addGroup(),theme:a,index:1,plot:this,alignTo:t.description.alignTo,name:"description"});this.description=l}},r.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new Dr(this.x,this.y,this.width,this.height));var t=this.layerBBox.minX,e=this.layerBBox.maxX,n=this.layerBBox.minY,a=this.layerBBox.maxY,o=[this.title,this.description];return(0,f.each)(o,function(s){if(s){var l=s.position,u=s.getBBox(),h=u.minX,c=u.maxX,v=u.minY,g=u.maxY;g>=n&&g<=a&&l==="top"&&(n=g),v>=n&&v<=a&&l==="bottom"&&(a=v),c>t&&c<=e&&l==="left"&&(t=c),h>=t&&c<=e&&l==="right"&&(e=h)}}),new Dr(t,n,e-t,a-n)},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o={};return o[n]="null",o[a[t]]=0,[o]},r}(pl),Ky=rD,$y={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Qy={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Jy=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="dualLine",t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:Qy,rightConfig:Qy},lineConfigs:[(0,f.deepMix)({},$y,{color:"#5B8FF9"}),(0,f.deepMix)({},$y,{color:"#e76c5e"})]})},r.prototype.init=function(){var t=this;if(i.prototype.init.call(this),!!this.checkData()){var e=this.options,n=e.data,a=e.meta,o=e.xField,s=e.yField,l=e.xAxis,u=e.tooltip,h=e.lineConfigs,c=e.legend,v=e.events,g=e.customMeta;this.colors=[h[0].color,h[1].color];var A=this.getYAxisGlobalConfig(),k=this.createLayer(Cs,n[0],(0,Rt.__assign)({meta:a,xField:o,yField:s[0],xAxis:{visible:!1},yAxis:(0,f.deepMix)({},A,{grid:{visible:!1},nice:!0},this.yAxis(0)),tooltip:{visible:!1},events:v},h[0]));k.render();var F={};F[s[1]]={ticks:this.getTicks()};var Y=this.createLayer(Cs,n[1],(0,Rt.__assign)({xField:o,yField:s[1],meta:g?a:(0,f.deepMix)({},a,F),serieField:s[1],xAxis:l,yAxis:(0,f.deepMix)({},A,{position:"right",nice:!1},this.yAxis(1)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(N,st){t.tooltip(N,st)}}},u),events:v},h[1]));Y.render(),c.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.tooltip=function(t,e){var n=this.getUnCheckedValue();if(n.length===this.colors.length){t.style.display="none";return}else t.style.display="block";var a=this.options,o=a.yField,s=a.legend,l=(0,f.clone)(e.items[0]),u=this.getDataByXField(e.title,0)[0];u&&(0,f.findIndex)(e.items,function(h){return h.name===o[0]})<0&&e.items.push((0,Rt.__assign)((0,Rt.__assign)({},l),{mappingData:(0,f.deepMix)({},l.mappingData,{_origin:u}),data:u,name:o[0],value:u[o[0]],color:this.colors[0]})),s.visible&&(0,f.each)(this.legends,function(h,c){var v=h.get("items")[0];if(v.unchecked){var g=c===0?1:0;e.items.splice(g,1)}})},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a;(0,f.each)(this.geomLayers,function(u,h){var c=(0,f.deepMix)({},{symbol:"circle",style:{r:4,fill:o[h]}},l.marker),v=[{name:n[h],unchecked:!1,marker:c}],g=new Hr.Legend.Category({id:t.type,container:s,x:0,y:0,items:v,updateAutoRender:!0,itemBackground:null,itemName:l.text});g.init(),g.render(),t.legends.push(g)}),(0,f.each)(this.geomLayers,function(u,h){t.legendFilter(h)})},r}(Ky),nD=Jy;Xr("dualLine",Jy);var iD=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="dualLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=nD.getDefaultOptions,r}(Ir),qy=iD,aD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},oD={color:"#5B8FF9"},t0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},e0=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:t0,rightConfig:t0},lineConfig:aD,columnConfig:oD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions;if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var s=Ci(),l=s.colors,u=s.colors_20,h=this.getValueBySeriesField(),c=h.length>l.length?u:l,v=[];(0,f.each)(h,function(g,A){v.push(c[A+1])}),a.lineConfig.color=v}},r.prototype.init=function(){if(i.prototype.init.call(this),!!this.checkData()){var t=this.options,e=t.data,n=t.meta,a=t.xField,o=t.yField,s=t.lineSeriesField,l=t.legend,u=t.lineConfig,h=t.columnConfig,c=t.events,v=t.customMeta;this.colors=[h.color,u.color],this.drawColumn();var g={};g[o[1]]={ticks:this.getTicks()};var A=this.createLayer(Cs,e[1],(0,Rt.__assign)({xField:a,yField:o[1],seriesField:s,meta:v?n:(0,f.deepMix)({},n,g),xAxis:{visible:!1},yAxis:(0,f.deepMix)({},{position:"right",grid:{visible:!1},nice:!0},this.yAxis(1)),tooltip:{visible:!1},legend:{visible:!1},events:c},u));A.render(),l.visible&&this.customLegend(),this.adjustLayout()}},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.xAxis,l=e.tooltip,u=e.columnConfig,h=e.meta,c=e.events,v=this.createLayer(Wo,n[0],(0,Rt.__assign)({xField:a,yField:o[0],meta:h,xAxis:s,yAxis:(0,f.deepMix)({},{grid:{visible:!0},nice:!0},this.yAxis(0)),tooltip:(0,f.deepMix)({},{showMarkers:!1,custom:{onChange:function(g,A){t.tooltip(g,A)}}},l),events:c},u));v.render()},r.prototype.tooltip=function(t,e){var n=this,a=this.options,o=a.xField,s=a.yField,l=a.tooltip,u=(0,f.clone)(e.items[0]),h=this.getDataByXField(e.title,1),c=(0,f.get)(l,"formatter");if(h&&(0,f.each)(h,function(F,Y){var N=n.geomLayers[1].options.seriesField,st=N?F[N]:s[1],lt=c?c(F[o],F[s[1]],F[N]):{name:st,value:F[s[1]]};e.items.push((0,Rt.__assign)((0,Rt.__assign)((0,Rt.__assign)((0,Rt.__assign)({},u),{mappingData:(0,f.deepMix)({},u.mappingData,{_origin:h}),data:F}),lt),{color:(0,f.isArray)(n.colors[1])?n.colors[1][Y]:n.colors[1]}))}),this.options.legend.visible){var v=this.getUnCheckedValue(),g=this.legends[0].get("items").length+this.legends[1].get("items").length;if(v.length===g){t.style.display="none";return}else t.style.display="block";var A=[],k=[];(0,f.each)(e.items,function(F){var Y=F.name;!(0,f.contains)(A,Y)&&!(0,f.contains)(v,Y)&&(A.push(Y),k.push(F))}),(0,f.each)(e.items,function(F,Y){Y<k.length?e.items[Y]=k[Y]:e.items.pop()})}},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):t.legendFilter(c)})},r.prototype.createSingleLegend=function(t,e,n,a,o){var s=(0,f.deepMix)({},{symbol:e,style:{r:4,fill:n}},a.marker),l=[{name:t,unchecked:!1,marker:s}],u=new Hr.Legend.Category({id:this.type,container:o,x:0,y:0,items:l,updateAutoRender:!0,itemBackground:null,itemName:a.text});return u.init(),u.render(),u},r.prototype.createNormalLegend=function(t,e,n,a,o){var s=[];(0,f.each)(t,function(u,h){s.push({name:u,unchecked:!1,marker:{symbol:e,style:{r:4,fill:n[h]}}})});var l=new Hr.Legend.Category({id:this.type,container:o,x:0,y:0,items:s,updateAutoRender:!0,itemBackground:null,itemName:a.text,offsetX:0});return l.init(),l.render(),l},r.prototype.multipleLegendFilter=function(t,e){var n=this,a=this.legends[t],o=[],s=a.get("group"),l=!1;s.on("click",function(u){var h=n.geomLayers[t].view,c=u.target.get("delegateObject").item;c.unchecked?(l===!0&&(n.showLayer(t),l=!1),(0,f.pull)(o,c.name),h.filter(c.value,function(v){return!(0,f.contains)(o,v)}),h.render(),a.setItemState(c,"unchecked",!1)):(a.setItemState(c,"unchecked",!0),o.push(c.name),o.length===n.legends[t].get("items").length?(n.hideLayer(t),l=!0):(h.filter(e,function(v){return!(0,f.contains)(o,v)}),h.render())),n.canvas.draw()})},r.prototype.getValueBySeriesField=function(){var t=this.options,e=t.lineSeriesField,n=t.data,a=n[1],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r}(Ky),mh=e0;Xr("columnLine",e0);var sD=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="columnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=mh.getDefaultOptions,r}(Ir),r0=sD,lD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},uD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},n0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},i0=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},n0,{colorMapping:!1}),rightConfig:n0},lineConfig:lD,columnConfig:uD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this,a=n.options,o=n.initialOptions,s=this.getValueByGroupField();if(a.lineSeriesField&&(a.yAxis.rightConfig.colorMapping=!1,((t=o.lineConfig)===null||t===void 0?void 0:t.lineSize)||(a.lineConfig.lineSize=3),!((e=o.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ci(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],A=s.length;(0,f.each)(c,function(F,Y){g.push(v[Y+A])}),a.lineConfig.color=g}var k=this.options.columnConfig.color;this.options.columnConfig.color=k.slice(0,s.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnGroupField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(ah,n[0],(0,Rt.__assign)({xField:a,yField:o[0],groupField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,A){t.tooltip(g,A)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.groupField){var g=t.getValueByGroupField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.groupField?t.multipleLegendFilter(c,h.options.groupField):t.legendFilter(c)})},r.prototype.getValueByGroupField=function(){var t=this.options,e=t.columnGroupField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnGroupField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(mh),fD=i0;Xr("groupedColumnLine",i0);var hD=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="groupedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=fD.getDefaultOptions,r}(Ir),a0=hD,cD={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},vD={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},o0={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},s0=function(i){(0,Rt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}return r.getDefaultOptions=function(){return(0,f.deepMix)({},i.getDefaultOptions.call(this),{yAxis:{leftConfig:(0,f.deepMix)({},o0,{colorMapping:!1}),rightConfig:o0},lineConfig:cD,columnConfig:vD,legend:{visible:!0}})},r.prototype.beforeInit=function(){var t,e,n=this.getValueByStackField(),a=this,o=a.options,s=a.initialOptions;if(o.lineSeriesField&&(o.yAxis.rightConfig.colorMapping=!1,((t=s.lineConfig)===null||t===void 0?void 0:t.lineSize)||(o.lineConfig.lineSize=3),!((e=s.lineConfig)===null||e===void 0?void 0:e.color))){var l=Ci(),u=l.colors,h=l.colors_20,c=this.getValueBySeriesField(),v=c.length>u.length?h:u,g=[],A=n.length;(0,f.each)(c,function(F,Y){g.push(v[Y+A])}),o.lineConfig.color=g}var k=this.options.columnConfig.color;this.options.columnConfig.color=k.slice(0,n.length)},r.prototype.drawColumn=function(){var t=this,e=this.options,n=e.data,a=e.xField,o=e.yField,s=e.columnStackField,l=e.xAxis,u=e.tooltip,h=e.columnConfig,c=e.events,v=this.createLayer(Bl,n[0],(0,Rt.__assign)({xField:a,yField:o[0],stackField:s,xAxis:l,yAxis:(0,f.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:(0,f.deepMix)({},u,{showMarkers:!1,custom:{onChange:function(g,A){t.tooltip(g,A)}}}),events:c},h));v.render()},r.prototype.customLegend=function(){var t=this,e=this.options,n=e.yField,a=e.legend,o=this.colors,s=this.container.addGroup(),l=a,u=["square","circle"];(0,f.each)(this.geomLayers,function(h,c){var v;if(h.options.seriesField){var g=t.getValueBySeriesField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else if(h.options.stackField){var g=t.getValueByStackField();v=t.createNormalLegend(g,u[c],o[c],l,s)}else v=t.createSingleLegend(n[c],u[c],o[c],l,s);t.legends.push(v)}),(0,f.each)(this.geomLayers,function(h,c){h.options.seriesField?t.multipleLegendFilter(c,h.options.seriesField):h.options.stackField?t.multipleLegendFilter(c,h.options.stackField):t.legendFilter(c)})},r.prototype.getValueByStackField=function(){var t=this.options,e=t.columnStackField,n=t.data,a=n[0],o=[];return(0,f.each)(a,function(s){var l=s[e];(0,f.contains)(o,l)||o.push(l)}),o},r.prototype.getUnCheckedValue=function(){var t=[];return(0,f.each)(this.legends,function(e){var n=e.getItemsByState("unchecked");(0,f.each)(n,function(a){t.push(a.name)})}),t},r.prototype.getMockData=function(t){var e=this.options,n=e.xField,a=e.yField,o=e.columnStackField,s={};s[n]="null_1",s[a[t]]=0,s[o]="null_a";var l={};return l[n]="null_1",l[a[t]]=1,l[o]="null_a",[s,l]},r}(mh),dD=s0;Xr("stackedColumnLine",s0);var pD=function(i){(0,Rt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createLayers=function(t){var e=(0,f.deepMix)({},t);e.type="stackedColumnLine",i.prototype.createLayers.call(this,e)},r.getDefaultOptions=dD.getDefaultOptions,r}(Ir),l0=pD,gD=function(r){return r.charAt(0).toUpperCase()+r.slice(1).replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},AY=function(r,t){return JSON.stringify(r)===JSON.stringify(t)},yD=function(r,t){return new Set(r.concat(t)).size===r.length},mD=function(r,t){var e={}.toString;return e.call(r)==="[object "+t+"]"},xD=function(r){if(!r)return r;var t={};for(var e in r)t[e]=r[e];return t},_s={sameArray:yD,camelCase:gD,isType:mD,clone:xD},bD=d(73935),wD=function(r){var t=document.createElement("div");return t.className="g2-tooltip eva-charts-tootip",bD.render(r,t),t},xh=wD;function u0(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function SD(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?u0(Object(t),!0).forEach(function(e){CD(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):u0(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function CD(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}function Vr(i,r){var t=(0,W.useRef)(),e=(0,W.useRef)(null),n=function(){var l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",h=arguments.length>1?arguments[1]:void 0;return(l=t.current)===null||l===void 0?void 0:l.canvas.cfg.el.toDataURL(u,h)},a=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/png",h=arguments.length>2?arguments[2]:void 0;try{var c;l&&l.indexOf(".")===-1&&(l="".concat(l,".png"));var v=l;if(!v){var g,A=r;v="".concat((A==null||(g=A.title)===null||g===void 0?void 0:g.text)||(i==null?void 0:i.name),".png")}var k=(c=t.current)===null||c===void 0?void 0:c.canvas.cfg.el.toDataURL(u,h),F=document.createElement("a");F.href=k,F.download=v,document.body.appendChild(F),F.click(),document.body.removeChild(F),F=null}catch(Y){console.log(Y)}},o=function(){var l,u,h,c,v;if((l=r.statistic)===null||l===void 0?void 0:l.htmlContent){var g=r.statistic.htmlContent;r.statistic.htmlContent=function(){var k=g.apply(void 0,arguments);return _s.isType(k,"String")||_s.isType(k,"Number")||_s.isType(k,"HTMLDivElement")?k:xh(k)}}if(((u=r.tooltip)===null||u===void 0||(h=u.custom)===null||h===void 0?void 0:h.container)&&(r.tooltip.custom.container=xh(r.tooltip.custom.container)),(c=r.tooltip)===null||c===void 0||(v=c.custom)===null||v===void 0?void 0:v.customContent){var A=r.tooltip.custom.customContent;r.tooltip.custom.customContent=function(k,F){var Y=A(k,F)||"";return _s.isType(Y,"HTMLDivElement")?Y:xh(Y)}}};return(0,W.useEffect)(function(){t.current&&(r.onlyChangeData?t.current.changeData((r==null?void 0:r.data)||[]):(o(),t.current.updateConfig(r),t.current.render()))},[(r==null?void 0:r.memoData)?r.memoData:JSON.stringify(r)]),(0,W.useEffect)(function(){if(!e.current)return function(){return null};o();var s=new i(e.current,SD({},r));return s.__proto__.toDataURL=function(l,u){return n(l,u)},s.__proto__.downloadImage=function(l,u,h){return a(l,u,h)},s.render(),t.current=_s.clone(s),function(){return s.destroy()}},[]),{chart:t,container:e,toDataURL:n,downloadImage:a}}var MD=W.createContext({});function Hl(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hl=function(t){return typeof t}:Hl=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(i)}function ED(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}function f0(i,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(i,e.key,e)}}function AD(i,r,t){return r&&f0(i.prototype,r),t&&f0(i,t),i}function _D(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),r&&bh(i,r)}function bh(i,r){return bh=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},bh(i,r)}function TD(i){var r=OD();return function(){var e=Wl(i),n;if(r){var a=Wl(this).constructor;n=Reflect.construct(e,arguments,a)}else n=e.apply(this,arguments);return PD(this,n)}}function PD(i,r){return r&&(Hl(r)==="object"||typeof r=="function")?r:LD(i)}function LD(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function OD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}function Wl(i){return Wl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wl(i)}var ID=function(i){_D(t,i);var r=TD(t);function t(){var e;return ED(this,t),e=r.apply(this,arguments),e.state={hasError:!1},e.renderError=function(n){switch(n){default:return W.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},e}return AD(t,[{key:"render",value:function(){return this.state.hasError?this.renderError(this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{hasError:!0,error:n}}},{key:"getDerivedStateFromProps",value:function(n,a){return a.children!==n.children?{children:n.children,hasError:!1,error:void 0}:null}}]),t}(W.Component),zr=ID,_Y=MD.Provider;function kD(i,r){if(i==null)return{};var t=BD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function BD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var h0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=kD(i,["chartRef","style","className"]),s=Vr(lg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});h0.defaultProps=lg.getDefaultOptions();var DD=h0;function FD(i,r){if(i==null)return{};var t=RD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function RD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var c0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=FD(i,["chartRef","style","className"]),s=Vr(Vp,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});c0.defaultProps=Vp.getDefaultOptions();var ND=c0;function GD(i,r){if(i==null)return{};var t=YD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function YD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var v0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=GD(i,["chartRef","style","className"]),s=Vr(Sy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});v0.defaultProps=Sy.getDefaultOptions();var zD=v0;function XD(i,r){if(i==null)return{};var t=VD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function VD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var d0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=XD(i,["chartRef","style","className"]),s=Vr(My,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});d0.defaultProps=My.getDefaultOptions();var HD=d0;function WD(i,r){if(i==null)return{};var t=jD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function jD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var UD=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=WD(i,["chartRef","style","className"]),s=Vr(wB,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))}),ZD=UD;function KD(i,r){if(i==null)return{};var t=$D(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $D(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var p0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=KD(i,["chartRef","style","className"]),s=Vr(mg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});p0.defaultProps=mg.getDefaultOptions();var g0=p0;function QD(i,r){if(i==null)return{};var t=JD(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function JD(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var y0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=QD(i,["chartRef","style","className"]),s=Vr(r0,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});y0.defaultProps=r0.getDefaultOptions();var qD=y0;function tF(i,r){if(i==null)return{};var t=eF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function eF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var m0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=tF(i,["chartRef","style","className"]),s=Vr(Yg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});m0.defaultProps=Yg.getDefaultOptions();var rF=m0;function nF(i,r){if(i==null)return{};var t=iF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function iF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var x0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=nF(i,["chartRef","style","className"]),s=Vr(dy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});x0.defaultProps=dy.getDefaultOptions();var b0=x0;function aF(i,r){if(i==null)return{};var t=oF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function oF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var w0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=aF(i,["chartRef","style","className"]),s=Vr(qy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});w0.defaultProps=qy.getDefaultOptions();var sF=w0;function lF(i,r){if(i==null)return{};var t=uF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function uF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var S0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=lF(i,["chartRef","style","className"]),s=Vr(ky,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});S0.defaultProps=ky.getDefaultOptions();var fF=S0;function hF(i,r){if(i==null)return{};var t=cF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function cF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var vF=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=hF(i,["chartRef","style","className"]),s=Vr(wI,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))}),dF=vF;function pF(i,r){if(i==null)return{};var t=gF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function gF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var C0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=pF(i,["chartRef","style","className"]),s=Vr(Oy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});C0.defaultProps=Oy.getDefaultOptions();var M0=C0;function yF(i,r){if(i==null)return{};var t=mF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function mF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var E0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=yF(i,["chartRef","style","className"]),s=Vr(Zp,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});E0.defaultProps=Zp.getDefaultOptions();var xF=E0;function bF(i,r){if(i==null)return{};var t=wF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function wF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var A0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=bF(i,["chartRef","style","className"]),s=Vr(bg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});A0.defaultProps=bg.getDefaultOptions();var SF=A0;function CF(i,r){if(i==null)return{};var t=MF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function MF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var _0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=CF(i,["chartRef","style","className"]),s=Vr(a0,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});_0.defaultProps=a0.getDefaultOptions();var EF=_0;function AF(i,r){if(i==null)return{};var t=_F(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function _F(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var T0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=AF(i,["chartRef","style","className"]),s=Vr(ty,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});T0.defaultProps=ty.getDefaultOptions();var TF=T0;function PF(i,r){if(i==null)return{};var t=LF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function LF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var P0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=PF(i,["chartRef","style","className"]),s=Vr(Hg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});P0.defaultProps=Hg.getDefaultOptions();var OF=P0;function IF(i,r){if(i==null)return{};var t=kF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function kF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var L0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=IF(i,["chartRef","style","className"]),s=Vr(fy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});L0.defaultProps=fy.getDefaultOptions();var BF=L0;function DF(i,r){if(i==null)return{};var t=FF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function FF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var O0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=DF(i,["chartRef","style","className"]),s=Vr(Cp,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});O0.defaultProps=Cp.getDefaultOptions();var I0=O0;function RF(i,r){if(i==null)return{};var t=NF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function NF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var k0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=RF(i,["chartRef","style","className"]),s=Vr(ly,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});k0.defaultProps=ly.getDefaultOptions();var B0=k0;function GF(i,r){if(i==null)return{};var t=YF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function YF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var D0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=GF(i,["chartRef","style","className"]),s=Vr(Dy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});D0.defaultProps=Dy.getDefaultOptions();var zF=D0;function XF(i,r){if(i==null)return{};var t=VF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function VF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var F0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=XF(i,["chartRef","style","className"]),s=Vr(dg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});F0.defaultProps=dg.getDefaultOptions();var HF=F0;function WF(i,r){if(i==null)return{};var t=jF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function jF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var R0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=WF(i,["chartRef","style","className"]),s=Vr(Qp,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});R0.defaultProps=Qp.getDefaultOptions();var UF=R0;function ZF(i,r){if(i==null)return{};var t=KF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function KF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var N0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=ZF(i,["chartRef","style","className"]),s=Vr(Og,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});N0.defaultProps=Og.getDefaultOptions();var $F=N0;function QF(i,r){if(i==null)return{};var t=JF(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function JF(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var G0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=QF(i,["chartRef","style","className"]),s=Vr(Rg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});G0.defaultProps=Rg.getDefaultOptions();var qF=G0;function t5(i,r){if(i==null)return{};var t=e5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function e5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Y0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=t5(i,["chartRef","style","className"]),s=Vr(Yy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});Y0.defaultProps=Yy.getDefaultOptions();var z0=Y0;function r5(i,r){if(i==null)return{};var t=n5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function n5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var X0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=r5(i,["chartRef","style","className"]),s=Vr(ry,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});X0.defaultProps=ry.getDefaultOptions();var V0=X0;function i5(i,r){if(i==null)return{};var t=a5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function a5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var H0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=i5(i,["chartRef","style","className"]),s=Vr(ng,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});H0.defaultProps=ng.getDefaultOptions();var o5=H0;function s5(i,r){if(i==null)return{};var t=l5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function l5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var W0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=s5(i,["chartRef","style","className"]),s=Vr(Tg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});W0.defaultProps=Tg.getDefaultOptions();var u5=W0;function f5(i,r){if(i==null)return{};var t=h5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function h5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var j0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=f5(i,["chartRef","style","className"]),s=Vr(Xy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});j0.defaultProps=Xy.getDefaultOptions();var U0=j0;function c5(i,r){if(i==null)return{};var t=v5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function v5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Z0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=c5(i,["chartRef","style","className"]),s=Vr(jg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});Z0.defaultProps=jg.getDefaultOptions();var d5=Z0;function p5(i,r){if(i==null)return{};var t=g5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function g5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var K0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=p5(i,["chartRef","style","className"]),s=Vr(by,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});K0.defaultProps=by.getDefaultOptions();var y5=K0;function m5(i,r){if(i==null)return{};var t=x5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function x5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var $0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=m5(i,["chartRef","style","className"]),s=Vr(hg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});$0.defaultProps=hg.getDefaultOptions();var b5=$0;function w5(i,r){if(i==null)return{};var t=S5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function S5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=w5(i,["chartRef","style","className"]),s=Vr(Wp,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});Q0.defaultProps=Wp.getDefaultOptions();var C5=Q0;function M5(i,r){if(i==null)return{};var t=E5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function E5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var J0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=M5(i,["chartRef","style","className"]),s=Vr(Cg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});J0.defaultProps=Cg.getDefaultOptions();var A5=J0;function _5(i,r){if(i==null)return{};var t=T5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function T5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var q0=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=_5(i,["chartRef","style","className"]),s=Vr(l0,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});q0.defaultProps=l0.getDefaultOptions();var P5=q0;function L5(i,r){if(i==null)return{};var t=O5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function O5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var tm=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=L5(i,["chartRef","style","className"]),s=Vr(Jg,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});tm.defaultProps=Jg.getDefaultOptions();var I5=tm;function k5(i,r){if(i==null)return{};var t=B5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function B5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var em=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=k5(i,["chartRef","style","className"]),s=Vr(Fp,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});em.defaultProps=Fp.getDefaultOptions();var D5=em;function F5(i,r){if(i==null)return{};var t=R5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function R5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var rm=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=F5(i,["chartRef","style","className"]),s=Vr(jy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});rm.defaultProps=jy.getDefaultOptions();var nm=rm;function N5(i,r){if(i==null)return{};var t=G5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function G5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var im=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=N5(i,["chartRef","style","className"]),s=Vr(Hy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});im.defaultProps=Hy.getDefaultOptions();var am=im;function Y5(i,r){if(i==null)return{};var t=z5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function z5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var om=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=Y5(i,["chartRef","style","className"]),s=Vr(Zy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});om.defaultProps=Zy.getDefaultOptions();var X5=om;function V5(i,r){if(i==null)return{};var t=H5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function H5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var sm=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=V5(i,["chartRef","style","className"]),s=Vr(Bp,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});sm.defaultProps=Bp.getDefaultOptions();var W5=sm;function j5(i,r){if(i==null)return{};var t=U5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function U5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var lm=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=j5(i,["chartRef","style","className"]),s=Vr(yy,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))});lm.defaultProps=yy.getDefaultOptions();var Z5=lm;function K5(i,r){if(i==null)return{};var t=$5(i,r),e,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)e=a[n],!(r.indexOf(e)>=0)&&(!Object.prototype.propertyIsEnumerable.call(i,e)||(t[e]=i[e]))}return t}function $5(i,r){if(i==null)return{};var t={},e=Object.keys(i),n,a;for(a=0;a<e.length;a++)n=e[a],!(r.indexOf(n)>=0)&&(t[n]=i[n]);return t}var Q5=(0,W.forwardRef)(function(i,r){var t=i.chartRef,e=i.style,n=e===void 0?{}:e,a=i.className,o=K5(i,["chartRef","style","className"]),s=Vr(oI,o),l=s.chart,u=s.container;return(0,W.useEffect)(function(){t&&(t.current=l.current)},[l.current]),(0,W.useImperativeHandle)(r,function(){return{getChart:function(){return l.current}}}),W.createElement(zr,null,W.createElement("div",{className:a,style:n,ref:u}))}),um=Q5,J5={i8:"3.8.5"},Fn=d(50229),q5={getDefaultCfg:function(){return{}},getEvents:function(){return{}},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(r){var t=this,e=this.events;this.graph=r,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!0),(0,dn.default)(e,function(n,a){r.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(r){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&r.get("canvas").set("draggable",!1),(0,dn.default)(t,function(e,n){r.off(n,e)})},get:function(r){return this[r]},set:function(r,t){return this[r]=t,this}},tR=function(){function i(){}return i.registerBehavior=function(r,t){if(!t)throw new Error("please specify handler for this behavior: "+r);var e=(0,Fn.d9)(q5);Object.assign(e,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,Fn.S6)(l,function(h,c){u[c]=(0,Fn.Ko)(s,h)}),this.events=u)};n.prototype=e,i.types[r]=n},i.hasBehavior=function(r){return!!i.types[r]},i.getBehavior=function(r){return i.types[r]},i.types={},i}(),wh=tR,Sh;(function(i){i.CLICK="click",i.DBLCLICK="dblclick",i.MOUSEDOWN="mousedown",i.MOUDEUP="mouseup",i.CONTEXTMENU="contextmenu",i.MOUSEENTER="mouseenter",i.MOUSEOUT="mouseout",i.MOUSEOVER="mouseover",i.MOUSEMOVE="mousemove",i.MOUSELEAVE="mouseleave",i.DRAGSTART="dragstart",i.DRAGEND="dragend",i.DRAG="drag",i.DRAGENTER="dragenter",i.DRAGLEAVE="dragleave",i.DRAGOVER="dragover",i.DRAGOUT="dragout",i.DDROP="drop",i.KEYUP="keyup",i.KEYDOWN="keydown",i.WHEEL="wheel",i.FOCUS="focus",i.BLUR="blur",i.TOUCHSTART="touchstart",i.TOUCHMOVE="touchmove",i.TOUCHEND="touchend",i.NODE_CONTEXTMENU="node:contextmenu",i.NODE_CLICK="node:click",i.NODE_DBLCLICK="node:dblclick",i.NODE_MOUSEDOWN="node:mousedown",i.NODE_MOUSEUP="node:mouseup",i.NODE_MOUSEENTER="node:mouseenter",i.NODE_MOUSELEAVE="node:mouseleave",i.NODE_MOUSEMOVE="node:mousemove",i.NODE_MOUSEOUT="node:mouseout",i.NODE_MOUSEOVER="node:mouseover",i.NODE_DROP="node:drop",i.NODE_DRAGOVER="node:dragover",i.NODE_DRAGENTER="node:dragenter",i.NODE_DRAGLEAVE="node:dragleave",i.NODE_DRAGSTART="node:dragstart",i.NODE_DRAG="node:drag",i.NODE_DRAGEND="node:dragend",i.COMBO_CONTEXTMENU="combo:contextmenu",i.COMBO_CLICK="combo:click",i.COMBO_DBLCLICK="combo:dblclick",i.COMBO_MOUSEDOWN="combo:mousedown",i.COMBO_MOUSEUP="combo:mouseup",i.COMBO_MOUSEENTER="combo:mouseenter",i.COMBO_MOUSELEAVE="combo:mouseleave",i.COMBO_MOUSEMOVE="combo:mousemove",i.COMBO_MOUSEOUT="combo:mouseout",i.COMBO_MOUSEOVER="combo:mouseover",i.COMBO_DROP="combo:drop",i.COMBO_DRAGOVER="combo:dragover",i.COMBO_DRAGENTER="combo:dragenter",i.COMBO_DRAGLEAVE="combo:dragleave",i.COMBO_DRAGSTART="combo:dragstart",i.COMBO_DRAG="combo:drag",i.COMBO_DRAGEND="combo:dragend",i.EDGE_CONTEXTMENU="edge:contextmenu",i.EDGE_CLICK="edge:click",i.EDGE_DBLCLICK="edge:dblclick",i.EDGE_MOUSEDOWN="edge:mousedown",i.EDGE_MOUSEUP="edge:mouseup",i.EDGE_MOUSEENTER="edge:mouseenter",i.EDGE_MOUSELEAVE="edge:mouseleave",i.EDGE_MOUSEMOVE="edge:mousemove",i.EDGE_MOUSEOUT="edge:mouseout",i.EDGE_MOUSEOVER="edge:mouseover",i.EDGE_DROP="edge:drop",i.EDGE_DRAGOVER="edge:dragover",i.EDGE_DRAGENTER="edge:dragenter",i.EDGE_DRAGLEAVE="edge:dragleave",i.CANVAS_CONTEXTMENU="canvas:contextmenu",i.CANVAS_CLICK="canvas:click",i.CANVAS_DBLCLICK="canvas:dblclick",i.CANVAS_MOUSEDOWN="canvas:mousedown",i.CANVAS_MOUSEUP="canvas:mouseup",i.CANVAS_MOUSEENTER="canvas:mouseenter",i.CANVAS_MOUSELEAVE="canvas:mouseleave",i.CANVAS_MOUSEMOVE="canvas:mousemove",i.CANVAS_MOUSEOUT="canvas:mouseout",i.CANVAS_MOUSEOVER="canvas:mouseover",i.CANVAS_DROP="canvas:drop",i.CANVAS_DRAGENTER="canvas:dragenter",i.CANVAS_DRAGLEAVE="canvas:dragleave",i.CANVAS_DRAGSTART="canvas:dragstart",i.CANVAS_DRAG="canvas:drag",i.CANVAS_DRAGEND="canvas:dragend",i.BEFORERENDER="beforerender",i.AFTERRENDER="afterrender",i.BEFOREADDITEM="beforeadditem",i.AFTERADDITEM="afteradditem",i.BEFOREREMOVEITEM="beforeremoveitem",i.AFTERREMOVEITEM="afterremoveitem",i.BEFOREUPDATEITEM="beforeupdateitem",i.AFTERUPDATEITEM="afterupdateitem",i.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",i.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",i.BEFOREITEMSTATECHANGE="beforeitemstatechange",i.AFTERITEMSTATECHANGE="afteritemstatechange",i.BEFOREITEMREFRESH="beforeitemrefresh",i.AFTERITEMREFRESH="afteritemrefresh",i.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",i.AFTERITEMSTATESCLEAR="afteritemstatesclear",i.BEFOREMODECHANGE="beforemodechange",i.AFTERMODECHANGE="aftermodechange",i.BEFORELAYOUT="beforelayout",i.AFTERLAYOUT="afterlayout",i.BEFORECREATEEDGE="beforecreateedge",i.AFTERCREATEEDGE="aftercreateedge",i.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",i.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",i.BEFOREGRAPHREFRESH="beforegraphrefresh",i.AFTERGRAPHREFRESH="aftergraphrefresh",i.BEFOREANIMATE="beforeanimate",i.AFTERANIMATE="afteranimate",i.BEFOREPAINT="beforepaint",i.AFTERPAINT="afterpaint",i.GRAPHSTATECHANGE="graphstatechange",i.AFTERACTIVATERELATIONS="afteractivaterelations",i.NODESELECTCHANGE="nodeselectchange",i.TOOLTIPCHANGE="tooltipchange",i.WHEELZOOM="wheelzoom",i.VIEWPORTCHANGE="viewportchange",i.DRAGNODEEND="dragnodeend",i.STACKCHANGE="stackchange"})(Sh||(Sh={}));var pa=d(16185),Zt=d(86031),eR=d(21885),rR=function(i){(0,Zt.__extends)(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.item=e.item,n.canvasX=e.canvasX,n.canvasY=e.canvasY,n.wheelDelta=e.wheelDelta,n.detail=e.detail,n}return r}(eR.Z),Ch=function(r){var t=0,e=0,n=0,a=0;if((0,pa.default)(r))t=e=n=a=r;else if((0,on.default)(r)){var o=parseInt(r,10);t=e=n=a=o}else(0,pi.default)(r)&&(t=r[0],n=(0,di.default)(r[1])?r[0]:r[1],a=(0,di.default)(r[2])?r[0]:r[2],e=(0,di.default)(r[3])?n:r[3]);return[t,n,a,e]},jl=function(r){var t=new rR(r.type,r);return t.clientX=r.clientX,t.clientY=r.clientY,t.x=r.x,t.y=r.y,t.target=r.target,t.currentTarget=r.currentTarget,t.bubbles=!0,t.item=r.item,t},fm=function(r){if(!r)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(r[n]!==e[n])return!0;return!1},Wa=function(r){return Number.isNaN(Number(r))},hm=function(r){for(var t=Infinity,e=-Infinity,n=Infinity,a=-Infinity,o=0;o<r.length;o++){var s=r[o],l=s.getBBox(),u=l.minX,h=l.minY,c=l.maxX,v=l.maxY;u<t&&(t=u),h<n&&(n=h),c>e&&(e=c),v>a&&(a=v)}var g=Math.floor(t),A=Math.floor(n),k=Math.ceil(e)-Math.floor(t),F=Math.ceil(a)-Math.floor(n);return{x:g,y:A,width:k,height:F,minX:t,minY:n,maxX:e,maxY:a}},nR=function(r,t){t===void 0&&(t=15);for(var e=r.length,n=t*2,a=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],o={},s=[],l={},u=0;u<e;u++){var h=r[u],c=h.source,v=h.target,g=c+"-"+v;if(!s[u]){o[g]||(o[g]=[]),s[u]=!0,o[g].push(h);for(var A=0;A<e;A++)if(u!==A){var k=r[A],F=k.source,Y=k.target;s[A]||(c===Y&&v===F?(o[g].push(k),s[A]=!0,l[F+"|"+Y+"|"+(o[g].length-1)]=!0):c===F&&v===Y&&(o[g].push(k),s[A]=!0))}}}for(var N in o)for(var st=o[N],lt=st.length,At=0;At<lt;At++){var zt=st[At];if(zt.source===zt.target){zt.type="loop",zt.loopCfg={position:a[At%8],dist:Math.floor(At/8)*20+50};continue}zt.type="quadratic";var Wt=(At%2==0?1:-1)*(l[zt.source+"|"+zt.target+"|"+At]?-1:1);lt%2==1?zt.curveOffset=Wt*Math.ceil(At/2)*n:zt.curveOffset=Wt*(Math.floor(At/2)*n+t)}return r},cm=Math.abs,iR=10,aR=["shift","ctrl","alt","control"],oR={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",mousedown:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp",mouseup:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(r){var t=this.origin,e=+r.clientX,n=+r.clientY;if(!(Wa(e)||Wa(n))){var a=e-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:e,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox();(u.minX<=s+this.scalableRange&&u.minX+a>s+this.scalableRange||u.maxX+this.scalableRange>=0&&u.maxX+this.scalableRange+a<0)&&(a=0),(u.minY<=l+this.scalableRange&&u.minY+o>l+this.scalableRange||u.maxY+this.scalableRange>=0&&u.maxY+this.scalableRange+o<0)&&(o=0),this.graph.translate(a,o)}},onMouseDown:function(r){var t=this,e=r.originalEvent;if(!(e&&e.button!==0)&&!(r.name!==Sh.TOUCHSTART&&window&&window.event&&typeof window!="undefined"&&!window.event.buttons&&!window.event.button)&&!(t.keydown||r.shape)&&(t.origin={x:r.clientX,y:r.clientY},t.dragging=!1,this.enableOptimize)){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(N){N.hide()})}for(var u=n.getNodes(),h=0,c=u.length;h<c;h++)for(var v=u[h].getContainer(),g=v.get("children"),A=0,k=g;A<k.length;A++){var F=k[A],Y=F.get("isKeyShape");Y||F.hide()}}},onMouseMove:function(r){var t=this.graph;if(!(this.keydown||r.shape)&&(r=jl(r),!!this.origin)){if(this.dragging)r.type="drag",t.emit("canvas:drag",r);else{if(cm(this.origin.x-r.clientX)+cm(this.origin.y-r.clientY)<iR)return;this.shouldBegin.call(this,r)&&(r.type="dragstart",t.emit("canvas:dragstart",r),this.dragging=!0)}this.shouldUpdate.call(this,r)&&this.updateViewport(r)}},onMouseUp:function(r){var t=this.graph;if(!(this.keydown||r.shape)){if(this.enableOptimize){for(var e=t.getEdges(),n=0,a=e.length;n<a;n++){var o=e[n].get("group").get("children");!o||o.forEach(function(F){F.show()})}for(var s=t.getNodes(),l=0,u=s.length;l<u;l++)for(var h=s[l].getContainer(),c=h.get("children"),v=0,g=c;v<g.length;v++){var A=g[v],k=A.get("isKeyShape");k||A.show()}}if(!this.dragging){this.origin=null;return}r=jl(r),this.shouldEnd.call(this,r)&&this.updateViewport(r),r.type="dragend",t.emit("canvas:dragend",r),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(r){var t=this,e=r.key;!e||(aR.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},sR=d(6767),Ul=d.n(sR),lR=d(17621),Zl=d.n(lR),Kl=2,vm=.16,uR=.05,fR=.05,hR=.15,dm=5,pm=4,cR=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function gm(i,r,t){var e;return Math.round(i.h)>=60&&Math.round(i.h)<=240?e=t?Math.round(i.h)-Kl*r:Math.round(i.h)+Kl*r:e=t?Math.round(i.h)+Kl*r:Math.round(i.h)-Kl*r,e<0?e+=360:e>=360&&(e-=360),e}function ym(i,r,t){if(i.h===0&&i.s===0)return i.s;var e;return t?e=i.s-vm*r:r===pm?e=i.s+vm:e=i.s+uR*r,e>1&&(e=1),t&&r===dm&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function mm(i,r,t){var e;return t?e=i.v+fR*r:e=i.v-hR*r,e>1&&(e=1),Number(e.toFixed(2))}function Mh(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=Zl()(i),n=dm;n>0;n-=1){var a=e.toHsv(),o=Zl()({h:gm(a,n,!0),s:ym(a,n,!0),v:mm(a,n,!0)}).toHexString();t.push(o)}t.push(e.toHexString());for(var s=1;s<=pm;s+=1){var l=e.toHsv(),u=Zl()({h:gm(l,s),s:ym(l,s),v:mm(l,s)}).toHexString();t.push(u)}return r.theme==="dark"?cR.map(function(h){var c=h.index,v=h.opacity,g=Zl().mix(r.backgroundColor||"#141414",t[c],v*100).toHexString();return g}):t}var Eh={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Oi={},Ah={};Object.keys(Eh).forEach(function(i){Oi[i]=Mh(Eh[i]),Oi[i].primary=Oi[i][5],Ah[i]=Mh(Eh[i],{theme:"dark",backgroundColor:"#141414"}),Ah[i].primary=Ah[i][5]});var TY=Oi.red,PY=Oi.volcano,LY=Oi.gold,OY=Oi.orange,IY=Oi.yellow,kY=Oi.lime,BY=Oi.green,DY=Oi.cyan,FY=Oi.blue,RY=Oi.geekblue,NY=Oi.purple,GY=Oi.magenta,YY=Oi.grey,Ea=function(r,t,e){var n=Ul()(r),a=Ul()(t);return Ul()([(1-e)*n.color[0]+e*a.color[0],(1-e)*n.color[1]+e*a.color[1],(1-e)*n.color[2]+e*a.color[2]]).rgb()},xm=function(r,t,e,n){t===void 0&&(t="#fff"),e===void 0&&(e="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=Ea(t,r,.05).rgb().toString(),o=Ea(t,n,.02).rgb().toString(),s=Ea(t,n,.05).rgb().toString(),l=Ea(t,n,.1).rgb().toString(),u=Ea(t,n,.2).rgb().toString(),h=Ea(t,n,.3).rgb().toString(),c=Mh(r,{theme:e,backgroundColor:t}),v=Ul()(r).hex().toLowerCase(),g=c.indexOf(v),A=r;return g!==-1&&(A=c[g+1]),{mainStroke:r,mainFill:Ea(t,r,.1).rgb().toString(),activeStroke:r,activeFill:a,inactiveStroke:Ea(t,r,.4).rgb().toString(),inactiveFill:a,selectedStroke:r,selectedFill:t,highlightStroke:A,highlightFill:Ea(t,r,.2).rgb().toString(),disableStroke:h,disableFill:s,edgeMainStroke:h,edgeActiveStroke:r,edgeInactiveStroke:u,edgeSelectedStroke:r,edgeHighlightStroke:r,edgeDisableStroke:l,comboMainStroke:h,comboMainFill:o,comboActiveStroke:r,comboActiveFill:a,comboInactiveStroke:h,comboInactiveFill:o,comboSelectedStroke:r,comboSelectedFill:o,comboHighlightStroke:A,comboHighlightFill:o,comboDisableStroke:u,comboDisableFill:s}},vR="rgb(95, 149, 255)",dR="rgb(255, 255, 255)",bm="rgb(0, 0, 0)",qr=xm(vR,dR),ke={version:"3.8.5",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",customGroupContainerClassName:"custom-group-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:qr.mainStroke,fill:qr.mainFill},size:20,color:qr.mainStroke,linkPoints:{size:8,lineWidth:1,fill:qr.activeFill,stroke:qr.activeStroke}},nodeStateStyles:{active:{fill:qr.activeFill,stroke:qr.activeStroke,lineWidth:2,shadowColor:qr.mainStroke,shadowBlur:10},selected:{fill:qr.selectedFill,stroke:qr.selectedStroke,lineWidth:4,shadowColor:qr.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:qr.highlightFill,stroke:qr.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:qr.inactiveFill,stroke:qr.inactiveStroke,lineWidth:1},disable:{fill:qr.disableFill,stroke:qr.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:bm,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:qr.edgeMainStroke,lineAppendWidth:2},color:qr.edgeMainStroke},edgeStateStyles:{active:{stroke:qr.edgeActiveStroke,lineWidth:1},selected:{stroke:qr.edgeSelectedStroke,lineWidth:2,shadowColor:qr.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:qr.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:qr.edgeInactiveStroke,lineWidth:1},disable:{stroke:qr.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:bm,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:qr.comboMainFill,lineWidth:1,stroke:qr.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:qr.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:qr.comboActiveStroke,lineWidth:1,fill:qr.comboActiveFill},selected:{stroke:qr.comboSelectedStroke,lineWidth:2,fill:qr.comboSelectedFill,shadowColor:qr.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:qr.comboHighlightStroke,lineWidth:2,fill:qr.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:qr.comboInactiveStroke,fill:qr.comboInactiveFill,lineWidth:1},disable:{stroke:qr.comboDisableStroke,fill:qr.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},pR={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(r){if(!this.origin||!r||r.destroyed)return!1;var t=r.getType();return t==="combo"},onDragStart:function(r){var t=this;if(!!this.shouldBegin.call(this,r)){var e=r.item;if(!(!e||e.destroyed||e.hasLocked())){var n=e.getContainer();n.set("capture",!1);var a=r.target;if(a){var o=a.get("isAnchorPoint");if(o)return}var s=this.graph;this.targets=[],this.targetCombo=null;var l=s.findAllByState("node",this.selectedState),u=e.get("id"),h=l.filter(function(v){var g=v.get("id");return u===g});h.length===0?this.targets.push(e):l.length>1?l.forEach(function(v){var g=v.hasLocked();g||t.targets.push(v)}):this.targets.push(e);var c=[];this.targets.forEach(function(v){c.push((0,Fn.d9)(v.getModel()))}),this.set("beforeDragNodes",c),this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}}},onDrag:function(r){var t=this;!this.origin||!this.shouldUpdate(this,r)||(this.get("enableDelegate")?this.updateDelegate(r):this.targets.map(function(e){t.update(e,r)}))},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){var t=r.item;if(t){var e=t.getContainer();e.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(r);var n=this.graph;if(n.get("enabledStack")){var a={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(o){a.after.nodes.push(o.getModel())}),n.pushStack("update",(0,Fn.d9)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(r){var t=r.item;if(!!this.validationCombo(t)){this.updatePositions(r);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&e.updateComboTree(a,n.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(r){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(r),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var n=e.getModel();n.comboId&&t.updateComboTree(e)}))},onDropNode:function(r){if(!(!this.targets||this.targets.length===0)){var t=this,e=r.item;this.updatePositions(r);var n=t.graph,a=e.getModel().comboId;if(a){var o=n.findById(a);t.comboActiveState&&n.setItemState(o,t.comboActiveState,!1),this.targets.map(function(s){var l=s.getModel();a!==l.comboId&&n.updateComboTree(s,a)}),n.updateCombo(o)}else this.targets.map(function(s){var l=s.getModel();l.comboId&&n.updateComboTree(s)});n.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(r){var t=r.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(r){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&this.targets.map(function(e){return t.update(e,r)})},update:function(r,t){var e=this.origin,n=r.get("model"),a=r.get("id");this.point[a]||(this.point[a]={x:n.x||0,y:n.y||0});var o=t.x-e.x+this.point[a].x,s=t.y-e.y+this.point[a].y,l={x:o,y:s};this.get("updateEdge")?this.graph.updateItem(r,l,!1):r.updatePosition(l)},updateDelegate:function(r){var t=this.graph;if(this.delegateRect){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:v,y:g})}else{var e=this.graph.get("group"),n=(0,Fn.b$)({},ke.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(r),o=a.x,s=a.y,l=a.width,u=a.height,h=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:h,minY:c},this.delegateRect=e.addShape("rect",{attrs:(0,Zt.__assign)({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var t=this.graph,e=t.findAllByState("node",this.selectedState);e.length===0&&e.push(r.item);for(var n=Infinity,a=-Infinity,o=Infinity,s=-Infinity,l=0;l<e.length;l++){var u=e[l],h=u.getBBox(),c=h.minX,v=h.minY,g=h.maxX,A=h.maxY;c<n&&(n=c),v<o&&(o=v),g>a&&(a=g),A>s&&(s=A)}var k=Math.floor(n),F=Math.floor(o),Y=Math.ceil(a)-Math.floor(n),N=Math.ceil(s)-Math.floor(o);return{x:k,y:F,width:Y,height:N,minX:n,minY:o}}},gR={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(r){var t=r.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(r.item,{event:r,action:"activate"})){for(var n=this,a=this.activeState,o=this.inactiveState,s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c],g=v.hasState("selected");n.resetSelected&&g&&e.setItemState(v,"selected",!1),e.setItemState(v,a,!1),o&&e.setItemState(v,o,!0)}for(var c=0;c<h;c++){var A=l[c];e.setItemState(A,a,!1),o&&e.setItemState(A,o,!0)}o&&e.setItemState(t,o,!1),e.setItemState(t,a,!0);for(var k=t.getEdges(),F=k.length,c=0;c<F;c++){var A=k[c],Y=void 0;A.getSource()===t?Y=A.getTarget():Y=A.getSource(),o&&e.setItemState(Y,o,!1),e.setItemState(Y,a,!0),e.setItemState(A,o,!1),e.setItemState(A,a,!0),A.toFront()}e.emit("afteractivaterelations",{item:r.item,action:"activate"})}},clearActiveState:function(r){var t=this,e=t.get("graph");if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){var n=this.activeState,a=this.inactiveState,o=e.get("autoPaint");e.setAutoPaint(!1);for(var s=e.getNodes(),l=e.getEdges(),u=s.length,h=l.length,c=0;c<u;c++){var v=s[c];e.clearItemStates(v,[n,a])}for(var c=0;c<h;c++){var g=l[c];e.clearItemStates(g,[n,a,"deactivate"])}e.paint(),e.setAutoPaint(o),e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}},clearAllItemStates:function(r){var t=this,e=t.graph;if(!!t.shouldUpdate(r.item,{event:r,action:"deactivate"})){for(var n=this.activeState,a=this.inactiveState,o=e.getNodes(),s=e.getEdges(),l=o.length,u=s.length,h=0;h<l;h++){var c=o[h];e.clearItemStates(c,[n,a])}for(var h=0;h<u;h++){var v=s[h];e.clearItemStates(v,[n,a,"deactivate"])}e.emit("afteractivaterelations",{item:r.item||t.get("item"),action:"deactivate"})}}},$l=Math.min,wm=Math.max,Sm=Math.abs,Cm="shift",yR=["drag","shift","ctrl","alt","control"],mR={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Cm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return yR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Cm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(r){var t=r.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:r.canvasX,y:r.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(r)},onMouseUp:function(r){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(r),this.dragging=!1)},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(r){var t=this,e=this,n=e.graph,a=e.originPoint,o=e.shouldUpdate,s=this.selectedState,l={x:r.x,y:r.y},u=n.getPointByCanvas(a.x,a.y),h=$l(l.x,u.x),c=wm(l.x,u.x),v=$l(l.y,u.y),g=wm(l.y,u.y),A=[],k=[];n.getNodes().forEach(function(Y){var N=Y.getBBox();if(N.centerX>=h&&N.centerX<=c&&N.centerY>=v&&N.centerY<=g&&o(Y,"select")){A.push(Y);var st=Y.getModel();k.push(st.id),n.setItemState(Y,s,!0)}});var F=[];this.includeEdges&&A.forEach(function(Y){var N=Y.getOutEdges();N.forEach(function(st){var lt=st.getModel(),At=lt.source,zt=lt.target;k.includes(At)&&k.includes(zt)&&o(st,"select")&&(F.push(st),n.setItemState(st,t.selectedState,!0))})}),this.selectedEdges=F,this.selectedNodes=A,this.onSelect&&this.onSelect(A,F),n.emit("nodeselectchange",{selectedItems:{nodes:A,edges:F},select:!0})},createBrush:function(){var r=this,t=r.graph.get("canvas").addShape("rect",{attrs:r.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,t},updateBrush:function(r){var t=this.originPoint;this.brush.attr({width:Sm(r.canvasX-t.x),height:Sm(r.canvasY-t.y),x:$l(r.canvasX,t.x),y:$l(r.canvasY,t.y)})},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},Mm="shift",xR=["shift","ctrl","alt","control"],bR={getDefaultCfg:function(){return{multiple:!0,trigger:Mm,selectedState:"selected"}},getEvents:function(){var r=this;return xR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Mm,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),r.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(r){var t=this,e=r.item;if(!(!e||e.destroyed)){var n=e.getType(),a=this,o=a.graph,s=a.keydown,l=a.multiple,u=a.shouldUpdate,h=a.shouldBegin;if(!!h.call(this,r)){if(!s||!l){var c=o.findAllByState(n,this.selectedState);(0,dn.default)(c,function(A){A!==e&&o.setItemState(A,t.selectedState,!1)})}if(e.hasState(this.selectedState)){u.call(this,r)&&o.setItemState(e,this.selectedState,!1);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!1})}else{u.call(this,r)&&o.setItemState(e,this.selectedState,!0);var v=o.findAllByState("node",this.selectedState),g=o.findAllByState("combo",this.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:v,combos:g},select:!0})}}}},onCanvasClick:function(){var r=this,t=this.graph,e=t.findAllByState("node",this.selectedState);(0,dn.default)(e,function(a){t.setItemState(a,r.selectedState,!1)});var n=t.findAllByState("combo",this.selectedState);(0,dn.default)(n,function(a){t.setItemState(a,r.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()||t.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},$i=d(31502);$i.translate=function(i,r,t){var e=new Array(9);return $i.fromTranslation(e,t),$i.multiply(i,e,r)},$i.rotate=function(i,r,t){var e=new Array(9);return $i.fromRotation(e,t),$i.multiply(i,e,r)},$i.scale=function(i,r,t){var e=new Array(9);return $i.fromScaling(e,t),$i.multiply(i,e,r)},$i.transform=function(i,r){for(var t=[].concat(i),e=0,n=r.length;e<n;e++){var a=r[e];switch(a[0]){case"t":$i.translate(t,t,[a[1],a[2]]);break;case"s":$i.scale(t,t,[a[1],a[2]]);break;case"r":$i.rotate(t,t,a[1]);break;default:break}}return t};var ja=$i,Aa=d(76172);Aa.angle=function(i,r){var t=Aa.dot(i,r)/(Aa.length(i)*Aa.length(r));return Math.acos((0,f.clamp)(t,-1,1))},Aa.direction=function(i,r){return i[0]*r[1]-r[0]*i[1]},Aa.angleTo=function(i,r,t){var e=Aa.angle(i,r),n=Aa.direction(i,r)>=0;return t?n?Math.PI*2-e:e:n?e:Math.PI*2-e},Aa.vertical=function(i,r,t){return t?(i[0]=r[1],i[1]=-1*r[0]):(i[0]=-1*r[1],i[1]=r[0]),i};var An=Aa,wR=d(88395),Em=wR,_a=function(i,r){var t=i?(0,f.clone)(i):[1,0,0,0,1,0,0,0,1];return(0,f.each)(r,function(e){switch(e[0]){case"t":ja.translate(t,t,[e[1],e[2]]);break;case"s":ja.scale(t,t,[e[1],e[2]]);break;case"r":ja.rotate(t,t,e[1]);break;case"m":ja.multiply(t,t,e[1]);break;default:return!1}}),t},Am=.05,SR={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.7,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var r=this.fixSelectedItems;return r.fixState||(r.fixState="selected"),r.fixAll&&(r.fixLineWidth=!0,r.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(r){var t=r.originalEvent.touches,e=t[0],n=t[1];r.preventDefault(),!!n&&(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(r){if(!!this.moveable){r.preventDefault();var t=r.originalEvent.touches,e=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(g,A){return Math.hypot(A.x-g.x,A.y-g.y)},o=a({x:e.pageX,y:e.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var h=this.graph.get("canvas"),c=h.getPointByClient(r.clientX,r.clientY);this.graph.zoomTo(s,{x:c.x,y:c.y}),this.graph.emit("wheelzoom",r)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(r){var t=this,e=this,n=e.graph,a=e.fixSelectedItems;if(!!this.shouldUpdate.call(this,r)){r.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(r.clientX,r.clientY),l=this.get("sensitivity"),u=n.getZoom(),h=u,c=u;r.wheelDelta<0?h=1-Am*l:h=1/(1-Am*l),c=u*h;var v=this.get("minZoom")||n.get("minZoom"),g=this.get("maxZoom")||n.get("maxZoom");if(!(c>g||c<v)){var A=this.get("enableOptimize");if(A){var k=this.get("optimizeZoom"),F=this.get("optimized"),Y=n.getNodes(),N=n.getEdges(),st=Y.length,lt=N.length;if(!F){for(var At=0;At<st;At++){var zt=Y[At];if(!zt.destroyed)for(var Wt=zt.get("group").get("children"),Qt=Wt.length,Vt=0;Vt<Qt;Vt++){var te=Wt[Vt];!te.destoryed&&!te.get("isKeyShape")&&te.hide()}}for(var le=0;le<lt;le++)for(var ae=N[le],Wt=ae.get("group").get("children"),Qt=Wt.length,Vt=0;Vt<Qt;Vt++){var te=Wt[Vt];te.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Se=setTimeout(function(){var Mr=n.getZoom(),Gr=t.get("optimized");if(Gr){t.set("optimized",!1);for(var Qr=0;Qr<st;Qr++){var Sn=Y[Qr],ln=Sn.get("group").get("children"),Ln=ln.length;if(Mr<k)Sn.getKeyShape().show();else for(var Rn=0;Rn<Ln;Rn++){var xi=ln[Rn];xi.get("visible")||xi.show()}}for(var Ai=0;Ai<lt;Ai++){var Un=N[Ai],ln=Un.get("group").get("children"),Ln=ln.length;if(Mr<k)Un.getKeyShape().show();else for(var Rn=0;Rn<Ln;Rn++){var xi=ln[Rn];xi.get("visible")||xi.show()}}}},500);this.set("timeout",Se)}if(u<=1){var _e=void 0,Ee=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){_e=n.findAllByState("node",a.fixState),Ee=n.findAllByState("edge",a.fixState);for(var Fe=u/c,Ne=_e.length,Ye=0;Ye<Ne;Ye++){var zt=_e[Ye],Be=zt.getContainer(),De=zt.getModel(),rr=zt.getOriginStyle(),tr=zt.getStateStyle(a.fixState),lr=zt.get("shapeFactory").getShape(De.shape||De.type).getStateStyle(a.fixState,zt)[a.fixState];if(a.fixAll){if(c<=1){var Xe=(0,f.clone)(Be.getMatrix());Xe||(Xe=[1,0,0,0,1,0,0,0,1]);var ar=zt.getModel(),yr=ar.x,sr=ar.y;ja.translate(Xe,Xe,[-yr,-sr]),ja.scale(Xe,Xe,[Fe,Fe]),ja.translate(Xe,Xe,[yr,sr]),Be.setMatrix(Xe)}}else for(var Wt=Be.get("children"),Qt=Wt.length,Vt=0;Vt<Qt;Vt++){var te=Wt[Vt],or=void 0,xr=void 0;if(a.fixLabel){var Fr=te.get("type");if(Fr==="text"){or=te.attr("fontSize")||12;var hr=tr[te.get("name")],Te=lr[te.get("name")],Ve=hr?hr.fontSize:12,br=Te?Te.fontSize:12,Lr=Ve||br||12;if(c<=1&&te.attr("fontSize",Lr/c),xr)break}}if(a.fixLineWidth&&te.get("isKeyShape")){xr=te.attr("lineWidth")||0;var dr=tr.lineWidth||lr.lineWidth||rr.lineWidth||0;if(c<=1&&te.attr("lineWidth",dr/c),or)break}}}for(var Nr=Ee.length,Br=0;Br<Nr;Br++)for(var ae=Ee[Br],Be=ae.getContainer(),Wt=Be.get("children"),De=ae.getModel(),tr=ae.getStateStyle(a.fixState),lr=ae.get("shapeFactory").getShape(De.shape||De.type).getStateStyle(a.fixState,ae)[a.fixState],Qt=Wt.length,Vt=0;Vt<Qt;Vt++){var te=Wt[Vt],or=void 0,xr=void 0;if(a.fixLabel||a.fixAll){var Fr=te.get("type");if(Fr==="text"){or=te.attr("fontSize")||12;var hr=tr[te.get("name")],Te=lr[te.get("name")],Ve=hr?hr.fontSize:12,br=Te?Te.fontSize:12,Lr=Ve||br||12;if(c<=1&&te.attr("fontSize",Lr/c),xr)break}}if((a.fixLineWidth||a.fixAll)&&te.get("isKeyShape")){xr=te.attr("lineWidth")||0;var dr=tr.lineWidth||lr.lineWidth||1;if(c<=1&&te.attr("lineWidth",dr/c),or)break}}}}n.zoomTo(c,{x:s.x,y:s.y}),n.emit("wheelzoom",r)}}}},xn=d(1513),jn=d(57821),_m={onMouseEnter:function(r){var t=r.item;this.currentTarget=t,this.showTooltip(r),this.graph.emit("tooltipchange",{item:r.item,action:"show"})},onMouseMove:function(r){if(!this.shouldUpdate(r)){this.hideTooltip();return}!this.currentTarget||r.item!==this.currentTarget||this.updatePosition(r)},onMouseLeave:function(r){!this.shouldEnd(r)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(r){var t=this.container;if(!(!r.item||r.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(r.item.get("model"),r);t.innerHTML=e,(0,xn.Z)(this.container,{visibility:"visible"}),this.updatePosition(r)}},hideTooltip:function(){(0,xn.Z)(this.container,{visibility:"hidden"})},updatePosition:function(r){var t=this.get("shouldBegin"),e=this,n=e.width,a=e.height,o=e.container,s=e.graph;if(!t(r)){(0,xn.Z)(o,{visibility:"hidden"});return}var l=s.getPointByClient(r.clientX,r.clientY),u=s.getCanvasByPoint(l.x,l.y),h=u.x,c=u.y,v=o.getBoundingClientRect();h>n/2?h-=v.width:h+=this.offset,c>a/2?c-=v.height:c+=this.offset;var g=h+"px",A=c+"px";(0,xn.Z)(this.container,{left:g,top:A,visibility:"visible"})},createTooltip:function(r){var t=r.get("el");t.style.position="relative";var e=(0,jn.Z)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),(0,xn.Z)(e,{position:"absolute",visibility:"visible"}),this.width=r.get("width"),this.height=r.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},CR=(0,Zt.__assign)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},_m),MR=(0,Zt.__assign)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},_m),Mi=d(90497),ER={getDefaultCfg:function(){return{delegate:!0,delegateStyle:{},delegateShapes:{},delegateShapeBBoxs:{}}},getEvents:function(){return{dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd","canvas:mouseleave":"onOutOfRange"}},onDragStart:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(!!n){var a=t.get("customGroupControll"),o=a.customGroup,s=o[n].nodeGroup;this.targetGroup=s,this.mouseOrigin={x:r.x,y:r.y};for(var l=t.save().groups,u=null,h=0;h<l.length;h++){var c=l[h];if(n===c.id){u=c.parentId;break}}if(u){var v=o[u].nodeGroup;a.setGroupStyle(v.get("keyShape"),"hover")}}},onDrag:function(r){!this.mouseOrigin||this.updateDelegate(r)},onDragEnd:function(r){var t=this.graph,e=r.target.get("groupId");if(this.delegateShapes[e]&&(this.delegateShapeBBox=this.delegateShapes[e].getBBox(),this.delegateShapes[e].remove(),delete this.delegateShapes[e]),!!this.delegateShapeBBox){var n=t.get("customGroupControll"),a=this.delegateShapeBBoxs[e];n.updateGroup(e,a,this.mouseOrigin),this.mouseOrigin=null,this.shapeOrigin=null,n.resetNodePoint(),this.delegateShapeBBox=null}},updateDelegate:function(r){var t=this.graph,e=r.target.get("groupId"),n=this.targetGroup.get("keyShape"),a=this.delegateShapes[e],o=n.getBBox(),s=n.get("type");if(a){var Y=this,N=Y.mouseOrigin,st=Y.shapeOrigin,lt=r.x-N.x,At=r.y-N.y,zt=lt+st.x,Wt=At+st.y;a.attr({x:zt,y:Wt}),this.delegateShapeBBoxs[e]=a.getBBox()}else{var l=t.get("delegateGroup"),u=o.x,h=o.y,c=o.width,v=o.height,g=(0,Zt.__assign)({width:c,height:v},(0,Mi.default)({},ke.delegateStyle,this.delegateStyle));if(s==="circle"){var A=c>v?c/2:v/2,k=u+A,F=h+A;a=l.addShape("circle",{attrs:(0,Zt.__assign)({x:k,y:F,r:A},g),name:"circle-delegate-shape"}),this.shapeOrigin={x:k,y:F}}else a=l.addShape("rect",{attrs:(0,Zt.__assign)({x:u,y:h},g),name:"rect-delegate-shape"}),this.shapeOrigin={x:u,y:h};this.delegateShapes[e]=a,this.delegateShapeBBoxs[e]=a.getBBox()}},onOutOfRange:function(r){var t=this,e=this.graph.get("canvas").get("el"),n=function a(o){o.target!==e&&(t.onDragEnd(r),document.body.removeEventListener("mouseup",a,!0))};this.mouseOrigin&&document.body.addEventListener("mouseup",n,!0)}},AR=document.body,_R={getDefaultCfg:function(){return{updateEdge:!0,delegate:!0,delegateStyle:{},maxMultiple:1.1,minMultiple:1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","canvas:mouseleave":"onOutOfRange",dragover:"onDragOver",dragleave:"onDragLeave"}},onDragOver:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");this.inGroupId=n,a.setGroupStyle(l,"hover")}}},onDragLeave:function(r){var t=this.graph,e=r.target,n=e.get("groupId");if(n&&this.origin){var a=t.get("customGroupControll"),o=a.getDeletageGroupById(n);if(o){var s=o.nodeGroup,l=s.get("keyShape");a.setGroupStyle(l,"default")}}n||(this.inGroupId=null)},onDragStart:function(r){var t=this.graph;if(!!this.shouldBegin.call(this,r)){var e=r.item;this.target=e;var n=e.getModel(),a=n.groupId;if(a){var o=t.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");o.setGroupStyle(u,"hover"),this.inGroupId=a}}this.origin={x:r.x,y:r.y},this.point={},this.originPoint={}}},onDrag:function(r){if(!!this.origin&&!!this.get("shouldUpdate").call(this,r)){this.update(this.target,r,!0);var t=r.item,e=this.graph,n=t.getModel(),a=n.groupId;if(a){var o=e.get("customGroupControll"),s=o.getDeletageGroupById(a);if(s){var l=s.nodeGroup,u=l.get("keyShape");this.inGroupId!==a?o.setGroupStyle(u,"default"):o.setGroupStyle(u,"hover")}}}},onDragEnd:function(r){if(!(!this.origin||!this.shouldEnd.call(this,r))){if(this.shape&&(this.shape.remove(),this.shape=null),this.target){var t=this.target.get("delegateShape");t&&(t.remove(),this.target.set("delegateShape",null))}this.target&&this.update(this.target,r),this.point={},this.origin=null,this.originPoint={},this.target=null,this.setCurrentGroupStyle(r)}},setCurrentGroupStyle:function(r){var t=this.graph,e=r.item,n=e.getModel(),a=n.groupId,o=n.id,s=t.get("customGroupControll"),l=s.customGroup,u=t.get("groupNodes");if(this.inGroupId&&a){var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape"),v=e.getBBox(),g=c.getBBox(),A=v.centerX,k=v.centerY,F=g.minX,Y=g.minY,N=g.maxX,st=g.maxY;if(!(A<N*this.maxMultiple&&A>F*this.minMultiple&&k<st*this.maxMultiple&&k>Y*this.minMultiple)||this.inGroupId!==a){var lt=u[a];u[a]=lt.filter(function(Wt){return Wt!==o}),s.dynamicChangeGroupSize(r,h,c),delete n.groupId}if(this.inGroupId!==a){var At=l[this.inGroupId].nodeGroup;if(!At)return;var zt=At.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,At,zt)}s.setGroupStyle(c,"default")}else if(this.inGroupId&&!a){var At=l[this.inGroupId].nodeGroup;if(!At)return;var c=At.get("keyShape");u[this.inGroupId].indexOf(o)===-1&&u[this.inGroupId].push(o),n.groupId=this.inGroupId,s.dynamicChangeGroupSize(r,At,c)}else if(!this.inGroupId&&a){Object.keys(u).forEach(function(Vt){var te=u[Vt];u[Vt]=te.filter(function(le){return le!==o})});var h=l[a].nodeGroup;if(!h)return;var c=h.get("keyShape");s.dynamicChangeGroupSize(r,h,c),delete n.groupId}this.inGroupId=null},onOutOfRange:function(r){var t=this,e=t.graph.get("canvas").get("el");function n(a){a.target!==e&&(r.item=t.target,t.onDragEnd(r),document.body.removeEventListener("mouseup",n,!0))}t.origin&&AR.addEventListener("mouseup",n,!0)},update:function(r,t,e){var n=this.origin,a=r.get("model"),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;if(e){this.updateDelegate(t,s,l);return}var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(r,u):(r.updatePosition(u),this.graph.paint())},updateDelegate:function(r,t,e){var n=this.graph,a=r.item,o=n.get("groupType"),s=a.get("keyShape").getBBox();if(!this.shape){var l=n.get("delegateGroup"),u=(0,Mi.default)({},ke.delegateStyle,this.delegateStyle);this.target&&(this.shape=l.addShape("rect",{attrs:(0,Zt.__assign)({width:s.width,height:s.height,x:t-s.width/2,y:e-s.height/2},u),name:"delegate-shape"}),this.target.set("delegateShape",this.shape)),this.shape.set("capture",!1)}this.target&&(o==="circle"?this.shape.attr({x:t-s.width/2,y:e-s.height/2}):o==="rect"&&this.shape.attr({x:t,y:e}))}},Tm="dblclick",TR=["click","dblclick"],PR={getDefaultCfg:function(){return{trigger:Tm}},getEvents:function(){var r,t;return TR.includes(this.trigger)?t=this.trigger:(t=Tm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r[""+t]="onGroupClick",r},onGroupClick:function(r){var t=r.target,e=this.graph,n=t.get("groupId");if(!!n){var a=e.get("customGroupControll");a.collapseExpandGroup(n)}}},Pm="click",LR=["click","dblclick"],OR={getDefaultCfg:function(){return{trigger:Pm,onChange:function(){}}},getEvents:function(){var r,t;return LR.includes(this.trigger)?t=this.trigger:(t=Pm,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["node:"+t]="onNodeClick",r.touchstart="onNodeClick",r},onNodeClick:function(r){var t=r.item,e=this.graph.findDataById(t.get("id"));if(!!e){var n=e.children;if(!(!n||n.length===0)){var a=!e.collapsed;if(!!this.shouldBegin(r,a)&&(e.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:r.item,collapsed:a}),!!this.shouldUpdate(r,a))){try{this.onChange(t,a)}catch(o){console.warn("G6 \u81EA 3.0.4 \u7248\u672C\u652F\u6301\u76F4\u63A5\u4ECE item.getModel() \u83B7\u53D6\u6E90\u6570\u636E(\u4E34\u65F6\u901A\u77E5\uFF0C\u5C06\u57283.2.0\u7248\u672C\u4E2D\u6E05\u9664)",o)}this.graph.layout()}}}}},IR=function i(r,t){if(t(r)!==!1&&r){var e=r.get("combos");if(e.length===0)return!1;(0,Fn.S6)(e,function(n){i(n,t)})}},kR={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(r){var t=r.item;if(!t||t.destroyed||!this.shouldUpdate(this,r))return!1;var e=t.getType();return e==="combo"},onDragStart:function(r){var t=this,e=this.graph,n=r.item;if(!!this.validationCombo(r)){this.targets=[];var a=e.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(l){var u=l.get("id");return o===u});s.length===0?this.targets.push(n):this.targets=a,this.activeState&&this.targets.map(function(l){var u=l.getModel();if(u.parentId){var h=e.findById(u.parentId);h&&e.setItemState(h,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:r.x,y:r.y},this.currentItemChildCombos=[],IR(n,function(l){if(l.destroyed)return!1;var u=l.getModel();return t.currentItemChildCombos.push(u.id),!0})}},onDrag:function(r){var t=this;if(!!this.origin&&!!this.validationCombo(r))if(this.enableDelegate)this.updateDelegate(r);else{if(this.activeState){var e=this.graph,n=r.item,a=n.getModel(),o=e.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,h=s.width,c=o.filter(function(v){var g=v.getModel();return a.parentId,g.id!==a.id&&!t.currentItemChildCombos.includes(g.id)});c.map(function(v){var g=v.getBBox(),A=g.centerX,k=g.centerY,F=g.width,Y=l-A,N=u-k,st=2*Math.sqrt(Y*Y+N*N);h+F-st>.8*h?e.setItemState(v,t.activeState,!0):e.setItemState(v,t.activeState,!1)})}(0,Fn.S6)(this.targets,function(v){t.updateCombo(v,r)})}},updatePositions:function(r){var t=this;this.enableDelegate&&(0,Fn.S6)(this.targets,function(e){t.updateCombo(e,r)})},onDrop:function(r){var t=this,e=r.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(r);var n=this.graph,a=e.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id)):n.updateCombo(e)}),this.end(e,r),this.endComparison=!0}},onNodeDrop:function(r){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(r);var e=this.graph,n=r.item,a=n.getModel().comboId,o;if(a){if(this.activeState){var s=e.findById(a);e.setItemState(s,this.activeState,!1)}this.targets.map(function(l){t.onlyChangeComboSize?e.updateCombo(l):a!==l.getID()&&(o=e.findById(a),a!==l.getModel().parentId&&e.updateComboTree(l,a))})}else this.targets.map(function(l){if(t.onlyChangeComboSize)e.updateCombo(l);else{var u=l.getModel();u.comboId&&e.updateComboTree(l)}});this.endComparison=!0,this.end(o,r)}},onDragEnter:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(r){if(!!this.origin&&!!this.validationCombo(r)){var t=r.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(r){if(!(!this.targets||this.targets.length===0)){var t=r.item;this.updatePositions(r);var e=this.getParentCombo(t.getModel().parentId),n=this.graph;e&&this.activeState&&n.setItemState(e,this.activeState,!1),this.end(void 0,r)}},end:function(r,t){var e=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}r&&this.activeState&&n.setItemState(r,this.activeState,!1),r||this.targets.map(function(o){e.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(r,t){var e=this;if(t(r)!==!1&&r){var n=r.get("combos");(0,Fn.S6)(n,function(o){e.traverse(o,t)});var a=r.get("nodes");(0,Fn.S6)(a,function(o){e.traverse(o,t)})}},updateCombo:function(r,t){var e=this;this.traverse(r,function(n){return n.destroyed?!1:(e.updateSignleItem(n,t),!0)})},updateSignleItem:function(r,t){var e=this.origin,n=this.graph,a=r.getModel(),o=r.get("id");this.point[o]||(this.point[o]={x:a.x,y:a.y});var s=t.x-e.x+this.point[o].x,l=t.y-e.y+this.point[o].y;n.updateItem(r,{x:s,y:l})},getParentCombo:function(r){var t=this.graph;if(!!r){var e=t.findById(r);if(!!e)return e}},updateDelegate:function(r){var t=this.graph;if(this.delegateShape){var v=r.x-this.origin.x+this.originPoint.minX,g=r.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:v,y:g})}else{var e=t.get("delegateGroup"),n=null;this.targets.length>1?n=hm(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,h=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:h};var c=(0,Zt.__assign)((0,Zt.__assign)({},ke.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:(0,Zt.__assign)({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"})}}},Lm="dblclick",BR=["click","dblclick"],DR={getDefaultCfg:function(){return{trigger:Lm,relayout:!0}},getEvents:function(){var r,t;return BR.includes(this.trigger)?t=this.trigger:(t=Lm,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),r={},r["combo:"+t]="onComboClick",r},onComboClick:function(r){var t=r.item,e=this,n=e.graph,a=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}},Om=function(r,t,e){return r>=t&&r<=e},Ts=function(r,t,e,n){var a=.001,o={x:e.x-r.x,y:e.y-r.y},s={x:t.x-r.x,y:t.y-r.y},l={x:n.x-e.x,y:n.y-e.y},u=s.x*l.y-s.y*l.x,h=u*u,c=s.x*s.x+s.y*s.y,v=l.x*l.x+l.y*l.y,g=null;if(h>a*c*v){var A=(o.x*l.y-o.y*l.x)/u,k=(o.x*s.y-o.y*s.x)/u;Om(A,0,1)&&Om(k,0,1)&&(g={x:r.x+A*s.x,y:r.y+A*s.y})}return g},Im=function(r,t){var e=r.x,n=r.y,a=r.width,o=r.height,s=e+a/2,l=n+o/2,u=[],h={x:s,y:l};u.push({x:e,y:n}),u.push({x:e+a,y:n}),u.push({x:e+a,y:n+o}),u.push({x:e,y:n+o}),u.push({x:e,y:n});for(var c=null,v=1;v<u.length&&(c=Ts(u[v-1],u[v],h,t),!c);v++);return c},km=function(r,t){var e=r.x,n=r.y,a=r.r,o=t.x,s=t.y,l=o-e,u=s-n,h=Math.sqrt(l*l+u*u);if(h<a)return null;var c=Math.sign(l),v=Math.sign(u),g=Math.atan(u/l);return{x:e+Math.abs(a*Math.cos(g))*c,y:n+Math.abs(a*Math.sin(g))*v}},Bm=function(r,t){var e=r.rx,n=r.ry,a=r.x,o=r.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/e);return u<0&&(u+=2*Math.PI),{x:a+e*Math.cos(u),y:o+n*Math.sin(u)}},Ps=function(r,t,e){e===void 0&&(e=1);var n=[r.x,r.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Em.transformMat3(n,n,t),{x:n[0],y:n[1]}},Dm=function(r,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=ja.invert([],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[r.x,r.y,e];return Em.transformMat3(a,a,n),{x:a[0],y:a[1]}},_h=function(r,t,e){var n=r.x-t.x,a=r.y-t.y,o=r.x-e.x,s=r.y-e.y,l=(r.x*r.x-t.x*t.x-t.y*t.y+r.y*r.y)/2,u=(r.x*r.x-e.x*e.x-e.y*e.y+r.y*r.y)/2,h=a*o-n*s;return{x:-(s*l-a*u)/h,y:-(n*u-o*l)/h}},Ls=function(r,t){var e=r.x-t.x,n=r.y-t.y;return Math.sqrt(e*e+n*n)},Fm=function(r,t){var e=[];return r.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),e.push(a)}),e},Th=function(r){for(var t=[],e=r.length,n=0;n<e;n+=1){t[n]=[];for(var a=0;a<e;a+=1)n===a?t[n][a]=0:r[n][a]===0||!r[n][a]?t[n][a]=Infinity:t[n][a]=r[n][a]}for(var o=0;o<e;o+=1)for(var n=0;n<e;n+=1)for(var a=0;a<e;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},Ph=function(r,t){var e=r.nodes,n=r.edges,a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,h=o[l],c=o[u];a[h][c]=1,t||(a[c][h]=1)}),a},Rm=function(r,t){r.translate(t.x,t.y)},Nm=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=r.getCanvasBBox(),a=t.x-n.minX,o=t.y-n.minY,s=_a(e,[["t",a,o]]);r.setMatrix(s)},FR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=t;(0,pi.default)(t)||(n=[t,t]),(0,pi.default)(t)&&t.length===1&&(n=[t[0],t[0]]),e=_a(e,[["s",n[0],n[1]]]),r.setMatrix(e)},RR=function(r,t){var e=r.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=_a(e,[["r",t]]),r.setMatrix(e)},Ql=function(r,t,e){for(var n=[],a=0;a<r;a++)n[a]=0;return e.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function NR(i,r,t){return(t[0]-i[0])*(r[1]-i[1])==(r[0]-i[0])*(t[1]-i[1])&&Math.min(i[0],r[0])<=t[0]&&t[0]<=Math.max(i[0],r[0])&&Math.min(i[1],r[1])<=t[1]&&t[1]<=Math.max(i[1],r[1])}var Os=function(r,t,e){var n=!1,a=r.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=r[l],h=r[(l+1)%a];if(NR(u,h,[t,e]))return!0;s(u[1]-e)>0!=s(h[1]-e)>0&&s(t-(e-u[1])*(u[0]-h[0])/(u[1]-h[1])-u[0])<0&&(n=!n)}return n},Gm=function(r,t){return!(t.minX>r.maxX||t.maxX<r.minX||t.minY>r.maxY||t.maxY<r.minY)},GR=function(r,t){var e=!1;return(0,f.each)(r,function(n){if(Ts(n.from,n.to,t.from,t.to))return e=!0,!1}),e},Lh=function(r,t){var e=function(v){var g=v.map(function(k){return k[0]}),A=v.map(function(k){return k[1]});return{minX:Math.min.apply(null,g),maxX:Math.max.apply(null,g),minY:Math.min.apply(null,A),maxY:Math.max.apply(null,A)}},n=function(v){for(var g=[],A=v.length,k=0;k<A-1;k++){var F=v[k],Y=v[k+1];g.push({from:{x:F[0],y:F[1]},to:{x:Y[0],y:Y[1]}})}if(g.length>1){var N=v[0],st=v[A-1];g.push({from:{x:st[0],y:st[1]},to:{x:N[0],y:N[1]}})}return g};if(r.length<2||t.length<2)return!1;var a=e(r),o=e(t);if(!Gm(a,o))return!1;var s=!1;if((0,f.each)(t,function(c){if(Os(r,c[0],c[1]))return s=!0,!1}),s||((0,f.each)(r,function(c){if(Os(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(r),u=n(t),h=!1;return(0,f.each)(u,function(c){if(GR(l,c))return h=!0,!1}),h},Eo=function(){function i(r,t,e,n){this.x1=r,this.y1=t,this.x2=e,this.y2=n}return i.prototype.getBBox=function(){var r=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:r,y:t,minX:r,minY:t,maxX:e,maxY:n,width:e-r,height:n-t};return a},i}(),Oh=function(r,t){var e={top:[r.minX,r.minY,r.maxX,r.minY],left:[r.minX,r.minY,r.minX,r.maxY],bottom:[r.minX,r.maxY,r.maxX,r.maxY],right:[r.maxX,r.minY,r.maxX,r.maxY]};return e[t]},YR=function(r,t){var e=(t.x2-t.x1)*(r.y1-t.y1)-(t.y2-t.y1)*(r.x1-t.x1),n=(r.x2-r.x1)*(r.y1-t.y1)-(r.y2-r.y1)*(r.x1-t.x1),a=(t.y2-t.y1)*(r.x2-r.x1)-(t.x2-t.x1)*(r.y2-r.y1);if(a){var o=e/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},Ym=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=0,o=[],s=0;s<4;s++){var l=Oh(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3];o[s]=Ts({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:h},{x:c,y:v}),o[s]&&(a+=1)}return[o,a]},Ih=function(r,t){for(var e=["top","left","bottom","right"],n=r.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=Oh(n,e[s]),u=l[0],h=l[1],c=l[2],v=l[3],g=YR(t,new Eo(u,h,c,v));g=Math.abs(g-.5),g>=0&&g<=1&&(o+=1,a=g<a?g:a)}return o===0?-1:a},zm=function(r){var t=0,e=0;if(r.length>0){for(var n=0,a=r;n<a.length;n++){var o=a[n];t+=o.x,e+=o.y}t/=r.length,e/=r.length}return{x:t,y:e}},Jl=function(r,t){return Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)},Xm=function(r,t){var e=t.x1,n=t.y1,a=t.x2-e,o=t.y2-n,s=r.x-e,l=r.y-n,u=s*a+l*o,h;u<=0?h=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?h=0:h=u*u/(a*a+o*o));var c=s*s+l*l-h;return c<0&&(c=0),c},kh=function(r,t,e){return e===void 0&&(e=.001),Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2)<Math.pow(e,2)},Vm=function(r,t){var e=r.x<t.x,n=r.x>t.x+t.width,a=r.y>t.y+t.height,o=r.y<t.y,s=e||n||a||o;if(!s)return 0;if(a&&!e&&!n)return Math.pow(t.y+t.height-r.y,2);if(o&&!e&&!n)return Math.pow(r.y-t.y,2);if(e&&!a&&!o)return Math.pow(t.x-r.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-r.x,2);var l=Math.min(Math.abs(t.x-r.x),Math.abs(t.x+t.width-r.x)),u=Math.min(Math.abs(t.y-r.y),Math.abs(t.y+t.height-r.y));return l*l+u*u},zR=function(r,t){return!r||!t?r:r.replace(/\\?\{([^{}]+)\}/g,function(e,n){if(e.charAt(0)==="\\")return e.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Hm=function(r){var t=[];if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);for(var e=0,n=r;e<n.length;e++){var a=n[e],o=a.x,s=a.y;t.push(o),t.push(s)}var l=(0,Us.catmullRom2Bezier)(t);return l.unshift(["M",r[0].x,r[0].y]),l},ql=function(r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var a={x:(1-e)*r.x+e*t.x,y:(1-e)*r.y+e*t.y},o=[];An.normalize(o,[t.x-r.x,t.y-r.y]),o.length===0&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},Wm=function(r,t){var e=r.length;if(!e)return"";for(var n="",a="",o=0;o<e;o++){var s=r[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=zR(a,s)}return t&&(n+="Z"),n},tu=function(r){var t=[];return r.forEach(function(e){var n=e[0];if(n!=="A")for(var a=1;a<e.length;a=a+2)t.push([e[a],e[a+1]]);else{var o=e.length;t.push([e[o-2],e[o-1]])}}),t},Bh=function(r){if(r.length<2)throw new Error("point length must largn than 2, now it's "+r.length);var t=r[0],e=r[1],n=r[r.length-1],a=r[r.length-2];r.unshift(n),r.unshift(a),r.push(t),r.push(e);for(var o=[],s=1;s<r.length-2;s+=1){var l=r[s-1].x,u=r[s-1].y,h=r[s].x,c=r[s].y,v=r[s+1].x,g=r[s+1].y,A=s!==r.length-2?r[s+2].x:v,k=s!==r.length-2?r[s+2].y:g,F=h+(v-l)/6,Y=c+(g-u)/6,N=v-(A-h)/6,st=g-(k-c)/6;o.push(["C",F,Y,N,st,v,g])}return o.unshift(["M",n.x,n.y]),o},jm=function(r,t){return An.scale([],An.normalize([],r),t)},Um=function(r,t){var e=[r[1]-t[1],t[0]-r[0]],n=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[e[0]/n,e[1]/n]},Zm=function(r,t){return[t[0]-r[0],t[1]-r[1]]};function Km(i,r){var t=function(c){var v=[c[0][0],c[0][1]-r],g=[c[0][0],c[0][1]+r];return"M "+v+" A "+r+","+r+",0,0,0,"+g+" A "+r+","+r+",0,0,0,"+v},e=function(c){var v=An.scale([],Um(c[0],c[1]),r),g=An.scale([],v,-1),A=An.add([],c[0],v),k=An.add([],c[1],v),F=An.add([],c[1],g),Y=An.add([],c[0],g);return"M "+A+" L "+k+" A "+[r,r,"0,0,0",F].join(",")+" L "+Y+" A "+[r,r,"0,0,0",A].join(",")};if(!i||i.length<1)return"";if(i.length===1)return t(i);if(i.length===2)return e(i);for(var n=new Array(i.length),a=0;a<n.length;++a){var o=a===0?i[i.length-1]:i[a-1],s=i[a],l=An.scale([],Um(o,s),r);n[a]=[An.add([],o,l),An.add([],s,l)]}var u="A "+[r,r,"0,0,0,"].join(",");return n=n.map(function(h,c){var v="";return c===0&&(v="M "+n[n.length-1][1]+" "),v+=u+h[0]+" L "+h[1],v}),n.join(" ")}function $m(i,r){var t=i.length,e=function(h){var c=[h[0][0],h[0][1]-r],v=[h[0][0],h[0][1]+r];return"M "+c+" A "+[r,r,"0,0,0",v].join(",")+" A "+[r,r,"0,0,0",c].join(",")},n=function(h){var c=Zm(h[0],h[1]),v=jm(c,r),g=An.add([],h[0],An.scale([],v,-1)),A=An.add([],h[1],v),k=1.2*r,F=jm(An.normalize([],c),k),Y=An.scale([],F,-1),N=An.add([],g,Y),st=An.add([],A,Y),lt=An.add([],g,F);return"M "+g+" C "+[N,st,A].join(",")+" S "+[lt,g].join(",")+" Z"};if(!i||t<1)return"";if(t===1)return e(i);if(t===2)return n(i);for(var a=i.map(function(u,h){var c=i[(h+1)%t];return{p:u,v:An.normalize([],Zm(u,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=An.normalize([],An.add([],a[s].v,An.scale([],a[o].v,-1)));a[o].p=An.add([],a[o].p,An.scale([],l,r))}return a.map(function(u){var h=u.p;return{x:h[0],y:h[1]}})}var Qm="shift",XR=["drag","shift","ctrl","alt","control"],VR=function(r,t){var e,n=r.getKeyShape();if(r.get("type")==="path")e=tu(n.attr("path"));else{var a=n.getCanvasBBox();e=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return Lh(t,e)},HR={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Qm,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return XR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Qm,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(r){var t=this.lasso,e=r.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:r.x,y:r.y},this.points.push(this.originPoint),t.show())},onDragMove:function(r){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:r.x,y:r.y}),this.updateLasso(r))},onDragEnd:function(r){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var r=this.points,t=[];return r.length&&(r.forEach(function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",r[0].x,r[0].y])),t},clearStates:function(){var r=this,t=r.graph,e=r.selectedState,n=t.findAllByState("node",e),a=t.findAllByState("edge",e);n.forEach(function(o){return t.setItemState(o,e,!1)}),a.forEach(function(o){return t.setItemState(o,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var r=this,t=this,e=t.graph,n=t.shouldUpdate,a=this.points.map(function(h){return[e.getCanvasByPoint(h.x,h.y).x,e.getCanvasByPoint(h.x,h.y).y]}),o=this.selectedState,s=[],l=[];e.getNodes().forEach(function(h){if(VR(h,a)&&n(h,"select")){s.push(h);var c=h.getModel();l.push(c.id),e.setItemState(h,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(h){var c=h.getOutEdges();c.forEach(function(v){var g=v.getModel(),A=g.source,k=g.target;l.includes(A)&&l.includes(k)&&n(v,"select")&&(u.push(v),e.setItemState(v,r.selectedState,!0))})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),e.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var r=this,t=r.graph.get("delegateGroup").addShape("path",{attrs:(0,Zt.__assign)({path:[]},r.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.points=[],t},updateLasso:function(r){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(r){var t=r.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Jm="click",WR=["click","drag"],qm=void 0,jR=["shift","ctrl","control","alt","meta",void 0],UR={getDefaultCfg:function(){return{trigger:Jm,key:qm,edgeConfig:{}}},getEvents:function(){var r=this;WR.indexOf(r.trigger.toLowerCase())>-1||(r.trigger=Jm,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),r.key&&jR.indexOf(r.key.toLowerCase())===-1&&(r.trigger=qm,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return r.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:r.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),r.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:r.x,y:r.y})}},onClick:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=r.item,n=t.graph,a=e.getModel();if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,r))return;var o={target:a.id};t.source===a.id&&(o.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,o),n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,r))return;t.edge=n.addItem("edge",(0,Zt.__assign)({source:a.id,target:a.id},t.edgeConfig),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(r){var t=this;if(!(t.key&&!t.keydown)){var e={x:r.x,y:r.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(r){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,n=r.item;if(t.addingEdge&&r.target&&r.target.isCanvas&&r.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}if(t.addingEdge&&t.edge===n){var a=!0;if(!e.get("groupByTypes"))for(var o=r.x,s=r.y,l=e.getNodes(),u=l.length,h=0;h<u;h++){var c=l[h],v=c.getModel(),g=c.getBBox();if(o<=g.maxX&&o>=g.minX&&s<=g.maxY&&s>=g.minY){if(!t.shouldEnd.call(t,{x:r.x,y:r.y,canvasX:r.canvasX,canvasY:r.canvasY,clientX:r.clientX,clientY:r.clientY,item:c}))return;e.emit("beforecreateedge",{}),e.updateItem(t.edge,{target:v.id}),e.emit("aftercreateedge",{edge:t.edge}),a=!1;break}}a&&e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1}}},onKeyDown:function(r){var t=this,e=r.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var r=this;r.addingEdge&&r.edge&&(r.graph.removeItem(r.edge,!1),r.addingEdge=!1,r.edge=null),this.keydown=!1}},tx="ctrl",ZR=["shift","ctrl","alt","control"],KR="1",$R={getDefaultCfg:function(){return{trigger:tx,combinedKey:KR,functionName:"fitView",functionParams:[]}},getEvents:function(){return ZR.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=tx,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(r){var t=r.key;if(!!t){var e=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===e||n==="control"&&e==="ctrl"||n==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},QR={"drag-canvas":oR,"zoom-canvas":SR,"drag-node":pR,"activate-relations":gR,"brush-select":mR,"click-select":bR,"lasso-select":HR,tooltip:CR,"edge-tooltip":MR,"drag-group":ER,"drag-node-with-group":_R,"collapse-expand-group":PR,"collapse-expand":OR,"drag-combo":kR,"collapse-expand-combo":DR,"create-edge":UR,"shortcuts-call":$R};(0,dn.default)(QR,function(i,r){wh.registerBehavior(r,i)});var ex=wh,Ao=d(19083),Is=d(19270),ga=d(27549),rx=d(54544),JR=function(r){var t=(0,rx.default)(r.groups,"id"),e=(0,rx.default)(r.groups,"parentId"),n={};for(var a in e)if(!!a){var o=e[a],s=t[a];if(s&&o){var l=(0,Zt.__spreadArrays)(o,s);n[a]=l}else o&&(n[a]=o)}var u=(0,Zt.__assign)((0,Zt.__assign)({},t),n),h={};for(var c in u)if(!(!c||c==="undefined")){var o=u[c].map(function(k){return k.id});h[c]=o}var v={},g=function(k){if(!k||k==="undefined")return"continue";for(var F=h[k],Y=[],N=0,st=F;N<st.length;N++){var lt=st[N],At=u[lt].map(function(Wt){return Wt.id});Y.push.apply(Y,At)}var zt=r.nodes?r.nodes.filter(function(Wt){return Y.indexOf(Wt.groupId)>-1||Y.indexOf(Wt.parentId)>-1}).map(function(Wt){return Wt.id}):[];v[k]=zt};for(var c in h)g(c);return v},qR=function(){function i(r){this.graph=r,this.destroyed=!1,this.modes=r.get("modes")||{default:[]},this.formatModes(),this.mode=r.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return i.prototype.formatModes=function(){var r=this.modes;(0,dn.default)(r,function(t){(0,dn.default)(t,function(e,n){(0,on.default)(e)&&(t[n]={type:e})})})},i.prototype.setBehaviors=function(r){var t=this.graph,e=this.modes[r],n=[],a;(0,dn.default)(e||[],function(o){var s=wh.getBehavior(o.type);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},i.mergeBehaviors=function(r,t){return(0,dn.default)(t,function(e){r.indexOf(e)<0&&((0,on.default)(e)&&(e={type:e}),r.push(e))}),r},i.filterBehaviors=function(r,t){var e=[];return r.forEach(function(n){var a="";(0,on.default)(n)?a=n:a=n.type,t.indexOf(a)<0&&e.push(n)}),e},i.prototype.setMode=function(r){var t=this,e=t.modes,n=t.graph,a=r,o=e[a];!o||(n.emit("beforemodechange",{mode:r}),(0,dn.default)(this.currentBehaves,function(s){s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:r}),this.mode=r)},i.prototype.getMode=function(){return this.mode},i.prototype.manipulateBehaviors=function(r,t,e){var n=this,a;if((0,pi.default)(r)?a=r:a=[r],(0,pi.default)(t))return(0,dn.default)(t,function(s){n.modes[s]?e?n.modes[s]=i.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=i.filterBehaviors(n.modes[s]||[],a):e&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||e&&(this.modes[o]=a),e?this.modes[o]=i.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=i.filterBehaviors(this.modes[o]||[],a),this.setMode(this.mode),this},i.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},i}(),t3=qR,e3=function(){function i(r){this.destroyed=!1,this.graph=r,this.destroyed=!1}return i.prototype.getViewCenter=function(){var r=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),n=t.get("height");return{x:(e-r[1]-r[3])/2+r[3],y:(n-r[0]-r[2])/2+r[0]}},i.prototype.fitCenter=function(){var r=this.graph,t=r.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var n=this.getViewCenter(),a={x:e.x+e.width/2,y:e.y+e.height/2};r.translate(n.x-a.x,n.y-a.y)}},i.prototype.fitView=function(){var r=this.graph,t=this.getFormatPadding(),e=r.get("width"),n=r.get("height"),a=r.get("group");a.resetMatrix();var o=a.getCanvasBBox();if(!(o.width===0||o.height===0)){var s=this.getViewCenter(),l={x:o.x+o.width/2,y:o.y+o.height/2};r.translate(s.x-l.x,s.y-l.y);var u=(e-t[1]-t[3])/o.width,h=(n-t[0]-t[2])/o.height,c=u;u>h&&(c=h),r.zoom(c,s)}},i.prototype.getFormatPadding=function(){var r=this.graph.get("fitViewPadding");return Ch(r)},i.prototype.focusPoint=function(r,t,e){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-r.x)*s[0],u=(o.y-r.y)*s[4],h=0,c=0,v=0,g=0;this.graph.get("canvas").animate(function(A){v=l*A,g=u*A,n.graph.translate(v-h,g-c),h=v,c=g},(0,Zt.__assign)({},e))}else this.graph.translate((o.x-r.x)*s[0],(o.y-r.y)*s[4])},i.prototype.getPointByCanvas=function(r,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var n=Dm({x:r,y:t},e);return n},i.prototype.getPointByClient=function(r,t){var e=this.graph.get("canvas"),n=e.getPointByClient(r,t);return this.getPointByCanvas(n.x,n.y)},i.prototype.getClientByPoint=function(r,t){var e=this.graph.get("canvas"),n=this.getCanvasByPoint(r,t),a=e.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},i.prototype.getCanvasByPoint=function(r,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Ps({x:r,y:t},e)},i.prototype.focus=function(r,t,e){(0,on.default)(r)&&(r=this.graph.findById(r));var n=r.get("group"),a=n.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]),r&&this.focusPoint({x:a[6],y:a[7]},t,e)},i.prototype.changeSize=function(r,t){var e=this.graph;if(!(0,pa.default)(r)||!(0,pa.default)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:r,height:t});var n=e.get("canvas");n.changeSize(r,t);var a=e.get("plugins");a.forEach(function(o){if(o.get("gridContainer")){var s=e.get("minZoom");(0,xn.Z)(o.get("container"),{width:r+"px",height:t+"px"}),(0,xn.Z)(o.get("gridContainer"),{width:r/s+"px",height:t/s+"px",left:0,top:0})}})},i.prototype.destroy=function(){this.graph=null,this.destroyed=!1},i}(),r3=e3,ks=d(73136),eu=d(61262),n3=function(){function i(r){this.preItem=null,this.graph=r,this.extendEvents=[],this.dragging=!1,this.destroyed=!1,this.initEvents()}return i.prototype.initEvents=function(){var r=this,t=r.graph,e=r.extendEvents,n=t.get("canvas"),a=n.get("el"),o=(0,eu.default)(this,"onCanvasEvents"),s=(0,eu.default)(this,"onExtendEvents"),l=(0,eu.default)(this,"onWheelEvent");n.on("*",o),this.canvasHandler=o,e.push((0,ks.Z)(a,"DOMMouseScroll",l)),e.push((0,ks.Z)(a,"mousewheel",l)),typeof window!="undefined"&&(e.push((0,ks.Z)(window,"keydown",s)),e.push((0,ks.Z)(window,"keyup",s)),e.push((0,ks.Z)(window,"focus",s)))},i.getItemRoot=function(r){for(;r&&!r.get("item");)r=r.get("parent");return r},i.prototype.onCanvasEvents=function(r){var t=this.graph,e=t.get("canvas"),n=r.target,a=r.type;r.canvasX=r.x,r.canvasY=r.y;var o={x:r.canvasX,y:r.canvasY},s=t.get("group"),l=s.getMatrix();if(l||(l=[1,0,0,0,1,0,0,0,1]),fm(l)&&(o=t.getPointByClient(r.clientX,r.clientY)),r.x=o.x,r.y=o.y,r.currentTarget=t,n===e){a==="mousemove"&&this.handleMouseMove(r,"canvas"),r.target=e,r.item=null,t.emit(a,r),t.emit("canvas:"+a,r);return}var u=i.getItemRoot(n);if(!u){t.emit(a,r);return}var h=u.get("item");if(!h.destroyed){var c=h.getType();if(r.target=n,r.item=h,r.canvasX===r.x&&r.canvasY===r.y){var v=t.getCanvasByPoint(r.x,r.y);r.canvasX=v.x,r.canvasY=v.y}t.emit(a,r),r.name&&!r.name.includes(":")?t.emit(c+":"+a,r):t.emit(r.name,r),a==="dragstart"&&(this.dragging=!0),a==="dragend"&&(this.dragging=!1),a==="mousemove"&&this.handleMouseMove(r,c)}},i.prototype.onExtendEvents=function(r){this.graph.emit(r.type,r)},i.prototype.onWheelEvent=function(r){(0,di.default)(r.wheelDelta)&&(r.wheelDelta=-r.detail),this.graph.emit("wheel",r)},i.prototype.handleMouseMove=function(r,t){var e=this,n=e.graph,a=e.preItem,o=n.get("canvas"),s=r.target===o?null:r.item;r=jl(r),a&&a!==s&&!a.destroyed&&(r.item=a,this.emitCustomEvent(a.getType(),"mouseleave",r),this.dragging&&this.emitCustomEvent(a.getType(),"dragleave",r)),s&&a!==s&&(r.item=s,this.emitCustomEvent(t,"mouseenter",r),this.dragging&&this.emitCustomEvent(t,"dragenter",r)),this.preItem=s},i.prototype.emitCustomEvent=function(r,t,e){e.type=t,this.graph.emit(r+":"+t,e)},i.prototype.destroy=function(){var r=this,t=r.graph,e=r.canvasHandler,n=r.extendEvents,a=t.get("canvas");a.off("*",e),(0,dn.default)(n,function(o){o.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},i}(),i3=n3,nx=d(8289),ix=d(33643),ax=d(85260),a3=d(58070),o3={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},oa=Math.PI,Dh=Math.sin,Fh=Math.cos,yi=Dh(oa/8),mi=Fh(oa/8),ru=function(r,t){var e=r.getBBox(),n={x:e.minX,y:e.minY},a={x:e.maxX,y:e.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Ps(n,o),a=Ps(a,o)}var s=n.x,l=n.y,u=a.x,h=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:h,width:u-s,height:h-l}},ox=function(r){var t=r.sourceNode||r.targetNode,e=t.get("group"),n=e.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=r.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||ke.defaultLoopPosition,h=[n[6],n[7]],c=[r.startPoint.x,r.startPoint.y],v=[r.endPoint.x,r.endPoint.y],g=o.height/2,A=o.height/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi;if(c[0]===v[0]&&c[1]===v[1]){switch(u){case"top":c=[h[0]-k,h[1]-F],v=[h[0]+Y,h[1]-N];break;case"top-right":g=o.height/2,A=o.width/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi,c=[h[0]+k,h[1]-F],v=[h[0]+N,h[1]-Y];break;case"right":g=o.width/2,A=o.width/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi,c=[h[0]+F,h[1]-k],v=[h[0]+N,h[1]+Y];break;case"bottom-right":g=o.width/2,A=o.height/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi,c=[h[0]+F,h[1]+k],v=[h[0]+Y,h[1]+N];break;case"bottom":g=o.height/2,A=o.height/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi,c=[h[0]+k,h[1]+F],v=[h[0]-Y,h[1]+N];break;case"bottom-left":g=o.height/2,A=o.width/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi,c=[h[0]-k,h[1]+F],v=[h[0]-N,h[1]+Y];break;case"left":g=o.width/2,A=o.width/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi,c=[h[0]-F,h[1]+k],v=[h[0]-N,h[1]-Y];break;case"top-left":g=o.width/2,A=o.height/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi,c=[h[0]-F,h[1]-k],v=[h[0]-Y,h[1]-N];break;default:g=o.width/2,A=o.width/2,k=g*yi,F=g*mi,Y=A*yi,N=A*mi,c=[h[0]-k,h[1]-F],v=[h[0]+Y,h[1]-N]}if(s.clockwise===!1){var st=[c[0],c[1]];c=[v[0],v[1]],v=[st[0],st[1]]}}var lt=[c[0]-h[0],c[1]-h[1]],At=(g+l)/g,zt=(A+l)/A;s.clockwise===!1&&(At=(A+l)/A,zt=(g+l)/g);var Wt=An.scale([],lt,At),Qt=[h[0]+Wt[0],h[1]+Wt[1]],Vt=[v[0]-h[0],v[1]-h[1]],te=An.scale([],Vt,zt),le=[h[0]+te[0],h[1]+te[1]];return r.startPoint={x:c[0],y:c[1]},r.endPoint={x:v[0],y:v[1]},r.controlPoints=[{x:Qt[0],y:Qt[1]},{x:le[0],y:le[1]}],r},nu=function(r,t,e,n,a){var o=1e-4,s=[],l=r.getPoint(t);if(l===null)return{x:0,y:0,angle:0};if(t<o)s=r.getStartTangent().reverse();else if(t>1-o)s=r.getEndTangent();else{var u=r.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var h=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(h<0&&(h+=oa*2),e&&(l.x+=Fh(h)*e,l.y+=Dh(h)*e),n){var c=h-oa/2;h>1/2*oa&&h<3*1/2*oa&&(c-=oa),l.x+=Fh(c)*n,l.y+=Dh(c)*n}var v={x:l.x,y:l.y,angle:h};return a?(h>1/2*oa&&h<3*1/2*oa&&(h-=oa),(0,Zt.__assign)({rotate:h},v)):v},sx=function i(r,t){if(t(r)===!1)return!1;if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return!1}return!0},s3=function i(r,t){if(r&&r.children){for(var e=r.children.length-1;e>=0;e--)if(!i(r.children[e],t))return}return t(r)!==!1},Ii=function(r,t){typeof t=="function"&&sx(r,t)},sa=function(r,t){typeof t=="function"&&s3(r,t)},lx=function(r,t){var e=["V","TB","BT"],n={x:Infinity,y:Infinity},a={x:-Infinity,y:-Infinity},o="x",s="y";t&&e.indexOf(t)>=0&&(s="x",o="y");var l=0;Ii(r,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var u=oa*2/l,h=a[s]-n[s];return h===0||Ii(r,function(c){var v=(c[s]-n[s])/h*(oa*2-u)+u,g=Math.abs(o==="x"?c.x-r.x:c.y-r.y);return c.x=g*Math.cos(v),c.y=g*Math.sin(v),!0}),r},ux=function(r,t){return t*(o3[r]||1)},fx=function(r,t){var e=0,n=new RegExp("[\u4E00-\u9FA5]+");return r.split("").forEach(function(a){n.test(a)?e+=t:e+=ux(a,t)}),[e,t]},Rh=function(r,t){var e=[],n={},a={};r.forEach(function(s){a[s.id]=s}),r.forEach(function(s,l){var u=(0,f.clone)(s);u.itemType="combo",u.children=void 0,u.parentId===u.id?(console.warn("The parentId for combo "+u.id+" can not be the same as the combo's id"),delete u.parentId):u.parentId&&!a[u.parentId]&&(console.warn("The parent combo for combo "+u.id+" does not exist!"),delete u.parentId);var h=n[u.id];if(h){if(u.children=h.children,n[u.id]=u,h=u,!h.parentId){e.push(h);return}var c=n[h.parentId];if(c)c.children?c.children.push(u):c.children=[u];else{var v={id:h.parentId,children:[h]};n[h.parentId]=v,n[u.id]=u}return}if((0,f.isString)(s.parentId)){var g=n[s.parentId];if(g)g.children?g.children.push(u):g.children=[u],n[u.id]=u;else{var A={id:s.parentId,children:[u]};n[A.id]=A,n[u.id]=u}}else e.push(u),n[u.id]=u});var o={};return(t||[]).forEach(function(s){o[s.id]=s;var l=n[s.comboId];if(l){var u={id:s.id,comboId:s.comboId};l.children?l.children.push(u):l.children=[u],u.itemType="node",n[s.id]=u}}),e.forEach(function(s){s.depth=0,sx(s,function(l){var u,h=n[l.id].itemType;h==="node"?u=n[l.comboId]:u=n[l.parentId],u?h==="node"?l.depth=u.depth+1:l.depth=u.depth+2:l.depth=0;var c=o[l.id];return c&&(c.depth=l.depth),!0})}),e},Nh=function(r,t,e){var n=r,a,o={root:{children:r}},s=!1,l="root";(r||[]).forEach(function(g){if(!s){if(g.id===t){a=g,g.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0;return}Ii(g,function(A){return o[A.id]={children:A.children},n=o[A.parentId||A.comboId||"root"].children,A&&(A.removed||t===A.id)&&n?(l=A.parentId||A.comboId||"root",a=A,A.itemType==="combo"?a.parentId=e:a.comboId=e,s=!0,!1):!0})}}),n=o[l].children;var u=n?n.indexOf(a):-1;if(u>-1&&n.splice(u,1),s||(a={id:t,itemType:"node",comboId:e},o[t]={children:void 0}),t){var h=!1;if(e){var c=0;(r||[]).forEach(function(g){h||Ii(g,function(A){return e===A.id?(h=!0,A.children?A.children.push(a):A.children=[a],c=A.depth,a.itemType==="node"?a.depth=c+2:a.depth=c+1,!1):!0})})}else(!e||!h)&&a.itemType!=="node"&&r.push(a);var v=a.depth;Ii(a,function(g){return g.itemType==="node"?v+=2:v+=1,g.depth=v,!0})}return r},Gh=function(r,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!r||r.length===0||(r.forEach(function(n){var a=t.findById(n.id);if(!(!a||!a.isVisible())){a.set("bboxCanvasCache",void 0);var o=a.getCanvasBBox();o.x&&e.minX>o.minX&&(e.minX=o.minX),o.y&&e.minY>o.minY&&(e.minY=o.minY),o.x&&e.maxX<o.maxX&&(e.maxX=o.maxX),o.y&&e.maxY<o.maxY&&(e.maxY=o.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(n){(e[n]===Infinity||e[n]===-Infinity)&&(e[n]=void 0)})),e},l3=function(r){var t=r.group,e=r.height,n=r.width,a=r.x,o=r.y,s=t.get("canvas"),l=s.get("width"),u=s.get("height"),h={start:{x:0,y:0},end:{x:0,y:0}};return h.start.x=a/l,h.start.y=o/u,h.end.x=(a+n)/l,h.end.y=(o+e)/u,h};function iu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(t){return typeof t}:iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(i)}function hx(i){if(typeof i!="string")return i;var r=function(Wt){if(typeof Wt!="string")return Wt;try{return JSON.parse(Wt.trim())}catch(Qt){return Wt.trim()}},t=r(i);if(typeof t!="string")return t;for(var e=function(Wt){return Wt[Wt.length-1]},n=i.trim(),a=[],o=[],s=function(){for(var Wt=[],Qt=0;Qt<arguments.length;Qt++)Wt[Qt]=arguments[Qt];return Wt.some(function(Vt){return e(o)===Vt})},l=function(){return e(a)},u=null,h=0,c="";h<n.length;){var v=n[h],g=s('"',"'");if(!g&&!v.trim()){h+=1;continue}var A=n[h-1]==="\\",k=s("}"),F=s("]"),Y=s(","),N=l();if(g)if(e(o)===v&&!A){o.pop();var st=r(c);N.push(st),u=st,c=""}else c+=v;else if(F&&v===",")c&&(N.push(r(c)),c="");else if(k&&v===":")o.push(","),c&&(N.push(c),c="");else if(Y&&v===",")c&&(N.push(r(c)),c=""),o.pop();else if(v==="}"&&(k||Y)){c&&(N.push(r(c)),c=""),Y&&o.pop();for(var lt={},At=1;At<N.length;At+=2)lt[N[At-1]]=N[At];a.pop(),a.length&&e(a).push(lt),o.pop(),u=lt}else v==="]"&&F?(c&&(N.push(r(c)),c=""),a.pop(),a.length&&e(a).push(N),o.pop(),u=N):v==="{"?(a.push([]),o.push("}")):v==="["?(a.push([]),o.push("]")):v==='"'?o.push('"'):v==="'"?o.push("'"):c+=v;h+=1}return u||c}var u3=function(r){return r.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},f3=function(r){return function(t){for(var e=r.length,n=[],a=0,o="";a<e;)if(r[a]==="{"&&r[a+1]==="{")n.push(o),o="",a+=2;else if(r[a]==="}"&&r[a+1]==="}"){if(n.length){var s=n.pop();o=(0,a3.default)(t,o,s.endsWith("=")?'"{'+o+'}"':o),n.push(s+o)}a+=2,o=""}else o+=r[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'+l+'}"':l}).join("")}};function cx(i,r){var t={},e=i.getAttributeNames&&i.getAttributeNames()||[],n=i.children&&Array.from(i.children).map(function(s){return cx(s,r)}),a={},o=i.tagName?i.tagName.toLowerCase():"group";return o==="text"&&(t.text=i.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(e).forEach(function(s){var l=u3(s),u=i.getAttribute(s);try{if(l==="style"||l==="attrs"){var h=hx(u);t=(0,Zt.__assign)((0,Zt.__assign)({},t),h)}else a[l]=hx(u)}catch(c){if(l==="style")throw c;a[l]=u}}),a.attrs=t,r&&r.style&&a.name&&iu(r.style[a.name])==="object"&&(a.attrs=(0,Zt.__assign)((0,Zt.__assign)({},a.attrs),r.style[a.name])),r&&r.style&&a.keyshape&&(a.attrs=(0,Zt.__assign)((0,Zt.__assign)({},a.attrs),r.style)),n.length&&(a.children=n),a}function h3(i,r,t){var e=i.attrs,n=e===void 0?{}:e,a={x:r.x||0,y:r.y||0,width:t.width||0,height:t.height||0},o,s;switch(i.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=fx(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,i.attrs=(0,Zt.__assign)({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function vx(i,r){var t;r===void 0&&(r={x:0,y:0});var e=(0,Zt.__assign)({x:0,y:0,width:0,height:0},r);if((t=i.children)===null||t===void 0?void 0:t.length){var n=i.attrs,a=n===void 0?{}:n,o=a.marginTop,s=(0,Zt.__assign)({},r);o&&(s.y+=o);for(var l=0;l<i.children.length;l++){i.children[l].attrs.key=(a.key||"root")+" -"+l+" ";var u=vx(i.children[l],s);if(u.bbox){var h=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,h.width+h.x>e.width&&(e.width=h.width+h.x),h.height+h.y>e.height&&(e.height=h.height+h.y)}}}return i.bbox=h3(i,r,e),i.attrs=(0,Zt.__assign)((0,Zt.__assign)({},i.attrs),i.bbox),i}function dx(i,r){var t,e,n,a,o=(i||{}).type,s=((r==null?void 0:r.attrs)||{}).key;if(s&&i&&(i.attrs.key=s),!i&&r)return{action:"delete",val:r,type:o,key:s};if(i&&!r)return{action:"add",val:i,type:o};if(!i&&!r)return{action:"same",type:o};var l=[];if(((t=i.children)===null||t===void 0?void 0:t.length)>0||((e=r.children)===null||e===void 0?void 0:e.length)>0)for(var u=Math.max((n=i.children)===null||n===void 0?void 0:n.length,(a=r.children)===null||a===void 0?void 0:a.length),h=r.children||[],c=i.children||[],v=0;v<u;v+=1)l.push(dx(c[v],h[v]));var g=Object.keys(r.attrs),A=Object.keys(i.attrs);return r.type!==i.type?{action:"restructure",nowTarget:i,formerTarget:r,key:s,children:l}:g.filter(function(k){return k!=="children"}).some(function(k){return i.attrs[k]!==r.attrs[k]||!A.includes(k)})?{action:"change",val:i,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function px(i){var r={},t=function(n){var a=typeof i=="function"?i(n):i,o=f3(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=vx(cx(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(h){var c=h.attrs,v=c===void 0?{}:c,g=h.bbox,A=h.type,k=h.children,F=(0,Zt.__rest)(h,["attrs","bbox","type","children"]);if(h.type!=="group"){var Y=a.addShape(h.type,(0,Zt.__assign)({attrs:v,origin:{bbox:g,type:A,children:k}},F));h.keyshape&&(s=Y)}h.children&&h.children.forEach(function(N){return u(N)})};return l(o),r[n.id]=[o],s},update:function(n,a){r[n.id]||(r[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=r[n.id].pop(),h=dx(l,u),c=function A(k){var F;k.type!=="group"&&o.addShape(k.type,{attrs:k.attrs}),((F=k.children)===null||F===void 0?void 0:F.length)&&k.children.map(function(Y){return A(Y)})},v=function A(k){var F,Y=s.find(function(N){return N.attrs.key===k.attrs.key});Y&&o.removeChild(Y),((F=k.children)===null||F===void 0?void 0:F.length)&&k.children.map(function(N){return A(N)})},g=function A(k){var F=k.key;if(k.type!=="group"){var Y=s.find(function(st){return st.attrs.key===F});switch(k.action){case"change":if(Y){var N=k.val.keyshape?a.getOriginStyle():{};Y.attr((0,Zt.__assign)((0,Zt.__assign)({},N),k.val.attrs))}break;case"add":c(k.val);break;case"delete":v(k.val);break;case"restructure":v(k.formerTarget),c(k.nowTarget);break;default:break}}k.children&&k.children.forEach(function(st){return A(st)})};g(h),r[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Yh={};function gx(i){return Yh[i]||(Yh[i]=(0,f.upperFirst)(i)),Yh[i]}var c3={defaultShapeType:"defaultType",className:null,getShape:function(r){var t=this,e=t[r]||t[t.defaultShapeType];return e},draw:function(r,t,e){var n=this.getShape(r),a=n.draw(t,e);return n.afterDraw&&n.afterDraw(t,e,a),a},baseUpdate:function(r,t,e){var n=this.getShape(r);n.update&&n.update(t,e),n.afterUpdate&&n.afterUpdate(t,e)},setState:function(r,t,e,n){var a=this.getShape(r);a.setState(t,e,n)},shouldUpdate:function(r){var t=this.getShape(r);return!!t.update},getControlPoints:function(r,t){var e=this.getShape(r);return e.getControlPoints(t)},getAnchorPoints:function(r,t){var e=this.getShape(r);return e.getAnchorPoints(t)}},zh={options:{},draw:function(r,t){return this.drawShape(r,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.options.anchorPoints,e=r.anchorPoints||t;return e}},au=function(){function i(){}return i.registerFactory=function(r,t){var e=gx(r),n=c3,a=(0,Zt.__assign)((0,Zt.__assign)({},n),t);return i[e]=a,a.className=e,a},i.getFactory=function(r){var t=gx(r);return i[t]},i.registerNode=function(r,t,e){var n=i.Node,a;if(typeof t=="string"||typeof t=="function"){var o=px(t);a=(0,Zt.__assign)((0,Zt.__assign)({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=px(s);a=(0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)({},n.getShape("single-node")),o),t)}else{var l=e?n.getShape(e):zh;a=(0,Zt.__assign)((0,Zt.__assign)({},l),t)}return a.type=r,a.itemType="node",n[r]=a,a},i.registerEdge=function(r,t,e){var n=i.Edge,a=e?n.getShape(e):zh,o=(0,Zt.__assign)((0,Zt.__assign)({},a),t);return o.type=r,o.itemType="edge",n[r]=o,o},i.registerCombo=function(r,t,e){var n=i.Combo,a=e?n.getShape(e):zh,o=(0,Zt.__assign)((0,Zt.__assign)({},a),t);return o.type=r,o.itemType="combo",n[r]=o,o},i}(),Gn=au;au.registerFactory("node",{defaultShapeType:"circle"}),au.registerFactory("edge",{defaultShapeType:"line"}),au.registerFactory("combo",{defaultShapeType:"circle"});var Xh="bboxCache",Vh="bboxCanvasCache",v3=function(){function i(r){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),r);var e=this.get("model"),n=e.id,a=this.get("type");n||(n=(0,f.uniqueId)(a),this.get("model").id=n),this.set("id",n);var o=r.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=e.shape||e.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var h=this.get("styles")||e.stateStyles;h=(0,f.deepMix)({},u.stateStyles,h),this.set("styles",h)}}}return i.prototype.calculateBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=ru(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.calculateCanvasBBox=function(){var r=this.get("keyShape"),t=this.get("group"),e=ru(r,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},i.prototype.drawInner=function(){var r=this,t=r.get("shapeFactory"),e=r.get("group"),n=r.get("model");e.clear();var a=n.visible;if(a!==void 0&&!a&&r.changeVisibility(a),!!t){r.updatePosition(n);var o=r.getShapeCfg(n),s=o.shape||o.type,l=t.draw(s,o,e);l&&(r.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},i.prototype.setOriginStyle=function(r){var t={},e=this.get("group"),n=e.get("children"),a=this.getKeyShape(),o=this;(0,f.each)(n,function(u){var h=u.get("name");if(h)t[h]=o.getShapeStyleByName(h);else{var c=a.get("name"),v=o.getShapeStyleByName();c?t[c]=v:Object.assign(t,v)}});var s=this.getOriginStyle(),l={};r?l=(0,f.deepMix)({},s,t,r.style,{labelCfg:r.labelCfg}):l=(0,f.deepMix)({},s,t),o.set("originStyle",l)},i.prototype.restoreStates=function(r,t){var e=this,n=e.get("states");(0,f.each)(n,function(a){r.setState(t,a,!0,e)})},i.prototype.init=function(){var r=Gn.getFactory(this.get("type"));this.set("shapeFactory",r)},i.prototype.get=function(r){return this._cfg[r]},i.prototype.set=function(r,t){(0,f.isPlainObject)(r)?this._cfg=(0,Zt.__assign)((0,Zt.__assign)({},this._cfg),r):this._cfg[r]=t},i.prototype.getDefaultCfg=function(){return{}},i.prototype.clearCache=function(){this.set(Xh,null),this.set(Vh,null)},i.prototype.beforeDraw=function(){},i.prototype.afterDraw=function(){},i.prototype.afterUpdate=function(){},i.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},i.prototype.getShapeStyleByName=function(r){var t=this.get("group"),e=this.getKeyShape();if(r&&(e=t.find(function(a){return a.get("name")===r})),e){var n={};return(0,f.each)(e.attr(),function(a,o){o!=="img"&&(n[o]=a)}),n}return{}},i.prototype.getShapeCfg=function(r){var t=this.get("styles");if(t){var e=r;return e.style=(0,Zt.__assign)((0,Zt.__assign)({},t),r.style),e}return r},i.prototype.getStateStyle=function(r){var t=this.get("styles"),e=t&&t[r];return e},i.prototype.getOriginStyle=function(){return this.get("originStyle")},i.prototype.getCurrentStatesStyle=function(){var r=this,t={};return(0,f.each)(r.getStates(),function(e){t=Object.assign(t,r.getStateStyle(e))}),t},i.prototype.setState=function(r,t){var e=this.get("states"),n=this.get("shapeFactory"),a=r,o=r;(0,f.isString)(t)&&(a=r+":"+t,o=r+":");var s=e;if((0,f.isBoolean)(t)){var l=e.indexOf(o);if(t){if(l>-1)return;e.push(a)}else l>-1&&e.splice(l,1)}else if((0,f.isString)(t)){var u=e.filter(function(v){return v.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(v){return!v.includes(o)}),s.push(a),this.set("states",s)}if(n){var h=this.get("model"),c=h.shape||h.type;n.setState(c,r,t,this)}},i.prototype.clearStates=function(r){var t=this,e=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.shape||a.type;r||(r=e),(0,f.isString)(r)&&(r=[r]);var s=e.filter(function(l){return r.indexOf(l)===-1});t.set("states",s),r.forEach(function(l){n.setState(o,l,!1,t)})},i.prototype.getContainer=function(){return this.get("group")},i.prototype.getKeyShape=function(){return this.get("keyShape")},i.prototype.getModel=function(){return this.get("model")},i.prototype.getType=function(){return this.get("type")},i.prototype.getID=function(){return this.get("id")},i.prototype.isItem=function(){return!0},i.prototype.getStates=function(){return this.get("states")},i.prototype.hasState=function(r){var t=this.getStates();return t.indexOf(r)>=0},i.prototype.refresh=function(){var r=this.get("model");this.updatePosition(r),this.updateShape(),this.afterUpdate(),this.clearCache()},i.prototype.isOnlyMove=function(r){return!1},i.prototype.update=function(r){var t=this.get("model"),e=t.visible,n=r.visible;e!==n&&n!==void 0&&this.changeVisibility(n);var a={x:t.x,y:t.y};r.x=isNaN(r.x)?t.x:r.x,r.y=isNaN(r.y)?t.y:r.y;var o=this.get("styles");if(r.stateStyles){var s=r.stateStyles;(0,f.mix)(o,s),delete r.stateStyles}Object.assign(t,r);var l=this.isOnlyMove(r);l?this.updatePosition(r):((a.x!==r.x||a.y!==r.y)&&this.updatePosition(r),this.updateShape()),this.afterUpdate(),this.clearCache()},i.prototype.updateShape=function(){var r=this.get("shapeFactory"),t=this.get("model"),e=t.shape||t.type;if(r.shouldUpdate(e)&&e===this.get("currentShape")){var n=this.getShapeCfg(t);r.baseUpdate(e,n,this)}else this.draw();this.setOriginStyle(t),this.restoreStates(r,e)},i.prototype.updatePosition=function(r){var t=this.get("model"),e=(0,f.isNil)(r.x)?t.x:r.x,n=(0,f.isNil)(r.y)?t.y:r.y,a=this.get("group");(0,f.isNil)(e)||(0,f.isNil)(n)||(a.resetMatrix(),Rm(a,{x:e,y:n}),t.x=e,t.y=n,this.clearCache())},i.prototype.getBBox=function(){var r=this.get(Xh);return r||(r=this.calculateBBox(),this.set(Xh,r)),r},i.prototype.getCanvasBBox=function(){var r=this.get(Vh);return r||(r=this.calculateCanvasBBox(),this.set(Vh,r)),r},i.prototype.toFront=function(){var r=this.get("group");r.toFront()},i.prototype.toBack=function(){var r=this.get("group");r.toBack()},i.prototype.show=function(){this.changeVisibility(!0)},i.prototype.hide=function(){this.changeVisibility(!1)},i.prototype.changeVisibility=function(r){var t=this.get("group");r?t.show():t.hide(),this.set("visible",r)},i.prototype.isVisible=function(){return this.get("visible")},i.prototype.enableCapture=function(r){var t=this.get("group");t&&t.set("capture",r)},i.prototype.destroy=function(){if(!this.destroyed){var r=this.get("animate"),t=this.get("group");r&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},i}(),yx=v3,ou={source:"start",target:"end"},Ta="Node",$o="Point",d3="Anchor",p3=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},r.prototype.setEnd=function(t,e){var n=ou[t]+$o,a=t+Ta,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,f.isPlainObject)(e)?(this.set(n,e),this.set(a,null)):(e.addEdge(this),this.set(a,e),this.set(n,null))},r.prototype.getLinkPoint=function(t,e,n){var a=ou[t]+$o,o=t+Ta,s=this.get(a);if(!s){var l=this.get(o),u=t+d3,h=this.getPrePoint(t,n),c=e[u];(0,f.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(h),(0,f.isNil)(s.index)||this.set(t+"AnchorIndex",s.index)}return s},r.prototype.getPrePoint=function(t,e){if(e&&e.length){var n=t==="source"?0:e.length-1;return e[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},r.prototype.getEndPoint=function(t){var e=t+Ta,n=ou[t]+$o,a=this.get(e);return a?a.get("model"):this.get(n)},r.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.shape||t.type;return a.getControlPoints(o,{startPoint:e,endPoint:n})},r.prototype.getEndCenter=function(t){var e=t+Ta,n=ou[t]+$o,a=this.get(e);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},r.prototype.init=function(){i.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},r.prototype.getShapeCfg=function(t){var e=this,n=e.get("linkCenter"),a=i.prototype.getShapeCfg.call(this,t);if(n)a.startPoint=e.getEndCenter("source"),a.endPoint=e.getEndCenter("target");else{var o=a.controlPoints||e.getControlPointsByCenter(a);a.startPoint=e.getLinkPoint("source",t,o),a.endPoint=e.getLinkPoint("target",t,o)}return a.sourceNode=e.get("sourceNode"),a.targetNode=e.get("targetNode"),a},r.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Ta),n=this.get("target"+Ta);return e?delete t["source"+Ta]:t.source=this.get("start"+$o),n?delete t["target"+Ta]:t.target=this.get("end"+$o),!(0,f.isString)(t.source)&&!(0,f.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,f.isString)(t.target)&&!(0,f.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},r.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},r.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},r.prototype.getSource=function(){return this.get("source")},r.prototype.getTarget=function(){return this.get("target")},r.prototype.updatePosition=function(){},r.prototype.update=function(t){var e=this.get("model"),n=e.visible,a=t.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o=this.get("styles");if(t.stateStyles){var s=t.stateStyles;(0,f.mix)(o,s),delete t.stateStyles}Object.assign(e,t),this.updateShape(),this.afterUpdate(),this.clearCache()},r.prototype.destroy=function(){var t=this.get("source"+Ta),e=this.get("target"+Ta);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),i.prototype.destroy.call(this)},r}(yx),g3=p3,Bs=d(66974),Hh="anchorPointsCache",y3="bboxCache",m3=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getNearestPoint=function(t,e){for(var n=0,a=t[0],o=Ls(t[0],e),s=0;s<t.length;s++){var l=t[s],u=Ls(l,e);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},r.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},r.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},r.prototype.getNeighbors=function(t){var e=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===e};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===e};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===e?u.getTarget():u.getSource()};return n.map(s)},r.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},r.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),n=e.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=(l.maxX+l.minX)/2,s=(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),h;switch(n){case"circle":h=km({x:o,y:s,r:l.width/2},t);break;case"ellipse":h=Bm({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:h=Im(l,t)}var c=h;return u.length&&(c||(c=t),c=this.getNearestPoint(u,c)),c||(c={x:o,y:s}),c},r.prototype.getAnchorPoints=function(){var t=this.get(Hh);if(!t){t=[];var e=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.shape||a.type,l=e.getAnchorPoints(s,o)||[];(0,dn.default)(l,function(u,h){var c=(0,Bs.default)({x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height},u[2],{index:h});t.push(c)}),this.set(Hh,t)}return t},r.prototype.addEdge=function(t){this.get("edges").push(t)},r.prototype.lock=function(){this.set("locked",!0)},r.prototype.unlock=function(){this.set("locked",!1)},r.prototype.hasLocked=function(){return this.get("locked")},r.prototype.removeEdge=function(t){var e=this.getEdges(),n=e.indexOf(t);n>-1&&e.splice(n,1)},r.prototype.clearCache=function(){this.set(y3,null),this.set(Hh,null)},r.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!(0,di.default)(t.x),n=!(0,di.default)(t.y),a=Object.keys(t);return a.length===1&&(e||n)||a.length===2&&e&&n},r}(yx),mx=m3,x3="bboxCache",xx="bboxCanvasCache",Wh="sizeCache",b3="anchorPointsCache",w3=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},r.prototype.getShapeCfg=function(t){var e=this.get("styles"),n=this.get("bbox");if(e&&n){var a=t,o={r:Math.hypot(n.height,n.width)/2||ke.defaultCombo.size[0]/2,width:n.width||ke.defaultCombo.size[0],height:n.height||ke.defaultCombo.size[1]};a.style=(0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)({},e),t.style),o);var s=t.padding||ke.defaultCombo.padding;return(0,pa.default)(s)?(o.r+=s,o.width+=s*2,o.height+=s*2):(o.r+=s[0],o.width+=s[1]+s[3]||s[1]*2,o.height+=s[0]+s[2]||s[0]*2),this.set(Wh,o),a}return t},r.prototype.calculateCanvasBBox=function(){var t=this.get("keyShape"),e=this.get("group"),n=ru(t,e);n.x=n.minX,n.y=n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;var a=this.get(Wh);if(a){var o=t.get("type");o==="circle"?(n.width=a.r*2,n.height=a.r*2):(n.width=a.width,n.height=a.height),n.minX=n.centerX-n.width/2,n.minY=n.centerY-n.height/2,n.maxX=n.centerX+n.width/2,n.maxY=n.centerY+n.height/2}else n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2;return n},r.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},r.prototype.getNodes=function(){var t=this;return t.get("nodes")},r.prototype.getCombos=function(){var t=this;return t.get("combos")},r.prototype.addChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},r.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},r.prototype.removeChild=function(t){var e=this,n=t.getType();switch(n){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},r.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),n=e.indexOf(t);return n>-1?(e.splice(n,1),!0):!1}},r.prototype.isOnlyMove=function(t){return!1},r.prototype.getBBox=function(){this.set(xx,null);var t=this.calculateCanvasBBox();return t},r.prototype.clearCache=function(){this.set(x3,null),this.set(xx,null),this.set(b3,null)},r.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(Wh,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},r}(mx),S3=w3,su="node",lu="edge",bx="vedge",uu="combo",C3="default",wx="Mapper",Ua="stateStyles",M3=Object.hasOwnProperty,E3=function(){function i(r){this.graph=r,this.destroyed=!1}return i.prototype.addItem=function(r,t){var e=this,n=this.graph,a=r===bx?lu:r,o=n.get(a+"Group")||n.get("group"),s=(0,ax.default)(a),l=null,u=n.get(a+(0,ax.default)(Ua))||{},h=n.get(C3+s);t[Ua]&&(u=t[Ua]);var c=n.get(a+wx);if(c){var v=c(t);v[Ua]&&(u=v[Ua],delete v[Ua]),t=(0,Mi.default)({},h,t,v)}else h&&(0,dn.default)(h,function(st,lt){M3.call(t,lt)||((0,ix.default)(st)?t[lt]=(0,nx.default)(st):t[lt]=h[lt])});if(t.shape&&!t.type&&console.warn("shape \u5B57\u6BB5\u5373\u5C06\u88AB\u5E9F\u5F03\uFF0C\u8BF7\u4F7F\u7528 type \u4EE3\u66FF"),n.emit("beforeadditem",{type:r,model:t}),r===lu||r===bx){var g=void 0,A=void 0;if(g=t.source,A=t.target,g&&(0,on.default)(g)&&(g=n.findById(g)),A&&(0,on.default)(A)&&(A=n.findById(A)),!g||!A){console.warn("The source or target node of edge "+t.id+" does not exist!");return}g.getType&&g.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(g)),A.getType&&A.getType()==="combo"&&(t.isComboEdge=!0,n.updateCombo(A)),l=new g3({model:t,source:g,target:A,styles:u,linkCenter:n.get("linkCenter"),group:o.addGroup()})}else if(r===su)l=new mx({model:t,styles:u,group:o.addGroup()});else if(r===uu){var k=t.children,F=Gh(k,n);t.x=F.x||t.x||Math.random()*100,t.y=F.y||t.y||Math.random()*100;var Y=o.addGroup();Y.setZIndex(t.depth),l=new S3({model:t,styles:u,bbox:F,group:Y});var N=l.getModel();(k||[]).forEach(function(st){var lt=n.findById(st.id);l.addChild(lt),st.depth=N.depth+2}),t.collapsed&&setTimeout(function(){n.collapseCombo(l),e.updateCombo(l,[])},250)}if(l)return n.get(r+"s").push(l),n.get("itemMap")[l.get("id")]=l,n.emit("afteradditem",{item:l,model:t}),l},i.prototype.updateItem=function(r,t){var e=this.graph;if((0,on.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n="";r.getType&&(n=r.getType());var a=e.get(n+wx),o=r.getModel();if(a){var s=(0,Mi.default)({},o,t),l=a(s),u=(0,Mi.default)({},o,l,t);l[Ua]&&(r.set("styles",u[Ua]),delete u[Ua]),(0,dn.default)(u,function(g,A){t[A]=g})}else(0,dn.default)(t,function(g,A){o[A]&&(0,ix.default)(g)&&!(0,pi.default)(g)&&(t[A]=(0,Zt.__assign)((0,Zt.__assign)({},o[A]),t[A]))});if(e.emit("beforeupdateitem",{item:r,cfg:t}),n===lu){if(t.source){var h=t.source;(0,on.default)(h)&&(h=e.findById(h)),r.setSource(h)}if(t.target){var c=t.target;(0,on.default)(c)&&(c=e.findById(c)),r.setTarget(c)}}if(r.update(t),n===su||n===uu){var v=r.getEdges();(0,dn.default)(v,function(g){g.refresh()})}e.emit("afterupdateitem",{item:r,cfg:t})}},i.prototype.updateCombo=function(r,t){var e=this.graph;if((0,on.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=Gh(t,e);r.set("bbox",n),r.update({x:n.x,y:n.y});for(var a=r.getEdges()||[],o=a.length,s=0;s<o;s++){var l=a[s];l==null||l.refresh()}}},i.prototype.collapseCombo=function(r){var t=this.graph;(0,on.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.hideItem(n)}),e.combos.forEach(function(n){t.hideItem(n)})},i.prototype.expandCombo=function(r){var t=this.graph;(0,on.default)(r)&&(r=t.findById(r));var e=r.getChildren();e.nodes.forEach(function(n){t.showItem(n)}),e.combos.forEach(function(n){n.getModel().collapsed?n.show():t.showItem(n)})},i.prototype.removeItem=function(r){var t=this,e=this.graph;if((0,on.default)(r)&&(r=e.findById(r)),!(!r||r.destroyed)){var n=(0,nx.default)(r.getModel());e.emit("beforeremoveitem",{item:n});var a="";r.getType&&(a=r.getType());var o=e.get(a+"s"),s=o.indexOf(r);if(s>-1&&o.splice(s,1),a===lu){var l=e.get("v"+a+"s"),u=l.indexOf(r);u>-1&&l.splice(u,1)}var h=r.get("id"),c=e.get("itemMap");delete c[h];var v=e.get("comboTrees"),g=r.get("id");if(a===su){var A=r.getModel().comboId;if(v){var k=v,F=!1;v.forEach(function(zt){F||Ii(zt,function(Wt){if(Wt.id===g&&k){var Qt=k.indexOf(Wt);return k.splice(Qt,1),F=!0,!1}return k=Wt.children,!0})})}for(var Y=r.getEdges(),N=Y.length-1;N>=0;N--)e.removeItem(Y[N],!1);A&&e.updateCombo(A)}else if(a===uu){var st=r.getModel().parentId,lt,At=!1;(v||[]).forEach(function(Wt){At||Ii(Wt,function(Qt){return Qt.id===g?(lt=Qt,At=!0,!1):!0})}),lt.removed=!0,lt&&lt.children&&lt.children.forEach(function(Wt){t.removeItem(Wt.id)});for(var Y=r.getEdges(),N=Y.length;N>=0;N--)e.removeItem(Y[N],!1);st&&e.updateCombo(st)}r.destroy(),e.emit("afterremoveitem",{item:n})}},i.prototype.setItemState=function(r,t,e){var n=this.graph,a=t;(0,on.default)(e)&&(a=t+":"+e),!(r.hasState(a)===e||(0,on.default)(e)&&r.hasState(a))&&(n.emit("beforeitemstatechange",{item:r,state:a,enabled:e}),r.setState(t,e),n.autoPaint(),n.emit("afteritemstatechange",{item:r,state:a,enabled:e}))},i.prototype.priorityState=function(r,t){var e=this.graph,n=r;(0,on.default)(r)&&(n=e.findById(r)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},i.prototype.clearItemStates=function(r,t){var e=this.graph;(0,on.default)(r)&&(r=e.findById(r)),e.emit("beforeitemstatesclear",{item:r,states:t}),r.clearStates(t),e.emit("afteritemstatesclear",{item:r,states:t})},i.prototype.refreshItem=function(r){var t=this.graph;(0,on.default)(r)&&(r=t.findById(r)),t.emit("beforeitemrefresh",{item:r}),r.refresh(),t.emit("afteritemrefresh",{item:r})},i.prototype.addCombos=function(r,t){var e=this,n=this.graph;(r||[]).forEach(function(o){sa(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&e.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},i.prototype.changeItemVisibility=function(r,t){var e=this,n=this.graph;if((0,on.default)(r)&&(r=n.findById(r)),!r){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:r,visible:t}),r.changeVisibility(t),r.getType&&r.getType()===su){var a=r.getEdges();(0,dn.default)(a,function(h){t&&!(h.get("source").isVisible()&&h.get("target").isVisible())||e.changeItemVisibility(h,t)})}else if(r.getType&&r.getType()===uu){var o=n.get("comboTrees"),s=r.get("id"),l=[],u=!1;(o||[]).forEach(function(c){u||!c.children||c.children.length===0||Ii(c,function(v){return v.id===s?(l=v.children,u=!0,!1):!0})}),l.forEach(function(c){var v=n.findById(c.id);e.changeItemVisibility(v,t)});var a=r.getEdges();(0,dn.default)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||e.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:r,visible:t}),r},i.prototype.destroy=function(){this.graph=null,this.destroyed=!0},i}(),A3=E3,la=function(){function i(){this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1}return i.prototype.init=function(r){var t=this;t.nodes=r.nodes||[],t.edges=r.edges||[],t.combos=r.combos||[]},i.prototype.execute=function(){},i.prototype.layout=function(r){var t=this;t.init(r),t.execute()},i.prototype.getDefaultCfg=function(){return{}},i.prototype.updateCfg=function(r){var t=this;(0,Bs.default)(t,r)},i.prototype.destroy=function(){var r=this;r.positions=null,r.nodes=null,r.edges=null,r.destroyed=!0},i}(),Sx={registerLayout:function(r,t,e){if(e===void 0&&(e=la),!t)throw new Error("please specify handler for this layout: "+r);var n=function(a){(0,Zt.__extends)(o,a);function o(s){var l=a.call(this)||this,u=l,h={},c=u.getDefaultCfg();return(0,Bs.default)(h,c,t,s),(0,dn.default)(h,function(v,g){u[g]=v}),l}return o}(e);Sx[r]=n}},Cx=Sx;function _3(i,r,t,e){i.forEach(function(n,a){i[a].children=[],i[a].parent=[]}),e?r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].parent.push(i[a].id)}):r.forEach(function(n){var a=0;n.source&&(a=t[n.source]);var o=0;n.target&&(o=t[n.target]),i[a].children.push(i[o].id),i[o].children.push(i[a].id)})}function T3(i,r,t){for(var e=t.length,n=0;n<e;n++)if(i.id===t[n].source&&r.id===t[n].target||r.id===t[n].source&&i.id===t[n].target)return!0;return!1}function P3(i,r){return i.degree<r.degree?-1:i.degree>r.degree?1:0}var L3=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.radius=null,t.startRadius=null,t.endRadius=null,t.startAngle=0,t.endAngle=2*Math.PI,t.clockwise=!0,t.divisions=1,t.ordering=null,t.angleRatio=1,t.nodes=[],t.edges=[],t.nodeMap={},t.degrees=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.radius,l=t.startRadius,u=t.endRadius,h=t.divisions,c=t.startAngle,v=t.endAngle,g=(v-c)/a,A={};e.forEach(function(Vt,te){A[Vt.id]=te}),t.nodeMap=A;var k=Ql(e.length,A,n);t.degrees=k,!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),!s&&!l&&!u?s=t.height>t.width?t.width/2:t.height/2:!l&&u?l=u:l&&!u&&(u=l);var F=t.angleRatio,Y=g*F;t.astep=Y;var N=t.ordering,st=[];N==="topology"?st=t.topologyOrdering():N==="topology-directed"?st=t.topologyOrdering(!0):N==="degree"?st=t.degreeOrdering():st=e;for(var lt=t.clockwise,At=Math.ceil(a/h),zt=0;zt<a;++zt){var Wt=s;!Wt&&l!==null&&u!==null&&(Wt=l+zt*(u-l)/(a-1)),Wt||(Wt=10+zt*100/(a-1));var Qt=c+zt%At*Y+2*Math.PI/h*Math.floor(zt/At);lt||(Qt=v-zt%At*Y-2*Math.PI/h*Math.floor(zt/At)),st[zt].x=o[0]+Math.cos(Qt)*Wt,st[zt].y=o[1]+Math.sin(Qt)*Wt,st[zt].weight=k[zt]}}},r.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var e=this,n=e.degrees,a=e.edges,o=e.nodes,s=(0,f.clone)(o),l=e.nodeMap,u=[s[0]],h=[o[0]],c=[],v=o.length;c[0]=!0,_3(s,a,l,t);var g=0;return s.forEach(function(A,k){if(k!==0)if((k===v-1||n[k]!==n[k+1]||T3(u[g],A,a))&&c[k]!==!0)u.push(A),h.push(o[l[A.id]]),c[k]=!0,g++;else{for(var F=u[g].children,Y=!1,N=0;N<F.length;N++){var st=l[F[N]];if(n[st]===n[k]&&c[st]!==!0){u.push(s[st]),h.push(o[l[s[st].id]]),c[st]=!0,Y=!0;break}}for(var lt=0;!Y&&(c[lt]||(u.push(s[lt]),h.push(o[l[s[lt].id]]),c[lt]=!0,Y=!0),lt++,lt!==v););}}),h},r.prototype.degreeOrdering=function(){var t=this,e=t.nodes,n=[],a=t.degrees;return e.forEach(function(o,s){o.degree=a[s],n.push(o)}),n.sort(P3),n},r}(la),O3=L3,I3=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeSize=30,t.minNodeSpacing=10,t.preventOverlap=!1,t.equidistant=!1,t.startAngle=3/2*Math.PI,t.clockwise=!0,t.sortBy="degree",t.nodes=[],t.edges=[],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=e.length,o=t.center;if(a!==0){if(a===1){e[0].x=o[0],e[0].y=o[1];return}var s=[],l;(0,pi.default)(t.nodeSize)?l=Math.max(t.nodeSize[0],t.nodeSize[1]):l=t.nodeSize,e.forEach(function(Qt){s.push(Qt);var Vt=l;(0,pi.default)(Qt.size)?Vt=Math.max(Qt.size[0],Qt.size[1]):(0,f.isNumber)(Qt.size)&&(Vt=Qt.size),l=Math.max(l,Vt)}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.clockwise=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise;var u={},h={};if(s.forEach(function(Qt,Vt){u[Qt.id]=Qt,h[Qt.id]=Vt}),(t.sortBy==="degree"||!(0,on.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",!(0,f.isNumber)(e[0].degree))){var c=Ql(e.length,h,n);s.forEach(function(Qt,Vt){Qt.degree=c[Vt]})}s.sort(function(Qt,Vt){return Vt[t.sortBy]-Qt[t.sortBy]}),t.maxValueNode=s[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var v=[[]],g=v[0];s.forEach(function(Qt){if(g.length>0){var Vt=Math.abs(g[0][t.sortBy]-Qt[t.sortBy]);t.maxLevelDiff&&Vt>=t.maxLevelDiff&&(g=[],v.push(g))}g.push(Qt)});var A=l+t.minNodeSpacing;if(!t.preventOverlap){var k=v.length>0&&v[0].length>1,F=Math.min(t.width,t.height)/2-A,Y=F/(v.length+(k?1:0));A=Math.min(A,Y)}var N=0;if(v.forEach(function(Qt){var Vt=t.sweep;Vt===void 0&&(Vt=2*Math.PI-2*Math.PI/Qt.length);var te=Qt.dTheta=Vt/Math.max(1,Qt.length-1);if(Qt.length>1&&t.preventOverlap){var le=Math.cos(te)-Math.cos(0),ae=Math.sin(te)-Math.sin(0),Se=Math.sqrt(A*A/(le*le+ae*ae));N=Math.max(Se,N)}Qt.r=N,N+=A}),t.equidistant){for(var st=0,lt=0,At=0;At<v.length;At++){var zt=v[At],Wt=zt.r-lt;st=Math.max(st,Wt)}lt=0,v.forEach(function(Qt,Vt){Vt===0&&(lt=Qt.r),Qt.r=lt,lt+=st})}v.forEach(function(Qt){var Vt=Qt.dTheta,te=Qt.r;Qt.forEach(function(le,ae){var Se=t.startAngle+(t.clockwise?1:-1)*Vt*ae;le.x=o[0]+te*Math.cos(Se),le.y=o[1]+te*Math.sin(Se)})})}},r}(la),k3=I3,B3=d(49772),Mx=d.n(B3),D3=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.rankdir="TB",t.nodesep=50,t.ranksep=50,t.controlPoints=!1,t.sortByCombo=!1,t}return r.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.nodeSize,a=t.rankdir;if(!!e){var o=t.edges||[],s=new(Mx()).graphlib.Graph,l;n?(0,pi.default)(n)?l=function(){return n}:l=function(){return[n,n]}:l=function(g){return g.size?(0,pi.default)(g.size)?g.size:[g.size,g.size]:[40,40]};var u=fu(t.nodesepFunc,t.nodesep,50),h=fu(t.ranksepFunc,t.ranksep,50);(a==="LR"||a==="RL")&&(u=fu(t.ranksepFunc,t.ranksep,50),h=fu(t.nodesepFunc,t.nodesep,50)),s.setDefaultEdgeLabel(function(){return{}}),s.setGraph(t),e.forEach(function(v){var g=l(v),A=h(v),k=u(v),F=g[0]+2*k,Y=g[1]+2*A;s.setNode(v.id,{width:F,height:Y})}),o.forEach(function(v){s.setEdge(v.source,v.target,{weight:v.weight||1})}),Mx().layout(s);var c;s.nodes().forEach(function(v){c=s.node(v);var g=e.findIndex(function(A){return A.id===v});e[g].x=c.x,e[g].y=c.y}),s.edges().forEach(function(v){c=s.edge(v);var g=o.findIndex(function(A){return A.source===v.v&&A.target===v.w});t.controlPoints&&o[g].type!=="loop"&&o[g].shape!=="loop"&&(o[g].controlPoints=c.points.slice(1,c.points.length-1))}),t.sortByCombo&&t.sortLevel("comboId")}},r.prototype.sortLevel=function(t){var e=this,n=e.nodes,a={};n.forEach(function(o){a[o.y]||(a[o.y]={y:o.y,nodes:[]}),a[o.y].nodes.push(o)}),Object.keys(a).forEach(function(o){var s=a[o].nodes,l=s.length,u={};if(s.forEach(function(k){var F=k.comboId;u[F]||(u[F]={x:0,y:0,count:0}),u[F].x+=k.x,u[F].y+=k.y,u[F].count++}),Object.keys(u).forEach(function(k){u[k].x/=u[k].count,u[k].y/=u[k].count}),l!==1){var h=s.sort(function(k,F){return k.x-F.x}),c=h[0].x,v=h[l-1].x,g=(v-c)/(l-1),A=s.sort(function(k,F){var Y=k[t]||"undefined",N=F[t]||"undefined";return Y<N?-1:Y>N?1:0});A.forEach(function(k,F){k.x=c+F*g})}})},r}(la),F3=D3;function fu(i,r,t){var e;return i?e=i:(0,f.isNumber)(r)?e=function(){return r}:e=function(){return t},e}function R3(i){const r=+this._x.call(null,i),t=+this._y.call(null,i);return Ex(this.cover(r,t),r,t,i)}function Ex(i,r,t,e){if(isNaN(r)||isNaN(t))return i;var n,a=i._root,o={data:e},s=i._x0,l=i._y0,u=i._x1,h=i._y1,c,v,g,A,k,F,Y,N;if(!a)return i._root=o,i;for(;a.length;)if((k=r>=(c=(s+u)/2))?s=c:u=c,(F=t>=(v=(l+h)/2))?l=v:h=v,n=a,!(a=a[Y=F<<1|k]))return n[Y]=o,i;if(g=+i._x.call(null,a.data),A=+i._y.call(null,a.data),r===g&&t===A)return o.next=a,n?n[Y]=o:i._root=o,i;do n=n?n[Y]=new Array(4):i._root=new Array(4),(k=r>=(c=(s+u)/2))?s=c:u=c,(F=t>=(v=(l+h)/2))?l=v:h=v;while((Y=F<<1|k)==(N=(A>=v)<<1|g>=c));return n[N]=a,n[Y]=o,i}function N3(i){var r,t,e=i.length,n,a,o=new Array(e),s=new Array(e),l=Infinity,u=Infinity,h=-Infinity,c=-Infinity;for(t=0;t<e;++t)isNaN(n=+this._x.call(null,r=i[t]))||isNaN(a=+this._y.call(null,r))||(o[t]=n,s[t]=a,n<l&&(l=n),n>h&&(h=n),a<u&&(u=a),a>c&&(c=a));if(l>h||u>c)return this;for(this.cover(l,u).cover(h,c),t=0;t<e;++t)Ex(this,o[t],s[t],i[t]);return this}function G3(i,r){if(isNaN(i=+i)||isNaN(r=+r))return this;var t=this._x0,e=this._y0,n=this._x1,a=this._y1;if(isNaN(t))n=(t=Math.floor(i))+1,a=(e=Math.floor(r))+1;else{for(var o=n-t||1,s=this._root,l,u;t>i||i>=n||e>r||r>=a;)switch(u=(r<e)<<1|i<t,l=new Array(4),l[u]=s,s=l,o*=2,u){case 0:n=t+o,a=e+o;break;case 1:t=n-o,a=e+o;break;case 2:n=t+o,e=a-o;break;case 3:t=n-o,e=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=t,this._y0=e,this._x1=n,this._y1=a,this}function Y3(){var i=[];return this.visit(function(r){if(!r.length)do i.push(r.data);while(r=r.next)}),i}function z3(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Gi(i,r,t,e,n){this.node=i,this.x0=r,this.y0=t,this.x1=e,this.y1=n}function X3(i,r,t){var e,n=this._x0,a=this._y0,o,s,l,u,h=this._x1,c=this._y1,v=[],g=this._root,A,k;for(g&&v.push(new Gi(g,n,a,h,c)),t==null?t=Infinity:(n=i-t,a=r-t,h=i+t,c=r+t,t*=t);A=v.pop();)if(!(!(g=A.node)||(o=A.x0)>h||(s=A.y0)>c||(l=A.x1)<n||(u=A.y1)<a))if(g.length){var F=(o+l)/2,Y=(s+u)/2;v.push(new Gi(g[3],F,Y,l,u),new Gi(g[2],o,Y,F,u),new Gi(g[1],F,s,l,Y),new Gi(g[0],o,s,F,Y)),(k=(r>=Y)<<1|i>=F)&&(A=v[v.length-1],v[v.length-1]=v[v.length-1-k],v[v.length-1-k]=A)}else{var N=i-+this._x.call(null,g.data),st=r-+this._y.call(null,g.data),lt=N*N+st*st;if(lt<t){var At=Math.sqrt(t=lt);n=i-At,a=r-At,h=i+At,c=r+At,e=g.data}}return e}function V3(i){if(isNaN(h=+this._x.call(null,i))||isNaN(c=+this._y.call(null,i)))return this;var r,t=this._root,e,n,a,o=this._x0,s=this._y0,l=this._x1,u=this._y1,h,c,v,g,A,k,F,Y;if(!t)return this;if(t.length)for(;;){if((A=h>=(v=(o+l)/2))?o=v:l=v,(k=c>=(g=(s+u)/2))?s=g:u=g,r=t,!(t=t[F=k<<1|A]))return this;if(!t.length)break;(r[F+1&3]||r[F+2&3]||r[F+3&3])&&(e=r,Y=F)}for(;t.data!==i;)if(n=t,!(t=t.next))return this;return(a=t.next)&&delete t.next,n?(a?n.next=a:delete n.next,this):r?(a?r[F]=a:delete r[F],(t=r[0]||r[1]||r[2]||r[3])&&t===(r[3]||r[2]||r[1]||r[0])&&!t.length&&(e?e[Y]=t:this._root=t),this):(this._root=a,this)}function H3(i){for(var r=0,t=i.length;r<t;++r)this.remove(i[r]);return this}function W3(){return this._root}function j3(){var i=0;return this.visit(function(r){if(!r.length)do++i;while(r=r.next)}),i}function U3(i){var r=[],t,e=this._root,n,a,o,s,l;for(e&&r.push(new Gi(e,this._x0,this._y0,this._x1,this._y1));t=r.pop();)if(!i(e=t.node,a=t.x0,o=t.y0,s=t.x1,l=t.y1)&&e.length){var u=(a+s)/2,h=(o+l)/2;(n=e[3])&&r.push(new Gi(n,u,h,s,l)),(n=e[2])&&r.push(new Gi(n,a,h,u,l)),(n=e[1])&&r.push(new Gi(n,u,o,s,h)),(n=e[0])&&r.push(new Gi(n,a,o,u,h))}return this}function Z3(i){var r=[],t=[],e;for(this._root&&r.push(new Gi(this._root,this._x0,this._y0,this._x1,this._y1));e=r.pop();){var n=e.node;if(n.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,h=(o+l)/2,c=(s+u)/2;(a=n[0])&&r.push(new Gi(a,o,s,h,c)),(a=n[1])&&r.push(new Gi(a,h,s,l,c)),(a=n[2])&&r.push(new Gi(a,o,c,h,u)),(a=n[3])&&r.push(new Gi(a,h,c,l,u))}t.push(e)}for(;e=t.pop();)i(e.node,e.x0,e.y0,e.x1,e.y1);return this}function K3(i){return i[0]}function $3(i){return arguments.length?(this._x=i,this):this._x}function Q3(i){return i[1]}function J3(i){return arguments.length?(this._y=i,this):this._y}function jh(i,r,t){var e=new Uh(r==null?K3:r,t==null?Q3:t,NaN,NaN,NaN,NaN);return i==null?e:e.addAll(i)}function Uh(i,r,t,e,n,a){this._x=i,this._y=r,this._x0=t,this._y0=e,this._x1=n,this._y1=a,this._root=void 0}function Ax(i){for(var r={data:i.data},t=r;i=i.next;)t=t.next={data:i.data};return r}var Yi=jh.prototype=Uh.prototype;Yi.copy=function(){var i=new Uh(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,t,e;if(!r)return i;if(!r.length)return i._root=Ax(r),i;for(t=[{source:r,target:i._root=new Array(4)}];r=t.pop();)for(var n=0;n<4;++n)(e=r.source[n])&&(e.length?t.push({source:e,target:r.target[n]=new Array(4)}):r.target[n]=Ax(e));return i},Yi.add=R3,Yi.addAll=N3,Yi.cover=G3,Yi.data=Y3,Yi.extent=z3,Yi.find=X3,Yi.remove=V3,Yi.removeAll=H3,Yi.root=W3,Yi.size=j3,Yi.visit=U3,Yi.visitAfter=Z3,Yi.x=$3,Yi.y=J3;function zi(i){return function(){return i}}function so(i){return(i()-.5)*1e-6}var q3={value:function(){}};function _x(){for(var i=0,r=arguments.length,t={},e;i<r;++i){if(!(e=arguments[i]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new hu(t)}function hu(i){this._=i}function tN(i,r){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}hu.prototype=_x.prototype={constructor:hu,on:function(r,t){var e=this._,n=tN(r+"",e),a,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((a=(r=n[o]).type)&&(a=eN(e[a],r.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(a=(r=n[o]).type)e[a]=Tx(e[a],r.name,t);else if(t==null)for(a in e)e[a]=Tx(e[a],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new hu(r)},call:function(r,t){if((a=arguments.length-2)>0)for(var e=new Array(a),n=0,a,o;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,a=o.length;n<a;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],a=0,o=n.length;a<o;++a)n[a].value.apply(t,e)}};function eN(i,r){for(var t=0,e=i.length,n;t<e;++t)if((n=i[t]).name===r)return n.value}function Tx(i,r,t){for(var e=0,n=i.length;e<n;++e)if(i[e].name===r){i[e]=q3,i=i.slice(0,e).concat(i.slice(e+1));break}return t!=null&&i.push({name:r,value:t}),i}var rN=_x,nN=d(35374),iN=1664525,aN=1013904223,Px=4294967296;function oN(){var i=1;return function(){return(i=(iN*i+aN)%Px)/Px}}function sN(i){return i.x}function lN(i){return i.y}var uN=10,fN=Math.PI*(3-Math.sqrt(5));function Lx(i){var r,t=1,e=.001,n=1-Math.pow(e,1/300),a=0,o=.6,s=new Map,l=(0,nN.HT)(c),u=rN("tick","end"),h=oN();i==null&&(i=[]);function c(){v(),u.call("tick",r),t<e&&(l.stop(),u.call("end",r))}function v(k){var F,Y=i.length,N;k===void 0&&(k=1);for(var st=0;st<k;++st)for(t+=(a-t)*n,s.forEach(function(lt){lt(t)}),F=0;F<Y;++F)N=i[F],N.fx==null?N.x+=N.vx*=o:(N.x=N.fx,N.vx=0),N.fy==null?N.y+=N.vy*=o:(N.y=N.fy,N.vy=0);return r}function g(){for(var k=0,F=i.length,Y;k<F;++k){if(Y=i[k],Y.index=k,Y.fx!=null&&(Y.x=Y.fx),Y.fy!=null&&(Y.y=Y.fy),isNaN(Y.x)||isNaN(Y.y)){var N=uN*Math.sqrt(.5+k),st=k*fN;Y.x=N*Math.cos(st),Y.y=N*Math.sin(st)}(isNaN(Y.vx)||isNaN(Y.vy))&&(Y.vx=Y.vy=0)}}function A(k){return k.initialize&&k.initialize(i,h),k}return g(),r={tick:v,restart:function(){return l.restart(c),r},stop:function(){return l.stop(),r},nodes:function(F){return arguments.length?(i=F,g(),s.forEach(A),r):i},alpha:function(F){return arguments.length?(t=+F,r):t},alphaMin:function(F){return arguments.length?(e=+F,r):e},alphaDecay:function(F){return arguments.length?(n=+F,r):+n},alphaTarget:function(F){return arguments.length?(a=+F,r):a},velocityDecay:function(F){return arguments.length?(o=1-F,r):1-o},randomSource:function(F){return arguments.length?(h=F,s.forEach(A),r):h},force:function(F,Y){return arguments.length>1?(Y==null?s.delete(F):s.set(F,A(Y)),r):s.get(F)},find:function(F,Y,N){var st=0,lt=i.length,At,zt,Wt,Qt,Vt;for(N==null?N=Infinity:N*=N,st=0;st<lt;++st)Qt=i[st],At=F-Qt.x,zt=Y-Qt.y,Wt=At*At+zt*zt,Wt<N&&(Vt=Qt,N=Wt);return Vt},on:function(F,Y){return arguments.length>1?(u.on(F,Y),r):u.on(F)}}}function Ox(){var i,r,t,e,n=zi(-30),a,o=1,s=Infinity,l=.81;function u(g){var A,k=i.length,F=jh(i,sN,lN).visitAfter(c);for(e=g,A=0;A<k;++A)r=i[A],F.visit(v)}function h(){if(!!i){var g,A=i.length,k;for(a=new Array(A),g=0;g<A;++g)k=i[g],a[k.index]=+n(k,g,i)}}function c(g){var A=0,k,F,Y=0,N,st,lt;if(g.length){for(N=st=lt=0;lt<4;++lt)(k=g[lt])&&(F=Math.abs(k.value))&&(A+=k.value,Y+=F,N+=F*k.x,st+=F*k.y);g.x=N/Y,g.y=st/Y}else{k=g,k.x=k.data.x,k.y=k.data.y;do A+=a[k.data.index];while(k=k.next)}g.value=A}function v(g,A,k,F){if(!g.value)return!0;var Y=g.x-r.x,N=g.y-r.y,st=F-A,lt=Y*Y+N*N;if(st*st/l<lt)return lt<s&&(Y===0&&(Y=so(t),lt+=Y*Y),N===0&&(N=so(t),lt+=N*N),lt<o&&(lt=Math.sqrt(o*lt)),r.vx+=Y*g.value*e/lt,r.vy+=N*g.value*e/lt),!0;if(g.length||lt>=s)return;(g.data!==r||g.next)&&(Y===0&&(Y=so(t),lt+=Y*Y),N===0&&(N=so(t),lt+=N*N),lt<o&&(lt=Math.sqrt(o*lt)));do g.data!==r&&(st=a[g.data.index]*e/lt,r.vx+=Y*st,r.vy+=N*st);while(g=g.next)}return u.initialize=function(g,A){i=g,t=A,h()},u.strength=function(g){return arguments.length?(n=typeof g=="function"?g:zi(+g),h(),u):n},u.distanceMin=function(g){return arguments.length?(o=g*g,u):Math.sqrt(o)},u.distanceMax=function(g){return arguments.length?(s=g*g,u):Math.sqrt(s)},u.theta=function(g){return arguments.length?(l=g*g,u):Math.sqrt(l)},u}function hN(i,r){var t,e=1;i==null&&(i=0),r==null&&(r=0);function n(){var a,o=t.length,s,l=0,u=0;for(a=0;a<o;++a)s=t[a],l+=s.x,u+=s.y;for(l=(l/o-i)*e,u=(u/o-r)*e,a=0;a<o;++a)s=t[a],s.x-=l,s.y-=u}return n.initialize=function(a){t=a},n.x=function(a){return arguments.length?(i=+a,n):i},n.y=function(a){return arguments.length?(r=+a,n):r},n.strength=function(a){return arguments.length?(e=+a,n):e},n}function cN(i){return i.index}function Ix(i,r){var t=i.get(r);if(!t)throw new Error("node not found: "+r);return t}function kx(i){var r=cN,t=c,e,n=zi(30),a,o,s,l,u,h=1;i==null&&(i=[]);function c(F){return 1/Math.min(s[F.source.index],s[F.target.index])}function v(F){for(var Y=0,N=i.length;Y<h;++Y)for(var st=0,lt,At,zt,Wt,Qt,Vt,te;st<N;++st)lt=i[st],At=lt.source,zt=lt.target,Wt=zt.x+zt.vx-At.x-At.vx||so(u),Qt=zt.y+zt.vy-At.y-At.vy||so(u),Vt=Math.sqrt(Wt*Wt+Qt*Qt),Vt=(Vt-a[st])/Vt*F*e[st],Wt*=Vt,Qt*=Vt,zt.vx-=Wt*(te=l[st]),zt.vy-=Qt*te,At.vx+=Wt*(te=1-te),At.vy+=Qt*te}function g(){if(!!o){var F,Y=o.length,N=i.length,st=new Map(o.map(function(At,zt){return[r(At,zt,o),At]})),lt;for(F=0,s=new Array(Y);F<N;++F)lt=i[F],lt.index=F,typeof lt.source!="object"&&(lt.source=Ix(st,lt.source)),typeof lt.target!="object"&&(lt.target=Ix(st,lt.target)),s[lt.source.index]=(s[lt.source.index]||0)+1,s[lt.target.index]=(s[lt.target.index]||0)+1;for(F=0,l=new Array(N);F<N;++F)lt=i[F],l[F]=s[lt.source.index]/(s[lt.source.index]+s[lt.target.index]);e=new Array(N),A(),a=new Array(N),k()}}function A(){if(!!o)for(var F=0,Y=i.length;F<Y;++F)e[F]=+t(i[F],F,i)}function k(){if(!!o)for(var F=0,Y=i.length;F<Y;++F)a[F]=+n(i[F],F,i)}return v.initialize=function(F,Y){o=F,u=Y,g()},v.links=function(F){return arguments.length?(i=F,g(),v):i},v.id=function(F){return arguments.length?(r=F,v):r},v.iterations=function(F){return arguments.length?(h=+F,v):h},v.strength=function(F){return arguments.length?(t=typeof F=="function"?F:zi(+F),A(),v):t},v.distance=function(F){return arguments.length?(n=typeof F=="function"?F:zi(+F),k(),v):n},v}function vN(i){return i.x+i.vx}function dN(i){return i.y+i.vy}function Bx(i){var r,t,e,n=1,a=1;typeof i!="function"&&(i=zi(i==null?1:+i));function o(){for(var u,h=r.length,c,v,g,A,k,F,Y=0;Y<a;++Y)for(c=jh(r,vN,dN).visitAfter(s),u=0;u<h;++u)v=r[u],k=t[v.index],F=k*k,g=v.x+v.vx,A=v.y+v.vy,c.visit(N);function N(st,lt,At,zt,Wt){var Qt=st.data,Vt=st.r,te=k+Vt;if(Qt){if(Qt.index>v.index){var le=g-Qt.x-Qt.vx,ae=A-Qt.y-Qt.vy,Se=le*le+ae*ae;Se<te*te&&(le===0&&(le=so(e),Se+=le*le),ae===0&&(ae=so(e),Se+=ae*ae),Se=(te-(Se=Math.sqrt(Se)))/Se*n,v.vx+=(le*=Se)*(te=(Vt*=Vt)/(F+Vt)),v.vy+=(ae*=Se)*te,Qt.vx-=le*(te=1-te),Qt.vy-=ae*te)}return}return lt>g+te||zt<g-te||At>A+te||Wt<A-te}}function s(u){if(u.data)return u.r=t[u.data.index];for(var h=u.r=0;h<4;++h)u[h]&&u[h].r>u.r&&(u.r=u[h].r)}function l(){if(!!r){var u,h=r.length,c;for(t=new Array(h),u=0;u<h;++u)c=r[u],t[c.index]=+i(c,u,r)}}return o.initialize=function(u,h){r=u,e=h,l()},o.iterations=function(u){return arguments.length?(a=+u,o):a},o.strength=function(u){return arguments.length?(n=+u,o):n},o.radius=function(u){return arguments.length?(i=typeof u=="function"?u:zi(+u),l(),o):i},o}function pN(i){var r=zi(.1),t,e,n;typeof i!="function"&&(i=zi(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vx+=(n[l]-h.x)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:zi(+s),o(),a):r},a.x=function(s){return arguments.length?(i=typeof s=="function"?s:zi(+s),o(),a):i},a}function gN(i){var r=zi(.1),t,e,n;typeof i!="function"&&(i=zi(i==null?0:+i));function a(s){for(var l=0,u=t.length,h;l<u;++l)h=t[l],h.vy+=(n[l]-h.y)*e[l]*s}function o(){if(!!t){var s,l=t.length;for(e=new Array(l),n=new Array(l),s=0;s<l;++s)e[s]=isNaN(n[s]=+i(t[s],s,t))?0:+r(t[s],s,t)}}return a.initialize=function(s){t=s,o()},a.strength=function(s){return arguments.length?(r=typeof s=="function"?s:zi(+s),o(),a):r},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:zi(+s),o(),a):i},a}function yN(){function i(Xe){return function(){return Xe}}var r=function(ar){return ar.cluster},t=i(1),e=i(-1),n=i(100),a=i(.1),o=[0,0],s=[],l={},u=[],h=100,c=100,v={none:{x:0,y:0}},g=[],A,k="force",F=!0,Y=.1;function N(Xe){if(!F)return N;A.tick(),Qt();for(var ar=0,yr=s.length,sr=void 0,or=Xe*Y;ar<yr;++ar)sr=s[ar],sr.vx+=(v[r(sr)].x-sr.x)*or,sr.vy+=(v[r(sr)].y-sr.y)*or}function st(){!s||lt()}function lt(){if(!(!s||!s.length)){if(r(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Xe=At();A=Lx(Xe.nodes).force("x",pN(h).strength(.1)).force("y",gN(c).strength(.1)).force("collide",Bx(function(ar){return ar.r}).iterations(4)).force("charge",Ox().strength(e)).force("links",kx(Xe.nodes.length?Xe.links:[]).distance(n).strength(a)),g=A.nodes(),Qt()}}function At(){var Xe=[],ar=[],yr={},sr=[],or={},xr=[];return or=zt(s),xr=Wt(u),sr=Object.keys(or),sr.forEach(function(Fr,hr){var Te=or[Fr];Xe.push({id:Fr,size:Te.count,r:Math.sqrt(Te.sumforceNodeSize/Math.PI)}),yr[Fr]=hr}),xr.forEach(function(Fr){var hr=yr[Fr.source],Te=yr[Fr.target];hr!==void 0&&Te!==void 0&&ar.push({source:hr,target:Te,count:Fr.count})}),{nodes:Xe,links:ar}}function zt(Xe){var ar={};return Xe.forEach(function(yr){var sr=r(yr);ar[sr]||(ar[sr]={count:0,sumforceNodeSize:0})}),Xe.forEach(function(yr){var sr=r(yr),or=t(yr),xr=ar[sr];xr.count=xr.count+1,xr.sumforceNodeSize=xr.sumforceNodeSize+Math.PI*(or*or)*1.3,ar[sr]=xr}),ar}function Wt(Xe){var ar={},yr=[];Xe.forEach(function(or){var xr=Vt(or),Fr=0;ar[xr]!==void 0&&(Fr=ar[xr]),Fr+=1,ar[xr]=Fr});var sr=Object.entries(ar);return sr.forEach(function(or){var xr=or[0],Fr=or[1],hr=xr.split("~")[0],Te=xr.split("~")[1];hr!==void 0&&Te!==void 0&&yr.push({source:hr,target:Te,count:Fr})}),yr}function Qt(){return v={none:{x:0,y:0}},g.forEach(function(Xe){v[Xe.id]={x:Xe.x-o[0],y:Xe.y-o[1]}}),v}function Vt(Xe){var ar=r(l[Xe.source]),yr=r(l[Xe.target]);return ar<=yr?ar+"~"+yr:yr+"~"+ar}function te(Xe){l={},Xe.forEach(function(ar){l[ar.id]=ar})}function le(Xe){return arguments.length?(k=Xe,st(),N):k}function ae(Xe){return arguments.length?typeof Xe=="string"?(r=function(yr){return yr[Xe]},N):(r=Xe,N):r}function Se(Xe){return arguments.length?(F=Xe,N):F}function _e(Xe){return arguments.length?(Y=Xe,N):Y}function Ee(Xe){return arguments.length?(h=Xe,N):h}function Fe(Xe){return arguments.length?(c=Xe,N):c}function Ne(Xe){return arguments.length?(te(Xe||[]),s=Xe||[],N):s}function Ye(Xe){return arguments.length?(u=Xe||[],st(),N):u}function Be(Xe){return arguments.length?(typeof Xe=="function"?t=Xe:t=i(+Xe),st(),N):t}function De(Xe){return arguments.length?(typeof Xe=="function"?e=Xe:e=i(+Xe),st(),N):e}function rr(Xe){return arguments.length?(typeof Xe=="function"?n=Xe:n=i(+Xe),st(),N):n}function tr(Xe){return arguments.length?(typeof Xe=="function"?a=Xe:a=i(+Xe),st(),N):a}function lr(Xe){return arguments.length?(o=Xe,N):o}return N.initialize=function(Xe){s=Xe,st()},N.template=le,N.groupBy=ae,N.enableGrouping=Se,N.strength=_e,N.centerX=Ee,N.centerY=Fe,N.nodes=Ne,N.links=Ye,N.forceNodeSize=Be,N.nodeSize=N.forceNodeSize,N.forceCharge=De,N.forceLinkDistance=rr,N.forceLinkStrength=tr,N.offset=lr,N.getFocis=Qt,N}var Za={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK"},mN=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.nodeStrength=null,t.edgeStrength=null,t.preventOverlap=!1,t.clusterNodeStrength=null,t.clusterEdgeStrength=null,t.clusterEdgeDistance=null,t.clusterNodeSize=null,t.clusterFociStrength=null,t.linkDistance=50,t.alphaDecay=.028,t.alphaMin=.001,t.alpha=.3,t.collideStrength=1,t.workerEnabled=!1,t.tick=function(){},t.onLayoutEnd=function(){},t.onTick=function(){},t.ticking=void 0,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},onTick:function(){},workerEnabled:!1}},r.prototype.init=function(t){var e=this;e.nodes=t.nodes||[];var n=t.edges||[];e.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),e.ticking=!1},r.prototype.execute=function(t){var e=this,n=e.nodes,a=e.edges;if(!e.ticking){var o=e.forceSimulation,s=e.alphaMin,l=e.alphaDecay,u=e.alpha;if(o)t&&(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(a)),o.nodes(n),e.edgeForce.links(a)),e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0;else try{var h=Ox();if(e.nodeStrength&&h.strength(e.nodeStrength),o=Lx().nodes(n),e.clustering){var c=yN();c.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=c,o.force("group",c)}if(o.force("center",hN(e.center[0],e.center[1])).force("charge",h).alpha(u).alphaDecay(l).alphaMin(s),e.preventOverlap&&e.overlapProcess(o),a){var v=kx().id(function(k){return k.id}).links(a);e.edgeStrength&&v.strength(e.edgeStrength),e.linkDistance&&v.distance(e.linkDistance),e.edgeForce=v,o.force("link",v)}if(e.workerEnabled&&!wN()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!e.workerEnabled)o.on("tick",function(){e.tick()}).on("end",function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()}),e.ticking=!0;else{o.stop();for(var g=bN(o),A=1;A<=g;A++)o.tick(),postMessage({type:Za.TICK,currentTick:A,totalTicks:g,nodes:n},void 0);e.ticking=!1}e.forceSimulation=o,e.ticking=!0}catch(k){e.ticking=!1,console.warn(k)}}},r.prototype.overlapProcess=function(t){var e=this,n=e.nodeSize,a=e.nodeSpacing,o,s,l=e.collideStrength;if((0,pa.default)(a)?s=function(){return a}:(0,$s.default)(a)?s=a:s=function(){return 0},!n)o=function(g){if(g.size){if((0,pi.default)(g.size)){var A=g.size[0]>g.size[1]?g.size[0]:g.size[1];return A/2+s(g)}return g.size/2+s(g)}return 10+s(g)};else if((0,$s.default)(n))o=function(g){var A=n(g);return A+s(g)};else if((0,pi.default)(n)){var u=n[0]>n[1]?n[0]:n[1],h=u/2;o=function(g){return h+s(g)}}else if((0,pa.default)(n)){var c=n/2;o=function(g){return c+s(g)}}else o=function(){return 10};t.force("collisionForce",Bx(o).strength(l))},r.prototype.updateCfg=function(t){var e=this;e.ticking&&(e.forceSimulation.stop(),e.ticking=!1),e.forceSimulation=null,(0,Bs.default)(e,t)},r.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},r}(la),xN=mN;function bN(i){var r=i.alphaMin(),t=i.alphaTarget(),e=i.alpha(),n=Math.log((r-t)/(e-t))/Math.log(1-i.alphaDecay()),a=Math.ceil(n);return a}function wN(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}var SN=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=500,t.gravity=10,t.clustering=!1,t.clusterGravity=10,t.linkDistance=50,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.linkStrength=1,t.nodeStrength=30,t.preventOverlap=!1,t.collideStrength=1,t.optimizeRangeFactor=1,t.tick=function(){},t.nodes=[],t.edges=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,clustering:!1,clusterGravity:10,preventOverlap:!1,nodeSpacing:void 0,collideStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}var a={},o={};e.forEach(function(s,l){a[s.id]=s,o[s.id]=l}),t.nodeMap=a,t.nodeIdxMap=o,t.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.velocityDecay,l=t.clustering,u;t.initVals(),l&&(u=t.getClusterMap());for(var h=function(F){var Y=[];e.forEach(function(N,st){Y[st]={x:0,y:0}}),t.applyCalculate(e,n,Y),l&&t.applyClusterForce(u,Y),e.forEach(function(N,st){!(0,f.isNumber)(N.x)||!(0,f.isNumber)(N.y)||(N.x+=Y[st].x*s,N.y+=Y[st].y*s)}),c.alpha+=(c.alphaTarget-c.alpha)*c.alphaDecay,t.tick()},c=this,v=0;v<a;v++)h(v);var g=[0,0];e.forEach(function(k){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(g[0]+=k.x,g[1]+=k.y)}),g[0]/=e.length,g[1]/=e.length;var A=[o[0]-g[0],o[1]-g[1]];e.forEach(function(k,F){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(k.x+=A[0],k.y+=A[1])})},r.prototype.initVals=function(){for(var t=this,e=t.edges,n={},a=0;a<e.length;++a)n[e[a].source]?n[e[a].source]++:n[e[a].source]=1,n[e[a].target]?n[e[a].target]++:n[e[a].target]=1;for(var o=[],a=0;a<e.length;++a)o[a]=n[e[a].source]/(n[e[a].source]+n[e[a].target]);this.bias=o;var s=t.nodeSize,l=t.nodeSpacing,u,h;if((0,f.isNumber)(l)?h=function(){return l}:(0,f.isFunction)(l)?h=l:h=function(){return 0},!s)u=function(At){if(At.size){if((0,f.isArray)(At.size)){var zt=At.size[0]>At.size[1]?At.size[0]:At.size[1];return zt/2+h(At)}return At.size/2+h(At)}return 10+h(At)};else if((0,f.isFunction)(s))u=function(At){var zt=s(At);return zt+h(At)};else if((0,f.isArray)(s)){var c=s[0]>s[1]?s[0]:s[1],v=c/2;u=function(At){return v+h(At)}}else if((0,f.isNumber)(s)){var g=s/2;u=function(At){return g+h(At)}}else u=function(){return 10};this.nodeSize=u;var A=this.linkDistance,k;A||(A=50),(0,f.isNumber)(A)&&(k=function(At){return A}),this.linkDistance=k;var F=this.linkStrength,Y;F||(F=1),(0,f.isNumber)(F)&&(Y=function(At){return F}),this.linkStrength=Y;var N=this.nodeStrength,st;N||(N=30),(0,f.isNumber)(N)&&(st=function(At){return N}),this.nodeStrength=st},r.prototype.getClusterMap=function(){var t=this,e=t.nodes,n={};e.forEach(function(o){if(n[o.cluster]===void 0){var s={name:o.cluster,cx:0,cy:0,count:0};n[o.cluster]=s}var l=n[o.cluster];(0,f.isNumber)(o.x)&&(l.cx+=o.x),(0,f.isNumber)(o.y)&&(l.cy+=o.y),l.count++});for(var a in n)n[a].cx/=n[a].count,n[a].cy/=n[a].count;return n},r.prototype.applyClusterForce=function(t,e){var n=this,a=n.gravity,o=n.nodes,s=n.clusterGravity||a,l=this.alpha;o.forEach(function(h,c){if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(h.y))){var v=t[h.cluster],g=h.x-v.cx,A=h.y-v.cy,k=Math.sqrt(g*g+A*A);e[c].x-=g*s*l/k,e[c].y-=A*s*l/k}});for(var u in t)t[u].cx=0,t[u].cy=0,t[u].count=0;o.forEach(function(h){var c=t[h.cluster];(0,f.isNumber)(h.x)&&(c.cx+=h.x),(0,f.isNumber)(h.y)&&(c.cy+=h.y),c.count++});for(var u in t)t[u].cx/=t[u].count,t[u].cy/=t[u].count},r.prototype.applyCalculate=function(t,e,n){var a=this,o={};t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(!(l<h)){var c=s.x-u.x,v=s.y-u.y,g=c*c+v*v;g<1&&(g=Math.sqrt(g)),c===0&&(c=Math.random()*.01,g+=c*c),v===0&&(v=Math.random()*.01,g+=v*v);var A=Math.sqrt(g);o[s.id+"-"+u.id]={vx:c,vy:v,vl:g,sqrtVl:A},o[u.id+"-"+s.id]={vx:-c,vy:-v,vl:g,sqrtVl:A}}})}),a.calRepulsive(t,n,o),a.calAttractive(e,n,o)},r.prototype.calRepulsive=function(t,e,n){var a=this.width*this.optimizeRangeFactor*this.width*this.optimizeRangeFactor,o=this.nodeStrength,s=this.alpha,l=this.collideStrength,u=this.preventOverlap,h=this.nodeSize;t.forEach(function(c,v){t.forEach(function(g,A){if(v!==A&&!(!(0,f.isNumber)(c.x)||!(0,f.isNumber)(g.x)||!(0,f.isNumber)(c.y)||!(0,f.isNumber)(g.y))){var k=n[c.id+"-"+g.id],F=k.vl,Y=k.vx,N=k.vy;if(!(F>a)&&(e[v].x+=Y*o(g)*s/F,e[v].y+=N*o(g)*s/F,u&&v<A)){var st=h(c),lt=h(g),At=st+lt;if(F<At*At){var zt=n[c.id+"-"+g.id].sqrtVl,Wt=(At-zt)/zt*l,Qt=lt*lt/(st*st+lt*lt),Vt=Y*Wt,te=N*Wt;e[v].x+=Vt*Qt,e[v].y+=te*Qt,Qt=1-Qt,e[A].x-=Vt*Qt,e[A].y-=te*Qt}}}})})},r.prototype.calAttractive=function(t,e,n){var a=this,o=this.linkDistance,s=this.alpha,l=this.linkStrength,u=this.bias;t.forEach(function(h,c){if(!(!h.source||!h.target)){var v=a.nodeIdxMap[h.source],g=a.nodeIdxMap[h.target];if(v!==g){var A=a.nodeMap[h.source],k=a.nodeMap[h.target];if(!(!(0,f.isNumber)(k.x)||!(0,f.isNumber)(A.x)||!(0,f.isNumber)(k.y)||!(0,f.isNumber)(A.y))){var F=n[h.target+"-"+h.source],Y=F.vl,N=F.sqrtVl,st=F.vx,lt=F.vy,At=(N-o(h))/N*s*l(h),zt=st*At,Wt=lt*At,Qt=u[c];e[g].x-=zt*Qt,e[g].y-=Wt*Qt,e[v].x+=zt*(1-Qt),e[v].y+=Wt*(1-Qt)}}}})},r}(la),CN=SN,MN=800,EN=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.gravity=10,t.speed=1,t.clustering=!1,t.clusterGravity=10,t.nodes=[],t.edges=[],t.width=300,t.height=300,t.nodeMap={},t.nodeIdxMap={},t}return r.prototype.getDefaultCfg=function(){return{maxIteration:1e3,center:[0,0],gravity:10,speed:1,clustering:!1,clusterGravity:10}},r.prototype.execute=function(){var t=this,e=this,n=e.nodes,a=e.center;if(!(!n||n.length===0)){if(n.length===1){n[0].x=a[0],n[0].y=a[1];return}var o={},s={};n.forEach(function(l,u){(0,f.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,f.isNumber)(l.y)||(l.y=Math.random()*t.height),o[l.id]=l,s[l.id]=u}),e.nodeMap=o,e.nodeIdxMap=s,e.run()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.edges,a=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var o=t.center,s=t.width/10,l=Math.sqrt(t.width*t.height/(e.length+1)),u=t.gravity,h=t.speed,c=t.clustering,v={};if(c){e.forEach(function(F){if(v[F.cluster]===void 0){var Y={name:F.cluster,cx:0,cy:0,count:0};v[F.cluster]=Y}var N=v[F.cluster];(0,f.isNumber)(F.x)&&(N.cx+=F.x),(0,f.isNumber)(F.y)&&(N.cy+=F.y),N.count++});for(var g in v)v[g].cx/=v[g].count,v[g].cy/=v[g].count}for(var A=function(Y){var N=[];if(e.forEach(function(At,zt){N[zt]={x:0,y:0}}),t.applyCalculate(e,n,N,l),c){var st=t.clusterGravity||u;e.forEach(function(At,zt){if(!(!(0,f.isNumber)(At.x)||!(0,f.isNumber)(At.y))){var Wt=v[At.cluster],Qt=Math.sqrt((At.x-Wt.cx)*(At.x-Wt.cx)+(At.y-Wt.cy)*(At.y-Wt.cy)),Vt=l*st;N[zt].x-=Vt*(At.x-Wt.cx)/Qt,N[zt].y-=Vt*(At.y-Wt.cy)/Qt}});for(var lt in v)v[lt].cx=0,v[lt].cy=0,v[lt].count=0;e.forEach(function(At){var zt=v[At.cluster];(0,f.isNumber)(At.x)&&(zt.cx+=At.x),(0,f.isNumber)(At.y)&&(zt.cy+=At.y),zt.count++});for(var lt in v)v[lt].cx/=v[lt].count,v[lt].cy/=v[lt].count}e.forEach(function(At,zt){if(!(!(0,f.isNumber)(At.x)||!(0,f.isNumber)(At.y))){var Wt=.01*l*u;N[zt].x-=Wt*(At.x-o[0]),N[zt].y-=Wt*(At.y-o[1])}}),e.forEach(function(At,zt){if(!(!(0,f.isNumber)(At.x)||!(0,f.isNumber)(At.y))){var Wt=Math.sqrt(N[zt].x*N[zt].x+N[zt].y*N[zt].y);if(Wt>0){var Qt=Math.min(s*(h/MN),Wt);At.x+=N[zt].x/Wt*Qt,At.y+=N[zt].y/Wt*Qt}}})},k=0;k<a;k++)A(k)},r.prototype.applyCalculate=function(t,e,n,a){var o=this;o.calRepulsive(t,n,a),o.calAttractive(e,n,a)},r.prototype.calRepulsive=function(t,e,n){t.forEach(function(a,o){e[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,f.isNumber)(a.x)||!(0,f.isNumber)(s.x)||!(0,f.isNumber)(a.y)||!(0,f.isNumber)(s.y))){var u=a.x-s.x,h=a.y-s.y,c=u*u+h*h;if(c===0){c=1;var v=o>l?1:-1;u=.01*v,h=.01*v}var g=n*n/c;e[o].x+=u*g,e[o].y+=h*g}})})},r.prototype.calAttractive=function(t,e,n){var a=this;t.forEach(function(o){if(!(!o.source||!o.target)){var s=a.nodeIdxMap[o.source],l=a.nodeIdxMap[o.target];if(s!==l){var u=a.nodeMap[o.source],h=a.nodeMap[o.target];if(!(!(0,f.isNumber)(h.x)||!(0,f.isNumber)(u.x)||!(0,f.isNumber)(h.y)||!(0,f.isNumber)(u.y))){var c=h.x-u.x,v=h.y-u.y,g=Math.sqrt(c*c+v*v),A=g*g/n;e[l].x-=c/g*A,e[l].y-=v/g*A,e[s].x+=c/g*A,e[s].y+=v/g*A}}}})},r}(la),AN=EN,_N=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.begin=[0,0],t.preventOverlap=!0,t.preventOverlapPadding=10,t.condense=!1,t.sortBy="degree",t.nodeSize=30,t.nodes=[],t.edges=[],t.center=[0,0],t.width=300,t.height=300,t.row=0,t.col=0,t.cellWidth=0,t.cellHeight=0,t.cellUsed={},t.id2manPos={},t}return r.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},r.prototype.execute=function(){var t=this,e=t.nodes,n=e.length,a=t.center;if(n!==0){if(n===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.edges,s=[];e.forEach(function(N){s.push(N)});var l={};if(s.forEach(function(N,st){l[N.id]=st}),(t.sortBy==="degree"||!(0,on.default)(t.sortBy)||s[0][t.sortBy]===void 0)&&(t.sortBy="degree",Wa(e[0].degree))){var u=Ql(s.length,l,o);s.forEach(function(N,st){N.degree=u[st]})}s.sort(function(N,st){return st[t.sortBy]-N[t.sortBy]}),!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var h=t.rows,c=t.cols!=null?t.cols:t.columns;if(t.cells=n,h!=null&&c!=null?(t.rows=h,t.cols=c):h!=null&&c==null?(t.rows=h,t.cols=Math.ceil(t.cells/t.rows)):h==null&&c!=null?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var v=t.small(),g=t.large();(v-1)*g>=t.cells?t.small(v-1):(g-1)*v>=t.cells&&t.large(g-1)}else for(;t.cols*t.rows<t.cells;){var v=t.small(),g=t.large();(g+1)*v>=t.cells?t.large(g+1):t.small(v+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&s.forEach(function(N){(!N.x||!N.y)&&(N.x=0,N.y=0);var st,lt;(0,f.isArray)(N.size)?(st=N.size[0],lt=N.size[1]):(0,f.isNumber)(N.size)&&(st=N.size,lt=N.size),(st===void 0||lt===void 0)&&((0,f.isArray)(t.nodeSize)?(st=t.nodeSize[0],lt=t.nodeSize[1]):(0,f.isNumber)(t.nodeSize)?(st=t.nodeSize,lt=t.nodeSize):(st=30,lt=30));var At=t.preventOverlapPadding,zt=st+At,Wt=lt+At;t.cellWidth=Math.max(t.cellWidth,zt),t.cellHeight=Math.max(t.cellHeight,Wt)}),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var A=0;A<s.length;A++){var k=s[A],F=void 0;if(t.position&&(F=t.position(k)),F&&(F.row!==void 0||F.col!==void 0)){var Y={row:F.row,col:F.col};if(Y.col===void 0)for(Y.col=0;t.used(Y.row,Y.col);)Y.col++;else if(Y.row===void 0)for(Y.row=0;t.used(Y.row,Y.col);)Y.row++;t.id2manPos[k.id]=Y,t.use(Y.row,Y.col)}t.getPos(k)}}},r.prototype.small=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.large=function(t){var e=this,n,a=e.rows||5,o=e.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===e.rows?e.rows=t:e.cols=t}return n},r.prototype.used=function(t,e){var n=this;return n.cellUsed["c-"+t+"-"+e]||!1},r.prototype.use=function(t,e){var n=this;n.cellUsed["c-"+t+"-"+e]=!0},r.prototype.moveToNextCell=function(){var t=this,e=t.cols||5;t.col++,t.col>=e&&(t.col=0,t.row++)},r.prototype.getPos=function(t){var e=this,n=e.begin,a=e.cellWidth,o=e.cellHeight,s,l,u=e.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;e.used(e.row,e.col);)e.moveToNextCell();s=e.col*a+a/2+n[0],l=e.row*o+o/2+n[1],e.use(e.row,e.col),e.moveToNextCell()}t.x=s,t.y=l},r}(la),TN=_N,PN=d(40670),Dx=d(81306),Fx=d(59206),cu=d(69610),vu=d(54941);const LN=Object.prototype.toString;function du(i){return LN.call(i).endsWith("Array]")}function ON(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!du(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]>o&&(o=i[s]);return o}var IN=ON;function kN(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!du(i))throw new TypeError("input must be an array");if(i.length===0)throw new TypeError("input must not be empty");var t=r.fromIndex,e=t===void 0?0:t,n=r.toIndex,a=n===void 0?i.length:n;if(e<0||e>=i.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(a<=e||a>i.length||!Number.isInteger(a))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var o=i[e],s=e+1;s<a;s++)i[s]<o&&(o=i[s]);return o}var BN=kN;function Rx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(du(i)){if(i.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(r.output!==void 0){if(!du(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(i.length);var e=BN(i),n=IN(i);if(e===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var a=r.min,o=a===void 0?r.autoMinMax?e:0:a,s=r.max,l=s===void 0?r.autoMinMax?n:1:s;if(o>=l)throw new RangeError("min option must be smaller than max option");for(var u=(l-o)/(n-e),h=0;h<i.length;h++)t[h]=(i[h]-e)*u+o;return t}var pu=" ".repeat(2),Nx=" ".repeat(4);function DN(){return Gx(this)}function Gx(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.maxRows,e=t===void 0?15:t,n=r.maxColumns,a=n===void 0?10:n,o=r.maxNumSize,s=o===void 0?8:o;return"".concat(i.constructor.name,` {
`).concat(pu,`[
`).concat(Nx).concat(FN(i,e,a,s),`
`).concat(pu,`]
`).concat(pu,"rows: ").concat(i.rows,`
`).concat(pu,"columns: ").concat(i.columns,`
}`)}function FN(i,r,t,e){for(var n=i.rows,a=i.columns,o=Math.min(n,r),s=Math.min(a,t),l=[],u=0;u<o;u++){for(var h=[],c=0;c<s;c++)h.push(RN(i.get(u,c),e));l.push("".concat(h.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-t," more columns")),o!==n&&l.push("... ".concat(n-r," more rows")),l.join(`
`.concat(Nx))}function RN(i,r){var t=String(i);if(t.length<=r)return t.padEnd(r," ");var e=i.toPrecision(r-2);if(e.length<=r)return e;var n=i.toExponential(r-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,r-o.length)+o}function NN(i,r){i.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},i.prototype.addS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e);return this},i.prototype.addM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+e.get(n,a));return this},i.add=function(e,n){var a=new r(e);return a.add(n)},i.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},i.prototype.subS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e);return this},i.prototype.subM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-e.get(n,a));return this},i.sub=function(e,n){var a=new r(e);return a.sub(n)},i.prototype.subtract=i.prototype.sub,i.prototype.subtractS=i.prototype.subS,i.prototype.subtractM=i.prototype.subM,i.subtract=i.sub,i.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},i.prototype.mulS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e);return this},i.prototype.mulM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*e.get(n,a));return this},i.mul=function(e,n){var a=new r(e);return a.mul(n)},i.prototype.multiply=i.prototype.mul,i.prototype.multiplyS=i.prototype.mulS,i.prototype.multiplyM=i.prototype.mulM,i.multiply=i.mul,i.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},i.prototype.divS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e);return this},i.prototype.divM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/e.get(n,a));return this},i.div=function(e,n){var a=new r(e);return a.div(n)},i.prototype.divide=i.prototype.div,i.prototype.divideS=i.prototype.divS,i.prototype.divideM=i.prototype.divM,i.divide=i.div,i.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},i.prototype.modS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e);return this},i.prototype.modM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%e.get(n,a));return this},i.mod=function(e,n){var a=new r(e);return a.mod(n)},i.prototype.modulus=i.prototype.mod,i.prototype.modulusS=i.prototype.modS,i.prototype.modulusM=i.prototype.modM,i.modulus=i.mod,i.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},i.prototype.andS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e);return this},i.prototype.andM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&e.get(n,a));return this},i.and=function(e,n){var a=new r(e);return a.and(n)},i.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},i.prototype.orS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e);return this},i.prototype.orM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|e.get(n,a));return this},i.or=function(e,n){var a=new r(e);return a.or(n)},i.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},i.prototype.xorS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e);return this},i.prototype.xorM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^e.get(n,a));return this},i.xor=function(e,n){var a=new r(e);return a.xor(n)},i.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},i.prototype.leftShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e);return this},i.prototype.leftShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<e.get(n,a));return this},i.leftShift=function(e,n){var a=new r(e);return a.leftShift(n)},i.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},i.prototype.signPropagatingRightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e);return this},i.prototype.signPropagatingRightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>e.get(n,a));return this},i.signPropagatingRightShift=function(e,n){var a=new r(e);return a.signPropagatingRightShift(n)},i.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},i.prototype.rightShiftS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e);return this},i.prototype.rightShiftM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>e.get(n,a));return this},i.rightShift=function(e,n){var a=new r(e);return a.rightShift(n)},i.prototype.zeroFillRightShift=i.prototype.rightShift,i.prototype.zeroFillRightShiftS=i.prototype.rightShiftS,i.prototype.zeroFillRightShiftM=i.prototype.rightShiftM,i.zeroFillRightShift=i.rightShift,i.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,~this.get(e,n));return this},i.not=function(e){var n=new r(e);return n.not()},i.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.abs(this.get(e,n)));return this},i.abs=function(e){var n=new r(e);return n.abs()},i.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acos(this.get(e,n)));return this},i.acos=function(e){var n=new r(e);return n.acos()},i.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.acosh(this.get(e,n)));return this},i.acosh=function(e){var n=new r(e);return n.acosh()},i.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asin(this.get(e,n)));return this},i.asin=function(e){var n=new r(e);return n.asin()},i.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.asinh(this.get(e,n)));return this},i.asinh=function(e){var n=new r(e);return n.asinh()},i.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atan(this.get(e,n)));return this},i.atan=function(e){var n=new r(e);return n.atan()},i.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.atanh(this.get(e,n)));return this},i.atanh=function(e){var n=new r(e);return n.atanh()},i.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cbrt(this.get(e,n)));return this},i.cbrt=function(e){var n=new r(e);return n.cbrt()},i.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.ceil(this.get(e,n)));return this},i.ceil=function(e){var n=new r(e);return n.ceil()},i.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.clz32(this.get(e,n)));return this},i.clz32=function(e){var n=new r(e);return n.clz32()},i.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cos(this.get(e,n)));return this},i.cos=function(e){var n=new r(e);return n.cos()},i.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.cosh(this.get(e,n)));return this},i.cosh=function(e){var n=new r(e);return n.cosh()},i.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.exp(this.get(e,n)));return this},i.exp=function(e){var n=new r(e);return n.exp()},i.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.expm1(this.get(e,n)));return this},i.expm1=function(e){var n=new r(e);return n.expm1()},i.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.floor(this.get(e,n)));return this},i.floor=function(e){var n=new r(e);return n.floor()},i.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.fround(this.get(e,n)));return this},i.fround=function(e){var n=new r(e);return n.fround()},i.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log(this.get(e,n)));return this},i.log=function(e){var n=new r(e);return n.log()},i.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log1p(this.get(e,n)));return this},i.log1p=function(e){var n=new r(e);return n.log1p()},i.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log10(this.get(e,n)));return this},i.log10=function(e){var n=new r(e);return n.log10()},i.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.log2(this.get(e,n)));return this},i.log2=function(e){var n=new r(e);return n.log2()},i.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.round(this.get(e,n)));return this},i.round=function(e){var n=new r(e);return n.round()},i.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sign(this.get(e,n)));return this},i.sign=function(e){var n=new r(e);return n.sign()},i.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sin(this.get(e,n)));return this},i.sin=function(e){var n=new r(e);return n.sin()},i.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sinh(this.get(e,n)));return this},i.sinh=function(e){var n=new r(e);return n.sinh()},i.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.sqrt(this.get(e,n)));return this},i.sqrt=function(e){var n=new r(e);return n.sqrt()},i.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tan(this.get(e,n)));return this},i.tan=function(e){var n=new r(e);return n.tan()},i.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.tanh(this.get(e,n)));return this},i.tanh=function(e){var n=new r(e);return n.tanh()},i.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.trunc(this.get(e,n)));return this},i.trunc=function(e){var n=new r(e);return n.trunc()},i.pow=function(e,n){var a=new r(e);return a.pow(n)},i.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},i.prototype.powS=function(e){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e));return this},i.prototype.powM=function(e){if(e=r.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),e.get(n,a)));return this}}function ya(i,r,t){var e=t?i.rows:i.rows-1;if(r<0||r>e)throw new RangeError("Row index out of range")}function ma(i,r,t){var e=t?i.columns:i.columns-1;if(r<0||r>e)throw new RangeError("Column index out of range")}function Qo(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.columns)throw new RangeError("vector size must be the same as the number of columns");return r}function Jo(i,r){if(r.to1DArray&&(r=r.to1DArray()),r.length!==i.rows)throw new RangeError("vector size must be the same as the number of rows");return r}function GN(i,r,t){return{row:YN(i,r),column:zN(i,t)}}function YN(i,r){if(typeof r!="object")throw new TypeError("unexpected type for row indices");var t=r.some(function(e){return e<0||e>=i.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function zN(i,r){if(typeof r!="object")throw new TypeError("unexpected type for column indices");var t=r.some(function(e){return e<0||e>=i.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(r)||(r=Array.from(r)),r}function Yx(i,r,t,e,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(yu("startRow",r),yu("endRow",t),yu("startColumn",e),yu("endColumn",n),r>t||e>n||r<0||r>=i.rows||t<0||t>=i.rows||e<0||e>=i.columns||n<0||n>=i.columns)throw new RangeError("Submatrix indices are out of range")}function gu(i){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<i;e++)t.push(r);return t}function yu(i,r){if(typeof r!="number")throw new TypeError("".concat(i," must be a number"))}function qo(i){if(i.isEmpty())throw new Error("Empty matrix has no elements to index")}function XN(i){for(var r=gu(i.rows),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]+=i.get(t,e);return r}function VN(i){for(var r=gu(i.columns),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]+=i.get(t,e);return r}function HN(i){for(var r=0,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r+=i.get(t,e);return r}function WN(i){for(var r=gu(i.rows,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[t]*=i.get(t,e);return r}function jN(i){for(var r=gu(i.columns,1),t=0;t<i.rows;++t)for(var e=0;e<i.columns;++e)r[e]*=i.get(t,e);return r}function UN(i){for(var r=1,t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)r*=i.get(t,e);return r}function ZN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<e;o++){for(var s=0,l=0,u=0,h=0;h<n;h++)u=i.get(o,h)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function KN(i,r,t){for(var e=i.rows,n=i.columns,a=[],o=0;o<n;o++){for(var s=0,l=0,u=0,h=0;h<e;h++)u=i.get(h,o)-t[o],s+=u,l+=u*u;r?a.push((l-s*s/e)/(e-1)):a.push((l-s*s/e)/e)}return a}function $N(i,r,t){for(var e=i.rows,n=i.columns,a=e*n,o=0,s=0,l=0,u=0;u<e;u++)for(var h=0;h<n;h++)l=i.get(u,h)-t,o+=l,s+=l*l;return r?(s-o*o/a)/(a-1):(s-o*o/a)/a}function QN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[t])}function JN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r[e])}function qN(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)-r)}function t4(i){for(var r=[],t=0;t<i.rows;t++){for(var e=0,n=0;n<i.columns;n++)e+=Math.pow(i.get(t,n),2)/(i.columns-1);r.push(Math.sqrt(e))}return r}function e4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[t])}function r4(i){for(var r=[],t=0;t<i.columns;t++){for(var e=0,n=0;n<i.rows;n++)e+=Math.pow(i.get(n,t),2)/(i.rows-1);r.push(Math.sqrt(e))}return r}function n4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r[e])}function i4(i){for(var r=i.size-1,t=0,e=0;e<i.columns;e++)for(var n=0;n<i.rows;n++)t+=Math.pow(i.get(n,e),2)/r;return Math.sqrt(t)}function a4(i,r){for(var t=0;t<i.rows;t++)for(var e=0;e<i.columns;e++)i.set(t,e,i.get(t,e)/r)}var li=function(){function i(){(0,cu.Z)(this,i)}return(0,vu.Z)(i,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);t++}return a}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,a=!0,o=!1;t<this.rows&&a;){for(e=0,o=!1;e<this.columns&&o===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>n?(o=!0,n=e):(a=!1,o=!0);for(var s=e+1;s<this.rows;s++)this.get(t,s)!==0&&(a=!1);t++}return a}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var a=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(a,n)&&(a=o);if(t.get(a,n)===0)n++;else{t.swapRows(e,a);for(var s=t.get(e,n),l=n;l<t.columns;l++)t.set(e,l,t.get(e,l)/s);for(var u=e+1;u<t.rows;u++){var h=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*h)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,a=n-1;a>=0;)if(t.maxRow(a)===0)a--;else{for(var o=0,s=!1;o<n&&s===!1;)t.get(a,o)===1?s=!0:o++;for(var l=0;l<a;l++)for(var u=t.get(l,o),h=o;h<e;h++){var c=t.get(l,h)-u*t.get(a,h);t.set(l,h,c)}a--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,n=e===void 0?1:e,a=t.columns,o=a===void 0?1:a;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var s=new Rr(this.rows*n,this.columns*o),l=0;l<n;l++)for(var u=0;u<o;u++)s.setSubMatrix(this,this.rows*l,this.columns*u);return s}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){ya(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return Rr.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){ya(this,t),e=Qo(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){ya(this,t),ya(this,e);for(var n=0;n<this.columns;n++){var a=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,a)}return this}},{key:"getColumn",value:function(t){ma(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return Rr.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){ma(this,t),e=Jo(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){ma(this,t),ma(this,e);for(var n=0;n<this.rows;n++){var a=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,a)}return this}},{key:"addRowVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=Qo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=Jo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=Jo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=Jo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=Jo(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){ya(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){ma(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxIndex",value:function(){qo(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)>t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minIndex",value:function(){qo(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)this.get(n,a)<t&&(t=this.get(n,a),e[0]=n,e[1]=a);return e}},{key:"maxRow",value:function(t){if(ya(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){ya(this,t),qo(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)>e&&(e=this.get(t,a),n[1]=a);return n}},{key:"minRow",value:function(t){if(ya(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){ya(this,t),qo(this);for(var e=this.get(t,0),n=[t,0],a=1;a<this.columns;a++)this.get(t,a)<e&&(e=this.get(t,a),n[1]=a);return n}},{key:"maxColumn",value:function(t){if(ma(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){ma(this,t),qo(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)>e&&(e=this.get(a,t),n[0]=a);return n}},{key:"minColumn",value:function(t){if(ma(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){ma(this,t),qo(this);for(var e=this.get(0,t),n=[0,t],a=1;a<this.rows;a++)this.get(a,t)<e&&(e=this.get(a,t),n[0]=a);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var n=0;n<this.rows;n++)for(var a=0;a<this.columns;a++)e=e+this.get(n,a)*this.get(n,a);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(t){i.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,a=0;a<e.length;a++)n+=e[a]*t[a];return n}},{key:"mmul",value:function(t){t=Rr.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.columns,o=new Rr(e,a),s=new Float64Array(n),l=0;l<a;l++){for(var u=0;u<n;u++)s[u]=t.get(u,l);for(var h=0;h<e;h++){for(var c=0,v=0;v<n;v++)c+=this.get(h,v)*s[v];o.set(h,l,c)}}return o}},{key:"strassen2x2",value:function(t){t=Rr.checkMatrix(t);var e=new Rr(2,2),n=this.get(0,0),a=t.get(0,0),o=this.get(0,1),s=t.get(0,1),l=this.get(1,0),u=t.get(1,0),h=this.get(1,1),c=t.get(1,1),v=(n+h)*(a+c),g=(l+h)*a,A=n*(s-c),k=h*(u-a),F=(n+o)*c,Y=(l-n)*(a+s),N=(o-h)*(u+c),st=v+k-F+N,lt=A+F,At=g+k,zt=v-g+A+Y;return e.set(0,0,st),e.set(0,1,lt),e.set(1,0,At),e.set(1,1,zt),e}},{key:"strassen3x3",value:function(t){t=Rr.checkMatrix(t);var e=new Rr(3,3),n=this.get(0,0),a=this.get(0,1),o=this.get(0,2),s=this.get(1,0),l=this.get(1,1),u=this.get(1,2),h=this.get(2,0),c=this.get(2,1),v=this.get(2,2),g=t.get(0,0),A=t.get(0,1),k=t.get(0,2),F=t.get(1,0),Y=t.get(1,1),N=t.get(1,2),st=t.get(2,0),lt=t.get(2,1),At=t.get(2,2),zt=(n+a+o-s-l-c-v)*Y,Wt=(n-s)*(-A+Y),Qt=l*(-g+A+F-Y-N-st+At),Vt=(-n+s+l)*(g-A+Y),te=(s+l)*(-g+A),le=n*g,ae=(-n+h+c)*(g-k+N),Se=(-n+h)*(k-N),_e=(h+c)*(-g+k),Ee=(n+a+o-l-u-h-c)*N,Fe=c*(-g+k+F-Y-N-st+lt),Ne=(-o+c+v)*(Y+st-lt),Ye=(o-v)*(Y-lt),Be=o*st,De=(c+v)*(-st+lt),rr=(-o+l+u)*(N+st-At),tr=(o-u)*(N-At),lr=(l+u)*(-st+At),Xe=a*F,ar=u*lt,yr=s*k,sr=h*A,or=v*At,xr=le+Be+Xe,Fr=zt+Vt+te+le+Ne+Be+De,hr=le+ae+_e+Ee+Be+rr+lr,Te=Wt+Qt+Vt+le+Be+rr+tr,Ve=Wt+Vt+te+le+ar,br=Be+rr+tr+lr+yr,Lr=le+ae+Se+Fe+Ne+Ye+Be,dr=Ne+Ye+Be+De+sr,Nr=le+ae+Se+_e+or;return e.set(0,0,xr),e.set(0,1,Fr),e.set(0,2,hr),e.set(1,0,Te),e.set(1,1,Ve),e.set(1,2,br),e.set(2,0,Lr),e.set(2,1,dr),e.set(2,2,Nr),e}},{key:"mmulStrassen",value:function(t){t=Rr.checkMatrix(t);var e=this.clone(),n=e.rows,a=e.columns,o=t.rows,s=t.columns;a!==o&&console.warn("Multiplying ".concat(n," x ").concat(a," and ").concat(o," x ").concat(s," matrix: dimensions do not match."));function l(v,g,A){var k=v.rows,F=v.columns;if(k===g&&F===A)return v;var Y=i.zeros(g,A);return Y=Y.setSubMatrix(v,0,0),Y}var u=Math.max(n,o),h=Math.max(a,s);e=l(e,u,h),t=l(t,u,h);function c(v,g,A,k){if(A<=512||k<=512)return v.mmul(g);A%2==1&&k%2==1?(v=l(v,A+1,k+1),g=l(g,A+1,k+1)):A%2==1?(v=l(v,A+1,k),g=l(g,A+1,k)):k%2==1&&(v=l(v,A,k+1),g=l(g,A,k+1));var F=parseInt(v.rows/2,10),Y=parseInt(v.columns/2,10),N=v.subMatrix(0,F-1,0,Y-1),st=g.subMatrix(0,F-1,0,Y-1),lt=v.subMatrix(0,F-1,Y,v.columns-1),At=g.subMatrix(0,F-1,Y,g.columns-1),zt=v.subMatrix(F,v.rows-1,0,Y-1),Wt=g.subMatrix(F,g.rows-1,0,Y-1),Qt=v.subMatrix(F,v.rows-1,Y,v.columns-1),Vt=g.subMatrix(F,g.rows-1,Y,g.columns-1),te=c(i.add(N,Qt),i.add(st,Vt),F,Y),le=c(i.add(zt,Qt),st,F,Y),ae=c(N,i.sub(At,Vt),F,Y),Se=c(Qt,i.sub(Wt,st),F,Y),_e=c(i.add(N,lt),Vt,F,Y),Ee=c(i.sub(zt,N),i.add(st,At),F,Y),Fe=c(i.sub(lt,Qt),i.add(Wt,Vt),F,Y),Ne=i.add(te,Se);Ne.sub(_e),Ne.add(Fe);var Ye=i.add(ae,_e),Be=i.add(le,Se),De=i.sub(te,le);De.add(ae),De.add(Ee);var rr=i.zeros(2*Ne.rows,2*Ne.columns);return rr=rr.setSubMatrix(Ne,0,0),rr=rr.setSubMatrix(Ye,Ne.rows,0),rr=rr.setSubMatrix(Be,0,Ne.columns),rr=rr.setSubMatrix(De,Ne.rows,Ne.columns),rr.subMatrix(0,A-1,0,k-1)}return c(e,t,u,h)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Rr(this.rows,this.columns),l=0;l<this.rows;l++){var u=this.getRow(l);u.length>0&&Rx(u,{min:n,max:o,output:u}),s.setRow(l,u)}return s}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,n=e===void 0?0:e,a=t.max,o=a===void 0?1:a;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var s=new Rr(this.rows,this.columns),l=0;l<this.columns;l++){var u=this.getColumn(l);u.length&&Rx(u,{min:n,max:o,output:u}),s.setColumn(l,u)}return s}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var a=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,a)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var a=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,a)}return this}},{key:"kroneckerProduct",value:function(t){t=Rr.checkMatrix(t);for(var e=this.rows,n=this.columns,a=t.rows,o=t.columns,s=new Rr(e*a,n*o),l=0;l<e;l++)for(var u=0;u<n;u++)for(var h=0;h<a;h++)for(var c=0;c<o;c++)s.set(a*l+h,o*u+c,this.get(l,u)*t.get(h,c));return s}},{key:"kroneckerSum",value:function(t){if(t=Rr.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,n=t.rows,a=this.kroneckerProduct(Rr.eye(n,n)),o=Rr.eye(e,e).kroneckerProduct(t);return a.add(o)}},{key:"transpose",value:function(){for(var t=new Rr(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zx,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zx,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,a){Yx(this,t,e,n,a);for(var o=new Rr(e-t+1,a-n+1),s=t;s<=e;s++)for(var l=n;l<=a;l++)o.set(s-t,l-n,this.get(s,l));return o}},{key:"subMatrixRow",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var a=new Rr(t.length,n-e+1),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));a.set(o,s-e,this.get(t[o],s))}return a}},{key:"subMatrixColumn",value:function(t,e,n){if(e===void 0&&(e=0),n===void 0&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var a=new Rr(n-e+1,t.length),o=0;o<t.length;o++)for(var s=e;s<=n;s++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));a.set(s-e,o,this.get(s,t[o]))}return a}},{key:"setSubMatrix",value:function(t,e,n){if(t=Rr.checkMatrix(t),t.isEmpty())return this;var a=e+t.rows-1,o=n+t.columns-1;Yx(this,e,a,n,o);for(var s=0;s<t.rows;s++)for(var l=0;l<t.columns;l++)this.set(e+s,n+l,t.get(s,l));return this}},{key:"selection",value:function(t,e){for(var n=GN(this,t,e),a=new Rr(t.length,e.length),o=0;o<n.row.length;o++)for(var s=n.row[o],l=0;l<n.column.length;l++){var u=n.column[l];a.set(o,l,this.get(s,u))}return a}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new Rr(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return XN(this);case"column":return VN(this);case void 0:return HN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return WN(this);case"column":return jN(this);case void 0:return UN(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e}case"column":{for(var a=0;a<this.columns;a++)e[a]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.unbiased,o=a===void 0?!0:a,s=n.mean,l=s===void 0?this.mean(t):s;if(typeof o!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(l))throw new TypeError("mean must be an array");return ZN(this,o,l)}case"column":{if(!Array.isArray(l))throw new TypeError("mean must be an array");return KN(this,o,l)}case void 0:{if(typeof l!="number")throw new TypeError("mean must be a number");return $N(this,o,l)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var n=this.variance(t,e);if(t===void 0)return Math.sqrt(n);for(var a=0;a<n.length;a++)n[a]=Math.sqrt(n[a]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e,a=n.center,o=a===void 0?this.mean(t):a;switch(t){case"row":{if(!Array.isArray(o))throw new TypeError("center must be an array");return QN(this,o),this}case"column":{if(!Array.isArray(o))throw new TypeError("center must be an array");return JN(this,o),this}case void 0:{if(typeof o!="number")throw new TypeError("center must be a number");return qN(this,o),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":{if(n===void 0)n=t4(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return e4(this,n),this}case"column":{if(n===void 0)n=r4(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return n4(this,n),this}case void 0:{if(n===void 0)n=i4(this);else if(typeof n!="number")throw new TypeError("scale must be a number");return a4(this,n),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Gx(this,t)}}],[{key:"from1DArray",value:function(t,e,n){var a=t*e;if(a!==n.length)throw new RangeError("data length does not match given dimensions");for(var o=new Rr(t,e),s=0;s<t;s++)for(var l=0;l<e;l++)o.set(s,l,n[s*e+l]);return o}},{key:"rowVector",value:function(t){for(var e=new Rr(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new Rr(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new Rr(t,e)}},{key:"ones",value:function(t,e){return new Rr(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");for(var a=n.random,o=a===void 0?Math.random:a,s=new Rr(t,e),l=0;l<t;l++)for(var u=0;u<e;u++)s.set(l,u,o());return s}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n!="object")throw new TypeError("options must be an object");var a=n.min,o=a===void 0?0:a,s=n.max,l=s===void 0?1e3:s,u=n.random,h=u===void 0?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(l))throw new TypeError("max must be an integer");if(o>=l)throw new RangeError("min must be smaller than max");for(var c=l-o,v=new Rr(t,e),g=0;g<t;g++)for(var A=0;A<e;A++){var k=o+Math.round(h()*c);v.set(g,A,k)}return v}},{key:"eye",value:function(t,e,n){e===void 0&&(e=t),n===void 0&&(n=1);for(var a=Math.min(t,e),o=this.zeros(t,e),s=0;s<a;s++)o.set(s,s,n);return o}},{key:"diag",value:function(t,e,n){var a=t.length;e===void 0&&(e=a),n===void 0&&(n=e);for(var o=Math.min(a,e,n),s=this.zeros(e,n),l=0;l<o;l++)s.set(l,l,t[l]);return s}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new Rr(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.min(t.get(s,l),e.get(s,l)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,a=t.columns,o=new this(n,a),s=0;s<n;s++)for(var l=0;l<a;l++)o.set(s,l,Math.max(t.get(s,l),e.get(s,l)));return o}},{key:"checkMatrix",value:function(t){return i.isMatrix(t)?t:new Rr(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),i}();li.prototype.klass="Matrix",typeof Symbol!="undefined"&&(li.prototype[Symbol.for("nodejs.util.inspect.custom")]=DN);function zx(i,r){return i-r}li.random=li.rand,li.randomInt=li.randInt,li.diagonal=li.diag,li.prototype.diagonal=li.prototype.diag,li.identity=li.eye,li.prototype.negate=li.prototype.neg,li.prototype.tensorProduct=li.prototype.kroneckerProduct;var Rr=function(i){(0,Dx.Z)(t,i);var r=(0,Fx.Z)(t);function t(e,n){var a;if((0,cu.Z)(this,t),a=r.call(this),t.isMatrix(e))return(0,PN.Z)(a,e.clone());if(Number.isInteger(e)&&e>=0)if(a.data=[],Number.isInteger(n)&&n>=0)for(var o=0;o<e;o++)a.data.push(new Float64Array(n));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){var s=e;if(e=s.length,n=e?s[0].length:0,typeof n!="number")throw new TypeError("Data must be a 2D array with at least one element");a.data=[];for(var l=0;l<e;l++){if(s[l].length!==n)throw new RangeError("Inconsistent array dimensions");a.data.push(Float64Array.from(s[l]))}}else throw new TypeError("First argument must be a positive number or an array");return a.rows=e,a.columns=n,a}return(0,vu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}},{key:"removeRow",value:function(n){return ya(this,n),this.data.splice(n,1),this.rows-=1,this}},{key:"addRow",value:function(n,a){return a===void 0&&(a=n,n=this.rows),ya(this,n,!0),a=Float64Array.from(Qo(this,a)),this.data.splice(n,0,a),this.rows+=1,this}},{key:"removeColumn",value:function(n){ma(this,n);for(var a=0;a<this.rows;a++){for(var o=new Float64Array(this.columns-1),s=0;s<n;s++)o[s]=this.data[a][s];for(var l=n+1;l<this.columns;l++)o[l-1]=this.data[a][l];this.data[a]=o}return this.columns-=1,this}},{key:"addColumn",value:function(n,a){typeof a=="undefined"&&(a=n,n=this.columns),ma(this,n,!0),a=Jo(this,a);for(var o=0;o<this.rows;o++){for(var s=new Float64Array(this.columns+1),l=0;l<n;l++)s[l]=this.data[o][l];for(s[l++]=a[o];l<this.columns+1;l++)s[l]=this.data[o][l-1];this.data[o]=s}return this.columns+=1,this}}]),t}(li);NN(li,Rr);var o4=function(i){(0,Dx.Z)(t,i);var r=(0,Fx.Z)(t);function t(e){var n;return(0,cu.Z)(this,t),n=r.call(this),n.data=e,n.rows=e.length,n.columns=e[0].length,n}return(0,vu.Z)(t,[{key:"set",value:function(n,a,o){return this.data[n][a]=o,this}},{key:"get",value:function(n,a){return this.data[n][a]}}]),t}(li);function ts(i,r){var t=0;return Math.abs(i)>Math.abs(r)?(t=r/i,Math.abs(i)*Math.sqrt(1+t*t)):r!==0?(t=i/r,Math.abs(r)*Math.sqrt(1+t*t)):0}var Xx=function(){function i(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,cu.Z)(this,i),r=o4.checkMatrix(r),r.isEmpty())throw new Error("Matrix must be non-empty");var e=r.rows,n=r.columns,a=t.computeLeftSingularVectors,o=a===void 0?!0:a,s=t.computeRightSingularVectors,l=s===void 0?!0:s,u=t.autoTranspose,h=u===void 0?!1:u,c=Boolean(o),v=Boolean(l),g=!1,A;if(e<n)if(!h)A=r.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{A=r.transpose(),e=A.rows,n=A.columns,g=!0;var k=c;c=v,v=k}else A=r.clone();for(var F=Math.min(e,n),Y=Math.min(e+1,n),N=new Float64Array(Y),st=new Rr(e,F),lt=new Rr(n,n),At=new Float64Array(n),zt=new Float64Array(e),Wt=new Float64Array(Y),Qt=0;Qt<Y;Qt++)Wt[Qt]=Qt;for(var Vt=Math.min(e-1,n),te=Math.max(0,Math.min(n-2,e)),le=Math.max(Vt,te),ae=0;ae<le;ae++){if(ae<Vt){N[ae]=0;for(var Se=ae;Se<e;Se++)N[ae]=ts(N[ae],A.get(Se,ae));if(N[ae]!==0){A.get(ae,ae)<0&&(N[ae]=-N[ae]);for(var _e=ae;_e<e;_e++)A.set(_e,ae,A.get(_e,ae)/N[ae]);A.set(ae,ae,A.get(ae,ae)+1)}N[ae]=-N[ae]}for(var Ee=ae+1;Ee<n;Ee++){if(ae<Vt&&N[ae]!==0){for(var Fe=0,Ne=ae;Ne<e;Ne++)Fe+=A.get(Ne,ae)*A.get(Ne,Ee);Fe=-Fe/A.get(ae,ae);for(var Ye=ae;Ye<e;Ye++)A.set(Ye,Ee,A.get(Ye,Ee)+Fe*A.get(Ye,ae))}At[Ee]=A.get(ae,Ee)}if(c&&ae<Vt)for(var Be=ae;Be<e;Be++)st.set(Be,ae,A.get(Be,ae));if(ae<te){At[ae]=0;for(var De=ae+1;De<n;De++)At[ae]=ts(At[ae],At[De]);if(At[ae]!==0){At[ae+1]<0&&(At[ae]=0-At[ae]);for(var rr=ae+1;rr<n;rr++)At[rr]/=At[ae];At[ae+1]+=1}if(At[ae]=-At[ae],ae+1<e&&At[ae]!==0){for(var tr=ae+1;tr<e;tr++)zt[tr]=0;for(var lr=ae+1;lr<e;lr++)for(var Xe=ae+1;Xe<n;Xe++)zt[lr]+=At[Xe]*A.get(lr,Xe);for(var ar=ae+1;ar<n;ar++)for(var yr=-At[ar]/At[ae+1],sr=ae+1;sr<e;sr++)A.set(sr,ar,A.get(sr,ar)+yr*zt[sr])}if(v)for(var or=ae+1;or<n;or++)lt.set(or,ae,At[or])}}var xr=Math.min(n,e+1);if(Vt<n&&(N[Vt]=A.get(Vt,Vt)),e<xr&&(N[xr-1]=0),te+1<xr&&(At[te]=A.get(te,xr-1)),At[xr-1]=0,c){for(var Fr=Vt;Fr<F;Fr++){for(var hr=0;hr<e;hr++)st.set(hr,Fr,0);st.set(Fr,Fr,1)}for(var Te=Vt-1;Te>=0;Te--)if(N[Te]!==0){for(var Ve=Te+1;Ve<F;Ve++){for(var br=0,Lr=Te;Lr<e;Lr++)br+=st.get(Lr,Te)*st.get(Lr,Ve);br=-br/st.get(Te,Te);for(var dr=Te;dr<e;dr++)st.set(dr,Ve,st.get(dr,Ve)+br*st.get(dr,Te))}for(var Nr=Te;Nr<e;Nr++)st.set(Nr,Te,-st.get(Nr,Te));st.set(Te,Te,1+st.get(Te,Te));for(var Br=0;Br<Te-1;Br++)st.set(Br,Te,0)}else{for(var Mr=0;Mr<e;Mr++)st.set(Mr,Te,0);st.set(Te,Te,1)}}if(v)for(var Gr=n-1;Gr>=0;Gr--){if(Gr<te&&At[Gr]!==0)for(var Qr=Gr+1;Qr<n;Qr++){for(var Sn=0,ln=Gr+1;ln<n;ln++)Sn+=lt.get(ln,Gr)*lt.get(ln,Qr);Sn=-Sn/lt.get(Gr+1,Gr);for(var Ln=Gr+1;Ln<n;Ln++)lt.set(Ln,Qr,lt.get(Ln,Qr)+Sn*lt.get(Ln,Gr))}for(var Rn=0;Rn<n;Rn++)lt.set(Rn,Gr,0);lt.set(Gr,Gr,1)}for(var xi=xr-1,Ai=0,Un=Number.EPSILON;xr>0;){var mr=void 0,On=void 0;for(mr=xr-2;mr>=-1&&mr!==-1;mr--){var ui=Number.MIN_VALUE+Un*Math.abs(N[mr]+Math.abs(N[mr+1]));if(Math.abs(At[mr])<=ui||Number.isNaN(At[mr])){At[mr]=0;break}}if(mr===xr-2)On=4;else{var Jn=void 0;for(Jn=xr-1;Jn>=mr&&Jn!==mr;Jn--){var Ba=(Jn!==xr?Math.abs(At[Jn]):0)+(Jn!==mr+1?Math.abs(At[Jn-1]):0);if(Math.abs(N[Jn])<=Un*Ba){N[Jn]=0;break}}Jn===mr?On=3:Jn===xr-1?On=1:(On=2,mr=Jn)}switch(mr++,On){case 1:{var fi=At[xr-2];At[xr-2]=0;for(var fn=xr-2;fn>=mr;fn--){var an=ts(N[fn],fi),Cn=N[fn]/an,Tn=fi/an;if(N[fn]=an,fn!==mr&&(fi=-Tn*At[fn-1],At[fn-1]=Cn*At[fn-1]),v)for(var _i=0;_i<n;_i++)an=Cn*lt.get(_i,fn)+Tn*lt.get(_i,xr-1),lt.set(_i,xr-1,-Tn*lt.get(_i,fn)+Cn*lt.get(_i,xr-1)),lt.set(_i,fn,an)}break}case 2:{var To=At[mr-1];At[mr-1]=0;for(var xa=mr;xa<xr;xa++){var Ys=ts(N[xa],To),sc=N[xa]/Ys,lc=To/Ys;if(N[xa]=Ys,To=-lc*At[xa],At[xa]=sc*At[xa],c)for(var lo=0;lo<e;lo++)Ys=sc*st.get(lo,xa)+lc*st.get(lo,mr-1),st.set(lo,mr-1,-lc*st.get(lo,xa)+sc*st.get(lo,mr-1)),st.set(lo,xa,Ys)}break}case 3:{var zs=Math.max(Math.abs(N[xr-1]),Math.abs(N[xr-2]),Math.abs(At[xr-2]),Math.abs(N[mr]),Math.abs(At[mr])),rs=N[xr-1]/zs,G1=N[xr-2]/zs,Fu=At[xr-2]/zs,uc=N[mr]/zs,eG=At[mr]/zs,Po=((G1+rs)*(G1-rs)+Fu*Fu)/2,Ru=rs*Fu*(rs*Fu),Xs=0;(Po!==0||Ru!==0)&&(Po<0?Xs=0-Math.sqrt(Po*Po+Ru):Xs=Math.sqrt(Po*Po+Ru),Xs=Ru/(Po+Xs));for(var Lo=(uc+rs)*(uc-rs)+Xs,ns=uc*eG,hn=mr;hn<xr-1;hn++){var Xi=ts(Lo,ns);Xi===0&&(Xi=Number.MIN_VALUE);var ba=Lo/Xi,wa=ns/Xi;if(hn!==mr&&(At[hn-1]=Xi),Lo=ba*N[hn]+wa*At[hn],At[hn]=ba*At[hn]-wa*N[hn],ns=wa*N[hn+1],N[hn+1]=ba*N[hn+1],v)for(var uo=0;uo<n;uo++)Xi=ba*lt.get(uo,hn)+wa*lt.get(uo,hn+1),lt.set(uo,hn+1,-wa*lt.get(uo,hn)+ba*lt.get(uo,hn+1)),lt.set(uo,hn,Xi);if(Xi=ts(Lo,ns),Xi===0&&(Xi=Number.MIN_VALUE),ba=Lo/Xi,wa=ns/Xi,N[hn]=Xi,Lo=ba*At[hn]+wa*N[hn+1],N[hn+1]=-wa*At[hn]+ba*N[hn+1],ns=wa*At[hn+1],At[hn+1]=ba*At[hn+1],c&&hn<e-1)for(var fo=0;fo<e;fo++)Xi=ba*st.get(fo,hn)+wa*st.get(fo,hn+1),st.set(fo,hn+1,-wa*st.get(fo,hn)+ba*st.get(fo,hn+1)),st.set(fo,hn,Xi)}At[xr-2]=Lo,Ai=Ai+1;break}case 4:{if(N[mr]<=0&&(N[mr]=N[mr]<0?-N[mr]:0,v))for(var Nu=0;Nu<=xi;Nu++)lt.set(Nu,mr,-lt.get(Nu,mr));for(;mr<xi&&!(N[mr]>=N[mr+1]);){var Vs=N[mr];if(N[mr]=N[mr+1],N[mr+1]=Vs,v&&mr<n-1)for(var is=0;is<n;is++)Vs=lt.get(is,mr+1),lt.set(is,mr+1,lt.get(is,mr)),lt.set(is,mr,Vs);if(c&&mr<e-1)for(var as=0;as<e;as++)Vs=st.get(as,mr+1),st.set(as,mr+1,st.get(as,mr)),st.set(as,mr,Vs);mr++}Ai=0,xr--;break}}}if(g){var rG=lt;lt=st,st=rG}this.m=e,this.n=n,this.s=N,this.U=st,this.V=lt}return(0,vu.Z)(i,[{key:"solve",value:function(t){for(var e=t,n=this.threshold,a=this.s.length,o=Rr.zeros(a,a),s=0;s<a;s++)Math.abs(this.s[s])<=n?o.set(s,s,0):o.set(s,s,1/this.s[s]);for(var l=this.U,u=this.rightSingularVectors,h=u.mmul(o),c=u.rows,v=l.rows,g=Rr.zeros(c,v),A=0;A<c;A++)for(var k=0;k<v;k++){for(var F=0,Y=0;Y<a;Y++)F+=h.get(A,Y)*l.get(k,Y);g.set(A,k,F)}return g.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(Rr.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,a=t.columns,o=new Rr(n,this.s.length),s=0;s<n;s++)for(var l=0;l<a;l++)Math.abs(this.s[l])>e&&o.set(s,l,t.get(s,l)/this.s[l]);for(var u=this.U,h=u.rows,c=u.columns,v=new Rr(n,h),g=0;g<n;g++)for(var A=0;A<h;A++){for(var k=0,F=0;F<c;F++)k+=o.get(g,F)*u.get(A,F);v.set(g,A,k)}return v}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,a=0,o=n.length;a<o;a++)n[a]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Rr.diag(this.s)}}]),i}(),s4=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.linkDistance=50,t.scaledDistances=null,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=o[0],e[0].y=o[1];return}var s=t.linkDistance,l=Ph({nodes:e,edges:a},!1),u=Th(l);t.handleInfinity(u);var h=Fm(u,s);t.scaledDistances=h;var c=t.runMDS();t.positions=c,c.forEach(function(v,g){e[g].x=v[0]+o[0],e[g].y=v[1]+o[1]})}},r.prototype.runMDS=function(){var t=this,e=2,n=t.scaledDistances,a=Rr.mul(Rr.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new Xx(a),h=Rr.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(c){return Rr.mul([c],[h]).toJSON()[0].splice(0,e)})},r.prototype.handleInfinity=function(t){var e=-999999;t.forEach(function(n){n.forEach(function(a){a!==Infinity&&e<a&&(e=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===Infinity&&(t[a][s]=e)})})},r}(la),l4=s4,u4=function(){function i(r){this.distances=r.distances,this.dimension=r.dimension||2,this.linkDistance=r.linkDistance}return i.prototype.layout=function(){var r=this,t=r.dimension,e=r.distances,n=r.linkDistance;try{var a=Rr.mul(Rr.pow(e,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new Xx(a),h=Rr.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(k){return Rr.mul([k],[h]).toJSON()[0].splice(0,t)})}catch(k){for(var c=[],v=0;v<e.length;v++){var g=Math.random()*n,A=Math.random()*n;c.push([g,A])}return c}},i}(),f4=u4,h4=800,c4=function(){function i(r){this.disp=[],this.positions=r.positions,this.adjMatrix=r.adjMatrix,this.focusID=r.focusID,this.radii=r.radii,this.iterations=r.iterations||10,this.height=r.height||10,this.width=r.width||10,this.speed=r.speed||100,this.gravity=r.gravity||10,this.nodeSizeFunc=r.nodeSizeFunc,this.k=r.k||5,this.strictRadial=r.strictRadial,this.nodes=r.nodes}return i.prototype.layout=function(){var r=this,t=r.positions,e=[],n=r.iterations,a=r.width/10;r.maxDisplace=a,r.disp=e;for(var o=0;o<n;o++)t.forEach(function(s,l){e[l]={x:0,y:0}}),r.getRepulsion(),r.updatePositions();return t},i.prototype.getRepulsion=function(){var r=this,t=r.positions,e=r.nodes,n=r.disp,a=r.k,o=r.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,h){if(l!==h&&o[l]===o[h]){var c=s[0]-u[0],v=s[1]-u[1],g=Math.sqrt(c*c+v*v);if(g===0){g=1;var A=l>h?1:-1;c=.01*A,v=.01*A}if(g<r.nodeSizeFunc(e[l])/2+r.nodeSizeFunc(e[h])/2){var k=a*a/g;n[l].x+=c/g*k,n[l].y+=v/g*k}}})})},i.prototype.updatePositions=function(){var r=this,t=r.positions,e=r.disp,n=r.speed,a=r.strictRadial,o=r.focusID,s=r.maxDisplace||r.width/10;a&&e.forEach(function(u,h){var c=t[h][0]-t[o][0],v=t[h][1]-t[o][1],g=Math.sqrt(c*c+v*v),A=v/g,k=-c/g,F=Math.sqrt(u.x*u.x+u.y*u.y),Y=Math.acos((A*u.x+k*u.y)/F);Y>Math.PI/2&&(Y-=Math.PI/2,A*=-1,k*=-1);var N=Math.cos(Y)*F;u.x=A*N,u.y=k*N});var l=r.radii;t.forEach(function(u,h){if(h!==o){var c=Math.sqrt(e[h].x*e[h].x+e[h].y*e[h].y);if(c>0&&h!==o){var v=Math.min(s*(n/h4),c);if(u[0]+=e[h].x/c*v,u[1]+=e[h].y/c*v,a){var g=u[0]-t[o][0],A=u[1]-t[o][1],k=Math.sqrt(g*g+A*A);g=g/k*l[h],A=A/k*l[h],u[0]=t[o][0]+g,u[1]=t[o][1]+A}}}})},i}(),v4=c4;function d4(i){for(var r=i.length,t=i[0].length,e=[],n=0;n<r;n++){for(var a=[],o=0;o<t;o++)i[n][o]!==0?a.push(1/(i[n][o]*i[n][o])):a.push(0);e.push(a)}return e}function p4(i,r){var t=-1;return i.forEach(function(e,n){e.id===r&&(t=n)}),t}function Vx(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var g4=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=1e3,t.focusNode=null,t.unitRadius=null,t.linkDistance=50,t.preventOverlap=!1,t.strictRadial=!0,t.maxPreventOverlapIteration=200,t.sortStrength=10,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.edges||[],a=t.center;if(!(!e||e.length===0)){if(e.length===1){e[0].x=a[0],e[0].y=a[1];return}var o=t.linkDistance,s=null;if((0,on.default)(t.focusNode)){for(var l=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(s=e[u],t.focusNode=s,l=!0,u=e.length);l||(s=null)}else s=t.focusNode;s||(s=e[0],t.focusNode=s);var h=p4(e,s.id);t.focusIndex=h;var c=Ph({nodes:e,edges:n},!1),v=Th(c),g=t.maxToFocus(v,h);t.handleInfinity(v,h,g+1),t.distances=v;var A=v[h];!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var k=t.width||500,F=t.height||500,Y=k-a[0]>a[0]?a[0]:k-a[0],N=F-a[1]>a[1]?a[1]:F-a[1];Y===0&&(Y=k/2),N===0&&(N=F/2);var st=N>Y?Y:N,lt=Math.max.apply(Math,A),At=[];A.forEach(function(Ye,Be){t.unitRadius||(t.unitRadius=st/lt),At[Be]=Ye*t.unitRadius}),t.radii=At;var zt=t.eIdealDisMatrix();t.eIdealDistances=zt;var Wt=d4(zt);t.weights=Wt;var Qt=new f4({distances:zt,linkDistance:o}),Vt=Qt.layout();Vt.forEach(function(Ye){Wa(Ye[0])&&(Ye[0]=Math.random()*o),Wa(Ye[1])&&(Ye[1]=Math.random()*o)}),t.positions=Vt,Vt.forEach(function(Ye,Be){e[Be].x=Ye[0]+a[0],e[Be].y=Ye[1]+a[1]}),Vt.forEach(function(Ye){Ye[0]-=Vt[h][0],Ye[1]-=Vt[h][1]}),t.run();var te=t.preventOverlap,le=t.nodeSize,ae,Se=t.strictRadial;if(te){var _e=t.nodeSpacing,Ee;(0,pa.default)(_e)?Ee=function(){return _e}:(0,$s.default)(_e)?Ee=_e:Ee=function(){return 0},le?(0,pi.default)(le)?ae=function(Be){var De=le[0]>le[1]?le[0]:le[1];return De+Ee(Be)}:ae=function(Be){return le+Ee(Be)}:ae=function(Be){if(Be.size){if((0,pi.default)(Be.size)){var De=Be.size[0]>Be.size[1]?Be.size[0]:Be.size[1];return De+Ee(Be)}return Be.size+Ee(Be)}return 10+Ee(Be)};var Fe={nodeSizeFunc:ae,adjMatrix:c,positions:Vt,radii:At,height:F,width:k,strictRadial:Se,focusID:h,iterations:t.maxPreventOverlapIteration||200,k:Vt.length/4.5,nodes:e},Ne=new v4(Fe);Vt=Ne.layout()}Vt.forEach(function(Ye,Be){e[Be].x=Ye[0]+a[0],e[Be].y=Ye[1]+a[1]})}},r.prototype.run=function(){for(var t=this,e=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=e;l++){var u=l/e;t.oneIteration(u,n,s,o,a)}},r.prototype.oneIteration=function(t,e,n,a,o){var s=this,l=1-t,u=s.focusIndex;e.forEach(function(h,c){var v=Vx(h,[0,0]),g=v===0?0:1/v;if(c!==u){var A=0,k=0,F=0;e.forEach(function(N,st){if(c!==st){var lt=Vx(h,N),At=lt===0?0:1/lt,zt=a[st][c];F+=o[c][st],A+=o[c][st]*(N[0]+zt*(h[0]-N[0])*At),k+=o[c][st]*(N[1]+zt*(h[1]-N[1])*At)}});var Y=n[c]===0?0:1/n[c];F*=l,F+=t*Y*Y,A*=l,A+=t*Y*h[0]*g,h[0]=A/F,k*=l,k+=t*Y*h[1]*g,h[1]=k/F}})},r.prototype.eIdealDisMatrix=function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,h){var c=[];u.forEach(function(v,g){if(h===g)c.push(0);else if(o[h]===o[g])if(t.sortBy==="data")c.push(v*(Math.abs(h-g)*t.sortStrength)/(o[h]/s));else if(t.sortBy){var A=e[h][t.sortBy]||0,k=e[g][t.sortBy]||0;(0,on.default)(A)&&(A=A.charCodeAt(0)),(0,on.default)(k)&&(k=k.charCodeAt(0)),c.push(v*(Math.abs(A-k)*t.sortStrength)/(o[h]/s))}else c.push(v*a/(o[h]/s));else{var F=(a+s)/2;c.push(v*F)}}),l.push(c)}),l},r.prototype.handleInfinity=function(t,e,n){for(var a=t.length,o=0;o<a;o++)if(t[e][o]===Infinity){t[e][o]=n,t[o][e]=n;for(var s=0;s<a;s++)t[o][s]!==Infinity&&t[e][s]===Infinity&&(t[e][s]=n+t[o][s],t[s][e]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==e){for(var s=0;s<a;s++)if(t[o][s]===Infinity){var l=Math.abs(t[e][o]-t[e][s]);l=l===0?1:l,t[o][s]=l}}},r.prototype.maxToFocus=function(t,e){for(var n=0,a=0;a<t[e].length;a++)t[e][a]!==Infinity&&(n=t[e][a]>n?t[e][a]:n);return n},r}(la),y4=g4,m4=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.width=300,t.height=300,t}return r.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},r.prototype.execute=function(){var t=this,e=t.nodes,n=.9,a=t.center;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),e&&e.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]})},r}(la),x4=m4,b4=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.center=[0,0],t.maxIteration=100,t.gravity=10,t.comboGravity=10,t.linkDistance=10,t.alpha=1,t.alphaMin=.001,t.alphaDecay=1-Math.pow(t.alphaMin,1/300),t.alphaTarget=0,t.velocityDecay=.6,t.edgeStrength=.2,t.nodeStrength=30,t.preventOverlap=!1,t.preventNodeOverlap=!1,t.preventComboOverlap=!1,t.collideStrength=void 0,t.nodeCollideStrength=void 0,t.comboCollideStrength=void 0,t.optimizeRangeFactor=1,t.onTick=function(){},t.onLayoutEnd=function(){},t.depthAttractiveForceScale=.5,t.depthRepulsiveForceScale=2,t.nodes=[],t.edges=[],t.combos=[],t.comboTrees=[],t.width=300,t.height=300,t.bias=[],t.nodeMap={},t.oriComboMap={},t.nodeIdxMap={},t.comboMap={},t.previousLayouted=!1,t}return r.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.2,nodeStrength:30,linkDistance:10}},r.prototype.execute=function(){var t=this,e=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!(!e||e.length===0)){if(e.length===1){e[0].x=n[0],e[0].y=n[1];return}t.initVals(),t.run(),t.onLayoutEnd()}},r.prototype.run=function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(g){var A=[];e.forEach(function(k,F){A[F]={x:0,y:0}}),t.applyCalculate(A),t.applyComboCenterForce(A),e.forEach(function(k,F){!(0,f.isNumber)(k.x)||!(0,f.isNumber)(k.y)||(k.x+=A[F].x*o,k.y+=A[F].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var h=[0,0];e.forEach(function(v){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(h[0]+=v.x,h[1]+=v.y)}),h[0]/=e.length,h[1]/=e.length;var c=[a[0]-h[0],a[1]-h[1]];e.forEach(function(v,g){!(0,f.isNumber)(v.x)||!(0,f.isNumber)(v.y)||(v.x+=c[0],v.y+=c[1])}),t.combos.forEach(function(v){var g=s[v.id];g&&g.empty&&(v.x=g.cx||v.x,v.y=g.cy||v.y)}),t.previousLayouted=!0},r.prototype.initVals=function(){var t=this,e=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Ee,Fe){s[Ee.id]=Ee,l[Ee.id]=Fe}),t.nodeMap=s,t.nodeIdxMap=l;var u={};a.forEach(function(Ee){u[Ee.id]=Ee}),t.oriComboMap=u,t.comboMap=t.getComboMap();var h=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||h,t.preventNodeOverlap=t.preventNodeOverlap||h;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c);for(var v=0;v<e.length;++v)o[e[v].source]?o[e[v].source]++:o[e[v].source]=1,o[e[v].target]?o[e[v].target]++:o[e[v].target]=1;for(var g=[],v=0;v<e.length;++v)g[v]=o[e[v].source]/(o[e[v].source]+o[e[v].target]);this.bias=g;var A=t.nodeSize,k=t.nodeSpacing,F,Y;if((0,f.isNumber)(k)?Y=function(){return k}:(0,f.isFunction)(k)?Y=k:Y=function(){return 0},this.nodeSpacing=Y,!A)F=function(Fe){if(Fe.size){if((0,f.isArray)(Fe.size)){var Ne=Fe.size[0]>Fe.size[1]?Fe.size[0]:Fe.size[1];return Ne/2}return Fe.size/2}return 10};else if((0,f.isFunction)(A))F=function(Fe){return A(Fe)};else if((0,f.isArray)(A)){var N=A[0]>A[1]?A[0]:A[1],st=N/2;F=function(Fe){return st}}else{var lt=A/2;F=function(Fe){return lt}}this.nodeSize=F;var At=t.comboSpacing,zt;(0,f.isNumber)(At)?zt=function(){return At}:(0,f.isFunction)(At)?zt=At:zt=function(){return 0},this.comboSpacing=zt;var Wt=t.comboPadding,Qt;(0,f.isNumber)(Wt)?Qt=function(){return Wt}:(0,f.isArray)(Wt)?Qt=function(){return Math.max.apply(null,Wt)}:(0,f.isFunction)(Wt)?Qt=Wt:Qt=function(){return 0},this.comboPadding=Qt;var Vt=this.linkDistance,te;Vt||(Vt=10),(0,f.isNumber)(Vt)?te=function(Fe){return Vt}:te=Vt,this.linkDistance=te;var le=this.edgeStrength,ae;le||(le=1),(0,f.isNumber)(le)?ae=function(Fe){return le}:ae=le,this.edgeStrength=ae;var Se=this.nodeStrength,_e;Se||(Se=30),(0,f.isNumber)(Se)?_e=function(Fe){return Se}:_e=Se,this.nodeStrength=_e},r.prototype.initPos=function(t){var e=this,n=e.nodes;n.forEach(function(a,o){if(a.comboId){var s=t[a.comboId];a.x=s.cx+100/(o+1),a.y=s.cy+100/(o+1)}else a.x=100/(o+1),a.y=100/(o+1)})},r.prototype.getComboMap=function(){var t=this,e=t.nodeMap,n=t.nodeIdxMap,a=t.comboTrees,o=t.oriComboMap,s={};return(a||[]).forEach(function(l){var u=[];sa(l,function(h){if(h.itemType==="node"||!o[h.id])return!0;if(s[h.id]===void 0){var c={name:h.id,cx:0,cy:0,count:0,depth:t.oriComboMap[h.id].depth,children:[]};s[h.id]=c}var v=h.children;v&&v.forEach(function(N){if(!s[N.id]&&!e[N.id])return!0;u.push(N)});var g=s[h.id];if(g.cx=0,g.cy=0,u.length===0){g.empty=!0;var A=o[h.id],k=Object.keys(e).length,F=h.id+"-visual-child-"+k,Y={id:F,x:A.x,y:A.y,depth:g.depth+1,itemType:"node"};t.nodes.push(Y),e[F]=Y,n[F]=k,g.cx=A.x,g.cy=A.y,u.push(Y)}return u.forEach(function(N){if(g.count++,N.itemType!=="node"){var st=s[N.id];(0,f.isNumber)(st.cx)&&(g.cx+=st.cx),(0,f.isNumber)(st.cy)&&(g.cy+=st.cy);return}var lt=e[N.id];!lt||((0,f.isNumber)(lt.x)&&(g.cx+=lt.x),(0,f.isNumber)(lt.y)&&(g.cy+=lt.y))}),g.cx/=g.count,g.cy/=g.count,g.children=u,!0})}),s},r.prototype.applyComboCenterForce=function(t){var e=this,n=e.gravity,a=e.comboGravity||n,o=this.alpha,s=e.comboTrees,l=e.nodeIdxMap,u=e.nodeMap,h=e.comboMap;(s||[]).forEach(function(c){sa(c,function(v){if(v.itemType==="node")return!0;var g=h[v.id];if(!g)return!0;var A=h[v.id],k=(A.depth+1)*.5,F=A.cx,Y=A.cy;return A.cx=0,A.cy=0,A.children.forEach(function(N){if(N.itemType!=="node"){var st=h[N.id];st&&(0,f.isNumber)(st.cx)&&(A.cx+=st.cx),st&&(0,f.isNumber)(st.cy)&&(A.cy+=st.cy);return}var lt=u[N.id],At=lt.x-F||.005,zt=lt.y-Y||.005,Wt=Math.sqrt(At*At+zt*zt),Qt=l[lt.id],Vt=a*o/Wt*k;t[Qt].x-=At*Vt,t[Qt].y-=zt*Vt,(0,f.isNumber)(lt.x)&&(A.cx+=lt.x),(0,f.isNumber)(lt.y)&&(A.cy+=lt.y)}),A.cx/=A.count,A.cy/=A.count,!0})})},r.prototype.applyCalculate=function(t){var e=this,n=e.comboMap,a=e.nodes,o={};a.forEach(function(l,u){a.forEach(function(h,c){if(!(u<c)){var v=l.x-h.x||.005,g=l.y-h.y||.005,A=v*v+g*g,k=Math.sqrt(A);A<1&&(A=k),o[l.id+"-"+h.id]={vx:v,vy:g,vl2:A,vl:k},o[h.id+"-"+l.id]={vx:-v,vy:-g,vl2:A,vl:k}}})}),e.updateComboSizes(n),e.calRepulsive(t,o),e.calAttractive(t,o);var s=e.preventComboOverlap;s&&e.comboNonOverlapping(t,n)},r.prototype.updateComboSizes=function(t){var e=this,n=e.comboTrees,a=e.nodeMap,o=e.nodeSize,s=e.comboSpacing,l=e.comboPadding;(n||[]).forEach(function(u){var h=[];sa(u,function(c){if(c.itemType==="node")return!0;var v=t[c.id];if(!!v){var g=c.children;g&&g.forEach(function(F){!t[F.id]&&!a[F.id]||h.push(F)}),v.minX=Infinity,v.minY=Infinity,v.maxX=-Infinity,v.maxY=-Infinity,h.forEach(function(F){if(F.itemType!=="node")return!0;var Y=a[F.id];if(!Y)return!0;var N=o(Y),st=Y.x-N,lt=Y.y-N,At=Y.x+N,zt=Y.y+N;v.minX>st&&(v.minX=st),v.minY>lt&&(v.minY=lt),v.maxX<At&&(v.maxX=At),v.maxY<zt&&(v.maxY=zt)});var A=e.oriComboMap[c.id].size||ke.defaultCombo.size;(0,f.isArray)(A)&&(A=A[0]);var k=Math.max(v.maxX-v.minX,v.maxY-v.minY,A);return v.r=k/2+s(v)/2+l(v),!0}})})},r.prototype.comboNonOverlapping=function(t,e){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.nodeIdxMap,l=n.nodeMap;sa(a,function(u){if(!(!e[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")){var h=u.children;return h&&h.length>1&&h.forEach(function(c,v){if(c.itemType!=="node"){var g=e[c.id];!g||h.forEach(function(A,k){if(!(v<=k)&&A.itemType!=="node"){var F=e[A.id];if(!!F){var Y=g.cx-F.cx||.005,N=g.cy-F.cy||.005,st=Y*Y+N*N,lt=g.r,At=F.r,zt=lt+At,Wt=At*At,Qt=lt*lt;if(st<zt*zt){var Vt=c.children;if(!Vt||Vt.length===0)return;var te=A.children;if(!te||te.length===0)return;var le=Math.sqrt(st),ae=(zt-le)/le*o,Se=Y*ae,_e=N*ae,Ee=Wt/(Qt+Wt),Fe=1-Ee;Vt.forEach(function(Ne){if(Ne.itemType==="node"&&!!l[Ne.id]){var Ye=s[Ne.id];te.forEach(function(Be){if(Be.itemType==="node"&&!!l[Be.id]){var De=s[Be.id];t[Ye].x+=Se*Ee,t[Ye].y+=_e*Ee,t[De].x-=Se*Fe,t[De].y-=_e*Fe}})}})}}}})}}),!0}})},r.prototype.calRepulsive=function(t,e){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,h=n.preventNodeOverlap,c=n.nodeSize,v=n.nodeSpacing,g=n.depthRepulsiveForceScale,A=n.center;a.forEach(function(k,F){if(!(!k.x||!k.y)){if(A){var Y=n.gravity,N=k.x-A[0]||.005,st=k.y-A[1]||.005,lt=Math.sqrt(N*N+st*st);t[F].x-=N*Y*l/lt,t[F].y-=st*Y*l/lt}a.forEach(function(At,zt){if(F!==zt&&!(!At.x||!At.y)){var Wt=e[k.id+"-"+At.id],Qt=Wt.vl2,Vt=Wt.vl;if(!(Vt>o)){var te=e[k.id+"-"+At.id],le=te.vx,ae=te.vy,Se=Math.abs(At.depth-k.depth)+1||1;At.comboId!==k.comboId&&Se++;var _e=Se?Math.pow(g,Se):1,Ee=s(At)*l/Qt*_e;if(t[F].x+=le*Ee,t[F].y+=ae*Ee,F<zt&&h){var Fe=c(k)+v(k),Ne=c(At)+v(At),Ye=Fe+Ne;if(Qt<Ye*Ye){var Be=(Ye-Vt)/Vt*u,De=Ne*Ne,rr=De/(Fe*Fe+De),tr=le*Be,lr=ae*Be;t[F].x+=tr*rr,t[F].y+=lr*rr,rr=1-rr,t[zt].x-=tr*rr,t[zt].y-=lr*rr}}}}})}})},r.prototype.calAttractive=function(t,e){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,h=n.depthAttractiveForceScale;a.forEach(function(c,v){if(!(!c.source||!c.target||c.source===c.target)){var g=n.nodeIdxMap[c.source],A=n.nodeIdxMap[c.target],k=n.nodeMap[c.source],F=n.nodeMap[c.target],Y=Math.abs(k.depth-F.depth);k.comboId===F.comboId&&(Y=Y/2);var N=Y?Math.pow(h,Y):1;if(k.comboId!==F.comboId&&N===1?N=h/2:k.comboId===F.comboId&&(N=2),!(!(0,f.isNumber)(F.x)||!(0,f.isNumber)(k.x)||!(0,f.isNumber)(F.y)||!(0,f.isNumber)(k.y))){var st=e[c.target+"-"+c.source],lt=st.vl,At=st.vx,zt=st.vy,Wt=(lt-o(c))/lt*s*l(c)*N,Qt=At*Wt,Vt=zt*Wt,te=u[v];t[A].x-=Qt*te,t[A].y-=Vt*te,t[g].x+=Qt*(1-te),t[g].y+=Vt*(1-te)}}})},r}(la),w4=b4,S4={circular:O3,concentric:k3,dagre:F3,force:xN,g6force:CN,comboForce:w4,fruchterman:AN,grid:TN,mds:l4,radial:y4,random:x4};(0,dn.default)(S4,function(i,r){Cx.registerLayout(r,{},i)});var Ds=Cx,Zh=self;function C4(i){var r=i.data.type;return r===Za.RUN}function M4(i){var r=i.data.type;switch(r){case Za.RUN:{var t=i.data,e=t.nodes,n=t.edges,a=t.layoutCfg,o=a===void 0?{}:a,s=o.type,l=Ds[s];if(!l){Zh.postMessage({type:Za.ERROR,message:"layout "+s+" not found"});break}var u=new l(o);u.init({nodes:e,edges:n}),u.execute(),Zh.postMessage({type:Za.END,nodes:e}),u.destroy();break}default:break}}Zh.onmessage=function(i){C4(i)&&M4(i)};var E4=null;function mu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(i)}var A4=function(r){return setTimeout(r,16)},_4=function(r){return clearTimeout(r)},xu={requestAnimationFrame:function(r){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||A4;return t(r)},cancelAnimationFrame:function(r){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||_4;return t(r)}},T4=function(){function i(r){this.graph=r,this.layoutCfg=r.get("layout")||{},this.layoutType=this.layoutCfg.type,this.worker=null,this.workerData={},this.initLayout()}return i.prototype.initLayout=function(){},i.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new E4,this.worker)},i.prototype.stopWorker=function(){var r=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,r.requestId&&(xu.cancelAnimationFrame(r.requestId),r.requestId=null),r.requestId2&&(xu.cancelAnimationFrame(r.requestId2),r.requestId2=null))},i.prototype.getLayoutType=function(){return this.layoutCfg.type},i.prototype.layout=function(r){var t=this.graph;this.data=this.setDataFromGraph();var e=this.data.nodes;if(!e)return!1;var n=t.get("width"),a=t.get("height"),o={};Object.assign(o,{width:n,height:a,center:[n/2,a/2]},this.layoutCfg),this.layoutCfg=o;var s=!!this.layoutType,l=this.layoutMethod;l&&l.destroy(),t.emit("beforelayout");var u=this.initPositions(o.center,e);if(this.stopWorker(),o.workerEnabled&&this.layoutWithWorker(this.data,r))return!0;if(this.layoutType==="force"||this.layoutType==="g6force"){var h=o.onTick,c=function(){h&&h(),t.refreshPositions()};o.tick=c;var v=o.onLayoutEnd;o.onLayoutEnd=function(){v&&v(),t.emit("afterlayout")}}else this.layoutType==="comboForce"&&(o.comboTrees=t.get("comboTrees"));var g=!1;if(this.layoutType!==void 0){try{l=new Ds[this.layoutType](o)}catch(Y){return console.warn("The layout method: "+this.layoutType+" does not exist! Please specify it first."),!1}if(g=l.enableTick,g){var A=o.onTick,k=o.onLayoutEnd,c=function(){A&&A(),t.refreshPositions()};l.tick=c;var F=function(){k&&k(),t.emit("afterlayout")};l.onLayoutEnd=F}l.init(this.data),s&&l.execute(),this.layoutMethod=l}return(s||!u)&&this.layoutType!=="force"&&!g&&(t.emit("afterlayout"),this.refreshLayout()),!1},i.prototype.layoutWithWorker=function(r,t){var e=this,n=r.nodes,a=r.edges,o=this,s=o.layoutCfg,l=o.graph,u=this.getWorker(),h=this.workerData;if(!u)return!1;h.requestId=null,h.requestId2=null,h.currentTick=null,h.currentTickData=null;var c=L4(s,function(v){return typeof v!="function"});return u.postMessage({type:Za.RUN,nodes:n,edges:a,layoutCfg:c}),u.onmessage=function(v){e.handleWorkerMessage(v,r,t)},!0},i.prototype.handleWorkerMessage=function(r,t,e){var n=this,a=n.graph,o=n.workerData,s=n.layoutCfg,l=r.data,u=l.type,h=function(){s.onTick&&s.onTick()},c=function(){s.onLayoutEnd&&s.onLayoutEnd(),a.emit("afterlayout")};switch(u){case Za.TICK:o.currentTick=l.currentTick,o.currentTickData=l,o.requestId||(o.requestId=xu.requestAnimationFrame(function(){Kh(t,l),a.refreshPositions(),h(),l.currentTick===1&&e&&e(),l.currentTick===l.totalTicks?c():o.currentTick===l.totalTicks&&(o.requestId2=xu.requestAnimationFrame(function(){Kh(t,o.currentTickData),a.refreshPositions(),o.requestId2=null,h(),c()})),o.requestId=null}));break;case Za.END:o.currentTick==null&&(Kh(t,l),this.refreshLayout(),e&&e(),a.emit("afterlayout"));break;case Za.ERROR:break;default:break}},i.prototype.refreshLayout=function(){var r=this.graph;r.get("animate")?r.positionsAnimate():r.refreshPositions()},i.prototype.updateLayoutCfg=function(r){var t=this,e=t.graph,n=t.layoutMethod;if(this.layoutType=r.type,!n){console.warn("You did not assign any layout type and the graph has no previous layout method!");return}this.data=this.setDataFromGraph(),this.stopWorker(),!(r.workerEnabled&&this.layoutWithWorker(this.data,null))&&(n.init(this.data),n.updateCfg(r),e.emit("beforelayout"),n.execute(),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout())},i.prototype.changeLayout=function(r){var t=this,e=t.graph,n=t.layoutMethod;this.layoutType=r,this.layoutCfg=e.get("layout")||{},this.layoutCfg.type=r,n&&n.destroy(),this.layout()},i.prototype.changeData=function(){var r=this.layoutMethod;r&&r.destroy(),this.layout()},i.prototype.destroyLayout=function(){var r=this,t=r.layoutMethod,e=r.graph;t&&t.destroy(),e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},i.prototype.setDataFromGraph=function(){var r=[],t=[],e=[],n=this.graph.getNodes(),a=this.graph.getEdges(),o=this.graph.getCombos();n.forEach(function(l){if(!!l.isVisible()){var u=l.getModel();r.push(u)}}),a.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();u.isComboEdge||t.push(u)}}),o.forEach(function(l){if(!(l.destroyed||!l.isVisible())){var u=l.getModel();e.push(u)}});var s={nodes:r,edges:t,combos:e};return s},i.prototype.relayout=function(r){var t=this,e=t.graph,n=t.layoutMethod,a=t.layoutCfg;if(r){this.data=this.setDataFromGraph();var o=this.data.nodes;if(!o)return!1;this.initPositions(a.center,o),n.init(this.data)}this.layoutType==="force"&&(n.ticking=!1,n.forceSimulation.stop()),e.emit("beforelayout"),n.execute(r),this.layoutType!=="force"&&!n.enableTick&&e.emit("afterlayout"),this.refreshLayout()},i.prototype.layoutAnimate=function(){},i.prototype.moveToZero=function(){var r=this.graph,t=r.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||Wa(e[0].x))){var n=[0,0];e.forEach(function(a){n[0]+=a.x,n[1]+=a.y}),n[0]/=e.length,n[1]/=e.length,e.forEach(function(a){a.x-=n[0],a.y-=n[1]})}},i.prototype.initPositions=function(r,t){var e=this.graph;if(!t)return!1;var n=!0,a=e.get("width")*.85,o=e.get("height")*.85,s=t.length,l=Math.ceil(Math.sqrt(s)*(a/o)),u=Math.ceil(s/l),h=a/(l-1),c=o/(u-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(c)||!h)&&(c=0);var v=r[0]-a/2,g=r[1]-o/2;return t.forEach(function(A,k){Wa(A.x)&&(n=!1,A.x=k%l*h+v),Wa(A.y)&&(n=!1,A.y=Math.floor(k/l)*c+g)}),n},i.prototype.destroy=function(){var r=this.layoutMethod;this.graph=null,r&&r.destroy();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0},i}(),P4=T4;function Kh(i,r){var t=i.nodes,e=r.nodes;t.forEach(function(n,a){n.x=e[a].x,n.y=e[a].y})}function L4(i,r){var t={};return i&&mu(i)==="object"?(Object.keys(i).forEach(function(e){i.hasOwnProperty(e)&&r(i[e])&&(t[e]=i[e])}),t):i}var _o=null,O4=function(){function i(r){this.graph=r,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return i.checkCache=function(r,t,e){if(!!e[t]){var n=e[t].indexOf(r);n>=0&&e[t].splice(n,1)}},i.cacheState=function(r,t,e){e[t]||(e[t]=[]),e[t].push(r)},i.prototype.updateState=function(r,t,e){var n=this,a=i.checkCache,o=i.cacheState;if(!r.destroyed){var s=this.cachedStates,l=s.enabled,u=s.disabled;e?(a(r,t,u),o(r,t,l)):(a(r,t,l),o(r,t,u)),_o&&clearTimeout(_o),_o=setTimeout(function(){_o=null,n.updateGraphStates()},16)}},i.prototype.updateStates=function(r,t,e){var n=this;(0,on.default)(t)?this.updateState(r,t,e):t.forEach(function(a){n.updateState(r,a,e)})},i.prototype.updateGraphStates=function(){var r=this.graph.get("states"),t=this.cachedStates;(0,dn.default)(t.disabled,function(e,n){r[n]&&(r[n]=r[n].filter(function(a){return e.indexOf(a)<0&&!e.destroyed}))}),(0,dn.default)(t.enabled,function(e,n){if(!r[n])r[n]=e;else{var a={};r[n].forEach(function(o){o.destroyed||(a[o.get("id")]=!0)}),e.forEach(function(o){if(!o.destroyed){var s=o.get("id");a[s]||(a[s]=!0,r[n].push(o))}})}}),this.graph.emit("graphstatechange",{states:r}),this.cachedStates={enabled:{},disabled:{}}},i.prototype.destroy=function(){this.graph=null,this.cachedStates=null,_o&&clearTimeout(_o),_o=null,this.destroyed=!0},i}(),I4=O4,$h=null,k4=function(){function i(r){this.graph=r;var t=r.get("groupStyle");this.styles=(0,Mi.default)({},i.getDefaultCfg(),t),this.customGroup={},this.delegateInGroup={},this.nodePoint=[],this.destroyed=!1}return i.getDefaultCfg=function(){return{default:{lineWidth:1,stroke:"#A3B1BF",strokeOpacity:.9,fill:"#F3F9FF",fillOpacity:.8,opacity:.8,disCoefficient:.6,minDis:30,maxDis:30},hover:{stroke:"#faad14",fill:"#ffe58f",fillOpacity:.3,opacity:.3,lineWidth:3},collapse:{r:30,width:80,height:40,stroke:"#A3B1BF",lineWidth:3,fill:"#F3F9FF",offsetX:-15,offsetY:5},icon:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg",operatorBtn:{collapse:{img:"https://gw.alipayobjects.com/zos/rmsportal/uZVdwjJGqDooqKLKtvGA.svg",width:16,height:16},expand:{width:16,height:16,img:"https://gw.alipayobjects.com/zos/rmsportal/MXXetJAxlqrbisIuZxDO.svg"}},visible:!1}},i.prototype.create=function(r,t,e,n,a,o){e===void 0&&(e="circle"),n===void 0&&(n=0),a===void 0&&(a=!1),o===void 0&&(o={});var s=this.graph,l=s.get("customGroup"),u=l.get("children").map(function(lr){return lr.get("id")});if(u.indexOf(r)>-1){console.warn("\u5DF2\u7ECF\u5B58\u5728ID\u4E3A "+r+" \u7684\u5206\u7EC4\uFF0C\u8BF7\u91CD\u65B0\u8BBE\u7F6E\u5206\u7EC4ID\uFF01");return}var h=l.addGroup({id:r,zIndex:n}),c=this.styles.default,v=this.calculationGroupPosition(t),g=v.x,A=v.y,k=v.width,F=v.height,Y=v.maxX,N=this.getGroupPadding(r),st=s.get("groupBBoxs");st[r]={x:g,y:A,width:k,height:F,maxX:Y};var lt=null;if(a){var At=s.get("groups");t.forEach(function(lr){var Xe=s.findById(lr),ar=Xe.getModel();ar.groupId||(ar.groupId=r)}),At.find(function(lr){return lr.id===r})||(At.push({id:r,title:o}),s.set({groups:At}))}var zt=s.get("groups").filter(function(lr){return lr.id===r});zt&&zt.length>0&&(lt=zt[0].title);var Wt=0,Qt=0,Vt=null;if(e==="circle"){var te=k>F?k/2:F/2,le=(k+2*g)/2,ae=(F+2*A)/2,Se=te+N;Vt=h.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:le,y:ae,r:Se}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"circle-group-shape"}),Wt=le,Qt=ae-Se,this.setDeletageGroupByStyle(r,h,{width:k,height:F,x:le,y:ae,r:Se})}else{var _e=N*c.disCoefficient;Vt=h.addShape("rect",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:g-_e,y:A-_e,width:k+_e*2,height:F+_e*2}),draggable:!0,capture:!0,zIndex:n,groupId:r,name:"rect-group-shape"}),Wt=g-_e+15,Qt=A-_e+15,this.setDeletageGroupByStyle(r,h,{x:g-_e,y:A-_e,width:k+_e,height:F+_e,btnOffset:Y-3})}if(lt){var Ee=lt.offsetX,Fe=Ee===void 0?0:Ee,Ne=lt.offsetY,Ye=Ne===void 0?0:Ne,Be=lt.text,De=Be===void 0?lt:Be,rr=(0,Zt.__rest)(lt,["offsetX","offsetY","text"]),tr=h.addShape("text",{attrs:(0,Zt.__assign)({text:De,stroke:"#444",x:Wt+Fe,y:Qt+Ye},rr),className:"group-title",name:"group-title-shape"});tr.set("capture",!1)}h.set("keyShape",Vt),s.get("groupNodes")[r]=t},i.prototype.setGroupStyle=function(r,t){if(!(!r||r.get("destroyed"))){var e={},n=this.styles,a=n.hover,o=n.default;(0,on.default)(t)?t==="default"?e=(0,Mi.default)({},o):t==="hover"&&(e=(0,Mi.default)({},a)):e=(0,Mi.default)({},o,t),Object.keys(e).forEach(function(s){r.attr(s,e[s])})}},i.prototype.calculationGroupPosition=function(r,t){if(t===void 0&&(t={x:100,y:100}),r.length===0)return{x:t.x,y:t.y,width:100,height:100};var e=this.graph,n=Infinity,a=-Infinity,o=Infinity,s=-Infinity;r.forEach(function(v){var g=(0,on.default)(v)?e.findById(v):v,A=g.getBBox(),k=A.minX,F=A.minY,Y=A.maxX,N=A.maxY;k<n&&(n=k),F<o&&(o=F),Y>a&&(a=Y),N>s&&(s=N)});var l=Math.floor(n),u=Math.floor(o),h=Math.ceil(a)-l,c=Math.ceil(s)-u;return{x:l,y:u,width:h,height:c,maxX:Math.ceil(a)}},i.prototype.flatToTree=function(r,t,e){t===void 0&&(t="id"),e===void 0&&(e="parentId");var n="children",a=[],o=[];return r.forEach(function(s){a[s[t]]=s}),r.forEach(function(s){var l=a[s[e]];l?(l[n]=l[n]||[],l[n].push(s)):o.push(s)}),o},i.prototype.getGroupPadding=function(r){var t=this.graph,e=this.styles.default,n=t.get("groups"),a=n.filter(function(h){return h.parentId===r}),o=1;a.length>0&&($h||($h=this.flatToTree(n)),Ii($h[0],function(h){if(h.parentId===r&&h.children)return o+=h.children.length,!0}));var s=n.filter(function(h){return h.id===r&&!h.parentId});s.length>0&&(o+=1);var l=n.filter(function(h){return h.parentId===r}).length>0,u=l?e.maxDis+(o>1?o/2:1)*30:e.minDis;return u},i.prototype.setDeletageGroupByStyle=function(r,t,e){var n=e.width,a=e.height,o=e.x,s=e.y,l=e.r,u=e.btnOffset,h=this.customGroup[r];if(!h)this.customGroup[r]={nodeGroup:t,groupStyle:{width:n,height:a,x:o,y:s,r:l,btnOffset:u}};else{var c=h.groupStyle,v=(0,Mi.default)({},c,e);this.customGroup[r]={nodeGroup:t,groupStyle:v}}},i.prototype.getDeletageGroupById=function(r){return this.customGroup[r]},i.prototype.collapseExpandGroup=function(r){var t=this.getDeletageGroupById(r),e=t.nodeGroup,n=e.get("hasHidden");n?(e.set("hasHidden",!1),this.expandGroup(r)):(e.set("hasHidden",!0),this.collapseGroup(r))},i.prototype.setGroupTmpNode=function(r,t){var e=this.graph,n=e.get("groupNodes"),a=e.get("groups");n[r].indexOf(t)<0&&n[r].push(t);var o=a.filter(function(l){return l.id===r}),s=null;o.length>0&&(s=o[0].parentId),s&&this.setGroupTmpNode(s,t)},i.prototype.collapseGroup=function(r){var t=this,e=this.getDeletageGroupById(r),n=e.nodeGroup,a=this.styles.collapse,o=this.graph,s=o.get("groupType"),l=o.get("groupNodes")[r],u=n.get("keyShape"),h=a.r,c=a.width,v=a.height,g=a.offsetX,A=a.offsetY,k=(0,Zt.__rest)(a,["r","width","height","offsetX","offsetY"]);Object.keys(k).forEach(function(Wt){u.attr(Wt,k[Wt])});var F={groupId:r,id:r+"-custom-node",x:u.attr("x"),y:u.attr("y"),style:{r:h},type:"circle"},Y=n.find(function(Wt){return Wt.get("className")==="group-title"});s==="circle"?(u.animate({r:h},{duration:500,easing:"easeCubic"}),Y&&Y.attr({x:u.attr("x")+g,y:u.attr("y")+A})):s==="rect"&&(u.animate({width:c,height:v},{duration:500,easing:"easeCubic"}),Y&&Y.attr({x:u.attr("x")+10,y:u.attr("y")+v/2+5}),F={groupId:r,id:r+"-custom-node",x:u.attr("x")+c/2,y:u.attr("y")+v/2,size:[c,v],type:"rect"});var N=o.getEdges(),st=N.filter(function(Wt){var Qt=Wt.getModel();return!l.includes(Qt.source)&&l.includes(Qt.target)}),lt=N.filter(function(Wt){var Qt=Wt.getModel();return l.includes(Qt.source)&&!l.includes(Qt.target)}),At=N.filter(function(Wt){var Qt=Wt.getModel();return l.includes(Qt.source)&&l.includes(Qt.target)});if(l.forEach(function(Wt){var Qt=o.findById(Wt),Vt=Qt.getModel(),te=Vt.groupId;if(te&&te!==r){var le=t.getDeletageGroupById(te),ae=le.nodeGroup;ae.hide()}Qt.hide()}),At.forEach(function(Wt){var Qt=Wt.getSource(),Vt=Wt.getTarget();Qt.isVisible()&&Vt.isVisible()?Wt.show():Wt.hide()}),st.length>0||lt.length>0){var zt=o.add("node",F);zt.set("capture",!1),zt.hide(),this.delegateInGroup[r]={delegateNode:zt},this.setGroupTmpNode(r,r+"-custom-node"),this.updateEdgeInGroupLinks(r,st,lt)}},i.prototype.updateEdgeInGroupLinks=function(r,t,e){var n=this.graph,a={};t.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.target;return a[u]=h,n.updateItem(s,{target:r+"-custom-node"}),!0});var o={};e.map(function(s){var l=s.getModel(),u=s.get("id"),h=l.source;return o[u]=h,n.updateItem(s,{source:r+"-custom-node"}),!0}),this.delegateInGroup[r]=(0,Mi.default)({sourceOutTargetInEdges:t,sourceInTargetOutEdges:e,edgesOuts:a,edgesIn:o},this.delegateInGroup[r])},i.prototype.expandGroup=function(r){var t=this,e=this.graph,n=e.get("groupType"),a=e.get("groupNodes")[r],o=a.filter(function(Ne){return Ne.indexOf("custom-node")===-1}),s=this.calculationGroupPosition(o),l=s.width,u=s.height,h=this.getDeletageGroupById(r).nodeGroup,c=h.get("keyShape"),v=this.styles,g=v.default,A=v.collapse;Object.keys(g).forEach(function(Ne){c.attr(Ne,g[Ne])});var k=h.find(function(Ne){return Ne.get("className")==="group-title"}),F=this.getGroupPadding(r);if(n==="circle"){var Y=l>u?l/2:u/2;c.animate({r:Y+F},{duration:500,easing:"easeCubic"})}else if(n==="rect"){var N=A.width,st=A.height;c.animate({width:N+l+F*g.disCoefficient*2,height:st+u+F*g.disCoefficient*2},{duration:500,easing:"easeCubic"})}if(k){var lt=null,At=e.get("groups").filter(function(Ne){return Ne.id===r});At&&At.length>0&&(lt=At[0].title);var zt=lt.offsetX,Wt=zt===void 0?0:zt,Qt=lt.offsetY,Vt=Qt===void 0?0:Qt;n==="circle"?k.animate({x:c.attr("x")+Wt,y:c.attr("y")-c.attr("r")+Vt},{duration:600,easing:"easeCubic"}):n==="rect"&&k.animate({x:c.attr("x")+(15+Wt),y:c.attr("y")+(15+Vt)},{duration:600,easing:"easeCubic"})}setTimeout(function(){a.forEach(function(Be){var De=e.findById(Be),rr=De.getModel(),tr=rr.groupId;if(tr&&tr!==r){var lr=t.getDeletageGroupById(tr),Xe=lr.nodeGroup;Xe.show();var ar=Xe.get("hasHidden");ar||De.show()}else De.show()});var Ne=e.getEdges(),Ye=Ne.filter(function(Be){var De=Be.getModel();return a.includes(De.source)||a.includes(De.target)});Ye.forEach(function(Be){var De=Be.getSource(),rr=Be.getTarget();De.isVisible()&&rr.isVisible()&&Be.show()})},300);var te=this.delegateInGroup[r];if(te){var le=te.sourceOutTargetInEdges,ae=te.sourceInTargetOutEdges,Se=te.edgesOuts,_e=te.edgesIn,Ee=te.delegateNode;le.map(function(Ne){var Ye=Ne.get("id"),Be=Se[Ye];return e.updateItem(Ne,{target:Be}),!0}),ae.map(function(Ne){var Ye=Ne.get("id"),Be=_e[Ye];return e.updateItem(Ne,{source:Be}),!0});var Fe=Ee.getModel();this.deleteTmpNode(r,Fe.id),e.remove(Ee),delete this.delegateInGroup[r]}},i.prototype.deleteTmpNode=function(r,t){var e=this.graph,n=e.get("groups"),a=e.get("groupNodes")[r],o=a.indexOf(t);a.splice(o,1);var s=n.filter(function(u){return u.id===r}),l=null;s.length>0&&(l=s[0].parentId),l&&this.deleteTmpNode(l,t)},i.prototype.remove=function(r){var t=this.graph,e=this.getDeletageGroupById(r);if(!!e){var n=e.nodeGroup,a=t.get("groupNodes"),o=a[r];o.forEach(function(g){var A=t.findById(g),k=A.getModel(),F=k.groupId;!F||r===F&&(delete k.groupId,t.updateItem(A,k))}),n.destroy(),delete this.customGroup[r];var s=t.get("groups");if(s.length>0){var l=s.filter(function(g){return g.id!==r});t.set("groups",l)}for(var u=null,h=null,c=0;c<s.length;c++){var v=s[c];if(r===v.id){u=v.parentId,h=v;break}}h&&delete h.parentId,delete a[r],u&&(a[u]=a[u].filter(function(g){return!o.includes(g)}))}},i.prototype.updateGroup=function(r,t,e){var n=this.graph,a=n.get("groupType");this.updateItemInGroup(r,t,e);for(var o=n.save().groups,s=null,l=null,u=0;u<o.length;u++){var h=o[u];if(r===h.id){s=h.parentId,l=h;break}}if(s){var c=this.getDeletageGroupById(s).nodeGroup,v=c.get("keyShape");this.setGroupStyle(v,"default");var g=v.getBBox(),A=g.minX,k=g.minY,F=g.maxX,Y=g.maxY,N=this.getDeletageGroupById(r).nodeGroup,st=N.get("keyShape"),lt=st.getBBox(),At=lt.x,zt=lt.y;if(!(At<F&&At>A&&zt<Y&&zt>k)){delete l.parentId;var Wt=n.get("groupNodes"),Qt=Wt[r],Vt=Wt[s];Wt[s]=Vt.filter(function(sr){return Qt.indexOf(sr)===-1});var te=this.calculationGroupPosition(Wt[s]),le=te.x,ae=te.y,Se=te.width,_e=te.height,Ee=this.getGroupPadding(s),Fe=c.find(function(sr){return sr.get("className")==="group-title"}),Ne=0,Ye=0;if(a==="circle"){var Be=Se>_e?Se/2:_e/2,De=le,rr=ae;v.attr({r:Be+Ee,x:De,y:rr}),Ne=De,Ye=rr-v.attr("r")}else if(a==="rect"){var tr=this.styles.default,lr=Ee*tr.disCoefficient;v.attr({x:le-lr,y:ae-lr}),Ne=le-lr+15,Ye=ae-lr+15}if(Fe){var Xe=l.title,ar=0,yr=0;Xe&&(ar=Xe.offsetX,yr=Xe.offsetY),Fe.attr({x:Ne+ar,y:Ye+yr})}}}},i.prototype.updateItemInGroup=function(r,t,e){var n=this,a=this.graph,o=a.get("groupType"),s=a.get("groupNodes"),l=s[r],u=this.getDeletageGroupById(r).nodeGroup,h=u.getBBox(),c=[];l.forEach(function(v,g){var A=a.findById(v),k=A.getModel(),F=k.groupId;F&&!c.includes(F)&&c.push(F),n.nodePoint[g]||(n.nodePoint[g]={x:k.x,y:k.y});var Y=t.x-h.x+n.nodePoint[g].x,N=t.y-h.y+n.nodePoint[g].y;n.nodePoint[g]={x:Y,y:N},a.updateItem(A,{x:Y,y:N})}),c.includes(r)||c.push(r),c.forEach(function(v){var g=n.getDeletageGroupById(v).nodeGroup,A=g.get("keyShape"),k=s[v].filter(function(_e){return _e.indexOf("custom-node")===-1}),F=n.calculationGroupPosition(k,t),Y=F.x,N=F.y,st=F.width,lt=F.height,At=0,zt=0;if(o==="circle"){var Wt=(st+2*Y)/2,Qt=(lt+2*N)/2;A.attr({x:Wt,y:Qt}),At=Wt,zt=Qt-A.attr("r")}else if(o==="rect"){var Vt=g.get("hasHidden"),te=n.getGroupPadding(v),le={},ae=n.styles.default,Se=te*ae.disCoefficient;At=Y-Se+15,zt=N-Se+15,Vt?(le={x:Y-Se,y:N-Se},zt=zt+10):le={x:Y-Se,y:N-Se,width:st+Se*2,height:lt+Se*2},A.attr(le)}n.updateGroupTitle(g,v,At,zt)})},i.prototype.updateGroupTitle=function(r,t,e,n){var a=this.graph,o=r.find(function(c){return c.get("className")==="group-title"});if(o){var s=null,l=a.get("groups").filter(function(c){return c.id===t});l&&l.length>0&&(s=l[0].title);var u=0,h=0;s&&(u=s.offsetX||0,h=s.offsetY||0),o.attr({x:e+u,y:n+h})}},i.prototype.dynamicChangeGroupSize=function(r,t,e){var n=r.item,a=n.getModel(),o=a.groupId,s=this.graph,l=s.get("groupType"),u=s.get("groupNodes"),h=u[o];if(h.length===0){delete u[o];var c=s.get("groups");s.set("groups",c.filter(function(Vt){return Vt.id!==o})),t.remove()}else{var v=this.calculationGroupPosition(h),g=v.x,A=v.y,k=v.width,F=v.height,Y=this.getGroupPadding(o),N=0,st=0;if(l==="circle"){var lt=k>F?k/2:F/2,At=(k+2*g)/2,zt=(F+2*A)/2;e.attr({r:lt+Y,x:At,y:zt}),N=At,st=zt-e.attr("r")}else if(l==="rect"){var Wt=this.styles.default,Qt=Y*Wt.disCoefficient;e.attr({x:g-Qt,y:A-Qt,width:k+Qt*2,height:F+Qt*2}),N=g-Qt+15,st=A-Qt+15}this.updateGroupTitle(t,o,N,st)}this.setGroupStyle(e,"default")},i.prototype.resetNodePoint=function(){this.nodePoint.length=0},i.prototype.destroy=function(){this.graph=null,this.styles={},this.customGroup={},this.delegateInGroup={},this.resetNodePoint(),this.destroyed=!0},i}(),B4=k4,D4=function(r){var t={};return r.getNodes().forEach(function(e){t[e.getID()]={degree:0,inDegree:0,outDegree:0}}),r.getEdges().forEach(function(e){t[e.getSource().getID()].degree++,t[e.getSource().getID()].outDegree++,t[e.getTarget().getID()].degree++,t[e.getTarget().getID()].inDegree++}),t},Hx=D4,F4=function(){function i(r){this.compare=r||i.defaultCompareFunction}return i.defaultCompareFunction=function(r,t){return r===t?0:r<t?-1:1},i.prototype.equal=function(r,t){return this.compare(r,t)===0},i.prototype.lessThan=function(r,t){return this.compare(r,t)<0},i.prototype.greaterThan=function(r,t){return this.compare(r,t)>0},i.prototype.lessThanOrEqual=function(r,t){return this.lessThan(r,t)||this.equal(r,t)},i.prototype.greaterThanOrEqual=function(r,t){return this.greaterThan(r,t)||this.equal(r,t)},i.prototype.reverse=function(){var r=this.compare;this.compare=function(t,e){return r(e,t)}},i}(),R4=F4,Wx=function(){function i(r,t){t===void 0&&(t=null),this.value=r,this.next=t}return i.prototype.toString=function(r){return r?r(this.value):""+this.value},i}(),N4=function(){function i(r){r===void 0&&(r=null),this.head=null,this.tail=null,this.compare=new R4(r)}return i.prototype.prepend=function(r){var t=new Wx(r,this.head);return this.head=t,this.tail||(this.tail=t),this},i.prototype.append=function(r){var t=new Wx(r);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},i.prototype.delete=function(r){if(!this.head)return null;for(var t=null;this.head&&this.compare.equal(this.head.value,r);)t=this.head,this.head=this.head.next;var e=this.head;if(e!==null)for(;e.next;)this.compare.equal(e.next.value,r)?(t=e.next,e.next=e.next.next):e=e.next;return this.compare.equal(this.tail.value,r)&&(this.tail=e),t},i.prototype.find=function(r){var t=r.value,e=t===void 0?void 0:t,n=r.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||e!==void 0&&this.compare.equal(o.value,e))return o;o=o.next}return null},i.prototype.deleteTail=function(){var r=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,r;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,r},i.prototype.deleteHead=function(){if(!this.head)return null;var r=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),r},i.prototype.fromArray=function(r){var t=this;return r.forEach(function(e){return t.append(e)}),this},i.prototype.toArray=function(){for(var r=[],t=this.head;t;)r.push(t),t=t.next;return r},i.prototype.reverse=function(){for(var r=this.head,t=null,e=null;r;)e=r.next,r.next=t,t=r,r=e;this.tail=this.head,this.head=t},i.prototype.toString=function(r){return r===void 0&&(r=void 0),this.toArray().map(function(t){return t.toString(r)}).toString()},i}(),jx=N4,G4=function(){function i(r){r===void 0&&(r=10),this.linkedList=new jx,this.maxStep=r}return Object.defineProperty(i.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},i.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},i.prototype.push=function(r){this.linkedList.prepend(r),this.length>this.maxStep&&this.linkedList.deleteTail()},i.prototype.pop=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toArray=function(){return this.linkedList.toArray().map(function(r){return r.value})},i.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},i}(),Ux=G4,Y4=function(r,t){var e=r.getNodes(),n=r.getEdges(),a=[],o={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(s,l){o[s.getID()]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.getModel(),u=l.source,h=l.target,c=o[u],v=o[h];a[c][v]=1,t||(a[v][c]=1)}),a},bu=Y4,z4=function(r,t){var e=r.get("adjMatrix");e||(e=bu(r,t));for(var n=[],a=e.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:e[o][s]===0||!e[o][s]?n[o][s]=Infinity:n[o][s]=e[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},Zx=z4,Kx=function(r,t,e){return(r.y-e.y)*(t.x-e.x)-(r.x-e.x)*(t.y-e.y)},$x=function(r){var t=r.map(function(s){return{x:s.getModel().x,y:s.getModel().y}});t.sort(function(s,l){return s.x===l.x?s.y-l.y:s.x-l.x});for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&Kx(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var a=[],n=t.length-1;n>=0;n--){for(;a.length>=2&&Kx(a[a.length-2],a[a.length-1],t[n])<=0;)a.pop();a.push(t[n])}a.pop(),e.pop();var o=e.concat(a);return o},X4={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function V4(i,r,t){var e=!1,n=function(l,u){return r.cells[l+u*r.width]},a=function(l,u){var h=0;return n(l-1,u-1)>=t&&(h+=1),n(l,u-1)>t&&(h+=2),n(l-1,u)>t&&(h+=4),n(l,u)>t&&(h+=8),h},o=function(l,u){for(var h=l,c=u,v,g,A=0;A<r.width*r.height;A++){if(v=h,g=c,i.findIndex(function(F){return F.x===h&&F.y===c})>-1){if(!(i[0].x!==h||i[0].y!==c))return!0}else i.push({x:h,y:c});var k=a(h,c);switch(k){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:h++;break;case 12:case 14:case 4:h--;break;case 6:v===0&&(g===-1?h-=1:h+=1);break;case 1:case 13:case 5:c--;break;case 9:v===1&&(g===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: "+k),!0}}};this.march=function(){for(var s=0;s<r.width&&!e;s+=1)for(var l=0;l<r.height&&!e;l+=1)n(s,l)>t&&a(s,l)!==15&&(e=o(s,l));return e}}var H4=function(r,t,e){var n=Math.ceil(r/e),a=Math.ceil(t/e),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},W4=function(r,t,e){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:r.getModel().x,y:r.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=Jl(s,l),h=new Eo(s.x,s.y,l.x,l.y),c=e.reduce(function(v,g){return Ih(g,h)>0?v+1:v},0);u*Math.pow(c+1,2)<a&&(n=o,a=u*Math.pow(c+1,2))}),n},Qx=function(r,t){var e=Number.POSITIVE_INFINITY,n=null;return r.forEach(function(a){var o=Ih(a,t);o>=0&&o<e&&(n=a,e=o)}),n},j4=function(r,t,e,n){var a=[],o=[];o.push(r);for(var s=!0,l=0,u=function(g,A){var k=!1;return A.forEach(function(F){k||(kh(g,{x:F.x1,y:F.y1})||kh(g,{x:F.x2,y:F.y2}))&&(k=!0)}),k},h=function(g,A){for(var k=0,F=A;k<F.length;k++){var Y=F[k],N=Y.getBBox(),st=[[N.x,N.y],[N.x+N.width,N.y],[N.x,N.y+N.height],[N.x+N.width,N.y+N.height]];if(Os(st,g.x,g.y))return!0}return!1};s&&l<e;){s=!1;for(var c=function(){var g=o.pop(),A=Qx(t,g);if(A){var k=Ym(A,g),F=k[0],Y=k[1];if(Y===2){var N=function(lt){for(var At=n,zt=Jx(A,At,F,lt),Wt=u(zt,o)||u(zt,a),Qt=h(zt,t);!Wt&&Qt&&At>=1;)At/=1.5,zt=Jx(A,At,F,lt),Wt=u(zt,o)||u(zt,a),Qt=h(zt,t);zt&&!Wt&&(!lt||!Qt)&&(o.push(new Eo(g.x1,g.y1,zt.x,zt.y)),o.push(new Eo(zt.x,zt.y,g.x2,g.y2)),s=!0)};N(!0),s||N(!1)}}s||a.push(g),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function U4(i,r,t,e,n){var a=W4(i,t,r);if(a===null)return[];var o=function(c){for(var v=[];c.length>0;){var g=c.pop();if(c.length===0){v.push(g);break}var A=c.pop(),k=new Eo(g.x1,g.y1,A.x2,A.y2),F=Qx(r,k);F?(v.push(g),c.push(A)):c.push(k)}return v},s=new Eo(i.getModel().x,i.getModel().y,a.getModel().x,a.getModel().y),l=j4(s,r,e,n),u=o(l);return u}var Z4=function(r,t,e){var n=Object.assign(X4,e),a=zm(r.map(function(N){return{x:N.getModel().x,y:N.getModel().y}}));r=r.sort(function(N,st){return Jl({x:N.getModel().x,y:N.getModel().y},a)-Jl({x:st.getModel().x,y:st.getModel().y},a)});var o=[],s=[];r.forEach(function(N){var st=U4(N,t,o,n.maxRoutingIterations,n.morphBuffer);st.forEach(function(lt){s.push(lt)}),o.push(N)});for(var l=K4(r,s,n.nodeR0),u=H4(l.width,l.height,n.pixelGroupSize),h=[],c=[],v=0;v<n.maxMarchingIterations;v++)if($4(r,t,s,l,u,n),h=[],c=[],!!new V4(h,u,n.threshold).march()){var g=h.map(function(N){return{x:Math.round(N.x*n.pixelGroupSize+l.minX),y:Math.round(N.y*n.pixelGroupSize+l.minY)}});if(g){var A=g.length;if(n.skip>1)for(A=Math.floor(g.length/n.skip);A<3&&n.skip>1;)n.skip-=1,A=Math.floor(g.length/n.skip);for(var k=0,F=0;F<A;F+=1,k+=n.skip)c.push({x:g[k].x,y:g[k].y})}var Y=function(){for(var st=0,lt=r;st<lt.length;st++){var At=lt[st],zt=c.map(function(Wt){return[Wt.x,Wt.y]});if(!Os(zt,At.getBBox().centerX,At.getBBox().centerY))return!1}return!0};if(c&&Y())return c;if(n.threshold*=.9,v<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function K4(i,r,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];i.forEach(function(l){n.push(l.getBBox())}),r.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];e.minX=(s.minX<e.minX?s.minX:e.minX)-t,e.minY=(s.minY<e.minY?s.minY:e.minY)-t,e.maxX=(s.maxX>e.maxX?s.maxX:e.maxX)+t,e.maxY=(s.maxY>e.maxY?s.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function $4(i,r,t,e,n,a){function o(g,A){var k=Math.floor((g-A)/a.pixelGroupSize);return k<0?0:k}function s(g,A){return g*a.pixelGroupSize+A}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),h=function(A,k){var F=Math.min(o(A.minX,k+e.minX),n.width),Y=Math.min(o(A.minY,k+e.minY),n.height),N=Math.min(o(A.maxX,-k+e.minX),n.width),st=Math.min(o(A.maxY,-k+e.minY),n.height);return[F,Y,N,st]},c=function(A,k){for(var F=A.getBBox(),Y=h(F,a.nodeR1),N=Y[0],st=Y[1],lt=Y[2],At=Y[3],zt=st;zt<At;zt+=1)for(var Wt=N;Wt<lt;Wt+=1)if(!(k<0&&n[Wt+zt*n.width]<=0)){var Qt=s(Wt,e.minX),Vt=s(zt,e.minY),te=Vm({x:Qt,y:Vt},{x:F.minX,y:F.minY,width:F.width,height:F.height});if(te<Math.pow(a.nodeR1,2)){var le=Math.sqrt(te)-a.nodeR1;n.cells[Wt+zt*n.width]+=k*le*le}}},v=function(A,k){for(var F=A.getBBox(),Y=h(F,a.edgeR1),N=Y[0],st=Y[1],lt=Y[2],At=Y[3],zt=st;zt<At;zt+=1)for(var Wt=N;Wt<lt;Wt+=1)if(!(k<0&&n.cells[Wt+zt*n.width]<=0)){var Qt=s(Wt,e.minX),Vt=s(zt,e.minY),te=Xm({x:Qt,y:Vt},A);if(te<Math.pow(a.edgeR1,2)){var le=Math.sqrt(te)-a.edgeR1;n.cells[Wt+zt*n.width]+=k*le*le}}};a.nodeInfluenceFactor&&i.forEach(function(g){c(g,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(g){v(g,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&r.forEach(function(g){c(g,a.negativeNodeInfluenceFactor/l)})}function Jx(i,r,t,e){var n=i.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-r,y:n.minY-r},topRight:{x:n.maxX+r,y:n.minY-r},bottomLeft:{x:n.minX-r,y:n.maxY+r},bottomRight:{x:n.maxX+r,y:n.maxY+r}},h=n.height*n.width;function c(A,k){return n.width*((A.y-n.minY+(k.y-n.minY))*.5)}if(o){if(a)return e?u.topLeft:u.bottomRight;if(s)return e?u.bottomLeft:u.topRight;var v=c(o,l);return v<h*.5?o.y>l.y?e?u.topLeft:u.bottomRight:e?u.topRight:u.bottomLeft:o.y<l.y?e?u.bottomLeft:u.topRight:e?u.bottomRight:u.topLeft}if(l){if(a)return e?u.topRight:u.bottomLeft;if(s)return e?u.bottomRight:u.topLeft}var g=c(a,s);return g<h*.5?a.x>s.x?e?u.topLeft:u.bottomRight:e?u.bottomLeft:u.topRight:a.x<s.x?e?u.topRight:u.bottomLeft:e?u.bottomRight:u.topLeft}var Q4=function(){function i(r,t){this.cfg=(0,f.deepMix)(this.getDefaultCfg(),t),this.graph=r,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?r.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return i.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},i.prototype.setPadding=function(){var r=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+r:10+r,this.cfg.bubbleCfg={nodeR0:this.padding-r,nodeR1:this.padding-r,morphBuffer:this.padding-r}},i.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},i.prototype.calcPath=function(r,t){var e,n,a;switch(this.type){case"round-convex":e=$x(r),a=Km(e.map(function(o){return[o.x,o.y]}),this.padding),n=(0,Us.parsePathString)(a);break;case"smooth-convex":e=$x(r),a=$m(e.map(function(o){return[o.x,o.y]}),this.padding),n=e.length>=2&&Bh(a);break;case"bubble":e=Z4(r,t,this.cfg.bubbleCfg),n=e.length>=2&&Bh(e);break;default:}return n},i.prototype.render=function(){this.group.addShape("path",{attrs:(0,Zt.__assign)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},i.prototype.addMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.members.push(r);var t=this.nonMembers.indexOf(r);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.addNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r)),this.nonMembers.push(r);var t=this.members.indexOf(r);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},i.prototype.removeMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.members.indexOf(r);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.removeNonMember=function(r){if(!!r){(0,f.isString)(r)&&(r=this.graph.findById(r));var t=this.nonMembers.indexOf(r);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},i.prototype.updateData=function(r,t){var e=this;this.group.findById(this.id).remove(),r&&(this.members=r.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,f.isString)(n)?e.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.updateStyle=function(r){var t=this.group.findById(this.id);t.attr((0,Zt.__assign)({},r))},i.prototype.updateCfg=function(r){var t=this;this.cfg=(0,f.deepMix)(this.cfg,r),this.id=this.cfg.id,this.group=this.cfg.group,r.members&&(this.members=this.cfg.members.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),r.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return(0,f.isString)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},i.prototype.contain=function(r){var t=this,e;(0,f.isString)(r)?e=this.graph.findById(r):e=r;var n,a=e.getKeyShape();if(e.get("type")==="path")n=tu(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),Lh(n,tu(this.path))},i.prototype.destroy=function(){this.group.remove(),this.cfg=null},i}(),J4=Q4,q4="node",t6="svg",e6=function(i){(0,Zt.__extends)(r,i);function r(t){var e=i.call(this)||this;return e.cfg=(0,f.deepMix)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new Ux(e.cfg.maxStep),e.redoStack=new Ux(e.cfg.maxStep)),e}return r.prototype.init=function(){this.initCanvas();var t=new i3(this),e=new r3(this),n=new t3(this),a=new A3(this),o=new P4(this),s=new I4(this),l=new B4(this);this.set({eventController:t,viewController:e,modeController:n,itemController:a,layoutController:o,stateController:s,customGroupControll:l}),this.initPlugin()},r.prototype.initCanvas=function(){var t=this.get("container");if((0,f.isString)(t)&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=this.get("width"),n=this.get("height"),a=this.get("renderer"),o;if(a===t6)o=new Is.Z({container:t,width:e,height:n});else{var s={container:t,width:e,height:n},l=this.get("pixelRatio");l&&(s.pixelRatio=l),o=new Ao.Z(s)}this.set("canvas",o),this.initGroups()},r.prototype.initPlugin=function(){var t=this;(0,f.each)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},r.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),n=e.id,a=t.addGroup({id:n+"-root",className:ke.rootContainerClassName});if(this.get("groupByTypes")){var o=a.addGroup({id:n+"-edge",className:ke.edgeContainerClassName}),s=a.addGroup({id:n+"-node",className:ke.nodeContainerClassName}),l=a.addGroup({id:n+"-combo",className:ke.comboContainerClassName}),u=a.addGroup({id:n+"-group",className:ke.customGroupContainerClassName});u.toBack(),l.toBack(),this.set({nodeGroup:s,edgeGroup:o,customGroup:u,comboGroup:l})}var h=a.addGroup({id:n+"-delegate",className:ke.delegateContainerClassName});this.set({delegateGroup:h}),this.set("group",a)},r.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,groupType:"circle",groupBBoxs:{},groupNodes:{},groups:[],groupStyle:{},enabledStack:!1,maxStep:10,tooltips:[]}},r.prototype.set=function(t,e){return(0,f.isPlainObject)(t)?this.cfg=(0,Zt.__assign)((0,Zt.__assign)({},this.cfg),t):this.cfg[t]=e,this},r.prototype.get=function(t){return this.cfg[t]},r.prototype.getGroup=function(){return this.get("group")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.getMinZoom=function(){return this.get("minZoom")},r.prototype.setMinZoom=function(t){return this.set("minZoom",t)},r.prototype.getMaxZoom=function(){return this.get("maxZoom")},r.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},r.prototype.getWidth=function(){return this.get("width")},r.prototype.getHeight=function(){return this.get("height")},r.prototype.clearItemStates=function(t,e){(0,f.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");e||(e=t.get("states")),n.clearItemStates(t,e);var a=this.get("stateController");a.updateStates(t,e,!1)},r.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},r.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},r.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},r.prototype.findById=function(t){return this.get("itemMap")[t]},r.prototype.find=function(t,e){var n,a=this.get(t+"s");return(0,f.each)(a,function(o,s){if(e(o,s))return n=o,n}),n},r.prototype.findAll=function(t,e){var n=[];return(0,f.each)(this.get(t+"s"),function(a,o){e(a,o)&&n.push(a)}),n},r.prototype.findAllByState=function(t,e){return this.findAll(t,function(n){return n.hasState(e)})},r.prototype.translate=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix());a||(a=[1,0,0,0,1,0,0,0,1]),ga.wO.translate(a,a,[t,e]),n.setMatrix(a),this.emit("viewportchange",{action:"translate",matrix:n.getMatrix()}),this.autoPaint()},r.prototype.moveTo=function(t,e){var n=this.get("group");Nm(n,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:n.getMatrix()})},r.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},r.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},r.prototype.addBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!0),this},r.prototype.removeBehaviors=function(t,e){var n=this.get("modeController");return n.manipulateBehaviors(t,e,!1),this},r.prototype.zoom=function(t,e){var n=this.get("group"),a=(0,f.clone)(n.getMatrix()),o=this.get("minZoom"),s=this.get("maxZoom");a||(a=[1,0,0,0,1,0,0,0,1]),e?(ga.wO.translate(a,a,[-e.x,-e.y]),ga.wO.scale(a,a,[t,t]),ga.wO.translate(a,a,[e.x,e.y])):ga.wO.scale(a,a,[t,t]),!(o&&a[0]<o||s&&a[0]>s)&&(n.setMatrix(a),this.emit("viewportchange",{action:"zoom",matrix:a}),this.autoPaint())},r.prototype.zoomTo=function(t,e){var n=t/this.getZoom();this.zoom(n,e)},r.prototype.focusItem=function(t,e,n){var a=this.get("viewController"),o=!1;e?o=!0:e===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},r.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},r.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},r.prototype.getPointByClient=function(t,e){var n=this.get("viewController");return n.getPointByClient(t,e)},r.prototype.getClientByPoint=function(t,e){var n=this.get("viewController");return n.getClientByPoint(t,e)},r.prototype.getPointByCanvas=function(t,e){var n=this.get("viewController");return n.getPointByCanvas(t,e)},r.prototype.getCanvasByPoint=function(t,e){var n=this.get("viewController");return n.getCanvasByPoint(t,e)},r.prototype.showItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},r.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},r.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var n=e.get("canvas");n.set("autoDraw",t)},r.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},r.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var n=t;if((0,f.isString)(t)&&(n=this.findById(t)),!n&&(0,f.isString)(t)){console.warn("The item to be removed does not exist!");var a=this.get("customGroupControll");a.remove(t)}else if(n){var o="";if(n.getType&&(o=n.getType()),e&&this.get("enabledStack")){var s=(0,Zt.__assign)((0,Zt.__assign)({},n.getModel()),{itemType:o}),l={};switch(o){case"node":{l.nodes=[s],l.edges=[];for(var u=n.getEdges(),h=u.length-1;h>=0;h--)l.edges.push((0,Zt.__assign)((0,Zt.__assign)({},u[h].getModel()),{itemType:"edge"}));break}case"edge":l.edges=[s];break;case"combo":l.combos=[s];break;default:break}this.pushStack("delete",{before:l,after:{}})}var c=this.get("itemController");if(c.removeItem(t),o==="combo"){var v=Nh(this.get("comboTrees"));this.set("comboTrees",v)}}},r.prototype.addItem=function(t,e,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController");if(t==="group"){var l=e.groupId,u=e.nodes,h=e.type,c=e.zIndex,v=e.title,g=v;return(0,f.isString)(v)&&(g={text:v}),this.get("customGroupControll").create(l,u,h,c,!0,g)}if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var A,k=this.get("comboTrees");if(k||(k=[]),t==="combo"){var F=this.get("itemMap"),Y=!1;if(k.forEach(function(te){Y||sa(te,function(le){if(e.parentId===le.id){Y=!0;var ae=(0,Zt.__assign)({id:e.id,depth:le.depth+2},e);le.children?le.children.push(ae):le.children=[ae],e.depth=ae.depth,A=s.addItem(t,e)}var Se=F[le.id];return Y&&Se&&Se.getType&&Se.getType()==="combo"&&s.updateCombo(Se,le.children),!0})}),!Y){var N=(0,Zt.__assign)({id:e.id,depth:0},e);e.depth=N.depth,k.push(N),A=s.addItem(t,e)}this.set("comboTrees",k)}else if(t==="node"&&(0,f.isString)(e.comboId)&&k){var st=this.findById(e.comboId);if(st&&st.getType&&st.getType()!=="combo"){console.warn("'"+e.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");return}A=s.addItem(t,e);var lt=this.get("itemMap"),At=!1,zt=!1;(k||[]).forEach(function(te){zt||At||sa(te,function(le){if(le.id===e.id)return zt=!0,!1;if(e.comboId===le.id&&!zt){At=!0;var ae=(0,f.clone)(e);ae.itemType="node",le.children?le.children.push(ae):le.children=[ae],e.depth=le.depth+1}return At&&lt[le.id].getType&&lt[le.id].getType()==="combo"&&s.updateCombo(lt[le.id],le.children),!0})})}else A=s.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var st=this.findById(e.comboId||e.parentId);st&&st.addChild(A)}var Wt=this.get("combos");if(Wt&&Wt.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var Qt=(0,Zt.__assign)((0,Zt.__assign)({},A.getModel()),{itemType:t}),Vt={};switch(t){case"node":Vt.nodes=[Qt];break;case"edge":Vt.edges=[Qt];break;case"combo":Vt.combos=[Qt];break;default:break}this.pushStack("add",{before:{},after:Vt})}return A},r.prototype.add=function(t,e,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,e,n,a)},r.prototype.updateItem=function(t,e,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,f.isString)(t)?s=this.findById(t):s=t;var l=(0,f.clone)(s.getModel()),u="";s.getType&&(u=s.getType());var h=(0,Zt.__spreadArrays)(s.getStates());if(u==="combo"&&(0,f.each)(h,function(A){return a.setItemState(s,A,!1)}),o.updateItem(s,e),u==="combo"&&(0,f.each)(h,function(A){return a.setItemState(s,A,!0)}),n&&this.get("enabledStack")){var c={nodes:[],edges:[],combos:[]},v={nodes:[],edges:[],combos:[]},g=(0,Zt.__assign)({id:l.id},e);switch(u){case"node":c.nodes.push(l),v.nodes.push(g);break;case"edge":c.edges.push(l),v.edges.push(g);break;case"combo":c.combos.push(l),v.combos.push(g);break;default:break}u==="node"&&c.nodes.push(l),this.pushStack("update",{before:c,after:v})}},r.prototype.update=function(t,e,n){n===void 0&&(n=!0),this.updateItem(t,e,n)},r.prototype.setItemState=function(t,e,n){(0,f.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,e,n);var o=this.get("stateController");(0,f.isString)(n)?o.updateState(t,e+":"+n,!0):o.updateState(t,e,n)},r.prototype.priorityState=function(t,e){var n=this.get("itemController");n.priorityState(t,e)},r.prototype.data=function(t){this.set("data",t)},r.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o,l=e.combos,u=l===void 0?[]:l;if(this.clear(),this.emit("beforerender"),(0,f.each)(a,function(N){t.add("node",N,!1,!1)}),u&&u.length!==0){var h=Rh(u,a);this.set("comboTrees",h),t.addCombos(u)}(0,f.each)(s,function(N){t.add("edge",N,!1,!1)});var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var v=t.get("layoutController");v.layout(g)||g();function g(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var A=this.getNodes();A.forEach(function(N){N.toFront()})}else{var k=this.getEdges();k.forEach(function(N){N.toBack()})}if(e.nodes){var F=e.nodes.filter(function(N){return N.groupId});if(F.length>0){var Y=t.get("groupType");this.renderCustomGroup(e,Y)}}this.get("enabledStack")&&this.pushStack("render")},r.prototype.read=function(t){this.data(t),this.render()},r.prototype.diffItems=function(t,e,n){var a=this,o,s=this.get("itemMap");(0,f.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===q4){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);e[t+"s"].push(o)})},r.prototype.changeData=function(t,e){e===void 0&&(e=!0);var n=this;if(!t)return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.save(),after:t}),this.set("comboSorted",!1),this.getNodes().map(function(k){return n.clearItemStates(k)}),this.getEdges().map(function(k){return n.clearItemStates(k)});var a=this.get("canvas"),o=a.get("localRefresh");a.set("localRefresh",!1),n.get("data")||(n.data(t),n.render());var s=this.get("itemMap"),l={nodes:[],edges:[]},u=t.combos;if(u){var h=Rh(u,t.nodes);this.set("comboTrees",h)}this.diffItems("node",l,t.nodes),(0,f.each)(s,function(k,F){s[F].getModel().depth=0,!(k.getType&&k.getType()==="edge")&&(k.getType&&k.getType()==="combo"?(delete s[F],k.destroy()):l.nodes.indexOf(k)<0&&(delete s[F],n.remove(k,!1)))});for(var c=this.getCombos(),v=c.length,g=v-1;g>=0;g--)c[g].destroyed&&c.splice(g,1);u&&(n.addCombos(u),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",l,t.edges),(0,f.each)(s,function(k,F){k.getType&&(k.getType()==="node"||k.getType()==="combo")||l.edges.indexOf(k)<0&&(delete s[F],n.remove(k,!1))}),this.set({nodes:l.nodes,edges:l.edges});var A=this.get("layoutController");return A.changeData(),n.get("animate")&&!A.getLayoutType()?n.positionsAnimate():n.autoPaint(),setTimeout(function(){a.set("localRefresh",o)},16),this},r.prototype.addCombos=function(t){var e=this,n=e.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},r.prototype.createCombo=function(t,e){var n=this;this.set("comboSorted",!1);var a="",o;if(!!t){if((0,f.isString)(t))a=t,o={id:t};else{if(a=t.id,!a){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}o=t}var s=e.map(function(u){var h=n.findById(u),c="";h.getType&&(c=h.getType());var v={id:h.getID(),itemType:c};return c==="combo"?v.parentId=a:c==="node"&&(v.comboId=a),v});o.children=s,this.addItem("combo",o,!1),this.set("comboSorted",!1);var l=this.get("comboTrees");(l||[]).forEach(function(u){sa(u,function(h){return h.id===a?(h.itemType="combo",h.children=s,!1):!0})}),l&&this.sortCombos()}},r.prototype.uncombo=function(t){var e=this,n,a=this,o=t;if((0,f.isString)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var s=o.getModel().parentId,l=a.get("comboTrees");l||(l=[]);var u=this.get("itemMap"),h=o.get("id"),c,v=[],g=this.get("combos"),A=this.findById(s);if(l.forEach(function(F){c||sa(F,function(Y){var N;if(Y.id===h){c=Y;var st=o.getEdges();st.forEach(function(At){e.removeItem(At,!1)});var lt=g.indexOf(t);g.splice(lt,1),delete u[h],o.destroy()}if(s&&c&&Y.id===s){A.removeCombo(o),v=Y.children;var lt=v.indexOf(c);return lt!==-1&&v.splice(lt,1),(N=c.children)===null||N===void 0||N.forEach(function(zt){var Wt=e.findById(zt.id),Qt=Wt.getModel();Wt.getType&&Wt.getType()==="combo"?(zt.parentId=s,delete zt.comboId,Qt.parentId=s,delete Qt.comboId):Wt.getType&&Wt.getType()==="node"&&(zt.comboId=s,Qt.comboId=s),A.addChild(Wt),v.push(zt)}),!1}return!0})}),!s&&c){var k=l.indexOf(c);l.splice(k,1),(n=c.children)===null||n===void 0||n.forEach(function(F){F.parentId=void 0;var Y=e.findById(F.id).getModel();Y.parentId=void 0,F.itemType!=="node"&&l.push(F)})}},r.prototype.updateCombos=function(){var t=this,e=this,n=this.get("comboTrees"),a=e.get("itemController"),o=e.get("itemMap");(n||[]).forEach(function(s){sa(s,function(l){if(!l)return!0;var u=o[l.id];if(u&&u.getType&&u.getType()==="combo"){var h=(0,Zt.__spreadArrays)(u.getStates());(0,f.each)(h,function(c){return t.setItemState(u,c,!1)}),a.updateCombo(u,l.children),(0,f.each)(h,function(c){return t.setItemState(u,c,!0)})}return!0})}),e.sortCombos()},r.prototype.updateCombo=function(t){var e=this,n=this,a=t,o;if((0,f.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(h){sa(h,function(c){if(!c)return!0;var v=u[c.id];if(o===c.id&&v&&v.getType&&v.getType()==="combo"){var g=(0,Zt.__spreadArrays)(v.getStates());(0,f.each)(g,function(A){v.getStateStyle(A)&&e.setItemState(v,A,!1)}),l.updateCombo(v,c.children),(0,f.each)(g,function(A){v.getStateStyle(A)&&e.setItemState(v,A,!0)}),o&&(o=c.parentId)}return!0})})},r.prototype.updateComboTree=function(t,e){var n=this;this.set("comboSorted",!1);var a;(0,f.isString)(t)?a=n.findById(t):a=t;var o=a.getModel(),s=o.comboId||o.parentId;if(e&&a.getType&&a.getType()==="combo"){var l=this.get("comboTrees"),u=!0,h;if((l||[]).forEach(function(k){h||Ii(k,function(F){if(!h)return F.id===a.getID()&&(h=F),!0})}),Ii(h,function(k){return k.id===e?(u=!1,!1):!0}),!u){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(o.parentId||o.comboId){var c=this.findById(o.parentId||o.comboId);c&&c.removeChild(a)}var v="";if(a.getType&&(v=a.getType()),v==="combo"?o.parentId=e:v==="node"&&(o.comboId=e),e){var g=this.findById(e);g&&g.addChild(a)}if(s){var g=this.findById(s);g&&g.removeChild(a)}var A=Nh(this.get("comboTrees"),o.id,e);this.set("comboTrees",A),this.updateCombos()},r.prototype.renderCustomGroup=function(t,e){var n=this,a=t.groups,o=t.nodes,s=o===void 0?[]:o,l=10;if(a){this.set({groups:a});var v=JR(t);Object.keys(v).forEach(function(A){var k=v[A];n.get("customGroupControll").create(A,k,e,l),l--});var g=this.get("customGroup");g.sort()}else{var u=s.filter(function(A){return A.groupId}),h=[],c=(0,f.groupBy)(u,"groupId");Object.keys(c).forEach(function(A){var k=c[A].map(function(F){return F.id});n.get("customGroupControll").create(A,k,e,l),l--,h.find(function(F){return F.id===A})||h.push({id:A})}),this.set({groups:h})}},r.prototype.save=function(){var t=[],e=[],n=[];return(0,f.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,f.each)(this.get("edges"),function(a){e.push(a.getModel())}),(0,f.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:e,combos:n,groups:this.get("groups")}},r.prototype.changeSize=function(t,e){var n=this.get("viewController");return n.changeSize(t,e),this},r.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,f.each)(e,function(o){o.refresh()}),(0,f.each)(n,function(o){o.refresh()}),(0,f.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},r.prototype.getNodes=function(){return this.get("nodes")},r.prototype.getEdges=function(){return this.get("edges")},r.prototype.getCombos=function(){return this.get("combos")},r.prototype.getComboChildren=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},r.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),n=e.onFrame,a=t.getNodes(),o=a.map(function(l){var u=l.getModel();return{id:u.id,x:u.x,y:u.y}});t.isAnimating()&&t.stopAnimate();var s=t.get("canvas");s.animate(function(l){(0,f.each)(o,function(u){var h=t.findById(u.id);if(!(!h||h.destroyed)){var c=h.get("originAttrs"),v=h.get("model");if(!c){var g=h.getContainer().getMatrix();g||(g=[1,0,0,0,1,0,0,0,1]),c={x:g[6],y:g[7]},h.set("originAttrs",c)}if(n){var A=n(h,l,u,c);h.set("model",Object.assign(v,A))}else v.x=c.x+(u.x-c.x)*l,v.y=c.y+(u.y-c.y)*l}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){(0,f.each)(a,function(u){u.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},r.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),n=t.get("edges"),a=t.get("vedges"),o=t.get("combos"),s,l={};(0,f.each)(e,function(u){s=u.getModel();var h=u.get("originAttrs");h&&s.x===h.x&&s.y===h.y||(u.updatePosition({x:s.x,y:s.y}),l[s.id]=!0,s.comboId&&(l[s.comboId]=!0))}),o&&o.length!==0&&t.updateCombos(),(0,f.each)(n,function(u){var h=u.getSource().getModel(),c=u.getTarget().getModel();(l[h.id]||l[c.id]||u.getModel().isComboEdge)&&u.refresh()}),(0,f.each)(a,function(u){u.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},r.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},r.prototype.isAnimating=function(){return this.animating},r.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},r.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},r.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},r.prototype.clear=function(){var t=this.get("canvas");return t.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},r.prototype.toDataURL=function(t,e){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),h=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);h.replaceChild(l,h.documentElement);var c=new XMLSerializer().serializeToString(h);s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(c)}else{var v=void 0,g=o.getContext("2d"),A=this.get("width"),k=this.get("height"),F=void 0;if(e){var Y=window.devicePixelRatio;v=g.getImageData(0,0,A*Y,k*Y),F=g.globalCompositeOperation,g.globalCompositeOperation="destination-over",g.fillStyle=e,g.fillRect(0,0,A,k)}s=o.toDataURL(t),e&&(g.clearRect(0,0,A,k),g.putImageData(v,0,0),g.globalCompositeOperation=F)}return s},r.prototype.toFullDataURL=function(t,e,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=(0,jn.Z)('<id="virtual-image"></div>'),h=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,f.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var v=o+c[0]+c[2],g=s+c[1]+c[3],A={container:u,height:v,width:g,quickHit:!0},k=l==="svg"?new Is.Z(A):new Ao.Z(A),F=this.get("group"),Y=F.clone(),N=(0,f.clone)(Y.getMatrix());N||(N=[1,0,0,0,1,0,0,0,1]);var st=(a.maxX+a.minX)/2,lt=(a.maxY+a.minY)/2;ga.wO.translate(N,N,[-st,-lt]),ga.wO.translate(N,N,[s/2+c[3],o/2+c[0]]),Y.resetMatrix(),Y.setMatrix(N),k.add(Y);var At=k.get("el"),zt="";e||(e="image/png"),setTimeout(function(){if(l==="svg"){var Wt=At.cloneNode(!0),Qt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Vt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Qt);Vt.replaceChild(Wt,Vt.documentElement);var te=new XMLSerializer().serializeToString(Vt);zt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(te)}else{var le=void 0,ae=At.getContext("2d"),Se=void 0;if(h){var _e=window.devicePixelRatio;le=ae.getImageData(0,0,g*_e,v*_e),Se=ae.globalCompositeOperation,ae.globalCompositeOperation="destination-over",ae.fillStyle=h,ae.fillRect(0,0,g,v)}zt=At.toDataURL(e),h&&(ae.clearRect(0,0,g,v),ae.putImageData(le,0,0),ae.globalCompositeOperation=Se)}t==null||t(zt)},16)},r.prototype.downloadFullImage=function(t,e,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),h=(0,jn.Z)('<id="virtual-image"></div>'),c=n?n.backgroundColor:void 0,v=n?n.padding:void 0;v?(0,f.isNumber)(v)&&(v=[v,v,v,v]):v=[0,0,0,0];var g=s+v[0]+v[2],A=l+v[1]+v[3],k={container:h,height:g,width:A},F=u==="svg"?new Is.Z(k):new Ao.Z(k),Y=this.get("group"),N=Y.clone(),st=(0,f.clone)(N.getMatrix());st||(st=[1,0,0,0,1,0,0,0,1]);var lt=(o.maxX+o.minX)/2,At=(o.maxY+o.minY)/2;ga.wO.translate(st,st,[-lt,-At]),ga.wO.translate(st,st,[l/2+v[3],s/2+v[0]]),N.resetMatrix(),N.setMatrix(st),F.add(N);var zt=F.get("el");e||(e="image/png"),setTimeout(function(){var Wt="";if(u==="svg"){var Qt=zt.cloneNode(!0),Vt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),te=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Vt);te.replaceChild(Qt,te.documentElement);var le=new XMLSerializer().serializeToString(te);Wt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(le)}else{var ae=void 0,Se=zt.getContext("2d"),_e=void 0;if(c){var Ee=window.devicePixelRatio;ae=Se.getImageData(0,0,A*Ee,g*Ee),_e=Se.globalCompositeOperation,Se.globalCompositeOperation="destination-over",Se.fillStyle=c,Se.fillRect(0,0,A,g)}Wt=zt.toDataURL(e),c&&(Se.clearRect(0,0,A,g),Se.putImageData(ae,0,0),Se.globalCompositeOperation=_e)}var Fe=document.createElement("a"),Ne=(t||"graph")+(u==="svg"?".svg":"."+e.split("/")[1]);a.dataURLToImage(Wt,u,Fe,Ne);var Ye=document.createEvent("MouseEvents");Ye.initEvent("click",!1,!1),Fe.dispatchEvent(Ye)},16)},r.prototype.downloadImage=function(t,e,n){var a=this,o=this;o.isAnimating()&&o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();e||(e="image/png");var u=(t||"graph")+(l==="svg"?".svg":e.split("/")[1]),h=document.createElement("a");setTimeout(function(){var c=o.toDataURL(e,n);a.dataURLToImage(c,l,h,u);var v=document.createEvent("MouseEvents");v.initEvent("click",!1,!1),h.dispatchEvent(v)},16)},r.prototype.dataURLToImage=function(t,e,n,a){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),h=u.length,c=new Uint8Array(h);h--;)c[h]=u.charCodeAt(h);var v=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(v,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(v)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},r.prototype.updateLayout=function(t){var e=this.get("layoutController"),n;(0,f.isString)(t)?(n=t,t={type:n}):n=t.type;var a=this.get("layout"),o=a?a.type:void 0;if(!n||o===n){var s={};Object.assign(s,a,t),s.type=o||"random",this.set("layout",s),e.updateLayoutCfg(s)}else this.set("layout",t),e.changeLayout(n)},r.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},r.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!!e){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},r.prototype.collapseCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.collapseCombo(t),n.collapsed=!0;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(A){c[A.id]=A}),(u||[]).forEach(function(A){h||Ii(A,function(k){if(h&&c[k.id])return!1;if(n.parentId===k.id?(c={},k.children.forEach(function(Y){c[Y.id]=Y})):n.id===k.id&&(h=!0),h){var F=e.findById(k.id);F&&F.getType&&F.getType()==="combo"&&(s=s.concat(F.getNodes()),l=l.concat(F.getCombos()))}return!0})});var v={},g=[];o.forEach(function(A){if(!(A.isVisible()&&!A.getModel().isVEdge)){var k=A.getSource(),F=A.getTarget();if((s.includes(k)||l.includes(k))&&!s.includes(F)&&!l.includes(F)||k.getModel().id===n.id){var Y=A.getModel();if(Y.isVEdge){e.removeItem(A,!1);return}for(var N=F.getModel();!F.isVisible();){if(F=e.findById(N.parentId||N.comboId),!F||!N.parentId&&!N.comboId)return;N=F.getModel()}var st=N.id;if(v[n.id+"-"+st]){v[n.id+"-"+st]+=Y.size||1;return}var lt=e.addItem("vedge",{source:n.id,target:st,isVEdge:!0},!1);v[n.id+"-"+st]=Y.size||1,g.push(lt)}else if(!s.includes(k)&&!l.includes(k)&&(s.includes(F)||l.includes(F))||F.getModel().id===n.id){var Y=A.getModel();if(Y.isVEdge){e.removeItem(A,!1);return}for(var At=k.getModel();!k.isVisible();){if(k=e.findById(At.parentId||At.comboId),!k||!At.parentId&&!At.comboId)return;At=k.getModel()}var zt=At.id;if(v[zt+"-"+n.id]){v[zt+"-"+n.id]+=Y.size||1;return}var lt=e.addItem("vedge",{target:n.id,source:zt,isVEdge:!0},!1);v[zt+"-"+n.id]=Y.size||1,g.push(lt)}}}),g.forEach(function(A){var k=A.getModel();e.updateItem(A,{size:v[k.source+"-"+k.target]},!1)})},r.prototype.expandCombo=function(t){var e=this;if((0,f.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}var n=t.getModel(),a=this.get("itemController");a.expandCombo(t),n.collapsed=!1;var o=this.getEdges().concat(this.get("vedges")),s=[],l=[],u=this.get("comboTrees"),h=!1,c={};(u||[]).forEach(function(A){c[A.id]=A}),(u||[]).forEach(function(A){h||Ii(A,function(k){if(h&&c[k.id])return!1;if(n.parentId===k.id?(c={},k.children.forEach(function(Y){c[Y.id]=Y})):n.id===k.id&&(h=!0),h){var F=e.findById(k.id);F&&F.getType&&F.getType()==="combo"&&(s=s.concat(F.getNodes()),l=l.concat(F.getCombos()))}return!0})});var v={},g={};o.forEach(function(A){if(!(A.isVisible()&&!A.getModel().isVEdge)){var k=A.getSource(),F=A.getTarget(),Y=k.get("id"),N=F.get("id");if((s.includes(k)||l.includes(k))&&!s.includes(F)&&!l.includes(F)||Y===n.id){if(A.getModel().isVEdge){e.removeItem(A,!1);return}for(var st=F.getModel();!F.isVisible();){if(F=e.findById(st.comboId||st.parentId),!F||!st.parentId&&!st.comboId)return;st=F.getModel()}N=st.id;for(var lt=k.getModel();!k.isVisible();){if(k=e.findById(lt.comboId||lt.parentId),!k||!lt.parentId&&!lt.comboId)return;if(lt.comboId===n.id||lt.parentId===n.id)break;lt=k.getModel()}if(Y=lt.id,N){var At=Y+"-"+N;if(v[At]){v[At]+=A.getModel().size||1,e.updateItem(g[At],{size:v[At]},!1);return}var zt=e.addItem("vedge",{source:Y,target:N,isVEdge:!0},!1);v[At]=A.getModel().size||1,g[At]=zt}}else if(!s.includes(k)&&!l.includes(k)&&(s.includes(F)||l.includes(F))||N===n.id){if(A.getModel().isVEdge){e.removeItem(A,!1);return}for(var lt=k.getModel();!k.isVisible();){if(k=e.findById(lt.comboId||lt.parentId),!k||!lt.parentId&&!lt.comboId)return;lt=k.getModel()}Y=lt.id;for(var st=F.getModel();!F.isVisible();){if(F=e.findById(st.comboId||st.parentId),!F||!st.parentId&&!st.comboId)return;if(st.comboId===n.id||st.parentId===n.id)break;st=F.getModel()}if(N=st.id,Y){var At=Y+"-"+N;if(v[At]){v[At]+=A.getModel().size||1,e.updateItem(g[At],{size:v[At]},!1);return}var zt=e.addItem("vedge",{target:N,source:Y,isVEdge:!0},!1);v[At]=A.getModel().size||1,g[At]=zt}}else(s.includes(k)||l.includes(k))&&(s.includes(F)||l.includes(F))&&k.isVisible()&&F.isVisible()&&A.show()}})},r.prototype.collapseExpandCombo=function(t){if((0,f.isString)(t)&&(t=this.findById(t)),!(t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),n=this.findById(e.parentId);n;){var a=n.getModel();if(a.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),n=void 0;return}n=this.findById(a.parentId)}var o=e.collapsed;o?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},r.prototype.collapseGroup=function(t){var e=this.get("customGroupControll");e.collapseGroup(t)},r.prototype.expandGroup=function(t){var e=this.get("customGroupControll");e.expandGroup(t)},r.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},r.prototype.removePlugin=function(t){var e=this.get("plugins"),n=e.indexOf(t);n>=0&&(t.destroyPlugin(),e.splice(n,1))},r.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var n=[],a={},o=this.get("comboTrees");(o||[]).forEach(function(l){Ii(l,function(u){return n[u.depth]?n[u.depth].push(u.id):n[u.depth]=[u.id],a[u.id]=u.depth,!0})});var s=this.getEdges().concat(this.get("vedges"));(s||[]).forEach(function(l){var u=l.getModel(),h=a[u.source]||0,c=a[u.target]||0,v=Math.max(h,c);n[v]?n[v].push(u.id):n[v]=[u.id]}),n.forEach(function(l){if(!(!l||!l.length))for(var u=l.length-1;u>=0;u--){var h=t.findById(l[u]);h==null||h.toFront()}})}},r.prototype.getNeighbors=function(t,e){var n=t;return(0,f.isString)(t)&&(n=this.findById(t)),n.getNeighbors(e)},r.prototype.getNodeDegree=function(t,e){e===void 0&&(e=void 0);var n=t;(0,f.isString)(t)&&(n=this.findById(t));var a=this.get("degrees");a||(a=Hx(this)),this.set("degees",a);var o=a[n.getID()],s;switch(e){case"in":s=o.inDegree;break;case"out":s=o.outDegree;break;case"all":s=o;break;default:s=o.degree;break}return s},r.prototype.getUndoStack=function(){return this.undoStack},r.prototype.getRedoStack=function(){return this.redoStack},r.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},r.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},r.prototype.pushStack=function(t,e,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=e?(0,f.clone)(e):{before:{},after:(0,f.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},r.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=bu(this,e),this.set("adjMatrix",n)),n},r.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=bu(this,e),this.set("adjMatrix",n)),(!a||!t)&&(a=Zx(this,e),this.set("shortestPathMatrix",a)),a},r.prototype.destroy=function(){this.clear(),this.clearStack(),(0,f.each)(this.get("plugins"),function(o){o.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var n=t[e];if(!!n){var a=n.parentElement;!a||a.removeChild(n)}}this.get("eventController").destroy(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("layoutController").destroy(),this.get("customGroupControll").destroy(),this.get("canvas").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},r.prototype.createHull=function(t){var e=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),e||(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=e.addGroup({id:t.id+"-container"}),o=new J4(this,(0,Zt.__assign)((0,Zt.__assign)({},t),{group:a})),s=o.id;return n[s]=o,o},r.prototype.getHulls=function(){return this.get("hullMap")},r.prototype.getHullById=function(t){return this.get("hullMap")[t]},r.prototype.removeHull=function(t){var e;(0,f.isString)(t)?e=this.getHullById(t):e=t;var n=this.get("hullMap");delete n[e.id],e.destroy()},r.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=ke.waterMarkerImage);var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},ke.imageWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.image;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Ao.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),A=h.rotate,k=h.x,F=h.y;g.rotate(-A*Math.PI/180);var Y=new Image;Y.crossOrigin="anonymous",Y.src=t,Y.onload=function(){if(g.drawImage(Y,k,F,h.width,h.height),g.rotate(A*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var N=document.querySelector(".g6-graph-watermarker");N||(N=document.createElement("div"),N.className="g6-graph-watermarker"),N.className="g6-graph-watermarker",a.destroyed||(N.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",n.appendChild(N))}}},r.prototype.setTextWaterMarker=function(t,e){var n=this.get("container");(0,f.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,f.deepMix)({},ke.textWaterMarkerConfig,e),s=o.width,l=o.height,u=o.compatible,h=o.text;if(!a){var c={container:n,width:s,height:l,capture:!1},v=this.get("pixelRatio");v&&(c.pixelRatio=v),a=new Ao.Z(c),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var g=a.get("context"),A=h.rotate,k=h.fill,F=h.fontFamily,Y=h.fontSize,N=h.baseline,st=h.x,lt=h.y,At=h.lineHeight;g.rotate(-A*Math.PI/180),g.font=Y+"px "+F,g.fillStyle=k,g.textBaseline=N;for(var zt=t.length-1;zt>=0;zt--)g.fillText(t[zt],st,lt+zt*At);if(g.rotate(A*Math.PI/180),u)n.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Wt=document.querySelector(".g6-graph-watermarker");Wt||(Wt=document.createElement("div"),Wt.className="g6-graph-watermarker"),Wt.style.cssText="background-image: url("+a.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",n.appendChild(Wt)}},r}(pe.default),qx=e6,r6=d(77201),t1=d.n(r6),n6=function(i){(0,Zt.__extends)(r,i);function r(t){var e=i.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return r.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var n=t1()[t.type](e,t);return lx(n),n}:function(e){return t1()[t.type](e,t)}):null},r.indexOfChild=function(t,e){var n=-1;return(0,Fn.S6)(t,function(a,o){if(e===a.id)return n=o,!1}),n},r.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.animate=!0,t},r.prototype.innerAddChild=function(t,e,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(e){if(s.set("parent",e),n){var l=e.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=e.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var h=e.get("children");h?h.push(s):e.set("children",[s]),a.addItem("edge",{source:e,target:s,id:e.get("id")+":"+s.get("id")},!1)}return(0,Fn.S6)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:e}),s},r.prototype.innerUpdateChild=function(t,e,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,e,n);return}(0,Fn.S6)(t.children||[],function(A){a.innerUpdateChild(A,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var h=s[u].getModel();r.indexOfChild(t.children||[],h.id)===-1&&(a.innerRemoveChild(h.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var c,v;o.get("originAttrs")&&(c=o.get("originAttrs").x,v=o.get("originAttrs").y);var g=o.getModel();n&&o.set("originAttrs",{x:g.x,y:g.y}),o.set("model",t.data),(c!==t.x||v!==t.y)&&o.updatePosition({x:t.x,y:t.y})},r.prototype.innerRemoveChild=function(t,e,n){var a=this,o=a.findById(t);if(!!o)if((0,Fn.S6)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,e,n)}),n){var s=o.getModel();o.set("to",e),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o)},r.prototype.changeData=function(t){var e=this;this.getNodes().map(function(n){return e.clearItemStates(n)}),this.getEdges().map(function(n){return e.clearItemStates(n)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},r.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},r.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},r.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},r.prototype.layout=function(t){var e=this,n=e.get("data"),a=e.get("layoutMethod"),o=a(n,e.get("layout")),s=e.get("animate");if(e.emit("beforerefreshlayout",{data:n,layoutData:o}),e.emit("beforelayout"),e.innerUpdateChild(o,void 0,s),t){var l=e.get("viewController");l.fitView()}s?e.layoutAnimate(o):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:n,layoutData:o}),e.emit("afterlayout")},r.prototype.addChild=function(t,e){var n=this;n.emit("beforeaddchild",{model:t,parent:e}),(0,Fn.HD)(e)||(e=e.get("id"));var a=n.findDataById(e);a&&(a.children||(a.children=[]),a.children.push(t),n.changeData())},r.prototype.updateChild=function(t,e){var n=this;if(!e||!n.findById(e)){n.changeData(t);return}var a=n.findById(e).getModel(),o=n.findById(t.id);if(a.children||(a.children=[]),!o)a.children.push(t);else{var s=r.indexOfChild(a.children,t.id);a.children[s]=t}n.changeData()},r.prototype.removeChild=function(t){var e=this,n=e.findById(t);if(!!n){var a=n.get("parent");if(a&&!a.destroyed){var o=e.findDataById(a.get("id")),s=o&&o.children||[],l=n.getModel(),u=r.indexOfChild(s,l.id);s.splice(u,1)}e.changeData()}},r.prototype.findDataById=function(t,e){var n=this;if(e||(e=n.get("data")),t===e.id)return e;var a=null;return(0,Fn.S6)(e.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},r.prototype.layoutAnimate=function(t,e){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Ii(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),h=l.get("model");if(u||(u={x:h.x,y:h.y},l.set("originAttrs",u)),e){var c=e(l,o,u,t);l.set("model",Object.assign(h,c))}else h.x=u.x+(s.x-u.x)*o,h.y=u.y+(s.y-u.y)*o}return!0}),(0,Fn.S6)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),h=s.get("to");l.x=u.x+(h.x-u.x)*o,l.y=u.y+(h.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,Fn.S6)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,Fn.S6)(n.get("removeList"),function(s){n.removeItem(s)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},r.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},r.prototype.isLayoutAnimating=function(){return this.layoutAnimating},r.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},r.prototype.save=function(){return this.get("data")},r}(qx),i6=n6,a6="-shape",e1="-label",wu=["startArrow","endArrow"],Qh="-label-bg",Jh={options:{},itemType:"",type:"",getCustomConfig:function(r){return{}},getOptions:function(r){return(0,f.deepMix)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(r)||{},r)},draw:function(r,t){var e=this.drawShape(r,t);if(e.set("className",this.itemType+a6),r.label){var n=this.drawLabel(r,t);n.set("className",this.itemType+e1)}return e},afterDraw:function(r,t,e){},drawShape:function(r,t){return null},drawLabel:function(r,t){var e=this.getOptions(r).labelCfg,n=e||{},a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape"});if(o){var l=s.getBBox(),u=s.getMatrix();if(u||(u=[1,0,0,0,1,0,0,0,1]),a.rotateCenter)switch(a.rotateCenter){case"center":u=_a(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=_a(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=_a(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=_a(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=_a(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var h=this.drawLabelBg(r,t,s),c=this.itemType+Qh;h.set("classname",c),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.mix)({},n,r.labelCfg),o=this.getLabelBgStyleByPosition(e,r,a,t),s=t.addShape("rect",{name:"text-bg-shape",attrs:o});return s},getLabelStyleByPosition:function(r,t,e){return{text:r.label}},getLabelBgStyleByPosition:function(r,t,e,n){return{}},getLabelStyle:function(r,t,e){var n=this.getLabelStyleByPosition(r,t,e),a=this.itemType+"Label",o=ke[a]?ke[a].style:null,s=(0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)({},o),n),t.style);return s},getShapeStyle:function(r){return r.style},update:function(r,t){this.updateShapeStyle(r,t),this.updateLabel(r,t)},updateShapeStyle:function(r,t){var e=t.getContainer(),n=t.getKeyShape(),a=(0,f.mix)({},n.attr(),r.style),o=function(u){var h,c=a[u];if((0,f.isPlainObject)(c)){var v=e.find(function(g){return g.get("name")===u});v&&v.attr(c)}else n.attr((h={},h[u]=c,h))};for(var s in a)o(s)},updateLabel:function(r,t){var e=t.getContainer(),n=this.getOptions({}).labelCfg,a=this.itemType+e1,o=e.find(function(lt){return lt.get("className")===a}),s=this.itemType+Qh,l=e.find(function(lt){return lt.get("classname")===s});if(r.label||r.label==="")if(o){var h={};t.getModel&&(h=t.getModel().labelCfg);var c=(0,f.deepMix)({},n,h,r.labelCfg),v=this.getLabelStyleByPosition(r,c,e),g=r.labelCfg?r.labelCfg.style:void 0,A=c.style&&c.style.background,k=(0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)({},o.attr()),v),g),F=k.rotate;if(delete k.rotate,F){var Y=[1,0,0,0,1,0,0,0,1];Y=_a(Y,[["t",-k.x,-k.y],["r",F],["t",k.x,k.y]]),o.resetMatrix(),o.attr((0,Zt.__assign)((0,Zt.__assign)({},k),{matrix:Y}))}else o.resetMatrix(),o.attr(k);if(!l)k.background&&(l=this.drawLabelBg(r,e,o),l.set("classname",s),o.toFront());else if(k.background){var N=this.getLabelBgStyleByPosition(o,r,c,e),st=(0,Zt.__assign)((0,Zt.__assign)({},N),A);l.resetMatrix(),F&&l.rotateAtStart(F),l.attr(st)}else e.removeChild(l)}else{var u=this.drawLabel(r,e);u.set("className",a)}},afterUpdate:function(r,t){},setState:function(r,t,e){var n,a,o=e.get("keyShape");if(!!o){var s=e.getType(),l=(0,f.isBoolean)(t)?r:r+":"+t,u=this.getStateStyle(l,e),h=e.getStateStyle(l);if(!(!h&&!u)){var c=(0,f.mix)({},h||u),v=e.getContainer();if(t){var g=function(ae){var Se,_e=c[ae];if((0,f.isPlainObject)(_e)&&!wu.includes(ae)){var Ee=v.find(function(Fe){return Fe.get("name")===ae});Ee&&Ee.attr(_e)}else o.attr((Se={},Se[ae]=_e,Se))};for(var A in c)g(A)}else{var k=(0,f.clone)(e.getCurrentStatesStyle()),F=e.getModel(),Y=(0,f.mix)({},F.style,(0,f.clone)(e.getOriginStyle())),N=o.get("name"),st=o.attr(),lt={},At=function(ae){var Se=c[ae];if((0,f.isPlainObject)(Se)&&!wu.includes(ae)){var _e=v.find(function(Ne){return Ne.get("name")===ae});if(_e){var Ee=_e.attr();(0,f.each)(Se,function(Ne,Ye){(Ee[Ye]||Ee[Ye]===0)&&delete Ee[Ye]}),lt[ae]=Ee}}else{var Fe={x:1,y:1,cx:1,cy:1};st[ae]&&!Fe[ae]&&delete st[ae]}};for(var zt in c)At(zt);N?lt[N]=st:(0,f.mix)(lt,st);for(var A in k){var Wt=k[A];(!(0,f.isPlainObject)(Wt)||wu.includes(A))&&(N?((0,f.mix)(Y[N],(a={},a[A]=Wt,a)),delete Y[A]):(0,f.mix)(Y,(n={},n[A]=Wt,n)),delete k[A])}var Qt={};(0,f.deepMix)(Qt,Y,lt,k);var Vt=function(ae){var Se,_e,Ee=Qt[ae];if((0,f.isPlainObject)(Ee)&&!wu.includes(ae)){var Fe=v.find(function(Ne){return Ne.get("name")===ae});Fe&&Fe.attr(Ee)}else s==="combo"?N||o.attr((Se={},Se[ae]=Ee,Se)):o.attr((_e={},_e[ae]=Ee,_e))};for(var te in Qt)Vt(te)}}}},getStateStyle:function(r,t){var e=t.getModel(),n=t.getType(),a=this.getOptions(e),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=e.stateStyles?e.stateStyles[r]:o&&o[r];return n==="combo"?(0,f.clone)(u):(0,f.mix)({},l,u)},getControlPoints:function(r){return r.controlPoints},getAnchorPoints:function(r){var t=this.getOptions(r).anchorPoints;return t}},o6={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:ke.nodeLabel.offset,getSize:function(r){var t=r.size||this.getOptions({}).size||ke.defaultNode.size;return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:r.label};var n=t.offset;(0,f.isNil)(n)&&(n=this.offset);var a=this.getSize(r),o=a[0],s=a[1],l;switch(e){case"top":l={x:0,y:0-s/2-n,textBaseline:"bottom"};break;case"bottom":l={x:0,y:s/2+n,textBaseline:"top"};break;case"left":l={x:0-o/2-n,y:0,textAlign:"right"};break;default:l={x:o/2+n,y:0,textAlign:"left"};break}return l.text=r.label,l},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=Ch(o.padding),l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.offset;(0,f.isNil)(h)&&(h=this.offset);var c;return c={x:a.minX-s[3],y:a.minY-s[0]},c=(0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)({},c),o),{width:l,height:u}),c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"node-shape"});return a},updateLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=t.find(function(Wt){return Wt.get("className")==="link-point-left"}),a=t.find(function(Wt){return Wt.get("className")==="link-point-right"}),o=t.find(function(Wt){return Wt.get("className")==="link-point-top"}),s=t.find(function(Wt){return Wt.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=e);var u=(0,f.mix)({},l,r.linkPoints),h=u.fill,c=u.stroke,v=u.lineWidth,g=u.size/2;g||(g=u.r);var A=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},k=A.left,F=A.right,Y=A.top,N=A.bottom,st=this.getSize(r),lt=st[0],At=st[1],zt={r:g,fill:h,stroke:c,lineWidth:v};n?!k&&k!==void 0?n.remove():n.attr((0,Zt.__assign)((0,Zt.__assign)({},zt),{x:-lt/2,y:0})):k&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},zt),{x:-lt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),a?(!F&&F!==void 0&&a.remove(),a.attr((0,Zt.__assign)((0,Zt.__assign)({},zt),{x:lt/2,y:0}))):F&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},zt),{x:lt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o?(!Y&&Y!==void 0&&o.remove(),o.attr((0,Zt.__assign)((0,Zt.__assign)({},zt),{x:0,y:-At/2}))):Y&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},zt),{x:0,y:-At/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),s?!N&&N!==void 0?s.remove():s.attr((0,Zt.__assign)((0,Zt.__assign)({},zt),{x:0,y:At/2})):N&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},zt),{x:0,y:At/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(r,t,e,n){var a=t.get("keyShape");a.attr((0,Zt.__assign)({},e)),this.updateLabel(r,t),n&&this.updateIcon(r,t)},updateIcon:function(r,t){var e=this,n=t.getContainer(),a=this.getOptions(r).icon,o=(r.icon?r.icon:{show:void 0}).show,s=n.find(function(v){return v.get("className")===e.type+"-icon"});if(s)if(o||o===void 0){var l=(0,f.mix)({},s.attr(),a),u=l.width,h=l.height;s.attr((0,Zt.__assign)((0,Zt.__assign)({},l),{x:-u/2,y:-h/2}))}else s.remove();else if(o){var u=a.width,h=a.height;n.addShape("image",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},a),{x:-u/2,y:-h/2}),className:this.type+"-icon",name:this.type+"-icon"});var c=n.find(function(A){return A.get("className")==="node-label"});c&&c.toFront()}}},s6=(0,Zt.__assign)((0,Zt.__assign)({},Jh),o6);Gn.registerNode("single-node",s6);var Su="edge-shape";function l6(i){var r=i;return i==="start"?r="end":i==="end"&&(r="start"),r}var u6={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:ke.defaultEdge.size,style:{x:0,y:0,stroke:ke.defaultEdge.style.stroke,lineAppendWidth:ke.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:ke.edgeLabel.style.fill,fontSize:ke.edgeLabel.style.fontSize}},stateStyles:(0,Zt.__assign)({},ke.edgeStateStyles)},getPath:function(r){var t=[];return(0,f.each)(r,function(e,n){n===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style),a=r.size||ke.defaultEdge.size;r=this.getPathPoints(r);var o=r.startPoint,s=r.endPoint,l=this.getControlPoints(r),u=[o];l&&(u=u.concat(l)),u.push(s);var h=this.getPath(u),c=(0,f.mix)({},ke.defaultEdge.style,{stroke:ke.defaultEdge.color,lineWidth:a,path:h},n);return c},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(Y){return Y.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,A={radius:c.radius};u||(A={source:v,target:g,offset:c.offset,radius:c.radius});var k=this.getPath(h,A),F=(0,f.mix)(n,a.attr(),{lineWidth:o,path:k},r.style);a&&a.attr(F)},getLabelStyleByPosition:function(r,t,e){var n=t.position||this.labelPosition,a={},o=e&&e.find(function(v){return v.get("className")===Su}),s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(r.startPoint.x===r.endPoint.x&&r.startPoint.y===r.endPoint.y)return a.x=r.startPoint.x+l,a.y=r.startPoint.y+u,a.text=r.label,a;var h=(0,f.isNil)(t.autoRotate)?this.labelAutoRotate:t.autoRotate,c=nu(o,s,l,u,h);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=r.label,a},getLabelBgStyleByPosition:function(r,t,e,n){if(!r)return{};var a=r.getBBox(),o=e.style&&e.style.background;if(!o)return{};var s=o.padding,l=a.width+s[1]+s[3],u=a.height+s[0]+s[2],h=e.position||this.labelPosition,c=(0,Zt.__assign)((0,Zt.__assign)({},o),{width:l,height:u,x:a.minX-s[2],y:a.minY-s[0],rotate:0}),v=(0,f.isNil)(e.autoRotate)?this.labelAutoRotate:e.autoRotate,g=n&&n.find(function(st){return st.get("className")===Su}),A;h==="start"?A=0:h==="end"?A=1:A=.5;var k=e.refX||this.refX,F=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return c.x=t.startPoint.x+k,c.y=t.startPoint.y+F,c;var Y=nu(g,A,k-l/2,F+u/2,v),N=Y.angle;return N>1/2*Math.PI&&N<3*1/2*Math.PI&&(Y=nu(g,A,k+l/2,F+u/2,v)),v&&(c.x=Y.x,c.y=Y.y),c.rotate=Y.rotate,c},_getTextAlign:function(r,t){var e="center";return t?(t=t%(Math.PI*2),r!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=r:e=l6(r)),e):r},getControlPoints:function(r){return r.controlPoints},getPathPoints:function(r){return r},drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("path",{className:Su,name:Su,attrs:e});return n},drawLabel:function(r,t){var e=this.options.labelCfg,n=(0,f.deepMix)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},e,r.labelCfg),a=this.getLabelStyle(r,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape"});if(o&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(r,t,s),u=this.itemType+Qh;l.set("classname",u),s.toFront()}return s},drawLabelBg:function(r,t,e){var n=this.options.labelCfg,a=(0,f.deepMix)({},n,r.labelCfg),o=this.getLabelStyle(r,a,t),s=o.rotate,l=this.getLabelBgStyleByPosition(e,r,a,t);delete l.rotate;var u=t.addShape("rect",{name:"text-bg-shape",attrs:l});return s&&u.rotateAtStart(s),u}},f6=(0,Zt.__assign)((0,Zt.__assign)({},Jh),u6);Gn.registerEdge("single-edge",f6),Gn.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Gn.registerEdge("spline",{getPath:function(r){var t=Hm(r);return t}},"single-edge"),Gn.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(r){var t=r.startPoint,e=r.endPoint,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2},a,o;if(r.controlPoints!==void 0){if(o=r.controlPoints[0],a=_h(t,o,e),t.x<=e.x&&t.y>e.y?this.clockwise=a.x>o.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=a.x>o.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),(0,pi.default)(r.curveOffset)&&(r.curveOffset=r.curveOffset[0]),r.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:e.x-t.x,y:e.y-t.y},l=Math.atan2(s.y,s.x);o={x:r.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:r.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=_h(t,o,e)}var u=Ls(t,a),h=[{x:u,y:u}];return h},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),r.length===2?t.push(["L",r[1].x,r[1].y]):t.push(["A",r[1].x,r[1].y,0,0,this.clockwise,r[2].x,r[2].y]),t}},"single-edge"),Gn.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(r){var t=r.controlPoints;if(!t||!t.length){var e=r.startPoint,n=r.endPoint;r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,pi.default)(this.curveOffset)&&(r.curveOffset=r.curveOffset[0]),(0,pi.default)(this.curvePosition)&&(r.curvePosition=r.curveOffset[0]);var a=ql(e,n,r.curvePosition,r.curveOffset);t=[a]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["Q",r[1].x,r[1].y,r[2].x,r[2].y]),t}},"single-edge"),Gn.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(r){var t=r.controlPoints;if(r.curveOffset===void 0&&(r.curveOffset=this.curveOffset),r.curvePosition===void 0&&(r.curvePosition=this.curvePosition),(0,pa.default)(r.curveOffset)&&(r.curveOffset=[r.curveOffset,-r.curveOffset]),(0,pa.default)(r.curvePosition)&&(r.curvePosition=[r.curvePosition,1-r.curvePosition]),!t||!t.length||t.length<2){var e=r.startPoint,n=r.endPoint,a=ql(e,n,r.curvePosition[0],r.curveOffset[0]),o=ql(e,n,r.curvePosition[1],r.curveOffset[1]);t=[a,o]}return t},getPath:function(r){var t=[];return t.push(["M",r[0].x,r[0].y]),t.push(["C",r[1].x,r[1].y,r[2].x,r[2].y,r[3].x,r[3].y]),t}},"single-edge"),Gn.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,pa.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:t.x,y:(e.y-t.y)*this.curvePosition[0]+t.y},a={x:e.x,y:(e.y-t.y)*this.curvePosition[1]+t.y},o=[n,a];return o}},"cubic"),Gn.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],getControlPoints:function(r){var t=r.startPoint,e=r.endPoint;r.curvePosition!==void 0&&(this.curvePosition=r.curvePosition),(0,pa.default)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]);var n={x:(e.x-t.x)*this.curvePosition[0]+t.x,y:t.y},a={x:(e.x-t.x)*this.curvePosition[1]+t.x,y:e.y},o=[n,a];return o}},"cubic"),Gn.registerEdge("loop",{getPathPoints:function(r){return ox(r)},getControlPoints:function(r){return r.controlPoints},afterDraw:function(r){r.controlPoints=void 0},afterUpdate:function(r){r.controlPoints=void 0}},"cubic");var h6={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:ke.comboLabel.refX,refY:ke.comboLabel.refY,options:{style:{stroke:ke.defaultCombo.style.stroke,fill:ke.defaultCombo.style.fill,lineWidth:ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ke.comboLabel.style.fill,fontSize:ke.comboLabel.style.fontSize}},stateStyles:(0,Zt.__assign)({},ke.comboStateStyles)},getSize:function(r){var t=(0,f.clone)(r.size||this.options.size||ke.defaultCombo.size);return(0,f.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,f.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isArray)(a)&&(a=a[0]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=this.getSize(r),u=Math.max(n.r,l[0]/2)||l[0]/2,h=u+a,c;switch(e){case"top":c={x:0,y:-h-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:h+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-h+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:r.label,textAlign:"center"};break;default:c={x:h+o,y:0,textAlign:"right"};break}return c.text=r.label,c},drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r),a=t.addShape(e,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,Zt.__assign)({},e)),this.updateLabel(r,t)}},c6=(0,Zt.__assign)((0,Zt.__assign)({},Jh),h6);Gn.registerCombo("single-combo",c6),Gn.registerCombo("circle",{options:{size:[ke.defaultCombo.size[0],ke.defaultCombo.size[0]],padding:ke.defaultCombo.padding[0],animate:!0,style:{stroke:ke.defaultCombo.style.stroke,fill:ke.defaultCombo.style.fill,lineWidth:ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ke.comboLabel.style.fill,fontSize:ke.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:(0,Zt.__assign)({},ke.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r);delete e.height,delete e.width;var n=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isArray)(e)&&(e=e[0]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s;!(0,f.isNumber)(a.r)||isNaN(a.r)?s=o[0]/2||ke.defaultCombo.style.r:s=Math.max(a.r,o[0]/2)||o[0]/2,a.r=s+e;var l=(0,Zt.__assign)({x:0,y:0},a);return r.style?r.style.r=s:r.style={r:s},l},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isArray)(n)&&(n=n[0]);var a=(0,f.clone)(r.style),o=Math.max(a.r,e[0]/2)||e[0]/2;a.r=o+n;var s=t.get("sizeCache");s&&(s.r=a.r);var l={stroke:r.color},u=t.get("keyShape"),h=(0,f.mix)({},u.attr(),l,a);r.style?r.style.r=o:r.style={r:o},this.updateShape(r,t,h,!0)}},"single-combo"),Gn.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:ke.defaultCombo.style.stroke,fill:ke.defaultCombo.style.fill,lineWidth:ke.defaultCombo.style.lineWidth},labelCfg:{style:{fill:ke.comboLabel.style.fill,fontSize:ke.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Zt.__assign)({},ke.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(r,t){var e=t.position||this.labelPosition,n=r.style,a=r.padding||this.options.padding;(0,f.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,f.isNil)(o)&&(o=this.refX),(0,f.isNil)(s)&&(s=this.refY);var l=n.width/2+a[3],u=n.height/2+a[0],h;switch(e){case"top":h={x:0-l+o,y:0-u+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:u+s,textBaseline:"bottom",textAlign:"center"};break;case"left":h={x:0-l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:r.label,textAlign:"center"};break;default:h={x:l+o,y:0,textAlign:"right"};break}return h.text=r.label,h},getShapeStyle:function(r){var t=this.options.style,e=r.padding||this.options.padding;(0,f.isNumber)(e)&&(e=[e,e,e,e]);var n={stroke:r.color},a=(0,f.mix)({},t,n,r.style),o=this.getSize(r),s,l;!(0,f.isNumber)(a.width)||isNaN(a.width)?s=o[0]||ke.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,f.isNumber)(a.height)||isNaN(a.height)?l=o[1]||ke.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1];var u=-s/2-e[3],h=-l/2-e[0];a.width=s+e[1]+e[3],a.height=l+e[0]+e[2];var c=(0,Zt.__assign)({x:u,y:h},a);return r.style?(r.style.width=s,r.style.height=l):r.style={width:s,height:l},c},update:function(r,t){var e=this.getSize(r),n=r.padding||this.options.padding;(0,f.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,f.clone)(r.style),o=Math.max(a.width,e[0])||e[0],s=Math.max(a.height,e[1])||e[1];a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var l=t.get("sizeCache");l&&(l.width=a.width,l.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var u={stroke:r.color},h=t.get("keyShape"),c=(0,f.mix)({},h.attr(),u,a);r.style?(r.style.width=o,r.style.height=s):r.style={width:o,height:s},this.updateShape(r,t,c,!1)},updateShape:function(r,t,e){var n=t.get("keyShape"),a=r.animate===void 0?this.options.animate:r.animate;a&&n.animate?n.animate(e,{duration:200,easing:"easeLinear"}):n.attr((0,Zt.__assign)({},e)),this.updateLabel(r,t)}},"single-combo"),Gn.registerNode("circle",{options:{size:ke.defaultNode.size,style:{x:0,y:0,stroke:ke.defaultNode.style.stroke,fill:ke.defaultNode.style.fill,lineWidth:ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:ke.nodeLabel.style.fill,fontSize:ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ke.defaultNode.linkPoints.size,lineWidth:ke.defaultNode.linkPoints.lineWidth,fill:ke.defaultNode.linkPoints.fill,stroke:ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Zt.__assign)({},ke.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=(0,Mi.default)({},n,r.icon),s=t.addShape("circle",{attrs:a,className:this.type+"-keyShape",draggable:!0}),l=o.width,u=o.height,h=o.show;return h&&t.addShape("image",{attrs:(0,Zt.__assign)({x:-l/2,y:-u/2},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(r,t),s},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Zt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2;o&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:-g,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:g,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,Mi.default)({},t,e),a=this.getSize(r),o=a[0]/2,s=(0,Zt.__assign)({x:0,y:0,r:o},n);return s},update:function(r,t){var e=t.getContainer(),n=this.getSize(r),a={stroke:r.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Mi.default)({},o.attr(),a,r.style);this.updateShape(r,t,s,!0),this.updateLinkPoints(r,e)}},"single-node"),Gn.registerNode("rect",{options:{size:[100,30],style:{radius:0,stroke:ke.defaultNode.style.stroke,fill:ke.defaultNode.style.fill,lineWidth:ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:ke.nodeLabel.style.fill,fontSize:ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ke.defaultNode.linkPoints.size,lineWidth:ke.defaultNode.linkPoints.lineWidth,fill:ke.defaultNode.linkPoints.fill,stroke:ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:(0,Zt.__assign)({},ke.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r),n=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(r,t),n},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Zt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],A=v[1];o&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:-A/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:A/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,Zt.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o=t.get("keyShape");r.size||(a[0]=o.attr("width")||n.width,a[1]=o.attr("height")||n.height);var s={stroke:r.color,x:-a[0]/2,y:-a[1]/2,width:a[0],height:a[1]},l=(0,f.mix)({},n,o.attr(),s);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!1),this.updateLinkPoints(r,e)}},"single-node"),Gn.registerNode("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:ke.defaultNode.style.stroke,fill:ke.defaultNode.style.fill,lineWidth:ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:ke.nodeLabel.style.fill,fontSize:ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ke.defaultNode.linkPoints.size,lineWidth:ke.defaultNode.linkPoints.lineWidth,fill:ke.defaultNode.linkPoints.fill,stroke:ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Zt.__assign)({},ke.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,Zt.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Zt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0]/2,A=v[1]/2;o&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:-g,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:g,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:-A,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:A,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=a[0]/2,s=a[1]/2,l=(0,Zt.__assign)({x:0,y:0,rx:o,ry:s},n);return l},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getSize(r),o={stroke:r.color,rx:a[0]/2,ry:a[1]/2},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),Gn.registerNode("diamond",{options:{size:[80,80],style:{stroke:ke.defaultNode.style.stroke,fill:ke.defaultNode.style.fill,lineWidth:ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:ke.nodeLabel.style.fill,fontSize:ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ke.defaultNode.linkPoints.size,lineWidth:ke.defaultNode.linkPoints.lineWidth,fill:ke.defaultNode.linkPoints.fill,stroke:ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Zt.__assign)({},ke.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,Zt.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Zt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],A=v[1];o&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:-A/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:A/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(r){var t=this.getSize(r),e=t[0],n=t[1],a=[["M",0,-n/2],["L",e/2,0],["L",0,n/2],["L",-e/2,0],["Z"]];return a},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,Zt.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)}},"single-node"),Gn.registerNode("triangle",{options:{size:40,direction:"up",style:{stroke:ke.defaultNode.style.stroke,fill:ke.defaultNode.style.fill,lineWidth:ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:ke.nodeLabel.style.fill,fontSize:ke.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ke.defaultNode.linkPoints.size,lineWidth:ke.defaultNode.linkPoints.lineWidth,fill:ke.defaultNode.linkPoints.fill,stroke:ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:(0,Zt.__assign)({},ke.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(r,t){var e=this.getOptions(r),n=e.icon,a=n===void 0?{}:n,o=e.direction,s=this.getShapeStyle(r),l=r.direction||o,u=t.addShape("path",{attrs:s,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=a.width,c=a.height,v=a.show,g=a.offset;if(v){var A=-h/2,k=-c/2;(l==="up"||l==="down")&&(k+=g),(l==="left"||l==="right")&&(A+=g),t.addShape("image",{attrs:(0,Zt.__assign)({x:A,y:k},a),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(r,t),u},drawLinkPoints:function(r,t){var e=this.getOptions(r),n=e.linkPoints,a=n===void 0?{}:n,o=e.direction,s=r.direction||o,l=a.top,u=a.left,h=a.right,c=a.bottom,v=a.size,g=a.r,A=(0,Zt.__rest)(a,["top","left","right","bottom","size","r"]),k=this.getSize(r),F=k[0];if(u){var Y=null,N=F*Math.sin(1/3*Math.PI),st=F*Math.sin(1/3*Math.PI);s==="up"?Y=[-st,N]:s==="down"?Y=[-st,-N]:s==="left"&&(Y=[-st,st-N]),Y&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},A),{x:Y[0],y:Y[1],r:v/2||g||5}),className:"link-point-left",name:"link-point-left"})}if(h){var lt=null,N=F*Math.sin(1/3*Math.PI),st=F*Math.sin(1/3*Math.PI);s==="up"?lt=[st,N]:s==="down"?lt=[st,-N]:s==="right"&&(lt=[st,st-N]),lt&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},A),{x:lt[0],y:lt[1],r:v/2||g||5}),className:"link-point-right",name:"link-point-right"})}if(l){var At=null,N=F*Math.sin(1/3*Math.PI),st=F*Math.sin(1/3*Math.PI);s==="up"?At=[st-N,-N]:s==="left"?At=[st,-N]:s==="right"&&(At=[-st,-N]),At&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},A),{x:At[0],y:At[1],r:v/2||g||5}),className:"link-point-top",name:"link-point-top"})}if(c){var zt=null,N=F*Math.sin(1/3*Math.PI),st=F*Math.sin(1/3*Math.PI);s==="down"?zt=[-st+N,N]:s==="left"?zt=[st,N]:s==="right"&&(zt=[-st,N]),zt&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},A),{x:zt[0],y:zt[1],r:v/2||g||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(r){var t=this.getOptions(r).direction,e=r.direction||t,n=this.getSize(r),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return e==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:e==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:e==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,Zt.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}),n=e.linkPoints,a=e.direction,o=r.direction||a,s=t.find(function(Fe){return Fe.get("className")==="link-point-left"}),l=t.find(function(Fe){return Fe.get("className")==="link-point-right"}),u=t.find(function(Fe){return Fe.get("className")==="link-point-top"}),h=t.find(function(Fe){return Fe.get("className")==="link-point-bottom"}),c=n,v=s||l||u||h;v&&(c=v.attr());var g=(0,f.mix)({},c,r.linkPoints),A=g.fill,k=g.stroke,F=g.lineWidth,Y=g.size/2;Y||(Y=g.r);var N=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},st=N.left,lt=N.right,At=N.top,zt=N.bottom,Wt=this.getSize(r),Qt=Wt[0],Vt={r:Y,fill:A,stroke:k,lineWidth:F},te=null,le=Qt*Math.sin(1/3*Math.PI),ae=Qt*Math.sin(1/3*Math.PI);o==="up"?te=[-ae,le]:o==="down"?te=[-ae,-le]:o==="left"&&(te=[-ae,ae-le]),te&&(s?!st&&st!==void 0?s.remove():s.attr((0,Zt.__assign)((0,Zt.__assign)({},Vt),{x:te[0],y:te[1]})):st&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Vt),{x:te[0],y:te[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Se=null;o==="up"?Se=[ae,le]:o==="down"?Se=[ae,-le]:o==="right"&&(Se=[ae,ae-le]),Se&&(l?!lt&&lt!==void 0?l.remove():l.attr((0,Zt.__assign)((0,Zt.__assign)({},Vt),{x:Se[0],y:Se[1]})):lt&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Vt),{x:Se[0],y:Se[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var _e=null;o==="up"?_e=[ae-le,-le]:o==="left"?_e=[ae,-le]:o==="right"&&(_e=[-ae,-le]),_e&&(u?!At&&At!==void 0?u.remove():u.attr((0,Zt.__assign)((0,Zt.__assign)({},Vt),{x:_e[0],y:_e[1]})):At&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Vt),{x:_e[0],y:_e[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var Ee=null;o==="down"?Ee=[-ae+le,le]:o==="left"?Ee=[ae,le]:o==="right"&&(Ee=[-ae,le]),Ee&&(h?!zt&&zt!==void 0?h.remove():h.attr((0,Zt.__assign)((0,Zt.__assign)({},Vt),{x:Ee[0],y:Ee[1]})):zt&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Vt),{x:Ee[0],y:Ee[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Gn.registerNode("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:ke.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(r,t){var e=this.getOptions(r).preRect,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=this.getSize(r),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),h=n.show,c=(0,Zt.__rest)(n,["show"]);return h&&t.addShape("rect",{attrs:(0,Zt.__assign)({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(r,t),this.drawStateIcon(r,t),this.drawLinkPoints(r,t),u},drawLogoIcon:function(r,t){var e=this.getOptions(r).logoIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=(0,Zt.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},v),{x:u||-o/2+s+c,y:h||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(r,t){var e=this.getOptions(r).stateIcon,n=e===void 0?{}:e,a=this.getSize(r),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,h=n.y,c=n.offset,v=(0,Zt.__rest)(n,["width","height","x","y","offset"]);t.addShape("image",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},v),{x:u||o/2-s+c,y:h||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,h=n.r,c=(0,Zt.__rest)(n,["top","left","right","bottom","size","r"]),v=this.getSize(r),g=v[0],A=v[1];o&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:-g/2,y:0,r:u/2||h||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),s&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:g/2,y:0,r:u/2||h||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),a&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:-A/2,r:u/2||h||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),l&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},c),{x:0,y:A/2,r:u/2||h||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(r,t){var e=this.getOptions(r),n=e.labelCfg,a=n===void 0?{}:n,o=e.logoIcon,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=null,g=s.show,A=s.width,k=-c/2+a.offset;g&&(k=-c/2+A+a.offset);var F=a.style,Y=u.style,N=u.paddingTop;return(0,f.isString)(r.description)?(v=t.addShape("text",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},F),{x:k,y:-5,text:r.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Y),{x:k,y:17+(N||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0})):v=t.addShape("text",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},F),{x:k,y:7,text:r.label}),draggable:!0}),v},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getSize(r),o=n.width||a[0],s=n.height||a[1],l=(0,Zt.__assign)({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(r,t){var e=this.getOptions(r),n=e.style,a=n===void 0?{}:n,o=e.labelCfg,s=o===void 0?{}:o,l=e.descriptionCfg,u=l===void 0?{}:l,h=this.getSize(r),c=h[0],v=h[1],g=t.get("keyShape");g.attr((0,Zt.__assign)((0,Zt.__assign)({},a),{x:-c/2,y:-v/2,width:c,height:v}));var A=t.getContainer(),k=A.find(function(yr){return yr.get("className")==="rect-logo-icon"}),F=k?k.attr():{},Y=(0,f.mix)({},F,r.logoIcon),N=Y.width;N===void 0&&(N=this.options.logoIcon.width);var st=r.logoIcon?r.logoIcon.show:void 0,lt=s.offset,At=-c/2+N+lt;!st&&st!==void 0&&(At=-c/2+lt);var zt=A.find(function(yr){return yr.get("className")==="node-label"}),Wt=A.find(function(yr){return yr.get("className")==="rect-description"});if(r.label)if(!zt)A.addShape("text",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},s.style),{x:At,y:r.description?-5:7,text:r.label}),className:"node-label",name:"node-label",draggable:!0});else{var Qt=r.labelCfg?r.labelCfg.style:{},Vt=(0,f.mix)({},zt.attr(),Qt);r.label&&(Vt.text=r.label),Vt.x=At,(0,f.isString)(r.description)&&(Vt.y=-5),Wt&&(Wt.resetMatrix(),Wt.attr({x:At})),zt.resetMatrix(),zt.attr(Vt)}if((0,f.isString)(r.description)){var te=u.paddingTop;if(!Wt)A.addShape("text",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},u.style),{x:At,y:17+(te||0),text:r.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var Qt=r.descriptionCfg?r.descriptionCfg.style:{},le=(0,f.mix)({},Wt.attr(),Qt);(0,f.isString)(r.description)&&(le.text=r.description),le.x=At,Wt.resetMatrix(),Wt.attr((0,Zt.__assign)((0,Zt.__assign)({},le),{y:17+(te||0)}))}}var ae=A.find(function(yr){return yr.get("className")==="pre-rect"});if(ae){var Se=(0,f.mix)({},ae.attr(),r.preRect);ae.attr((0,Zt.__assign)((0,Zt.__assign)({},Se),{x:-c/2,y:-v/2,height:v}))}if(k)if(!st&&st!==void 0)k.remove();else{var _e=Y.width,Ee=Y.height,Fe=Y.x,Ne=Y.y,Ye=Y.offset,Be=(0,Zt.__rest)(Y,["width","height","x","y","offset"]);k.attr((0,Zt.__assign)((0,Zt.__assign)({},Be),{x:Fe||-c/2+_e+Ye,y:Ne||-Ee/2,width:_e,height:Ee}))}else st&&this.drawLogoIcon(r,A);var De=A.find(function(yr){return yr.get("className")==="rect-state-icon"}),rr=De?De.attr():{},tr=(0,f.mix)({},rr,r.stateIcon);if(De){!tr.show&&tr.show!==void 0&&De.remove();var lr=tr.width,Ee=tr.height,Fe=tr.x,Ne=tr.y,Xe=tr.offset,ar=(0,Zt.__rest)(tr,["width","height","x","y","offset"]);De.attr((0,Zt.__assign)((0,Zt.__assign)({},ar),{x:Fe||c/2-lr+Xe,y:Ne||-Ee/2,width:lr,height:Ee}))}else tr.show&&this.drawStateIcon(r,A);this.updateLinkPoints(r,A)}},"single-node"),Gn.registerNode("star",{options:{size:60,style:{stroke:ke.defaultNode.style.stroke,fill:ke.defaultNode.style.fill,lineWidth:ke.defaultNode.style.lineWidth},labelCfg:{style:{fill:ke.nodeLabel.style.fill,fontSize:ke.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ke.defaultNode.linkPoints.size,lineWidth:ke.defaultNode.linkPoints.lineWidth,fill:ke.defaultNode.linkPoints.fill,stroke:ke.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:(0,Zt.__assign)({},ke.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(r,t){var e=this.getOptions(r).icon,n=e===void 0?{}:e,a=this.getShapeStyle(r),o=t.addShape("path",{attrs:a,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),s=n.width,l=n.height,u=n.show;if(u)var h=t.addShape("image",{attrs:(0,Zt.__assign)({x:-s/2,y:-l/2},n),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});return this.drawLinkPoints(r,t),o},drawLinkPoints:function(r,t){var e=this.getOptions(r).linkPoints,n=e===void 0?{}:e,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,h=n.size,c=n.r,v=(0,Zt.__rest)(n,["top","left","right","leftBottom","rightBottom","size","r"]),g=this.getSize(r),A=g[0];if(s){var k=Math.cos((18+72*0)/180*Math.PI)*A,F=Math.sin((18+72*0)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},v),{x:k,y:-F,r:h/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var k=Math.cos((18+72*1)/180*Math.PI)*A,F=Math.sin((18+72*1)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},v),{x:k,y:-F,r:h/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var k=Math.cos((18+72*2)/180*Math.PI)*A,F=Math.sin((18+72*2)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},v),{x:k,y:-F,r:h/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var k=Math.cos((18+72*3)/180*Math.PI)*A,F=Math.sin((18+72*3)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},v),{x:k,y:-F,r:h/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var k=Math.cos((18+72*4)/180*Math.PI)*A,F=Math.sin((18+72*4)/180*Math.PI)*A;t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},v),{x:k,y:-F,r:h/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(r){for(var t=this.getSize(r),e=t[0],n=e*3/8,a=r.innerR||n,o=[],s=0;s<5;s++){var l=Math.cos((18+72*s)/180*Math.PI)*e,u=Math.sin((18+72*s)/180*Math.PI)*e,h=Math.cos((54+72*s)/180*Math.PI)*a,c=Math.sin((54+72*s)/180*Math.PI)*a;s===0?o.push(["M",l,-u]):o.push(["L",l,-u]),o.push(["L",h,-c])}return o.push(["Z"]),o},getShapeStyle:function(r){var t=this.getOptions(r).style,e={stroke:r.color},n=(0,f.mix)({},t,e),a=this.getPath(r),o=(0,Zt.__assign)({path:a},n);return o},update:function(r,t){var e=t.getContainer(),n=this.getOptions({}).style,a=this.getPath(r),o={stroke:r.color,path:a},s=t.get("keyShape"),l=(0,f.mix)({},n,s.attr(),o);l=(0,f.mix)(l,r.style),this.updateShape(r,t,l,!0),this.updateLinkPoints(r,e)},updateLinkPoints:function(r,t){var e=this.getOptions({}).linkPoints,n=t.find(function(le){return le.get("className")==="link-point-left"}),a=t.find(function(le){return le.get("className")==="link-point-right"}),o=t.find(function(le){return le.get("className")==="link-point-top"}),s=t.find(function(le){return le.get("className")==="link-point-left-bottom"}),l=t.find(function(le){return le.get("className")==="link-point-right-bottom"}),u=e,h=n||a||o||s||l;h&&(u=h.attr());var c=(0,f.mix)({},u,r.linkPoints),v=c.fill,g=c.stroke,A=c.lineWidth,k=c.size/2;k||(k=c.r);var F=r.linkPoints?r.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},Y=F.left,N=F.right,st=F.top,lt=F.leftBottom,At=F.rightBottom,zt=this.getSize(r),Wt=zt[0],Qt={r:k,fill:v,stroke:g,lineWidth:A},Vt=Math.cos((18+72*0)/180*Math.PI)*Wt,te=Math.sin((18+72*0)/180*Math.PI)*Wt;a?!N&&N!==void 0?a.remove():a.attr((0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te})):N&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Vt=Math.cos((18+72*1)/180*Math.PI)*Wt,te=Math.sin((18+72*1)/180*Math.PI)*Wt,o?!st&&st!==void 0?o.remove():o.attr((0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te})):st&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Vt=Math.cos((18+72*2)/180*Math.PI)*Wt,te=Math.sin((18+72*2)/180*Math.PI)*Wt,n?!Y&&Y!==void 0?n.remove():n.attr((0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te})):Y&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Vt=Math.cos((18+72*3)/180*Math.PI)*Wt,te=Math.sin((18+72*3)/180*Math.PI)*Wt,s?!lt&&lt!==void 0?s.remove():s.attr((0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te})):lt&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),Vt=Math.cos((18+72*4)/180*Math.PI)*Wt,te=Math.sin((18+72*4)/180*Math.PI)*Wt,l?!At&&At!==void 0?s.remove():l.attr((0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te})):At&&t.addShape("circle",{attrs:(0,Zt.__assign)((0,Zt.__assign)({},Qt),{x:Vt,y:-te}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node"),Gn.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(r,t){var e=this.shapeType,n=this.getShapeStyle(r);delete n.fill;var a=t.addShape(e,{attrs:n,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(r,a),a},drawClip:function(r,t){var e=this.getOptions(r).clipCfg;if(!!e.show){var n=e.type,a=e.x,o=e.y,s=e.style;if(n==="circle"){var l=e.r;t.setClip({type:"circle",attrs:(0,Zt.__assign)({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=e.width,h=e.height,c=a-u/2,v=o-h/2;t.setClip({type:"rect",attrs:(0,Zt.__assign)({x:c,y:v,width:u,height:h},s)})}else if(n==="ellipse"){var g=e.rx,A=e.ry;t.setClip({type:"ellipse",attrs:(0,Zt.__assign)({x:a,y:o,rx:g,ry:A},s)})}else if(n==="polygon"){var k=e.points;t.setClip({type:"polygon",attrs:(0,Zt.__assign)({points:k},s)})}else if(n==="path"){var F=e.path;t.setClip({type:"path",attrs:(0,Zt.__assign)({path:F},s)})}}},getShapeStyle:function(r){var t=this.getOptions(r).style,e=this.getSize(r),n=this.getOptions(r).img,a=e[0],o=e[1];t&&(a=t.width||e[0],o=t.height||e[1]);var s=(0,Zt.__assign)({x:-a/2,y:-o/2,width:a,height:o,img:n},t);return s},updateShapeStyle:function(r,t){var e=t.getContainer(),n=this.itemType+"-shape",a=e.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(r);a&&a.attr(o)}},"single-node");function Cu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cu=function(t){return typeof t}:Cu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cu(i)}var Mu=function(r){var t=r.x,e=r.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},v6=function(r){r===void 0&&(r=[]);var t=[],e=[];r.forEach(function(l){t.push(l.x),e.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,e),s=Math.max.apply(Math,e);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}},r1=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},qh=function(r){var t=[],e={};return r.forEach(function(n){var a=n.x+"-"+n.y;n.id=a,e[a]=n}),(0,f.each)(e,function(n){t.push(n)}),t},Eu=function(r){return r=qh(r),r},n1=function(r,t){return[r,{x:r.x,y:t.y},t]},Au=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},d6=function(r,t){var e=Math.abs(r.x-t.centerX),n=Math.abs(r.y-t.centerY);return e/t.width>n/t.height},tc=function(r,t){var e=d6(t,r);return e?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},ec=function(r,t){var e=Math.min(r.minX,t.minX),n=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),o=Math.max(r.maxY,t.maxY);return{centerX:(e+a)/2,centerY:(n+o)/2,minX:e,minY:n,maxX:a,maxY:o,height:o-n,width:a-e}},rc=function(r){var t=r.minX,e=r.minY,n=r.maxX,a=r.maxY;return[{x:t,y:e},{x:n,y:e},{x:n,y:a},{x:t,y:a}]},_u=function(r,t){var e=r.x,n=r.y;return e<t.minX||e>t.maxX||n<t.minY||n>t.maxY},p6=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},g6=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},y6=function(r,t){return p6(r,t.x).concat(g6(r,t.y))},Fs=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},m6=function(r,t){var e=-2,n=0;return t.forEach(function(a){a&&(r.x===a.x&&(n+=e),r.y===a.y&&(n+=e))}),n},i1=function(r,t,e,n,a){return Fs(r,t)+Fs(r,e)+m6(r,[t,e,n,a])},x6=function i(r,t,e,n,a){a===void 0&&(a=0),r.unshift(t[n]),e[n]&&e[n]!==n&&a<=100&&i(r,t,e,e[n],a+1)},b6=function(r,t){var e=r.indexOf(t);e>-1&&r.splice(e,1)},Tu=function(r,t,e,n){var a=t.x-r.x,o=t.y-r.y,s=n.x-e.x,l=n.y-e.y,u=(-o*(r.x-e.x)+a*(r.y-e.y))/(-s*o+a*l),h=(s*(r.y-e.y)-l*(r.x-e.x))/(-s*o+a*l);return u>=0&&u<=1&&h>=0&&h<=1},nc=function(r,t,e){if(e.width===0&&e.height===0)return!1;var n=rc(e),a=n[0],o=n[1],s=n[2],l=n[3];return Tu(r,t,a,o)||Tu(r,t,a,l)||Tu(r,t,o,s)||Tu(r,t,s,l)},w6=function(r,t,e,n){var a=[];return r.forEach(function(o){o!==t&&(o.x===t.x||o.y===t.y)&&!nc(o,t,e)&&!nc(o,t,n)&&a.push(o)}),qh(a)},S6=function(r,t,e,n,a,o,s){var l=[],u=[t],h={},c={},v={};c[t.id]=0,v[t.id]=i1(t,e,t);var g={};r.forEach(function(F){g[F.id]=F});for(var A=function(){var Y,N=Infinity;if(u.forEach(function(lt){v[lt.id]<N&&(N=v[lt.id],Y=lt)}),Y===e){var st=[];return x6(st,g,h,e.id),{value:st}}b6(u,Y),l.push(Y),w6(r,Y,n,a).forEach(function(lt){if(l.indexOf(lt)===-1){u.indexOf(lt)===-1&&u.push(lt);var At=v[Y.id]+Fs(Y,lt);c[lt.id]&&At>=c[lt.id]||(h[lt.id]=Y.id,c[lt.id]=At,v[lt.id]=c[lt.id]+i1(lt,e,t,o,s))}})};u.length;){var k=A();if(Cu(k)==="object")return k.value}return[t,e]},C6=function(r,t,e){return!(r.x===t.x&&t.x===e.x||r.y===t.y&&t.y===e.y)},M6=function(r,t,e,n){var a=Fs(r,t),o=Fs(e,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-r.x),y:t.y-n/a*(t.y-r.y)},l={x:t.x-n/o*(t.x-e.x),y:t.y-n/o*(t.y-e.y)};return[s,l]},a1=function(r,t){var e=[],n=r[0];return e.push("M"+n.x+" "+n.y),r.forEach(function(a,o){var s=r[o+1],l=r[o+2];if(s&&l)if(C6(a,s,l)){var u=M6(a,s,l,t),h=u[0],c=u[1];e.push("L"+h.x+" "+h.y),e.push("Q"+s.x+" "+s.y+" "+c.x+" "+c.y),e.push("L"+c.x+" "+c.y)}else e.push("L"+s.x+" "+s.y);else s&&e.push("L"+s.x+" "+s.y)}),e.join("")},E6=function(r,t,e,n,a){var o,s;if(!e||!e.getType())o=Mu(r);else if(e.getType()==="combo"){var l=e.getKeyShape();o=l.getCanvasBBox()||Mu(r),o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=e.getBBox();if(!n||!n.getType())s=Mu(t);else if(n.getType()==="combo"){var u=n.getKeyShape();s=u.getCanvasBBox()||Mu(t),s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=n&&n.getBBox();if(r1(o,s))return Eu(n1(r,t));var h=Au(o,a),c=Au(s,a);if(r1(h,c))return Eu(n1(r,t));var v=tc(h,r),g=tc(c,t),A=v6([v,g]),k=ec(h,c),F=ec(h,A),Y=ec(c,A),N=[];N=N.concat(rc(F)),N=N.concat(rc(Y));var st={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[A,F,Y].forEach(function(At){N=N.concat(y6(At,st).filter(function(zt){return _u(zt,h)&&_u(zt,c)}))}),[{x:v.x,y:g.y},{x:g.x,y:v.y}].forEach(function(At){_u(At,h)&&_u(At,c)&&N.push(At)}),N.unshift(v),N.push(g),N=qh(N);var lt=S6(N,v,g,o,s,r,t);return lt.unshift(r),lt.push(t),Eu(lt)};function Pu(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(t){return typeof t}:Pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(i)}var A6=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},_6=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},T6=function(r,t){return[r,t]},P6=function(r,t,e,n,a){return Eu(E6(r,t,e,n,a.offset))},L6={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:A6,fallbackRoute:P6},zY={maxAllowedDirectionChange:45,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:_6,fallbackRoute:T6},qi=function(r,t){var e=Math.floor(r/t);return e<0?0:e},O6=function(r,t,e){var n={};return r.forEach(function(a){if(a)for(var o=Au(a.getBBox(),e),s=qi(o.minX,t);s<=qi(o.maxX,t);s+=1)for(var l=qi(o.minY,t);l<=qi(o.maxY,t);l+=1){var u=s+"-"+l;n[u]=!0}}),n},ic=function(r,t){var e=t.x-r.x,n=t.y-r.y;if(!e&&!n)return 0;var a=(360+Math.atan2(n,e)*180/Math.PI)%360;return a},o1=function(r,t){var e=Math.abs(r-t);return e>180?360-e:e},s1=function(r,t,e){for(var n=Infinity,a=0,o=t.length;a<o;a++){var s=e(r,t[a]);s<n&&(n=s)}return n},l1=function(r,t,e){var n=[];if(!t)return n;var a=e.directions,o=e.offset,s=t.getBBox(),l=Au(t.getBBox(),o);for(var u in l)l[u]=qi(l[u],e.gridSize);var h=r.x>qi(s.minX,e.gridSize)&&r.x<qi(s.maxX,e.gridSize)&&r.y>qi(s.minY,e.gridSize)&&r.y<qi(s.maxY,e.gridSize);if(h)for(var c=0,v=a;c<v.length;c++)for(var g=v[c],A=[[{x:l.minX,y:l.minY},{x:l.maxX,y:l.minY}],[{x:l.minX,y:l.minY},{x:l.minX,y:l.maxY}],[{x:l.maxX,y:l.minY},{x:l.maxX,y:l.maxY}],[{x:l.minX,y:l.maxY},{x:l.maxX,y:l.maxY}]],u=0;u<4;u++){var k=A[u],F=Ts(r,{x:r.x+g.stepX*l.width,y:r.y+g.stepY*l.height},k[0],k[1]);F&&!nc(r,F,t.getBBox())&&(F.id=F.x+"-"+F.y,n.push(F))}else{var F=tc(l,r);F.id=F.x+"-"+F.y,n.push(F)}return n},u1=function(r,t,e,n,a){var o=(0,Mi.default)(L6,a);o.obstacles=o.obstacles||[];var s=O6(o.obstacles.concat([e,n]),o.gridSize,o.offset),l={x:qi(r.x,o.gridSize),y:qi(r.y,o.gridSize)},u={x:qi(t.x,o.gridSize),y:qi(t.y,o.gridSize)};r.id=l.x+"-"+l.y,t.id=u.x+"-"+u.y;var h=l1(l,e,o),c=l1(u,n,o);h.forEach(function(Qt){delete s[Qt.id]}),c.forEach(function(Qt){delete s[Qt.id]});for(var v={},g={},A={},k={},F={},Y=0;Y<h.length;Y++){var N=h[Y];v[N.id]=N,k[N.id]=0,F[N.id]=s1(N,c,o.distFunc)}for(var st=function(Vt,te){var le=ic(Vt,te),ae;if(A[Vt.id]){var _e=ic({x:parseFloat(A[Vt.id].split("-")[0]),y:parseFloat(A[Vt.id].split("-")[1])},Vt);ae=o1(_e,le)}else{var Se=ic(l,Vt);ae=o1(Se,le)}return ae},lt=function(Vt){var te=[t],le={x:parseFloat(Vt.split("-")[0]),y:parseFloat(Vt.split("-")[1]),id:Vt};for(st(le,u)&&te.unshift({x:le.x===u.x?t.x:le.x*o.gridSize,y:le.y===u.y?t.y:le.y*o.gridSize});A[Vt]&&A[Vt]!==Vt;){var ae={x:parseFloat(Vt.split("-")[0]),y:parseFloat(Vt.split("-")[1]),id:Vt},Se=A[Vt],_e={x:parseFloat(Se.split("-")[0]),y:parseFloat(Se.split("-")[1]),id:Se},Ee=st(_e,ae);Ee&&te.unshift({x:_e.x===ae.x?te[0].x:_e.x*o.gridSize,y:_e.y===ae.y?te[0].y:_e.y*o.gridSize}),Vt=Se}var Fe={x:parseFloat(Vt.split("-")[0]),y:parseFloat(Vt.split("-")[1]),id:Vt};return te[0].x=Fe.x===l.x?r.x:te[0].x,te[0].y=Fe.y===l.y?r.y:te[0].y,te.unshift(r),te},At=o.maximumLoops,zt=function(){var Vt,te=Infinity;for(var le in v)F[le]<=te&&(te=F[le],Vt=v[le]);if(!Vt)return"break";if(c.findIndex(function(Be){return Be.x===Vt.x&&Be.y===Vt.y})>-1){var ae=lt(Vt.id);return{value:ae}}delete v[Vt.id],g[Vt.id]=!0;for(var Se=0;Se<o.directions.length;Se++){var _e=o.directions[Se],Ee={x:Vt.x+_e.stepX,y:Vt.y+_e.stepY,id:Vt.x+_e.stepX+"-"+(Vt.y+_e.stepY)};if(!g[Ee.id]){var Fe=st(Vt,Ee);if(!(Fe>o.maxAllowedDirectionChange)&&!s[Ee.id]){v[Ee.id]||(v[Ee.id]=Ee);var Ne=o.distFunc(Vt,Ee)+(isNaN(o.penalties[Fe])?o.gridSize:o.penalties[Fe]),Ye=k[Vt.id]+Ne;k[Ee.id]&&Ye>=k[Ee.id]||(A[Ee.id]=Vt.id,k[Ee.id]=Ye,F[Ee.id]=Ye+s1(Ee,c,o.distFunc))}}}At-=1};Object.keys(v).length>0&&At>0;){var Wt=zt();if(Pu(Wt)==="object")return Wt.value;if(Wt==="break")break}return o.fallbackRoute(r,t,e,n,o)};Gn.registerEdge("polyline",{options:{color:ke.defaultEdge.color,size:ke.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:ke.defaultEdge.style.stroke,lineAppendWidth:ke.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:ke.edgeLabel.style.fill,fontSize:ke.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:1e3,gridSize:10},stateStyles:(0,Zt.__assign)({},ke.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(r,t){var e=this.getShapeStyle(r);e.radius===0&&delete e.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return n},getShapeStyle:function(r){var t=this.options.style,e={stroke:r.color},n=(0,f.mix)({},t,e,r.style);r=this.getPathPoints(r),this.radius=n.radius,this.offset=n.offset;var a=r.startPoint,o=r.endPoint,s=this.getControlPoints(r),l=[a];s&&(l=l.concat(s)),l.push(o);var u=r.sourceNode,h=r.targetNode,c=n.radius,v=this.options.routeCfg;v.offset=n.offset;var g=this.getPath(l,u,h,c,v);((0,f.isArray)(g)&&g.length<=1||(0,f.isString)(g)&&g.indexOf("L")===-1)&&(g="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(g="M0 0, L0 0");var A=(0,f.mix)({},ke.defaultEdge.style,n,{lineWidth:r.size,path:g});return A},updateShapeStyle:function(r,t){var e=t.getContainer(),n={stroke:r.color},a=e.find(function(N){return N.get("className")==="edge-shape"})||t.getKeyShape(),o=r.size;r=this.getPathPoints(r);var s=r.startPoint,l=r.endPoint,u=this.getControlPoints(r),h=[s];u&&(h=h.concat(u)),h.push(l);var c=(0,f.mix)({},n,a.attr(),r.style),v=r.sourceNode,g=r.targetNode,A=c.radius,k=this.options.routeCfg;k.offset=c.offset;var F=this.getPath(h,v,g,A,k);((0,f.isArray)(F)&&F.length<=1||(0,f.isString)(F)&&F.indexOf("L")===-1)&&(F="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(F="M0 0, L0 0");var Y=(0,f.mix)(n,a.attr(),{lineWidth:o,path:F},r.style);a&&a.attr(Y)},getPath:function(r,t,e,n,a){var o=a.offset;if(!o||r.length>2){if(n)return a1(r,n);var s=[];return(0,f.each)(r,function(c,v){v===0?s.push(["M",c.x,c.y]):s.push(["L",c.x,c.y])}),s}var l;if(n){l=u1(r[0],r[r.length-1],t,e,a);var u=a1(l,n);return u}l=u1(r[0],r[r.length-1],t,e,a);var h=Wm(l);return h}},"single-edge");var I6={triangle:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+" L "+(n+t)+","+r/2+" Z";return a},vee:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=20),e===void 0&&(e=0);var n=e*2,a="M "+n+",0 L "+(n+t)+",-"+r/2+`
        L `+(n+2*t/3)+",0 L "+(n+t)+","+r/2+" Z";return a},circle:function(r,t){r===void 0&&(r=5),t===void 0&&(t=0);var e=t*2,n="M "+e+`, 0
            a `+r+","+r+" 0 1,0 "+r*2+`,0
            a `+r+","+r+" 0 1,0 "+-r*2+",0";return n},rect:function(r,t,e){r===void 0&&(r=10),t===void 0&&(t=10),e===void 0&&(e=0);var n=e*2,a="M "+n+","+-r/2+` 
        L `+(n+t)+","+-r/2+` 
        L `+(n+t)+","+r/2+` 
        L `+n+","+r/2+" Z";return a},diamond:function(r,t,e){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=0);var n=e*2,a="M "+n+`,0 
        L `+(n+t/2)+","+-r/2+` 
        L `+(n+t)+`,0 
        L `+(n+t/2)+","+r/2+" Z";return a},triangleRect:function(r,t,e,n,a,o){r===void 0&&(r=15),t===void 0&&(t=15),e===void 0&&(e=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M "+s+",0 L "+(s+t)+",-"+r/2+" L "+(s+t)+","+r/2+` Z
            M `+l+", -"+e/2+`
            L `+(l+n)+" -"+e/2+`
            L `+(l+n)+" "+e/2+`
            L `+l+" "+e/2+`
            Z`;return u}},k6={collapse:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r+e-4,t]]},expand:function(r,t,e){return[["M",r-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",r-e+4,t],["L",r-e+2*e-4,t],["M",r-e+e,t-e+4],["L",r,t+e-4]]},upTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t+a],["L",r+n,t+a],["L",r,t-e],["Z"]]},downTriangle:function(r,t,e){var n=e*Math.cos(Math.PI/6),a=e*Math.sin(Math.PI/6);return[["M",r-n,t-a],["L",r+n,t-a],["L",r,t+e],["Z"]]}},es=Gn,B6={mat3:ga.wO,mix:Bs.default,deepMix:Mi.default,transform:ga.vs},D6=(0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)({},B6),V),mt),Z),K),q),F6=D6,R6=function(){function i(r){this._cfgs=(0,Mi.default)(this.getDefaultCfgs(),r),this._events={},this.destroyed=!1}return i.prototype.getDefaultCfgs=function(){return{}},i.prototype.initPlugin=function(r){var t=this;t.set("graph",r);var e=t.getEvents(),n={};(0,dn.default)(e,function(a,o){var s=(0,eu.default)(t,a);n[o]=s,r.on(o,s)}),this._events=n,this.init()},i.prototype.init=function(){},i.prototype.getEvents=function(){return{}},i.prototype.get=function(r){return this._cfgs[r]},i.prototype.set=function(r,t){this._cfgs[r]=t},i.prototype.destroy=function(){},i.prototype.destroyPlugin=function(){this.destroy();var r=this.get("graph"),t=this._events;(0,dn.default)(t,function(e,n){r.off(n,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},i}(),Pa=R6,f1="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",N6=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{img:f1}},r.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),n=t.get("container"),a=t.get("canvas").get("el"),o=t.get("width"),s=t.get("height"),l=this.get("img")||f1,u=(0,jn.Z)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),h=(0,jn.Z)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+l+`;
        user-select: none
        '></div>`);u.appendChild(h),(0,xn.Z)(u,{width:o+"px",height:s+"px",left:n.offsetLeft+"px",top:n.offsetTop+"px"}),(0,xn.Z)(h,{width:o/e+"px",height:s/e+"px",left:"0px",top:"0px"}),n.insertBefore(u,a),this.set("container",u),this.set("gridContainer",h)},r.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},r.prototype.updateGrid=function(t){var e=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a="matrix("+n[0]+", "+n[1]+", "+n[3]+", "+n[4]+", 0, 0)";(0,xn.Z)(e,{transform:a})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),n=this.get("container");e.removeChild(n)},r}(Pa),G6=N6,Y6=d(38186),ac=d.n(Y6);ac()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var z6=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},r.prototype.init=function(){var t=this.get("className"),e=(0,jn.Z)("<div class="+(t||"g6-component-contextmenu")+"></div>");(0,xn.Z)(e,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),n.appendChild(e),this.set("menu",e)},r.prototype.onMenuShow=function(t){var e=this;if(t.preventDefault(),t.stopPropagation(),!!t.item){var n=this.get("shouldBegin");if(!!n(t)){var a=this.get("itemTypes");if(t.item&&t.item.getType&&a.indexOf(t.item.getType())===-1){e.onMenuHide();return}if(!!t.item){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,on.default)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var h=this.get("handleMenuClick");if(h){var c=function(Wt){h(Wt.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var v=l.get("width"),g=l.get("height"),A=o.getBoundingClientRect(),k=this.get("offsetX")||0,F=this.get("offsetY")||0,Y=l.getContainer().offsetTop,N=l.getContainer().offsetLeft,st=t.canvasX+N+k,lt=t.canvasY+Y+F;st+A.width>v&&(st=t.canvasX-A.width-k+N),lt+A.height>g&&(lt=t.canvasY-A.height-F+Y),(0,xn.Z)(o,{top:lt+"px",left:st+"px",visibility:"visible"});var At=function(Wt){e.onMenuHide()};document.body.addEventListener("click",At),this.set("handler",At)}}}},r.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},r.prototype.onMenuHide=function(){var t=this.get("menu");t&&(0,xn.Z)(t,{visibility:"hidden"}),this.removeMenuEventListener()},r.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Pa),X6=z6,h1=Math.max,V6="default",H6="keyShape",W6="delegate",c1="svg",j6=function(i){(0,Zt.__extends)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.handleUpdateCanvas=(0,f.debounce)(function(e){var n=t;n.destroyed||n.updateCanvas()},100,!1),t}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.size,a=e.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=(0,jn.Z)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          border: 2px solid #1980ff'
        draggable=true>
      </div>`),u=0,h=0,c=!1,v=0,g=0,A=0,k=0,F=0,Y=0;l.addEventListener("dragstart",function(N){if(N.dataTransfer){var st=new Image;st.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",N.dataTransfer.setDragImage(st,0,0),N.dataTransfer.setData("text","view-port-minimap")}if(e.refresh=!1,N.target===l){var lt=l.style;v=parseInt(lt.left,10),g=parseInt(lt.top,10),A=parseInt(lt.width,10),k=parseInt(lt.height,10),!(A>n[0]||k>n[1])&&(Y=a.getZoom(),F=t.get("ratio"),c=!0,u=N.clientX,h=N.clientY)}},!1),l.addEventListener("drag",function(N){if(!(!c||(0,di.default)(N.clientX)||(0,di.default)(N.clientY))){var st=u-N.clientX,lt=h-N.clientY;(v-st<0||v-st+A>=n[0])&&(st=0),(g-lt<0||g-lt+k>=n[1])&&(lt=0),v-=st,g-=lt,(0,xn.Z)(l,{left:v+"px",top:g+"px"}),a.translate(st*Y/F,lt*Y/F),u=N.clientX,h=N.clientY}},!1),l.addEventListener("dragend",function(){c=!1,e.refresh=!0},!1),this.set("viewport",l),s.appendChild(l)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),n=this.get("dy"),a=this.get("totaldx"),o=this.get("totaldy"),s=this.get("graph"),l=this.get("size"),u=s.get("width"),h=s.get("height"),c=s.getPointByCanvas(0,0),v=s.getPointByCanvas(u,h),g=this.get("viewport");g||this.initViewport();var A=s.getZoom(),k=(v.x-c.x)*t,F=(v.y-c.y)*t,Y=c.x*t+a,N=c.y*t+o,st=Y+k,lt=N+F;Y<0&&(k+=Y,Y=0),st>l[0]&&(k=k-(st-l[0])),N<0&&(F+=N,N=0),lt>l[1]&&(F=F-(lt-l[1])),this.set("ratio",t);var At=Y+"px",zt=N+"px";(0,xn.Z)(g,{left:At,top:zt,width:k+"px",height:F+"px"})}},r.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),n=t.get("group");if(!n.destroyed){var a=n.clone();a.resetMatrix(),e.clear(),e.add(a);var o=t.get("renderer");o===c1&&this.updateVisible(a)}},r.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),e.updateVisible(a)})}},r.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;(0,dn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,dn.default)(e.getNodes(),function(n){t.updateOneNodeKeyShape(n)}),this.clearDestroyedShapes()},r.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox(),l=t.get("keyShape").clone(),u=l.attr(),h={x:s.centerX,y:s.centerY};o?h=Object.assign(u,h):(o=l,n.add(o));var c=o.get("type");(c==="rect"||c==="image")&&(h.x=s.minX,h.y=s.minY),o.attr(h),t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;(0,dn.default)(e.getEdges(),function(n){t.updateOneEdgeKeyShape(n)}),(0,dn.default)(e.getNodes(),function(n){t.updateOneNodeDelegateShape(n)}),this.clearDestroyedShapes()},r.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var n=e.length-1;n>=0;n--){var a=t[e[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[e[n]])}},r.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("itemMap")||{},o=a[t.get("id")];if(o){var s=t.get("keyShape").attr("path");o.attr("path",s)}else o=t.get("keyShape").clone(),n.add(o),o.toBack();t.isVisible()||o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},r.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),n=e.get("children")[0]||e.addGroup(),a=this.get("delegateStyle"),o=this.get("itemMap")||{},s=o[t.get("id")],l=t.getBBox();if(s){var u={x:l.minX,y:l.minY,width:l.width,height:l.height};s.attr(u)}else s=n.addShape("rect",{attrs:(0,Zt.__assign)({x:l.minX,y:l.minY,width:l.width,height:l.height},a),name:"minimap-node-shape"});t.isVisible()||s.hide(),s.exist=!0,o[t.get("id")]=s,this.set("itemMap",o)},r.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=(0,jn.Z)("<div class='"+a+"' style='width: "+n[0]+"px; height: "+n[1]+"px; overflow: hidden'></div>");(0,on.default)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):e.get("container").appendChild(s),t.set("container",s);var l=(0,jn.Z)('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l);var u,h=e.get("renderer");h===c1?u=new Is.Z({container:l,width:n[0],height:n[1]}):u=new Ao.Z({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case V6:this.updateGraphShapes();break;case H6:this.updateKeyShapes();break;case W6:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),h=e.get("canvas").getBBox(),c=h.width,v=h.height;Number.isFinite(u.width)&&(c=h1(u.width,c),v=h1(u.height,v)),c+=2*s,v+=2*s;var g=Math.min(n[0]/c,n[1]/v),A=[1,0,0,0,1,0,0,0,1],k=0,F=0;Number.isFinite(u.minX)&&(k=-u.minX),Number.isFinite(u.minY)&&(F=-u.minY);var Y=(n[0]-(c-2*s)*g)/2,N=(n[1]-(v-2*s)*g)/2;A=_a(A,[["t",k,F],["s",g,g],["t",Y,N]]),l.setMatrix(A),this.set("ratio",g),this.set("totaldx",Y+k*g),this.set("totaldy",N+F*g),this.set("dx",Y),this.set("dy",N),this.updateViewport()}}}}},r.prototype.getCanvas=function(){return this.get("canvas")},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},r}(Pa),U6=j6;function La(i,r,t){var e=i.x-r.x,n=i.y-r.y;return!t||Math.abs(e)>t||Math.abs(n)>t?Math.sqrt(e*e+n*n):t}function Z6(i,r){return i.x*r.x+i.y*r.y}function v1(i,r){var t=(r.source.y-r.target.y)/(r.source.x-r.target.x),e=(t*t*r.source.x+t*(i.y-r.source.y)+i.x)/(t*t+1),n=t*(e-r.source.x)+r.source.y;return{x:e,y:n}}var K6=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},r.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),n=function(){e&&e(),t.refreshPositions()};this.set("tick",n)},r.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(lt){(lt.x===null||!lt.y===null||lt.x===void 0||!lt.y===void 0)&&(s=!0),o[lt.id]=lt}),s)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var l=e.get("divisions"),u=e.get("divRate"),h=e.divideEdges(l);e.set("edgePoints",h);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var v=e.get("cycles"),g=e.get("iterations"),A=e.get("iterRate"),k=e.get("lambda"),F=0;F<v;F++){for(var Y=function(At){var zt=[];n.forEach(function(Wt,Qt){if(Wt.source!==Wt.target){var Vt=o[Wt.source],te=o[Wt.target];zt[Qt]=e.getEdgeForces({source:Vt,target:te},Qt,l,k);for(var le=0;le<l+1;le++)h[Qt][le].x+=zt[Qt][le].x,h[Qt][le].y+=zt[Qt][le].y}})},N=0;N<g;N++)Y(N);k=k/2,l*=u,g*=A,h=e.divideEdges(l),e.set("edgePoints",h)}n.forEach(function(lt,At){lt.source!==lt.target&&(lt.shape="polyline",lt.type="polyline",lt.controlPoints=h[At].slice(1,h[At].length-1))});var st=e.get("graph");st.refresh()}},r.prototype.updateBundling=function(t){var e=this,n=t.data;if(n&&e.set("data",n),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(o){e.set(o,t[o])}),t.onTick){var a=this.get("graph");e.set("tick",function(){t.onTick(),a.refresh()})}e.bundling(n)},r.prototype.divideEdges=function(t){var e=this,n=e.get("data").edges,a=e.get("nodeIdMap"),o=e.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){(!o[l]||o[l]===void 0)&&(o[l]=[]);var u=a[s.source],h=a[s.target];if(t===1)o[l].push({x:u.x,y:u.y}),o[l].push({x:.5*(u.x+h.x),y:.5*(u.y+h.y)}),o[l].push({x:h.x,y:h.y});else{var c=0;!o[l]||o[l]===[]?c=La({x:u.x,y:u.y},{x:h.x,y:h.y}):c=e.getEdgeLength(o[l]);var v=c/(t+1),g=v,A=[{x:u.x,y:u.y}];o[l].forEach(function(k,F){if(F!==0){for(var Y=La(k,o[l][F-1]);Y>g;){var N=g/Y,st={x:o[l][F-1].x,y:o[l][F-1].y};st.x+=N*(k.x-o[l][F-1].x),st.y+=N*(k.y-o[l][F-1].y),A.push(st),Y-=g,g=v}g-=Y}}),A.push({x:h.x,y:h.y}),o[l]=A}}),o},r.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(n,a){a!==0&&(e+=La(n,t[a-1]))}),e},r.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),n=e.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var h=o[l.source],c=o[l.target];n.forEach(function(v,g){if(!(g<=u)){var A=o[v.source],k=o[v.target],F=t.getBundleScore({source:h,target:c},{source:A,target:k});F>=a&&(s[u].push(g),s[g].push(u))}})}),s},r.prototype.getBundleScore=function(t,e){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=La({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=La({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var a=n.getAngleScore(t,e),o=n.getScaleScore(t,e),s=n.getPositionScore(t,e),l=n.getVisibilityScore(t,e);return a*o*s*l},r.prototype.getAngleScore=function(t,e){var n=Z6({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return n/(t.length*e.length)},r.prototype.getScaleScore=function(t,e){var n=(t.length+e.length)/2,a=2/(n/Math.min(t.length,e.length)+Math.max(t.length,e.length)/n);return a},r.prototype.getPositionScore=function(t,e){var n=(t.length+e.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},s=La(a,o);return n/(n+s)},r.prototype.getVisibilityScore=function(t,e){var n=this.getEdgeVisibility(t,e),a=this.getEdgeVisibility(e,t);return n<a?n:a},r.prototype.getEdgeVisibility=function(t,e){var n=v1(e.source,t),a=v1(e.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*La(o,s)/La(n,a))},r.prototype.getEdgeForces=function(t,e,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(La(t.source,t.target)*(n+1)),h=[{x:0,y:0}],c=1;c<n;c++){var v={x:0,y:0},g=o.getSpringForce({pre:s[e][c-1],cur:s[e][c],next:s[e][c+1]},u),A=o.getElectrostaticForce(c,e);v.x=a*(g.x+A.x),v.y=a*(g.y+A.y),h.push(v)}return h.push({x:0,y:0}),h},r.prototype.getSpringForce=function(t,e){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=e,a*=e,{x:n,y:a}},r.prototype.getElectrostaticForce=function(t,e){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[e],u={x:0,y:0};return l.forEach(function(h){var c={x:s[h][t].x-s[e][t].x,y:s[h][t].y-s[e][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var v=La(s[h][t],s[e][t]),g=1/v;u.x+=c.x*g,u.y+=c.y*g}}),u},r.prototype.isTicking=function(){return this.get("ticking")},r.prototype.getSimulation=function(){return this.get("forceSimulation")},r.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),i.prototype.destroy.call(this)},r}(Pa),$6=K6,Lu=.05,d1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Q6=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,Fn.d9)(d1),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},r.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var n=t.get("d");t.set("molecularParam",(n+1)*e)},r.prototype.createDelegate=function(t){var e=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){e.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-Lu:a=1/(1-Lu);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.set("r2",c*c);var v=e.get("d");e.set("molecularParam",(v+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,l)}},r.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var n=e.get("dragPrePos"),a=e.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-Lu:o=1/(1-Lu);var l=e.get("maxR"),u=e.get("minR"),h=e.get("r");(h>(l||a.get("height"))&&o>1||h<(u||a.get("height")*.05)&&o<1)&&(o=1),h*=o,e.set("r",h),e.set("r2",h*h);var c=e.get("d");e.set("molecularParam",(c+1)*h),e.magnify(t,s),e.set("dragPrePos",{x:t.x,y:t.y})}},r.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=e.get("d"),o=a+n,s=e.get("maxD"),l=e.get("minD");if(o<s&&o>l){e.set("d",o);var u=e.get("r");e.set("molecularParam",(o+1)*u);var h=e.get("delegate"),c=h?{x:h.attr("x"),y:h.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},r.prototype.scaleDByDrag=function(t){var e=this,n=e.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=e.get("d"),s=o+a,l=e.get("maxD"),u=e.get("minD");if(s<l&&s>u){e.set("d",s);var h=e.get("r");e.set("molecularParam",(s+1)*h),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},r.prototype.magnify=function(t,e){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),h=n.get("r2"),c=n.get("d"),v=n.get("molecularParam"),g=a.getNodes(),A=g.length,k=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(k=n.get("cacheCenter"));var F=n.get("delegateCenterDiff");F&&(k.x+=F.x,k.y+=F.y),n.updateDelegate(k,u);for(var Y=0;Y<A;Y++){var N=g[Y].getModel(),st=N.x,lt=N.y;if(!(isNaN(st)||isNaN(lt))){var At=(st-k.x)*(st-k.x)+(lt-k.y)*(lt-k.y);if(!isNaN(At)&&At<h&&At!==0){var zt=Math.sqrt(At),Wt=v*zt/(c*zt+u),Qt=(st-k.x)/zt,Vt=(lt-k.y)/zt;if(N.x=Qt*Wt+k.x,N.y=Vt*Wt+k.y,s[N.id]||(s[N.id]={x:st,y:lt,texts:[]}),o.push(N),l&&2*zt<u)for(var te=g[Y],le=te.getContainer(),ae=le.getChildren(),Se=ae.length,_e=0;_e<Se;_e++){var Ee=ae[_e];Ee.get("type")==="text"&&(s[N.id].texts.push({visible:Ee.get("visible"),shape:Ee}),Ee.set("visible",!0))}}}}a.refreshPositions()},r.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=e.length,o=0;o<a;o++){var s=e[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var h=u.texts.length,c=0;c<h;c++){var v=u.texts[c];v.shape.set("visible",v.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,h=t.maxR,c=t.scaleDBy,v=t.scaleRBy;isNaN(t.r)||(e.set("r",n),e.set("r2",n*n)),isNaN(a)||e.set("d",a),isNaN(l)||e.set("maxD",l),isNaN(s)||e.set("minD",s),isNaN(h)||e.set("maxR",h),isNaN(u)||e.set("minR",u);var g=e.get("d"),A=e.get("r");if(e.set("molecularParam",(g+1)*A),(o==="mousemove"||o==="click"||o==="drag")&&e.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}if(v==="drag"||v==="wheel"||v==="unset"){e.set("scaleRBy",v),e.get("delegate").remove(),e.get("delegate").destroy();var k=e.get("dPercentText");k&&(k.remove(),k.destroy())}},r.prototype.updateDelegate=function(t,e){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||d1;s=l.addShape("circle",{attrs:(0,Zt.__assign)({r:e/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(A){a.scaleRByWheel(A)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(A){a.set("dragging",!0),a.set("cacheCenter",{x:A.x,y:A.y}),a.set("dragPrePos",{x:A.x,y:A.y})}),s.on("drag",function(A){a.scaleRByDrag(A)}),s.on("dragend",function(A){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(A){n.scaleDByWheel(A)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(A){a.set("dragging",!0),a.set("cacheCenter",{x:A.x,y:A.y}),a.set("dragPrePos",{x:A.x,y:A.y})}),s.on("drag",function(A){n.scaleDByDrag(A)}),s.on("dragend",function(A){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:e/1.5});if(a.get("showDPercent")){var h=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),v=t.y+e/1.5+16;if(!c||c.destroyed){var g=o.get("group");c=g.addShape("text",{attrs:{text:h+"%",x:t.x,y:v,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:h+"%",x:t.x,y:v})}a.set("delegate",s)},r.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Pa),J6=Q6;ac()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var q6=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `}}},r.prototype.init=function(){var t=this,e=this.get("graph"),n=this.get("getContent"),a=n(e),o=a;(0,Fn.HD)(a)&&(o=(0,jn.Z)(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(c){var v=c.path.filter(function(A){return A.nodeName==="LI"});if(v.length!==0){var g=v[0].getAttribute("code");!g||(u?u(g,e):t.handleDefaultOperator(g,e))}});var h=this.get("position");h&&(0,xn.Z)(o,{top:h.y+"px",left:h.x+"px"}),this.bindUndoRedo()},r.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!n||!a||!o||t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,h=l.length,c=u.length;h===1?(e.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))})},r.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action;t.pushStack(a,(0,Fn.d9)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}case"add":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.removeItem(u.id,!1)})});break;default:}}}},r.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var n=e.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,Fn.d9)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=t.findById(u.id);u.visible?t.showItem(h,!1):t.hideItem(h,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){t.updateItem(u.id,u,!1)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(s){t.removeItem(s.id,!1)}),o.nodes&&o.nodes.forEach(function(s){t.removeItem(s.id,!1)}),o.combos&&o.combos.forEach(function(s){t.removeItem(s.id,!1)});break;case"add":{Object.keys(o).forEach(function(s){var l=o[s];!l||l.forEach(function(u){var h=u.itemType;delete u.itemType,t.addItem(h,u,!1)})});break}default:}}}},r.prototype.handleDefaultOperator=function(t,e){var n=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var a=1+.05*5;if(a*n>5)return;e.zoomTo(n*1.1);break}case"zoomIn":{var o=1-.05*5;if(o*n<.3)return;e.zoomTo(n*.9);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},r.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},r}(Pa),t8=q6;ac()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var e8=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"]}},r.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},r.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=(0,jn.Z)("<div class="+t+"></div>"),n=this.get("container");n||(n=this.get("graph").get("container")),(0,xn.Z)(e,{position:"absolute",visibility:"hidden"}),n.appendChild(e),this.set("tooltip",e)},r.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},r.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},r.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},r.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,on.default)(o)?n.innerHTML=o:n.innerHTML=o.outerHTML,this.updatePosition(t)}}},r.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&(0,xn.Z)(t,{visibility:"hidden"})},r.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),n=this.get("tooltip");if(!e(t)){(0,xn.Z)(n,{visibility:"hidden"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,h=a.getPointByClient(t.clientX,t.clientY),c=a.getCanvasByPoint(h.x,h.y),v=c.x,g=c.y;v+=l,g+=u;var A=n.getBoundingClientRect();v+A.width>o&&(v=v-A.width-l),g+A.height>s&&(g=g-A.height-u),(0,xn.Z)(n,{left:v+"px",top:g+"px",visibility:"visible"})},r.prototype.hide=function(){this.onMouseLeave()},r.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),e.removeChild(t)}},r}(Pa),r8=e8,p1=d(89539);function n8(i){return(0,f.map)(i,function(r,t){var e=t===0?"M":"L",n=r[0],a=r[1];return[e,n,a]})}function g1(i){return n8(i)}function i8(i){if(i.length<=2)return g1(i);var r=[];(0,f.each)(i,function(o){(0,f.isEqual)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=Us.catmullRom2Bezier(r,!1),e=(0,f.head)(i),n=e[0],a=e[1];return t.unshift(["M",n,a]),t}function a8(i,r,t,e){e===void 0&&(e=!0);var n=new Er.Linear({values:i}),a=new Er.Category({values:(0,f.map)(i,function(s,l){return l})}),o=(0,f.map)(i,function(s,l){return[a.scale(l)*r,t-n.scale(s)*t]});return e?i8(o):g1(o)}function o8(i,r,t){for(var e=new Er.Linear({values:i}),n=new Er.Category({values:(0,f.map)(i,function(c,v){return v})}),a=(0,f.map)(i,function(c,v){return[n.scale(v)*r,t-e.scale(c)*t]}),o=[],s=0;s<a.length;s++){var l=a[s],u={x:l[0],y:l[1],y0:t,size:5},h=u8(u);o.push.apply(o,h)}return f8(o)}function s8(i,r){var t=new Er.Linear({values:i}),e=Math.max(0,t.min);return r-t.scale(e)*r}function l8(i,r,t,e){var n=(0,Zt.__spreadArrays)(i),a=s8(e,t);return n.push(["L",r,a]),n.push(["L",0,a]),n.push(["Z"]),n}function u8(i){var r=i.x,t=i.y,e=i.y0,n=i.size,a,o;(0,p1.isArray)(t)?(a=t[0],o=t[1]):(a=e,o=t);var s,l;(0,p1.isArray)(r)?(s=r[0],l=r[1]):(s=r-n/2,l=r+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function f8(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var n=1,a=i.length;n<a;n++)t.push(["L",i[n].x,i[n].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var XY={opacity:.5},h8={stroke:"#C5C5C5",strokeOpacity:.85},c8={fill:"#CACED4",opacity:.85},v8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.width,s=o===void 0?200:o,l=r.height,u=l===void 0?26:l,h=r.smooth,c=h===void 0?!0:h,v=r.isArea,g=v===void 0?!1:v,A=r.data,k=A===void 0?[]:A,F=r.lineStyle,Y=r.areaStyle,N=r.group,st=r.interval,lt=st===void 0?null:st;this.group=N,this.x=e,this.y=a,this.width=s,this.height=u,this.data=k,this.smooth=c,this.isArea=g,this.lineStyle=Object.assign({},h8,F),this.areaStyle=Object.assign({},c8,Y),this.intervalConfig=lt,this.renderLine()}return i.prototype.renderLine=function(){var r=this,t=r.x,e=r.y,n=r.width,a=r.height,o=r.data,s=r.smooth,l=r.isArea,u=r.backgroundStyle,h=r.lineStyle,c=r.areaStyle,v=this.group.addGroup({name:"trend-group"});if(o){var g=a8(o,n,a,s);if(v.addShape("path",{attrs:(0,Zt.__assign)({path:g},h)}),l){var A=l8(g,n,a,o);v.addShape("path",{attrs:(0,Zt.__assign)({path:A},c)})}}this.intervalConfig&&v.addShape("path",{attrs:(0,Zt.__assign)({path:o8(this.intervalConfig.data,n,a)},this.intervalConfig.style)}),v.move(t,e)},i.prototype.destory=function(){this.group.destroy()},i}(),d8=v8,p8={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},g8={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},y8=function(){function i(r){var t=r.group,e=r.name,n=r.type,a=r.x,o=a===void 0?0:a,s=r.y,l=s===void 0?0:s,u=r.width,h=u===void 0?2:u,c=r.height,v=c===void 0?24:c,g=r.style,A=g===void 0?{}:g;this.group=t,this.name=e,this.handleType=n,this.x=o,this.y=l,this.width=h,this.height=v,n==="trend"?this.style=(0,Zt.__assign)((0,Zt.__assign)({},p8),A):n==="simple"&&(this.style=(0,Zt.__assign)((0,Zt.__assign)({},g8),A)),this.renderHandle()}return i.prototype.setX=function(r){this.setXY(r,void 0)},i.prototype.setY=function(r){this.setXY(void 0,r)},i.prototype.setXY=function(r,t){(0,f.isNumber)(r)&&(this.x=r),(0,f.isNumber)(t)&&(this.y=t),this.updateXY()},i.prototype.renderHandle=function(){var r=this,t=r.width,e=r.height,n=r.style,a=r.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,h=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:h},name:a+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=r.style.highLightFill;r.background.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=r.style.fill;r.background.attr("fill",e)})},i.prototype.show=function(){this.handleGroup.show()},i.prototype.hide=function(){this.handleGroup.hide()},i.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},i}(),y1=y8,m8=function(){function i(r){this.config=(0,f.deepMix)({},r),this.init()}return i.prototype.update=function(r){this.config=(0,f.deepMix)({},this.config,r),this.updateElement(),this.renderMarker()},i.prototype.init=function(){this.initElement(),this.renderMarker()},i.prototype.initElement=function(){var r=this.config,t=r.group,e=r.style;this.circle=t.addShape("circle",{attrs:(0,Zt.__assign)({x:this.config.x,y:this.config.y,r:this.config.r},e)}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=t.addGroup();var n=1/4*this.config.r,a=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n*2.5,height:a,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-(1/4+1/8)*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-a/2,width:n,height:a,fill:"#ccc"},name:"playPauseBtn"})},i.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var r=1/4*this.config.r,t=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-(1/4+1/8)*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-t/2),this.pauseLeftMarker.attr("width",r),this.pauseLeftMarker.attr("height",t),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-t/2),this.pauseRightMarker.attr("width",r),this.pauseRightMarker.attr("height",t)},i.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},i.prototype.getStartMarkerPath=function(){var r=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-r/Math.sqrt(3)/2,this.config.y-r/2],["L",this.config.x+r/Math.sqrt(3),this.config.y],["L",this.config.x-r/Math.sqrt(3)/2,this.config.y+r/2]]},i}(),x8=m8,b8="#ccc",w8="green",S8={fill:"#607889",stroke:"#607889"},C8={fill:"#fff"},M8={fill:"green"},E8={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Rs=110,Oa=50,A8=function(){function i(r){this.controllerCfg=(0,f.deepMix)({},E8,r),this.group=r.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.init()}return i.prototype.init=function(){this.renderPlayButton()},i.prototype.getNextMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r+e,t],["L",r,t+e]]},i.prototype.getPreMarkerPath=function(r,t,e){return[["M",r,t-e],["L",r-e,t],["L",r,t+e]]},i.prototype.renderPlayButton=function(){var r=this.controllerCfg,t=r.width,e=r.height,n=r.x,a=r.y,o=r.hiddleToggle,s=r.fill,l=s===void 0?b8:s,u=r.stroke,h=u===void 0?w8:u,c=r.playBtnStyle,v=c===void 0?S8:c,g=r.preBtnStyle,A=g===void 0?C8:g,k=r.nextBtnStyle,F=k===void 0?M8:k,Y=e/2-5,N=a+10,st=this.group.addShape("rect",{attrs:{x:n,y:N,width:t,height:e,stroke:h,fill:l},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:N,r:Y}):this.playButton=new x8({group:this.group,x:t/2,y:N+Y+5,r:Y,isPlay:this.isPlay,style:v}),this.group.addShape("path",{attrs:(0,Zt.__assign)({path:this.getPreMarkerPath(t/2-5*Y,N+Y+5,Y*.5)},A),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,Zt.__assign)({path:this.getPreMarkerPath(t/2-4.5*Y,N+Y+5,Y*.5)},A),name:"preStepBtn"}),this.group.addShape("path",{attrs:(0,Zt.__assign)({path:this.getNextMarkerPath(t/2+5*Y,N+Y+5,Y*.5)},F),name:"nextStepBtn"}),this.group.addShape("path",{attrs:(0,Zt.__assign)({path:this.getNextMarkerPath(t/2+4.5*Y,N+Y+5,Y*.5)},F),name:"nextStepBtn"}),st.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent()},i.prototype.renderSpeedBtn=function(){var r=this.controllerCfg,t=r.y,e=r.width,n=r.hiddleToggle,a=this.group.addGroup({name:"speed-group"});this.speedGroup=a;for(var o=1,s=[],l=9,u=0;u<5;u++){var h=t+15+u*(u+1)+o;a.addShape("rect",{attrs:{x:e-(n?Oa:Rs),y:h,width:15,height:2,fill:"#ccc"},speed:l,name:"speed-rect"}),this.speedAxisY.push(h),s.push(l),l=l-2,o++}for(var u=0;u<4;u++)a.addShape("rect",{attrs:{x:e-(n?Oa:Rs),y:this.speedAxisY[u]+2,width:15,height:2*u+1,fill:"#fff",opacity:.3},speed:s[u]-1,name:"speed-rect"});this.speedText=a.addShape("text",{attrs:{x:e-(n?Oa:Rs)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc"}}),this.speedPoint=a.addShape("path",{attrs:{path:this.getPath(e-(n?Oa:Rs),this.speedAxisY[4]),fill:"#ccc"}})},i.prototype.getPath=function(r,t){return[["M",r,t],["L",r-12,t-6],["L",r-12,t+6],["Z"]]},i.prototype.renderToggleTime=function(){var r=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:r-Oa,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",r-Oa+3,this.speedAxisY[1]+6],["L",r-Oa+7,this.speedAxisY[1]+10],["L",r-Oa+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:"\u5355\u4E00\u65F6\u95F4",x:r-Oa+20,y:this.speedAxisY[1]+15,fill:"#ccc"}})},i.prototype.bindEvent=function(){var r=this,t=this.controllerCfg,e=t.width,n=t.hiddleToggle;this.speedGroup.on("speed-rect:click",function(a){r.speedPoint.attr("path",r.getPath(e-(n?Oa:Rs),a.y)),r.currentSpeed=a.target.get("speed"),r.speedText.attr("text",r.currentSpeed+".0X"),r.group.emit("timebarConfigChanged",{speed:r.currentSpeed,type:r.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(a){var o=a.target.get("isChecked");o?(r.checkedIcon.hide(),r.checkedText.attr("text","\u5355\u4E00\u65F6\u95F4"),r.currentType="range"):(r.checkedIcon.show(),r.checkedText.attr("text","\u65F6\u95F4\u8303\u56F4"),r.currentType="single"),a.target.set("isChecked",!o),r.group.emit("timebarConfigChanged",{type:r.currentType,speed:r.currentSpeed})})},i.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},i}(),m1=A8,x1="timelinestart",b1="timelineend",Ia="valueChange",Ou="timebarConfigChanged",Iu="playPauseBtn",ku="nextStepBtn",Bu="preStepBtn",_8={fill:"#416180",opacity:.05},T8={fill:"#416180",opacity:.15,radius:5},P8={fill:"#5B8FF9",opacity:.3,cursor:"move"},oc=2,L8={width:oc,height:24},O8={textBaseline:"middle",fill:"#000",opacity:.45},I8=function(){function i(r){var t=this;this.prevX=0,this.onMouseDown=function(De){return function(rr){t.currentHandler=De;var tr=rr.originalEvent;tr.stopPropagation(),tr.preventDefault(),t.prevX=(0,f.get)(tr,"touches.0.pageX",tr.pageX);var lr=t.canvas.get("container");lr.addEventListener("mousemove",t.onMouseMove),lr.addEventListener("mouseup",t.onMouseUp),lr.addEventListener("mouseleave",t.onMouseUp),lr.addEventListener("touchmove",t.onMouseMove),lr.addEventListener("touchend",t.onMouseUp),lr.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(De){De.stopPropagation(),De.preventDefault();var rr=(0,f.get)(De,"touches.0.pageX",De.pageX),tr=rr-t.prevX,lr=t.adjustOffsetRange(tr/t.width);t.updateStartEnd(lr),t.updateUI(),t.prevX=rr},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var De=t.canvas.get("container");De&&(De.removeEventListener("mousemove",t.onMouseMove),De.removeEventListener("mouseup",t.onMouseUp),De.removeEventListener("mouseleave",t.onMouseUp),De.removeEventListener("touchmove",t.onMouseMove),De.removeEventListener("touchend",t.onMouseUp),De.removeEventListener("touchcancel",t.onMouseUp))};var e=r.x,n=e===void 0?0:e,a=r.y,o=a===void 0?0:a,s=r.width,l=s===void 0?100:s,u=r.height,h=r.padding,c=h===void 0?10:h,v=r.trendCfg,g=r.controllerCfg,A=g===void 0?{speed:1}:g,k=r.backgroundStyle,F=k===void 0?{}:k,Y=r.foregroundStyle,N=Y===void 0?{}:Y,st=r.handlerStyle,lt=st===void 0?{}:st,At=r.textStyle,zt=At===void 0?{}:At,Wt=r.start,Qt=Wt===void 0?0:Wt,Vt=r.end,te=Vt===void 0?1:Vt,le=r.minText,ae=le===void 0?"":le,Se=r.maxText,_e=Se===void 0?"":Se,Ee=r.group,Fe=r.graph,Ne=r.canvas,Ye=r.ticks,Be=r.type;this.graph=Fe,this.canvas=Ne,this.group=Ee,this.timeBarType=Be,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=c,this.ticks=Ye,this.trendCfg=v,this.controllerCfg=A,this.currentSpeed=A.speed,Be==="trend"?this.backgroundStyle=(0,Zt.__assign)((0,Zt.__assign)({},_8),F):Be==="simple"&&(this.backgroundStyle=(0,Zt.__assign)((0,Zt.__assign)({},T8),F)),this.foregroundStyle=(0,Zt.__assign)((0,Zt.__assign)({},P8),N),this.handlerStyle=(0,Zt.__assign)((0,Zt.__assign)({},L8),lt),this.textStyle=(0,Zt.__assign)((0,Zt.__assign)({},O8),zt),this.currentMode="range",this.start=Qt,this.end=te,this.minText=ae,this.maxText=_e,this.renderSlider()}return i.prototype.update=function(r){var t=r.x,e=r.y,n=r.width,a=r.height,o=r.minText,s=r.maxText,l=r.start,u=r.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,f.assign)(this,{x:t,y:e,width:n,height:a,minText:o,maxText:s}),this.updateUI()},i.prototype.setText=function(r,t){this.minTextShape.attr("text",r),this.maxTextShape.attr("text",t)},i.prototype.renderSlider=function(){var r=this,t=this,e=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,f.size)((0,f.get)(this.trendCfg,"data"))){var o=new d8((0,Zt.__assign)((0,Zt.__assign)({x:this.x,y:this.y,width:e,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:(0,Zt.__assign)({x:0,y:0,width:e,height:n},this.backgroundStyle)});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:(0,Zt.__assign)({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,Zt.__assign)({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1},this.textStyle),capture:!1})):(this.minTextShape=l.addShape("text",{attrs:(0,Zt.__assign)({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1},this.textStyle),capture:!1}),this.maxTextShape=l.addShape("text",{attrs:(0,Zt.__assign)({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:(0,Zt.__assign)({x:0,y:this.y,height:n},this.foregroundStyle)});var u=(0,f.get)(this.handlerStyle,"width",2),h=(0,f.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new y1((0,Zt.__assign)({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var v=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new y1((0,Zt.__assign)({name:"maxHandlerShape",group:v,type:a,x:this.x,y:this.y,width:u,height:h,cursor:"ew-resize"},this.handlerStyle));var g=this.ticks,A=e/(g.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(F){F.destroy()});var k=-Infinity;this.textList=g.map(function(F,Y){r.tickPosList.push(r.x+Y*A);var N=r.group.addShape("text",{attrs:{x:r.x+Y*A,y:r.y+n+5,text:F,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),st=r.group.addShape("line",{attrs:{x1:r.x+Y*A,y1:r.y+n+2,x2:r.x+Y*A,y2:r.y+n+6,lineWidth:1,stroke:"#ccc"}}),lt=N.getBBox();return lt.minX>k?(N.show(),st.show(),k=lt.minX+lt.width+10):(N.hide(),st.hide()),N}),this.controllerBtnGroup=new m1({group:this.group,x:this.x,y:this.y+n+25,width:e,height:40}),this.updateUI(),s.move(this.x,this.y),this.bindEvents()},i.prototype.bindEvents=function(){var r=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(Iu+":click",function(){r.isPlay=!r.isPlay,r.currentHandler=r.maxHandlerShape,r.changePlayStatus()}),this.group.on(ku+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(.01),r.updateUI()}),this.group.on(Bu+":click",function(){r.currentHandler=r.maxHandlerShape,r.updateStartEnd(-.01),r.updateUI()}),this.group.on(Ou,function(n){var a=n.type,o=n.speed;r.currentSpeed=o,r.currentMode=a,a==="single"?(r.minHandlerShape.hide(),r.foregroundShape.hide(),r.minTextShape.hide()):a==="range"&&(r.minHandlerShape.show(),r.foregroundShape.show(),r.minTextShape.show())})},i.prototype.adjustTickIndex=function(r){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=r&&r<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-r)<Math.abs(r-this.tickPosList[t+1])?t:t+1},i.prototype.adjustOffsetRange=function(r){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,r))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,r))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,r))}default:return 0}},i.prototype.updateStartEnd=function(r){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=r,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=r,this.end+=r,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;default:break}},i.prototype.updateUI=function(){var r=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.start*this.width,e=this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var n=(0,f.get)(this.handlerStyle,"width",oc);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,e]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,f.each)(o,function(l,u){return r.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(e-n/2),(0,f.each)(s,function(l,u){return r.maxTextShape.attr(u,l)}),this.currentMode==="range"?this.graph.emit(Ia,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(Ia,{value:[this.end,this.end]})},i.prototype.dodgeText=function(r){var t,e,n=2,a=(0,f.get)(this.handlerStyle,"width",oc),o=this.minTextShape,s=this.maxTextShape,l=r[0],u=r[1],h=!1;l>u&&(t=[u,l],l=t[0],u=t[1],e=[s,o],o=e[0],s=e[1],h=!0);var c=o.getBBox(),v=s.getBBox(),g=null,A=null;return this.timeBarType==="trend"?(g=c.width>l-n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},A=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(g=c.width>l-n?{x:l+a/2+n,textAlign:"center"}:{x:l-a/2-n,textAlign:"center"},A=v.width>this.width-u-n?{x:u-a/2-n,textAlign:"center"}:{x:u+a/2+n,textAlign:"center"}),h?[A,g]:[g,A]},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r,e=t.ticks,n=t.width,a=r.currentSpeed,o=n/e.length,s=o/((10-a)*1e3/60),l=r.adjustOffsetRange(s/r.width);r.updateStartEnd(l),r.updateUI(),r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(x1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(b1,null))},i.prototype.destory=function(){this.graph.off(Ia);var r=this.group,t=r.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=r.find(function(n){return n.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),r.off(Iu+":click"),r.off(ku+":click"),r.off(Bu+":click"),r.off(Ou),r.destroy(),this.trendComponent&&this.trendComponent.destory()},i}(),k8=I8,VY={opacity:.5,fill:"#000"},HY={opacity:.5,fill:"#000",r:5},WY={fill:"#fff",fontSize:12},B8=function(){function i(r){var t=r.x,e=t===void 0?0:t,n=r.y,a=n===void 0?0:n,o=r.container,s=r.text,l=r.padding,u=l===void 0?[4,4,4,4]:l,h=r.className,c=h===void 0?"g6-component-timebar-tooltip":h,v=r.backgroundColor,g=v===void 0?"#000":v,A=r.textColor,k=A===void 0?"#fff":A,F=r.opacity,Y=F===void 0?.8:F,N=r.fontSize,st=N===void 0?12:N;this.container=o,this.className=c,this.backgroundColor=g,this.textColor=k,this.x=e,this.y=a,this.text=s,this.padding=u,this.opacity=Y,this.fontSize=st,this.render()}return i.prototype.render=function(){var r=this,t=r.className,e=r.x,n=r.y,a=r.backgroundColor,o=r.textColor,s=r.text,l=r.padding,u=r.opacity,h=r.fontSize,c=r.container,v=(0,jn.Z)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+u+'"></div>');(0,f.isString)(c)&&(c=document.getElementById(c)),c.appendChild(v),r.parentHeight=c.offsetHeight,r.parentWidth=c.offsetWidth,(0,xn.Z)(v,{visibility:"hidden",top:0,left:0});var g=(0,jn.Z)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+a+"; font-size: "+h+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+o+"; padding: "+l[0]+"px "+l[1]+"px "+l[2]+"px "+l[3]+"px'></div>");g.innerHTML=s,v.appendChild(g),r.backgroundDOM=g;var A=(0,jn.Z)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+a+"'></div>");v.appendChild(A),r.arrowDOM=A,r.container=v},i.prototype.show=function(r){var t=this,e=r.text,n=r.x,a=r.y,o=r.clientX,s=r.clientY;t.backgroundDOM.innerHTML=e;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,h=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;(0,xn.Z)(t.container,{top:-u-c+"px",left:n+"px",visibility:"visible"}),(0,xn.Z)(t.backgroundDOM,{marginLeft:-l/2+"px"}),(0,xn.Z)(t.arrowDOM,{marginLeft:-h/2+"px",top:u+"px"});var v=n-l/2,g=n+l/2;v<0?(0,xn.Z)(t.backgroundDOM,{marginLeft:-l/2-v+"px"}):g>t.parentWidth&&(0,xn.Z)(t.backgroundDOM,{marginLeft:-l/2-g+t.parentWidth+12+"px"})},i.prototype.hide=function(){(0,xn.Z)(this.container,{top:0,left:0,visibility:"hidden"})},i}(),D8=B8,F8={fill:"#5B8FF9"},R8={fill:"#e6e8e9"},N8=function(){function i(r){this.frameCount=0;var t=r.graph,e=r.canvas,n=r.group,a=r.width,o=r.height,s=r.padding,l=r.data,u=r.start,h=r.end,c=r.x,v=c===void 0?0:c,g=r.y,A=g===void 0?0:g,k=r.tickLabelFormatter,F=r.selectedTickStyle,Y=F===void 0?F8:F,N=r.unselectedTickStyle,st=N===void 0?R8:N,lt=r.tooltipBackgroundColor,At=r.tooltipFomatter;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=e,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=h,this.tickLabelFormatter=k,this.selectedTickStyle=Y,this.unselectedTickStyle=st,this.x=v,this.y=A,this.tooltipBackgroundColor=lt,this.tooltipFomatter=At,this.renderSlices(),this.initEvent()}return i.prototype.renderSlices=function(){var r=this,t=r.width,e=r.height,n=r.padding,a=r.data,o=r.start,s=r.end,l=r.tickLabelFormatter,u=r.selectedTickStyle,h=r.unselectedTickStyle,c=t-2*n,v=10,g=4,A=3*n+g+v,k=e-A-2*n,F=2,Y=a.length,N=(c-F*(Y-1))/Y;this.tickWidth=N;var st=this.sliceGroup,lt=[],At=[],zt=Math.round(Y*o),Wt=Math.round(Y*s);this.startTickRectId=zt,this.endTickRectId=Wt,a.forEach(function(Vt,te){var le=te>=zt&&te<=Wt,ae=le?u:h,Se=st.addShape("rect",{attrs:(0,Zt.__assign)({x:n+te*(N+F),y:n,width:N,height:k},ae),draggable:!0,name:"tick-rect-"+te}),_e=st.addShape("rect",{attrs:{x:n+te*N+F*(2*te-1)/2,y:n,width:te===0||te===Y-1?N+F/2:N+F,height:k,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+te});_e.toFront();var Ee=Se.getBBox(),Fe=(Ee.minX+Ee.maxX)/2;lt.push({rect:Se,pickRect:_e,value:Vt.date,x:Fe,y:Ee.minY});var Ne;if(l?(Ne=l(Vt),!(0,f.isString)(Ne)&&Ne&&(Ne=Vt.date)):te%Math.round(Y/10)==0&&(Ne=Vt.date),Ne){At.push(Ne);var Ye=Ee.maxY+n*2;st.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Fe,y1:Ye,x2:Fe,y2:Ye+g}});var Be=Ye+g+n,De=st.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Fe,y:Be,textAlign:"center",text:Ne,textBaseline:"top",fontSize:10},capture:!1}),rr=De.getBBox();rr.maxX>t?De.attr("textAlign","right"):rr.minX<0&&De.attr("textAlign","left")}}),this.tickRects=lt;var Qt=this.group;this.currentSpeed=1,this.controllerBtnGroup=new m1({group:Qt,x:this.x,y:this.y+e+5,width:t,height:40,hiddleToggle:!0,speed:this.currentSpeed})},i.prototype.initEvent=function(){var r=this,t=this.sliceGroup;t.on("click",function(h){var c=h.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var v=parseInt(c.get("name").split("-")[2],10);if(!isNaN(v)){var g=r.tickRects,A=r.unselectedTickStyle;g.forEach(function(N){N.rect.attr(A)});var k=r.selectedTickStyle;g[v].rect.attr(k),r.startTickRectId=v,r.endTickRectId=v;var F=g.length,Y=v/F;r.graph.emit(Ia,{value:[Y,Y]})}}}),t.on("dragstart",function(h){var c=r.tickRects,v=r.unselectedTickStyle;c.forEach(function(N){N.rect.attr(v)});var g=h.target,A=parseInt(g.get("name").split("-")[2],10),k=r.selectedTickStyle;c[A].rect.attr(k),r.startTickRectId=A;var F=c.length,Y=A/F;r.graph.emit(Ia,{value:[Y,Y]}),r.dragging=!0}),t.on("dragover",function(h){if(!!r.dragging&&h.target.get("type")==="rect"){for(var c=parseInt(h.target.get("name").split("-")[2],10),v=r.startTickRectId,g=r.tickRects,A=r.selectedTickStyle,k=r.unselectedTickStyle,F=0;F<g.length;F++){var Y=F>=v&&F<=c?A:k;g[F].rect.attr(Y)}var N=g.length;r.endTickRectId=c;var st=v/N,lt=c/N;r.graph.emit(Ia,{value:[st,lt]})}}),t.on("drop",function(h){if(!!r.dragging&&(r.dragging=!1,h.target.get("type")==="rect")){var c=r.startTickRectId,v=parseInt(h.target.get("name").split("-")[2],10);if(!(v<c)){var g=r.selectedTickStyle,A=r.tickRects;A[v].rect.attr(g),r.endTickRectId=v;var k=A.length,F=c/k,Y=v/k;r.graph.emit(Ia,{value:[F,Y]})}}});var e=this,n=e.tooltipBackgroundColor,a=e.tooltipFomatter,o=e.canvas,s=new D8({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(h){var c=h.pickRect;c.on("mouseenter",function(v){var g=v.target;if(g.get("type")==="rect"){var A=parseInt(g.get("name").split("-")[2],10),k=o.getClientByPoint(l[A].x,l[A].y);s.show({x:l[A].x,y:l[A].y,clientX:k.x,clientY:k.y,text:a?a(l[A].value):l[A].value})}}),c.on("mouseleave",function(v){s.hide()})});var u=this.group;u.on(Iu+":click",function(){r.isPlay=!r.isPlay,r.changePlayStatus()}),u.on(ku+":click",function(){r.updateStartEnd(1)}),u.on(Bu+":click",function(){r.updateStartEnd(-1)}),u.on(Ou,function(h){var c=h.type,v=h.speed;r.currentSpeed=v})},i.prototype.changePlayStatus=function(r){r===void 0&&(r=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(x1,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),r&&this.graph.emit(b1,null))},i.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.currentSpeed;r.frameCount%(60/t)==0&&(r.frameCount=0,r.updateStartEnd(1)),r.frameCount++,r.isPlay&&(r.playHandler=r.startPlay())})},i.prototype.updateStartEnd=function(r){var t=this,e=this.tickRects,n=e.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(r>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)e[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,h=t.endTickRectId/n;this.graph.emit(Ia,{value:[u,h]})}},i.prototype.destory=function(){this.graph.off(Ia);var r=this.sliceGroup;r.off("click"),r.off("dragstart"),r.off("dragover"),r.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,r.off(Iu+":click"),r.off(ku+":click"),r.off(Bu+":click"),r.off(Ou),this.sliceGroup.destroy()},i}(),G8=N8,Y8=8,z8=26,X8=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]}}},r.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,n=e.width,a=e.height,o=this.get("className")||"g6-component-timebar",s=this.get("container"),l=this.get("graph").get("container"),u;s?u=s:(u=(0,jn.Z)("<div class='"+o+"'></div>"),(0,xn.Z)(u,{position:"relative"})),l.appendChild(u),this.set("timeBarContainer",u);var h,c=t.get("renderer");c==="SVG"?h=new Is.Z({container:u,width:n,height:a}):h=new Ao.Z({container:u,width:n,height:a}),this.set("canvas",h)},r.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent()},r.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,n=t.x,a=t.y,o=t.padding,s=t.type,l=t.trend,u=t.slider,h=t.controllerCfg,c=l.data,v=(0,Zt.__rest)(l,["data"]),g=e-2*o,A=s==="trend"?z8:Y8,k=this.get("graph"),F=this.get("timeBarGroup"),Y=this.get("canvas"),N=null;if(s==="trend"||s==="simple")N=new k8((0,Zt.__assign)((0,Zt.__assign)({graph:k,canvas:Y,group:F,type:s,x:n+o,y:s==="trend"?a+o:a+o+15,width:g,height:A,padding:o,trendCfg:(0,Zt.__assign)((0,Zt.__assign)({},v),{data:c.map(function(lt){return lt.value})})},u),{ticks:c.map(function(lt){return lt.date}),handlerStyle:(0,Zt.__assign)((0,Zt.__assign)({},u.handlerStyle),{height:u.height||A}),controllerCfg:h}));else if(s==="tick"){var st=this._cfgs.tick;N=new G8((0,Zt.__assign)({graph:k,canvas:Y,group:F,x:n+o,y:a+o},st))}this.set("timebar",N)},r.prototype.filterData=function(t){var e=t.value,n=null,a=this._cfgs.type;if(a==="trend"||a==="simple"?n=this._cfgs.trend.data:a==="tick"&&(n=this._cfgs.tick.data),!n||n.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var o=this.get("rangeChange"),s=this.get("graph"),l=Math.round(n.length*e[0]),u=Math.round(n.length*e[1]);u=u>=n.length?n.length-1:u;var h=n[l].date,c=n[u].date;if(a!=="tick"){var v=this.get("timebar");v.setText(h,c)}if(o)o(s,h,c);else{var g=s.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=g);var A=this.cacheGraphData.nodes.filter(function(Y){return Y.date>=h&&Y.date<=c}),k=A.map(function(Y){return Y.id}),F=this.cacheGraphData.edges.filter(function(Y){return k.includes(Y.source)&&k.includes(Y.target)});s.changeData({nodes:A,edges:F})}},r.prototype.initEvent=function(){var t=this,e=0,n=0,a=this._cfgs.type;!a||a==="trend"||a==="simple"?(e=this._cfgs.slider.start,n=this._cfgs.slider.end):a==="tick"&&(e=this._cfgs.tick.start,n=this._cfgs.tick.end);var o=this.get("graph");o.on("afterrender",function(){t.filterData({value:[e,n]})}),o.on(Ia,function(s){t.filterData(s)})},r.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),i.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var n=this.get("container");n||(n=this.get("graph").get("container")),n.removeChild(e)}},r}(Pa),V8=X8;function H8(i,r){var t,e;if(i.naturalWidth)t=i.naturalWidth,e=i.naturalHeight;else{var n=new Image;n.src=i.src,n.onload=function(){r==null||r(n.width,n.height)}}return[t,e]}var W8=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},r.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},r.prototype.disableRefresh=function(){this.set("refresh",!1)},r.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},r.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},r.prototype.initViewport=function(){var t=this,e=this._cfgs,n=e.graph;if(!this.destroyed){var a=this.get("container"),o=(0,jn.Z)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),s=0,l=0,u=!1,h=0,c=0,v=0,g=0,A=0,k=0;a.addEventListener("mousedown",function(F){if(e.refresh=!1,F.target===o){var Y=o.style;v=parseInt(Y.width,10),g=parseInt(Y.height,10);var N=t.get("width"),st=t.get("height");v>N||g>st||(k=n.getZoom(),A=t.get("ratio"),u=!0,s=F.clientX,l=F.clientY)}},!1),a.addEventListener("mousemove",function(F){if(!(!u||(0,di.default)(F.clientX)||(0,di.default)(F.clientY))){var Y=t.get("width"),N=t.get("height"),st=o.style;h=parseInt(st.left,10),c=parseInt(st.top,10),v=parseInt(st.width,10),g=parseInt(st.height,10);var lt=s-F.clientX,At=l-F.clientY;h-lt<0?lt=h:h-lt+v>=Y&&(lt=0),c-At<0?At=c:c-At+g>=N&&(At=0),h-=lt,c-=At,(0,xn.Z)(o,{left:h+"px",top:c+"px"}),n.translate(lt*k/A,At*k/A),s=F.clientX,l=F.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,e.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,e.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},r.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),h=u.getCanvasBBox(),c=[(h.minX+h.maxX)/2,(h.minY+h.maxY)/2],v=[h.maxX-h.minX,h.maxY-h.minY],g={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};h[0]/h[1]>l?(g.width=v[0],g.height=g.width/l):(g.height=v[1],g.width=g.height*l),g.minX=c[0]-g.width/2,g.minY=c[1]-g.height/2;var A=u.getMatrix();A||(A=[1,0,0,0,1,0,0,0,1]);var k=ja.invert([],A),F=Ps({x:g.minX,y:g.minY},k),Y=a.getCanvasByPoint(F.x,F.y),N=this.get("viewport");N||this.initViewport();var st=o/g.width,lt=st*e,At=st*n,zt=e*-Y.x/g.width,Wt=n*-Y.y/g.height,Qt=zt+lt,Vt=Wt+At;zt<0&&(lt+=zt,zt=0),Qt>e&&(lt=lt-(Qt-e)),Wt<0&&(At+=Wt,Wt=0),Vt>n&&(At=At-(Vt-n)),this.set("ratio",t);var te=zt+"px",le=Wt+"px";(0,xn.Z)(N,{left:te,top:le,width:lt+"px",height:At+"px"})}},r.prototype.init=function(){this.initContainer()},r.prototype.initContainer=function(){var t=this,e=t.get("graph"),n=e.get("width"),a=e.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),h=t.get("height");!u&&!h&&(u=200),u?(h=o*u,t.set("height",h)):(u=1/o*h,t.set("width",u));var c=(0,jn.Z)("<div class='"+s+"' style='width: "+u+"px; height: "+h+"px; overflow: hidden; position: relative;'></div>");(0,on.default)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):e.get("container").appendChild(c),t.set("container",c);var v=(0,jn.Z)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(v);var g=(0,jn.Z)('<span style="display: table-cell; vertical-align: middle; "></span>');v.appendChild(g),t.set("containerDOM",v),t.set("containerSpan",g);var A=(0,jn.Z)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",A),t.updateImgSize(),g.appendChild(A),t.updateCanvas()},r.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),n=t.get("width"),a=t.get("height");e.onload=function(){var o=H8(e);o[0]>o[1]?e.width=n:e.height=a}},r.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=e.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},r.prototype.getViewport=function(){return this.get("viewport")},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateGraphImg=function(t){var e=this,n=e.get("imgDOM");n.remove(),e.set("graphImg",t);var a=(0,jn.Z)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",a),a.src=t,e.updateImgSize();var o=e.get("containerSpan");o.appendChild(a),e.updateCanvas()},r.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},r}(Pa),j8=W8,w1=.05,S1={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},U8=function(i){(0,Zt.__extends)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,Fn.d9)(S1),showLabel:"edge",scaleRBy:"wheel"}},r.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},r.prototype.init=function(){var t=this,e=t.get("showLabel"),n=e==="node"||e==="both",a=e==="edge"||e==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},r.prototype.createDelegate=function(t){var e=this,n=e.get("delegate");(!n||n.destroyed)&&(e.filter(t),n=e.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){e.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){e.scaleRByWheel(a)}))},r.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=e.get("graph"),a,o=e.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-w1:a=1/(1-w1);var u=e.get("maxR"),h=e.get("minR"),c=e.get("r");(c>(u||n.get("height"))&&a>1||c<(h||n.get("height")*.05)&&a<1)&&(a=1),c*=a,e.set("r",c),e.filter(t)}},r.prototype.filter=function(t){var e=this,n=e.get("graph"),a=n.getNodes(),o={},s=e.get("r"),l=e.get("type"),u={x:t.x,y:t.y};e.updateDelegate(u,s);var h=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach(function(Y){Y.remove(),Y.destroy()}),c=[],a.forEach(function(Y){var N=Y.getModel(),st=N.x,lt=N.y;Ls({x:st,y:lt},u)<s&&(o[N.id]=Y)});var v=n.getEdges(),g=[];v.forEach(function(Y){var N=Y.getModel(),st=N.source,lt=N.target;h(N)&&(l==="only-source"||l==="one"?o[st]&&!o[lt]&&g.push(Y):l==="only-target"||l==="one"?o[lt]&&!o[st]&&g.push(Y):l==="both"&&o[st]&&o[lt]&&g.push(Y))});var A=e.get("showNodeLabel"),k=e.get("showEdgelabel"),F=n.get("group");g.forEach(function(Y){var N=Y.get("group").get("children");N.forEach(function(st){var lt=st.get("type"),At=F.addShape(lt,{attrs:st.attr()});c.push(At),A&&lt==="text"&&At.set("visible",!0)})}),Object.keys(o).forEach(function(Y){var N=o[Y],st=N.get("group").clone();if(F.add(st),c.push(st),k)for(var lt=st.get("children"),At=0;At<lt.length;At++){var zt=lt[At];zt.get("type")==="text"&&zt.set("visible",!0)}}),e.set("vShapes",c)},r.prototype.updateParams=function(t){var e=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,h=t.shouldShow;if(isNaN(t.r)||e.set("r",n),isNaN(s)||e.set("maxR",s),isNaN(o)||e.set("minR",o),(a==="mousemove"||a==="click")&&e.set("trigger",a),l==="wheel"||l==="unset"){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}(u==="node"||u==="both")&&e.set("showNodeLabel",!0),(u==="edge"||u==="both")&&e.set("showEdgeLabel",!0),h&&e.set("shouldShow",h)},r.prototype.updateDelegate=function(t,e){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||S1;o=s.addShape("circle",{attrs:(0,Zt.__assign)({r:e,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:e});n.set("delegate",o)},r.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(a){a.remove(),a.destroy()}),e=[],t.set("vShapes",e);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},r.prototype.destroy=function(){this.clear()},r}(Pa),Z8=U8,ki={Menu:X6,Grid:G6,Minimap:U6,Bundling:$6,ToolBar:t8,Tooltip:r8,Fisheye:J6,TimeBar:V8,ImageMinimap:j8,EdgeFilterLens:Z8};function K8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next;return n[o.get("id")]?!1:(n[o.get("id")]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}function C1(i,r,t,e){e.enter({current:r,previous:t}),i.getNeighbors(r,"target").forEach(function(n){e.allowTraversal({previous:t,current:r,next:n})&&C1(i,n,r,e)}),e.leave({current:r,previous:t})}function M1(i,r,t){var e=null,n=i.findById(r);C1(i,n,e,K8(t))}var $8=function(){function i(){this.linkedList=new jx}return i.prototype.isEmpty=function(){return!this.linkedList.head},i.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},i.prototype.enqueue=function(r){this.linkedList.append(r)},i.prototype.dequeue=function(){var r=this.linkedList.deleteHead();return r?r.value:null},i.prototype.toString=function(r){return this.linkedList.toString(r)},i}(),Q8=$8;function J8(i){i===void 0&&(i={});var r=i,t=function(){},e=function(){var n={};return function(a){var o=a.next,s=o.get("id");return n[s]?!1:(n[s]=!0,!0)}}();return r.allowTraversal=i.allowTraversal||e,r.enter=i.enter||t,r.leave=i.leave||t,r}var q8=function(r,t,e){var n=J8(e),a=new Q8,o=r.findById(t);a.enqueue(o);for(var s=null,l=function(){var h=a.dequeue();n.enter({current:h,previous:s}),r.getNeighbors(h,"target").forEach(function(c){n.allowTraversal({previous:s,current:h,next:c})&&a.enqueue(c)}),n.leave({current:h,previous:s}),s=h};!a.isEmpty();)l()},t9=q8;function e9(i){for(var r=[],t={},e=[],n=function l(u){e.push(u),t[u.get("id")]=!0;for(var h=u.getNeighbors(),c=0;c<h.length;++c){var v=h[c];t[v.get("id")]||l(v)}},a=0;a<i.length;a++){var o=i[a];if(!t[o.get("id")]){n(o);for(var s=[];e.length>0;)s.push(e.pop());r.push(s)}}return r}function E1(i){for(var r=[],t={},e={},n={},a=[],o=0,s=function c(v){e[v.get("id")]=o,n[v.get("id")]=o,o+=1,r.push(v),t[v.get("id")]=!0;for(var g=v.getNeighbors("target").filter(function(N){return i.indexOf(N)>-1}),A=0;A<g.length;A++){var k=g[A];!e[k.get("id")]&&e[k.get("id")]!==0?(c(k),n[v.get("id")]=Math.min(n[v.get("id")],n[k.get("id")])):t[k.get("id")]&&(n[v.get("id")]=Math.min(n[v.get("id")],e[k.get("id")]))}if(n[v.get("id")]===e[v.get("id")]){for(var F=[];r.length>0;){var Y=r.pop();if(t[Y.get("id")]=!1,F.push(Y),Y===v)break}F.length>0&&a.push(F)}},l=0,u=i;l<u.length;l++){var h=u[l];!e[h.get("id")]&&e[h.get("id")]!==0&&s(h)}return a}function A1(i,r){var t=r===void 0?i.get("directed"):r,e=i.getNodes();return t?E1(e):e9(e)}var r9=function(r){var t=null,e={},n={},a={},o={};r.getNodes().forEach(function(u){n[u.getID()]=u});for(var s={enter:function(h){var c=h.current,v=h.previous;if(a[c.getID()]){t={};for(var g=c,A=v;A.getID()!==c.getID();)t[g.getID()]=A,g=A,A=e[A.getID()];t[g.getID()]=A}else a[c.getID()]=c,delete n[c.getID()],e[c.getID()]=v},leave:function(h){var c=h.current;o[c.getID()]=c,delete a[c.getID()]},allowTraversal:function(h){var c=h.next;return t?!1:!o[c.getID()]}};Object.keys(n).length;){var l=Object.keys(n)[0];M1(r,l,s)}return t},_1=function(r,t,e){var n,a,o;e===void 0&&(e=!0);for(var s=[],l=A1(r,!1),u=0,h=l;u<h.length;u++){var c=h[u];if(!!c.length)for(var v=c[0],g=v.get("id"),A=[v],k=(n={},n[g]=v,n),F=(a={},a[g]=new Set,a);A.length>0;)for(var Y=A.pop(),N=Y.get("id"),st=Y.getNeighbors(),lt=0;lt<st.length;lt+=1){var At=st[lt],zt=At.get("id");if(zt===N)s.push((o={},o[At.getID()]=Y,o));else if(!(zt in F))k[zt]=Y,A.push(At),F[zt]=new Set([Y]);else if(!F[N].has(At)){for(var Wt=!0,Qt=[At,Y],Vt=k[N];F[zt].size&&!F[zt].has(Vt)&&(Qt.push(Vt),Vt!==k[Vt.getID()]);)Vt=k[Vt.getID()];if(Qt.push(Vt),t&&e?(Wt=!1,Qt.findIndex(function(ae){return t.indexOf(ae.get("id"))>-1})>-1&&(Wt=!0)):t&&!e&&Qt.findIndex(function(ae){return t.indexOf(ae.get("id"))>-1})>-1&&(Wt=!1),Wt){for(var te={},le=1;le<Qt.length;le+=1)te[Qt[le-1].getID()]=Qt[le];Qt.length&&(te[Qt[Qt.length-1].getID()]=Qt[0]),s.push(te)}F[zt].add(Y)}}}return s},T1=function(r,t,e){e===void 0&&(e=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},h=function(te){for(var le=[te];le.length>0;){var ae=le.pop();a.has(ae)&&(a.delete(ae),o[ae.get("id")].forEach(function(Se){le.push(Se)}),o[ae.get("id")].clear())}},c=function Vt(te,le,ae){var Se=!1;if(t&&e===!1&&t.indexOf(te.get("id"))>-1)return Se;n.push(te),a.add(te);for(var _e=ae[te.getID()],Ee=0;Ee<_e.length;Ee+=1){var Fe=l[_e[Ee]];if(Fe===le){for(var Ne={},Ye=1;Ye<n.length;Ye+=1)Ne[n[Ye-1].getID()]=n[Ye];n.length&&(Ne[n[n.length-1].getID()]=n[0]),s.push(Ne),Se=!0}else a.has(Fe)||Vt(Fe,le,ae)&&(Se=!0)}if(Se)h(te);else for(var Ee=0;Ee<_e.length;Ee+=1){var Fe=l[_e[Ee]];o[Fe.get("id")].has(te)||o[Fe.get("id")].add(te)}return n.pop(),Se},v=r.getNodes(),g=0;g<v.length;g+=1){var A=v[g],k=A.getID();u[k]=g,l[g]=A}if(t&&e)for(var g=0;g<t.length;g++){var k=t[g];u[v[g].getID()]=u[k],u[k]=0,l[0]=r.findById(k),l[u[v[g].getID()]]=v[g]}for(var F=function(te){for(var le,ae,Se=Infinity,_e=0;_e<te.length;_e+=1)for(var Ee=te[_e],Fe=0;Fe<Ee.length;Fe++){var Ne=u[Ee[Fe].getID()];Ne<Se&&(Se=Ne,ae=_e)}for(var Ye=te[ae],Be=[],_e=0;_e<Ye.length;_e+=1){var De=Ye[_e];Be[De.getID()]=[];for(var rr=0,tr=De.getNeighbors("target").filter(function(ar){return Ye.indexOf(ar)>-1});rr<tr.length;rr++){var lr=tr[rr];lr===De&&!(e===!1&&t.indexOf(De.getId())>-1)?s.push((le={},le[De.getID()]=De,le)):Be[De.getID()].push(u[lr.getID()])}}return{component:Ye,adjList:Be,minIdx:Se}},Y=0;Y<v.length;){var N=v.filter(function(Vt){return u[Vt.getID()]>=Y}),st=E1(N).filter(function(Vt){return Vt.length>1});if(st.length===0)break;var lt=F(st),At=lt.minIdx,zt=lt.adjList,Wt=lt.component;if(Wt.length>1){Wt.forEach(function(Vt){o[Vt.get("id")]=new Set});var Qt=l[At];if(t&&e&&t.indexOf(Qt.get("id"))===-1)return s;c(Qt,Qt,zt),Y=At+1}else break}return s},n9=function(r,t,e,n){return n===void 0&&(n=!0),t===void 0&&(t=r.get("directed")),t?T1(r,e,n):_1(r,e,n)},i9=r9,a9=function(r,t,e,n){var a=r.getNodes(),o=[],s={},l={},u={};a.forEach(function(F,Y){var N=F.getID();o.push(N),l[N]=Infinity,N===t&&(l[N]=0)});for(var h=a.length,c=function(Y){var N=o9(l,a,s),st=N.get("id");if(s[st]=!0,l[st]===Infinity)return"continue";var lt=[];e?lt=N.getOutEdges():lt=N.getEdges(),lt.forEach(function(At){var zt=At.getTarget().getID(),Wt=At.getSource().getID(),Qt=zt===st?Wt:zt,Vt=n&&At.getModel()[n]?At.getModel()[n]:1;l[Qt]>l[N.get("id")]+Vt&&(l[Qt]=l[N.get("id")]+Vt,u[Qt]=N.get("id"))})},v=0;v<h;v++)c(v);var g={};for(var A in l){g[A]=[A];for(var k=u[A];k!==void 0;)g[A].unshift(k),k=u[k]}return{length:l,path:g}};function o9(i,r,t){for(var e=Infinity,n,a=0;a<r.length;a++){var o=r[a].get("id");!t[o]&&i[o]<=e&&(e=i[o],n=r[a])}return n}var s9=a9,l9=function(r,t,e,n,a){(0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e));var o=s9(r,t.get("id"),n,a),s=o.length,l=o.path;return{length:s[e.get("id")],path:l[e.get("id")]}},u9=function(r,t,e,n){var a;if((0,f.isString)(t)&&(t=r.findById(t)),(0,f.isString)(e)&&(e=r.findById(e)),n===void 0&&(n=r.get("directed")),t===e)return[[t.get("id")]];var o=[t],s=(a={},a[t.get("id")]=!0,a),l=[],u=[],h=n?t.getNeighbors("target"):t.getNeighbors();for(l.push(h);o.length>0&&l.length>0;){var c=l[l.length-1];if(c.length){var v=c.shift();v&&(o.push(v),s[v.get("id")]=!0,h=n?v.getNeighbors("target"):v.getNeighbors(),l.push(h.filter(function(k){return!s[k.get("id")]})))}else{var g=o.pop();s[g.get("id")]=!1,l.pop();continue}if(o[o.length-1]===e){var A=o.map(function(F){return F.get("id")});u.push(A);var g=o.pop();s[g.get("id")]=!1,l.pop()}}return u},f9=function(){function i(r){this.count=r.length,this.parent={};for(var t=0,e=r;t<e.length;t++){var n=e[t];this.parent[n]=n}}return i.prototype.find=function(r){for(;this.parent[r]!==r;)r=this.parent[r];return r},i.prototype.union=function(r,t){var e=this.find(r),n=this.find(t);e!==n&&(e<n?(this.parent[t]!==t&&this.union(this.parent[t],r),this.parent[t]=this.parent[r]):(this.parent[r]!==r&&this.union(this.parent[r],t),this.parent[r]=this.parent[t]))},i.prototype.connected=function(r,t){return this.find(r)===this.find(t)},i}(),h9=f9,c9=function(r,t){return r-t},v9=function(){function i(r){r===void 0&&(r=c9),this.compareFn=r,this.list=[]}return i.prototype.getLeft=function(r){return 2*r+1},i.prototype.getRight=function(r){return 2*r+2},i.prototype.getParent=function(r){return r===0?null:Math.floor((r-1)/2)},i.prototype.isEmpty=function(){return this.list.length<=0},i.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},i.prototype.delMin=function(){var r=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),r},i.prototype.insert=function(r){if(r!==null){this.list.push(r);var t=this.list.length-1;return this.moveUp(t),!0}return!1},i.prototype.moveUp=function(r){for(var t=this.getParent(r);r&&r>0&&this.compareFn(this.list[t],this.list[r])>0;){var e=this.list[t];this.list[t]=this.list[r],this.list[r]=e,r=t,t=this.getParent(r)}},i.prototype.moveDown=function(r){var t,e=r,n=this.getLeft(r),a=this.getRight(r),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[e],this.list[n])>0?e=n:a!==null&&a<o&&this.compareFn(this.list[e],this.list[a])>0&&(e=a),r!==e&&(t=[this.list[e],this.list[r]],this.list[r]=t[0],this.list[e]=t[1],this.moveDown(e))},i}(),d9=v9,p9=function(r,t){var e=[],n=r.getNodes();if(n.length===0)return e;var a=n[0],o=new Set;o.add(a);var s=function(g,A){return t?g.getModel()[t]-A.getModel()[t]:0},l=new d9(s);for(a.getEdges().forEach(function(v){l.insert(v)});!l.isEmpty();){var u=l.delMin(),h=u.getSource(),c=u.getTarget();o.has(h)&&o.has(c)||(e.push(u),o.has(h)||(o.add(h),h.getEdges().forEach(function(v){l.insert(v)})),o.has(c)||(o.add(c),c.getEdges().forEach(function(v){l.insert(v)})))}return e},P1=function(r,t){var e=[];if(r.getNodes().length===0)return e;var n=r.getEdges().map(function(u){return u});t&&n.sort(function(u,h){return u.getModel()[t]-h.getModel()[t]});for(var a=new h9(r.getNodes().map(function(u){return u.get("id")}));n.length>0;){var o=n.shift(),s=o.getSource().get("id"),l=o.getTarget().get("id");a.connected(s,l)||(e.push(o),a.union(s,l))}return e};function g9(i,r,t){var e={prim:p9,kruskal:P1};return t?e[t](i,r):P1(i,r)}var y9=function(r,t,e){typeof t!="number"&&(t=1e-6),typeof e!="number"&&(e=.85);for(var n=1,a=0,o=1e3,s=r.getNodes(),l=s.length,u,h={},c={},v=0;v<l;++v){var g=s[v],A=g.get("id");h[A]=1/l,c[A]=1/l}for(;o>0&&n>t;){a=0;for(var v=0;v<l;++v){var g=s[v],A=g.get("id");if(u=0,r.getNodeDegree(g,"in")===0)h[A]=0;else{for(var k=g.getNeighbors("source"),F=0;F<k.length;++F){var Y=k[F],N=r.getNodeDegree(Y,"out");N>0&&(u+=c[Y.get("id")]/N)}h[A]=e*u,a+=h[A]}}a=(1-a)/l,n=0;for(var v=0;v<l;++v){var g=s[v],A=g.get("id");u=h[A]+a,n+=Math.abs(u-c[A]),c[A]=u}o-=1}return c},m9=y9,jY=es.registerNode,UY=es.registerEdge,ZY=es.registerCombo,KY=ex.registerBehavior,$Y=Ds.registerLayout,QY=ki.Minimap,JY=ki.Grid,qY=ki.Bundling,tz=ki.Menu,x9=ki.Fisheye,ez=ki.ToolBar,rz=ki.Tooltip,b9=ki.TimeBar,w9=ki.ImageMinimap,S9=ki.EdgeFilterLens,Ei={version:J5.i8,Graph:qx,TreeGraph:i6,Util:F6,registerNode:es.registerNode,registerEdge:es.registerEdge,registerCombo:es.registerCombo,registerBehavior:ex.registerBehavior,registerLayout:Ds.registerLayout,Layout:Ds,Global:ke,Minimap:ki.Minimap,Grid:ki.Grid,Bundling:ki.Bundling,Menu:ki.Menu,ToolBar:ki.ToolBar,Tooltip:ki.Tooltip,TimeBar:b9,Fisheye:x9,ImageMinimap:w9,EdgeFilterLens:S9,Algorithm:rt,Arrow:I6,Marker:k6};function L1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function ka(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?L1(Object(t),!0).forEach(function(e){C9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):L1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function C9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}Ei.registerNode("card-node",{draw:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a=Object.assign({radius:2,fill:"#fff"},a),e=a.stroke||"#5B8FF9";var o=a.radius||0,s=t.addShape("rect",{attrs:ka({x:-n[0]/2,y:-n[1]/2,width:n[0],height:n[1],stroke:e},a),name:"main-box",draggable:!0}),l=r.title||r.label,u,h=r&&r.labelCfg&&r.labelCfg.style?r.labelCfg.style:{};if(l){var c=Object.assign({fill:"#fff"},h);u=t.addShape("text",{attrs:ka(ka({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+2,text:l},c),{},{fill:"#fff"}),name:"title"})}var v=u?u.getBBox():{height:n[1]/2},g=t.addShape("rect",{attrs:{x:-n[0]/2,y:-n[1]/2,width:n[0],height:v.height+4,fill:e,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u&&u.toFront();var A;r.children&&(A=t.addShape("marker",{attrs:{x:n[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Ei.Marker.expand:Ei.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var k=r&&r.description?r.description:void 0,F=g.getBBox(),Y;if(k&&(Y=t.addShape("text",{attrs:ka({textBaseline:"top",x:-n[0]/2+8,y:-n[1]/2+F.height+8,text:k},h),name:"description"})),Y){var N,st=Y.getBBox(),lt=F.height+16+st.height,At=n[0]>st.width+16?n[0]:st.width+16;s.attr({width:At,height:lt}),g==null||g.attr("width",At),(N=A)===null||N===void 0||N.attr({x:At-n[0]/2,y:lt/2-n[1]/2})}return s},update:void 0},"single-node"),Ei.registerNode("round-rect",{drawShape:function(r,t){var e=r&&r.color?r.color:"#5B8FF9",n=r&&r.size?r.size:[100,30];typeof n=="number"&&(n=[n,n]);var a=r&&r.style?r.style:{};a.stroke&&(e=a.stroke);var o=a&&a.fill?a.fill:"#fff";a=Object.assign({width:n[0],height:n[1],radius:n[1]/2,fill:o,lineWidth:1.2,stroke:e},a);var s=t.addShape("rect",{attrs:ka({x:-n[0]/2,y:-n[1]/2},a),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:n[0]/2,y:0,r:3,fill:a.stroke},name:"circle-shape2"}),s},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(r,t){var e=t.getContainer(),n=e.get("children"),a=n[0],o=n[1],s=n[2],l=r.style&&r.style.stroke?r.style.stroke:"#5B8FF9";l&&(a.attr("stroke",l),o.attr("fill",l),s.attr("fill",l))}},"single-node");var M9=function(r){Ei.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,n){var a=this.getShapeStyle(e),o=e.labelCfg,s=o===void 0?{}:o,l=n.addShape("rect",{attrs:ka(ka({},a),{},{x:0,y:0})}),u={fill:"#e6fffb"},h="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(u=Object.assign({},u,e.leftIcon.style),h=e.leftIcon.img),n.addShape("rect",{attrs:ka({x:1,y:1,width:38,height:a.height-2},u)}),n.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:h},name:"image-shape"}),r.enableEdit&&(n.addShape("marker",{attrs:{x:a.width/3,y:a.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Ei.Marker.expand},name:"add-item"}),n.addShape("marker",{attrs:{x:a.width*2/3,y:a.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Ei.Marker.collapse},name:"remove-item"})),e.label&&n.addShape("text",{attrs:ka(ka({},s.style),{},{text:e.label,x:a.width/2,y:a.height/1.5})}),l}},"rect")};Ei.registerEdge("fund-polyline",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=n.y-e.y,o=a!==0?500/Math.abs(a):0,s=16,l=a<0?s:-s,u={x:e.x+o,y:n.y+l},h={x:u.x+s,y:n.y},c={x:(u.x-e.x)*(n.y-e.y)/(u.y-e.y)+e.x,y:n.y},v=[["M",e.x,e.y],["L",u.x,u.y],["Q",c.x,c.y,h.x,h.y],["L",n.x,n.y]];a===0&&(v=[["M",e.x,e.y],["L",n.x,n.y]]);var g=r||{},A=g.style,k=t.addShape("path",{attrs:{path:v,stroke:A.stroke||r.colorMap&&r.colorMap[r.dataType]?r.colorMap[r.dataType]:"#5B8FF9",lineWidth:A.lineWidth||1.2,endArrow:!1},name:"path-shape"}),F=0,Y=8,N;if(r.label&&(N=t.addShape("text",{attrs:{text:r.label,x:h.x+F,y:n.y-Y-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),r.dataType){var st=N?N.getBBox():{height:0};t.addShape("text",{attrs:{text:r.dataType,x:h.x+F,y:n.y-Y-st.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return r.subLabel&&t.addShape("text",{attrs:{text:r.subLabel,x:h.x+F,y:n.y+Y+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),k},update:void 0},"single-edge"),Ei.registerEdge("flow-line",{draw:function(r,t){var e=r.startPoint,n=r.endPoint,a=r.style,o=a===void 0?{}:a,s=t.addShape("path",{attrs:{stroke:o.stroke,endArrow:o.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+n.y)/2],["L",n.x,(e.y+n.y)/2],["L",n.x,n.y]]}});return s}});function O1(i,r){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(i);r&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,e)}return t}function E9(i){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?O1(Object(t),!0).forEach(function(e){A9(i,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):O1(Object(t)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(t,e))})}return i}function A9(i,r,t){return r in i?Object.defineProperty(i,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[r]=t,i}var _9={show:!1,size:[150,100],type:"keyShape"},Ns=function(r,t,e){var n,a;return e&&e.current&&(n=e.current.offsetWidth,a=e.current.offsetHeight||500),console.log("graph size",n,a,t,r,e,e.current),!r&&!n||!t&&!a?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||n||500,t||a||500]},Gs=function(r,t){if(!(!t||t.destroyed)&&r&&r.show){var e=Object.assign(_9,r),n=new Ei.Minimap(E9({},e));return t.addPlugin(n),n}};function Du(i,r,t){var e=(0,W.useRef)(),n=r.data,a=r.nodeStyle,o=r.nodeAnchorPoints,s=r.nodeType,l=r.edgeType,u=r.edgeStyle,h=r.width,c=r.height,v=r.layout,g=r.minimapCfg,A=r.behaviors,k=r.nodeLabelCfg,F=r.edgeLabelCfg,Y;return(0,W.useEffect)(function(){i&&!i.destroyed&&(i.changeData(n),i.layout())},[n]),(0,W.useEffect)(function(){i&&!i.destroyed&&i.getNodes().forEach(function(N){i.updateItem(N,{type:s,style:a,anchorPoints:o,labelCfg:k})})},[a,o,s]),(0,W.useEffect)(function(){i&&!i.destroyed&&i.getEdges().forEach(function(N){i.updateItem(N,{type:l,style:u,labelCfg:F})})},[u,l]),(0,W.useEffect)(function(){if(i&&!i.destroyed){var N=Ns(h,c,t);i.changeSize(N[0],N[1])}},[t,h,c]),(0,W.useEffect)(function(){i&&!i.destroyed&&i.updateLayout(v)},[v]),(0,W.useEffect)(function(){if(!(!g||!i||i.destroyed))if(g.show)Y=Gs(g,i),Y&&Y.updateCanvas();else{var N=i.get("plugins")[0];N&&i.removePlugin(N)}},[g]),(0,W.useEffect)(function(){if(i&&!i.destroyed){var N=i.get("modes"),st=N.default,lt=[];st.forEach(function(At){(0,f.isObject)(At)?lt.push(At.type):(0,f.isString)(At)&&lt.push(At)}),i.removeBehaviors(lt,"default"),i.addBehaviors(A,"default")}},[A]),(0,W.useEffect)(function(){if(e.current=i,i&&!i.destroyed)return function(){i.destroy(),i=void 0}},[]),{graphHook:e}}var I1={hover:{stroke:"#1890ff",lineWidth:2}},T9={fill:"#91d5ff",stroke:"#40a9ff",radius:5},P9={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},L9={type:"compactBox",direction:"TB",getId:function(r){return r.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},k1={style:{fill:"#000",fontSize:12}},yn,O9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"rect":s,u=r.edgeType,h=u===void 0?"flow-line":u,c=r.collapseExpand,v=c===void 0?!1:c,g=r.nodeSize,A=g===void 0?[120,40]:g,k=r.nodeLabelCfg,F=k===void 0?k1:k,Y=r.edgeLabelCfg,N=Y===void 0?k1:Y,st=r.layout,lt=st===void 0?L9:st,At=r.enableEdit,zt=At===void 0?!1:At,Wt=r.minimapCfg,Qt=r.nodeStyle,Vt=Qt===void 0?T9:Qt,te=r.edgeStyle,le=te===void 0?P9:te,ae=r.nodeStateStyles,Se=ae===void 0?I1:ae,_e=r.edgeStateStyles,Ee=_e===void 0?I1:_e,Fe=r.handleNodeClick,Ne=r.handleEdgeClick,Ye=r.handleNodeHover,Be=r.handleNodeUnHover,De=r.handleEdgeHover,rr=r.handleEdgeUnHover,tr=r.handleCanvasClick,lr=r.graphRef,Xe={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,collapseExpand:v,nodeSize:A,nodeLabelCfg:F,edgeLabelCfg:N,layout:lt,enableEdit:zt,minimapCfg:Wt,nodeStyle:Vt,edgeStyle:le,nodeStateStyles:Se,edgeStateStyles:Ee,handleNodeClick:Fe,handleEdgeClick:Ne,handleNodeHover:Ye,handleNodeUnHover:Be,handleEdgeHover:De,handleEdgeUnHover:rr,handleCanvasClick:tr,graphRef:lr},ar=W.useRef(null);return Du(yn,Xe,ar),(0,W.useEffect)(function(){var yr=Ns(a,o,ar);return(!yn||yn.destroyed)&&(l==="icon-node"&&M9({enableEdit:zt}),yn=new Ei.TreeGraph({container:ar.current,width:yr[0],height:yr[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:A,style:Vt,labelCfg:F},defaultEdge:{type:h,style:le,labelCfg:N},nodeStateStyles:Se,edgeStateStyles:Ee,layout:lt}),lr&&(lr.current=yn)),Gs(Wt,yn),yn.data(t),yn.render(),yn.fitView(),v&&yn.addBehaviors({type:"collapse-expand",onChange:function(or,xr){if(!or)return!1;var Fr=or.get("model").data;return Fr.collapsed=xr,!0}},"default"),yn.on("node:mouseenter",function(sr){var or=sr.item;yn.setItemState(or,"hover",!0),Ye&&Ye(or,yn)}),yn.on("node:mouseleave",function(sr){var or=sr.item;yn.setItemState(or,"hover",!1),Be&&Be(or,yn)}),yn.on("node:click",function(sr){var or=sr.item,xr=sr.target,Fr=xr.get("type"),hr=xr.get("name");if(Fr==="marker"){var Te=or.getModel();if(hr==="add-item"){Te.children||(Te.children=[]);var Ve=Math.random().toString(36).slice(-8);Te.children.push({id:Ve,label:Ve}),yn.updateChild(Te,Te.id)}else hr==="remove-item"&&yn.removeChild(Te.id)}else Fe&&Fe(or,yn)}),yn.on("edge:mouseenter",function(sr){var or=sr.item;yn.setItemState(or,"hover",!0),De&&De(or,yn)}),yn.on("edge:mouseleave",function(sr){var or=sr.item;yn.setItemState(or,"hover",!1),rr&&rr(or,yn)}),yn.on("edge:click",function(sr){var or=sr.item;Ne&&Ne(or,yn)}),yn.on("canvas:click",function(sr){tr&&tr(yn)}),function(){return yn.destroy()}},[]),W.createElement(zr,null,W.createElement("div",{className:e,style:n,ref:ar}))},I9=O9,B1={hover:{stroke:"#1890ff",lineWidth:2}},k9=[120,40],B9={stroke:"#40a9ff"},D9=[[.5,0],[.5,1]],F9={stroke:"#91d5ff",endArrow:{path:Ei.Arrow.vee(10,10),fill:"#91d5ff"}},R9={type:"dagre",rankdir:"TB",nodesepFunc:function(r){return 0},ranksepFunc:function(r){return 0},controlPoints:!0},D1={style:{fill:"#000",fontSize:12}},_n,N9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"modelRect":s,u=r.edgeType,h=u===void 0?"polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,A=g===void 0?k9:g,k=r.nodeLabelCfg,F=k===void 0?D1:k,Y=r.edgeLabelCfg,N=Y===void 0?D1:Y,st=r.nodeAnchorPoints,lt=st===void 0?D9:st,At=r.layout,zt=At===void 0?R9:At,Wt=r.minimapCfg,Qt=r.nodeStyle,Vt=Qt===void 0?B9:Qt,te=r.edgeStyle,le=te===void 0?F9:te,ae=r.nodeStateStyles,Se=ae===void 0?B1:ae,_e=r.edgeStateStyles,Ee=_e===void 0?B1:_e,Fe=r.handleEdgeClick,Ne=r.handleEdgeHover,Ye=r.handleEdgeUnHover,Be=r.handleNodeClick,De=r.handleNodeHover,rr=r.handleNodeUnHover,tr=r.handleCanvasClick,lr=r.graphRef,Xe={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:F,edgeLabelCfg:N,nodeAnchorPoints:lt,layout:zt,minimapCfg:Wt,nodeStyle:Vt,edgeStyle:le,nodeStateStyles:Se,edgeStateStyles:Ee,handleEdgeClick:Fe,handleEdgeHover:Ne,handleEdgeUnHover:Ye,handleNodeClick:Be,handleNodeHover:De,handleNodeUnHover:rr,handleCanvasClick:tr,graphRef:lr},ar=W.useRef(null);return Du(_n,Xe,ar),(0,W.useEffect)(function(){var yr=Ns(a,o,ar);return(!_n||_n.destroyed)&&(_n=new Ei.Graph({container:ar.current,width:yr[0],height:yr[1],modes:{default:v},defaultNode:{type:l,size:A,style:Vt,anchorPoints:lt,labelCfg:F},defaultEdge:{type:h,style:le,labelCfg:N},nodeStateStyles:Se,edgeStateStyles:Ee,layout:zt}),lr&&(lr.current=_n)),Gs(Wt,_n),_n.data(t),_n.render(),_n.fitView(),_n.on("edge:mouseenter",function(sr){var or=sr.item;_n.setItemState(or,"hover",!0),Ne&&Ne(or,_n)}),_n.on("node:mouseenter",function(sr){var or=sr.item;_n.setItemState(or,"hover",!1),De&&De(or,_n)}),_n.on("edge:mouseleave",function(sr){var or=sr.item;_n.setItemState(or,"hover",!1),Ye&&Ye(or,_n)}),_n.on("node:mouseleave",function(sr){var or=sr.item;_n.setItemState(or,"hover",!1),rr&&rr(or,_n)}),_n.on("edge:click",function(sr){var or=sr.item;Fe&&Fe(or,_n)}),_n.on("node:click",function(sr){var or=sr.item;Be&&Be(or,_n)}),_n.on("canvas:click",function(sr){tr&&tr(_n)}),function(){return _n.destroy()}},[]),W.createElement(zr,null,W.createElement("div",{className:e,style:n,ref:ar}))},G9=N9,F1={hover:{stroke:"#1890ff",lineWidth:2}},Y9=[150,30],z9={stroke:"#72CC4A",fill:"#f00"},X9=[[.5,0],[.5,1]],V9={stroke:"#91d5ff",endArrow:{path:Ei.Arrow.vee(10,10),fill:"#91d5ff"}},H9={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},R1={style:{fill:"#000000A6",fontSize:10}},wn,W9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"round-rect":s,u=r.edgeType,h=u===void 0?"fund-polyline":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,A=g===void 0?Y9:g,k=r.nodeLabelCfg,F=k===void 0?R1:k,Y=r.edgeLabelCfg,N=Y===void 0?R1:Y,st=r.nodeAnchorPoints,lt=st===void 0?X9:st,At=r.layout,zt=At===void 0?H9:At,Wt=r.minimapCfg,Qt=r.nodeStyle,Vt=Qt===void 0?z9:Qt,te=r.edgeStyle,le=te===void 0?V9:te,ae=r.nodeStateStyles,Se=ae===void 0?F1:ae,_e=r.edgeStateStyles,Ee=_e===void 0?F1:_e,Fe=r.colorMap,Ne=Fe===void 0?{}:Fe,Ye=r.handleEdgeClick,Be=r.handleEdgeHover,De=r.handleEdgeUnHover,rr=r.handleNodeClick,tr=r.handleNodeHover,lr=r.handleNodeUnHover,Xe=r.handleCanvasClick,ar=r.graphRef,yr=W.useRef(null),sr={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:F,edgeLabelCfg:N,nodeAnchorPoints:lt,layout:zt,minimapCfg:Wt,nodeStyle:Vt,edgeStyle:le,nodeStateStyles:Se,edgeStateStyles:Ee,colorMap:Ne,handleEdgeClick:Ye,handleEdgeHover:Be,handleEdgeUnHover:De,handleNodeClick:rr,handleNodeHover:tr,handleNodeUnHover:lr,handleCanvasClick:Xe,graphRef:ar};return Du(wn,sr,yr),(0,W.useEffect)(function(){var or=Ns(a,o,yr);(!wn||wn.destroyed)&&(wn=new Ei.Graph({container:yr.current,width:or[0],height:or[1],modes:{default:v},defaultNode:{type:l,size:A,style:Vt,anchorPoints:lt,labelCfg:F},defaultEdge:{type:h,style:le,colorMap:Ne,labelCfg:N},nodeStateStyles:Se,edgeStateStyles:Ee,layout:zt}),ar&&(ar.current=wn)),Gs(Wt,wn),wn.data(t),wn.render();var xr=wn.getEdges();return xr.forEach(function(Fr){var hr=Fr.getKeyShape(),Te=hr.attr("stroke"),Ve=Fr.getTarget();Ve.update({style:{stroke:Te}})}),wn.fitView(),wn.on("edge:mouseenter",function(Fr){var hr=Fr.item;wn.setItemState(hr,"hover",!0),Be&&Be(hr,wn)}),wn.on("edge:mouseleave",function(Fr){var hr=Fr.item;wn.setItemState(hr,"hover",!1),De&&De(hr,wn)}),wn.on("edge:click",function(Fr){var hr=Fr.item;Ye&&Ye(hr,wn)}),wn.on("node:mouseenter",function(Fr){var hr=Fr.item;wn.setItemState(hr,"hover",!1),tr&&tr(hr,wn)}),wn.on("node:mouseleave",function(Fr){var hr=Fr.item;wn.setItemState(hr,"hover",!1),lr&&lr(hr,wn)}),wn.on("node:click",function(Fr){var hr=Fr.item;rr&&rr(hr,wn)}),wn.on("canvas:click",function(Fr){Xe&&Xe(wn)}),function(){return wn.destroy()}},[]),W.createElement(zr,null,W.createElement("div",{className:e,style:n,ref:yr}))},j9=W9,N1={hover:{stroke:"#1890ff",lineWidth:2}},U9=[120,40],Z9={stroke:"#40a9ff"},K9=[[0,.5],[1,.5]],$9={stroke:"#ccc",endArrow:{path:Ei.Arrow.vee(10,10),fill:"#ccc"}},Q9={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(r){return 100}},J9={style:{fill:"#000",fontSize:12}},bn,q9=function(r){var t=r.data,e=r.className,n=r.style,a=r.width,o=r.height,s=r.nodeType,l=s===void 0?"card-node":s,u=r.edgeType,h=u===void 0?"cubic-horizontal":u,c=r.behaviors,v=c===void 0?["zoom-canvas","drag-canvas"]:c,g=r.nodeSize,A=g===void 0?U9:g,k=r.nodeLabelCfg,F=k===void 0?J9:k,Y=r.nodeAnchorPoints,N=Y===void 0?K9:Y,st=r.layout,lt=st===void 0?Q9:st,At=r.minimapCfg,zt=r.nodeStyle,Wt=zt===void 0?Z9:zt,Qt=r.edgeStyle,Vt=Qt===void 0?$9:Qt,te=r.nodeStateStyles,le=te===void 0?N1:te,ae=r.edgeStateStyles,Se=ae===void 0?N1:ae,_e=r.collapseExpand,Ee=_e===void 0?!0:_e,Fe=r.handleEdgeClick,Ne=r.handleEdgeHover,Ye=r.handleEdgeUnHover,Be=r.handleNodeClick,De=r.handleNodeHover,rr=r.handleNodeUnHover,tr=r.handleCanvasClick,lr=r.graphRef,Xe=W.useRef(null),ar={data:t,className:e,style:n,width:a,height:o,nodeType:l,edgeType:h,behaviors:v,nodeSize:A,nodeLabelCfg:F,nodeAnchorPoints:N,layout:lt,minimapCfg:At,nodeStyle:Wt,edgeStyle:Vt,nodeStateStyles:le,edgeStateStyles:Se,collapseExpand:Ee,handleEdgeClick:Fe,handleEdgeHover:Ne,handleEdgeUnHover:Ye,handleNodeClick:Be,handleNodeHover:De,handleNodeUnHover:rr,handleCanvasClick:tr,graphRef:lr};return Du(bn,ar,Xe),(0,W.useEffect)(function(){var yr=Ns(a,o,Xe);return(!bn||bn.destroyed)&&(bn=new Ei.TreeGraph({container:Xe.current,width:yr[0],height:yr[1],modes:{default:v},defaultNode:{type:l,size:A,style:Wt,anchorPoints:N,labelCfg:F},defaultEdge:{type:h,style:Vt},nodeStateStyles:le,edgeStateStyles:Se,layout:lt}),lr&&(lr.current=bn)),Gs(At,bn),bn.data(t),bn.render(),bn.fitView(),Ee&&bn.on("node:click",function(sr){var or=sr.item;sr.target.get("name")==="collapse-icon"?(bn.updateItem(or,{collapsed:!or.getModel().collapsed}),bn.layout()):Be&&Be(or,bn)}),bn.on("edge:mouseenter",function(sr){var or=sr.item;bn.setItemState(or,"hover",!0),Ne&&Ne(or,bn)}),bn.on("edge:mouseleave",function(sr){var or=sr.item;bn.setItemState(or,"hover",!1),Ye&&Ye(or,bn)}),bn.on("edge:click",function(sr){var or=sr.item;Fe&&Fe(or,bn)}),bn.on("node:mouseenter",function(sr){var or=sr.item;bn.setItemState(or,"hover",!1),De&&De(or,bn)}),bn.on("node:mouseleave",function(sr){var or=sr.item;bn.setItemState(or,"hover",!1),rr&&rr(or,bn)}),bn.on("canvas:click",function(sr){tr&&tr(bn)}),function(){return bn.destroy()}},[]),W.createElement(zr,null,W.createElement("div",{className:e,style:n,ref:Xe}))},tG=q9,nz={Area:DD,Bar:ND,Bubble:zD,Bullet:HD,Calendar:ZD,Column:g0,ColumnLine:qD,DensityHeatmap:rF,Donut:b0,DualLine:sF,FanGauge:fF,Funnel:dF,Gauge:M0,GroupedBar:xF,GroupedColumn:SF,GroupedColumnLine:EF,GroupedRose:TF,Heatmap:OF,Histogram:BF,Line:I0,Liquid:B0,MeterGauge:zF,PercentStackedArea:HF,PercentStackedBar:UF,PercentStackedColumn:$F,Pie:qF,Progress:z0,Radar:V0,RangeBar:o5,RangeColumn:u5,RingProgress:U0,Rose:d5,Scatter:y5,StackedArea:b5,StackedBar:C5,StackedColumn:A5,StackedColumnLine:P5,StackedRose:I5,StepLine:D5,TinyArea:nm,TinyColumn:am,TinyLine:X5,Treemap:W5,Waterfall:Z5,WordCloud:um,OrganizationTreeGraph:I9,DagreGraph:G9,IndentedTree:tG,DagreFundFlowGraph:j9,G2:P}},89939:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(15623),I=function(){function L(P){var _=P.xField,E=P.yField,C=P.adjustNames,p=C===void 0?["x","y"]:C;this.adjustNames=p,this.xField=_,this.yField=E}return L.prototype.isAdjust=function(P){return this.adjustNames.indexOf(P)>=0},L.prototype.getAdjustRange=function(P,_,E){var C=this.yField,p=E.indexOf(_),b=E.length,x,w;return!C&&this.isAdjust("y")?(x=0,w=1):b>1?(x=E[p===0?0:p-1],w=E[p===b-1?b-1:p+1],p!==0?x+=(_-x)/2:x-=(w-_)/2,p!==b-1?w-=(w-_)/2:w+=(_-E[b-2])/2):(x=_===0?0:_-.5,w=_===0?1:_+.5),{pre:x,next:w}},L.prototype.adjustData=function(P,_){var E=this,C=this.getDimValues(_);m.each(P,function(p,b){m.each(C,function(x,w){E.adjustDim(w,x,p,b)})})},L.prototype.groupData=function(P,_){return m.each(P,function(E){E[_]===void 0&&(E[_]=O.DEFAULT_Y)}),m.groupBy(P,_)},L.prototype.adjustDim=function(P,_,E,C){},L.prototype.getDimValues=function(P){var _=this,E=_.xField,C=_.yField,p={},b=[];if(E&&this.isAdjust("x")&&b.push(E),C&&this.isAdjust("y")&&b.push(C),b.forEach(function(w){p[w]=m.valuesOfKey(P,w).sort(function(y,M){return y-M})}),!C&&this.isAdjust("y")){var x="y";p[x]=[O.DEFAULT_Y,1]}return p},L}();S.default=I},15623:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.GAP=S.DODGE_RATIO=S.MARGIN_RATIO=S.DEFAULT_Y=void 0,S.DEFAULT_Y=0,S.MARGIN_RATIO=1/2,S.DODGE_RATIO=1/2,S.GAP=.05},28014:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Adjust=S.registerAdjust=S.getAdjust=void 0;var m=d(60153),O=d(89939);S.Adjust=O.default;var I={},L=function(_){return I[_.toLowerCase()]};S.getAdjust=L;var P=function(_,E){if(L(_))throw new Error("Adjust type '"+_+"' existed.");I[_.toLowerCase()]=E};S.registerAdjust=P,m.__exportStar(d(48551),S)},48551:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0})},21392:function(_t,S,d){"use strict";d.r(S),d.d(S,{Attribute:function(){return L},Color:function(){return C},Opacity:function(){return b},Position:function(){return w},Scale:function(){return D.Scale},Shape:function(){return M},Size:function(){return B},getAttribute:function(){return $},registerAttribute:function(){return H}});var m=d(49242),O=function(nt,ht){return(0,m.isString)(ht)?ht:nt.invert(nt.scale(ht))},I=function(){function nt(ht){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(ht)}return nt.prototype.mapping=function(){for(var ht=this,at=[],Ot=0;Ot<arguments.length;Ot++)at[Ot]=arguments[Ot];var Ft=at.map(function(Dt,V){return ht._toOriginParam(Dt,ht.scales[V])});return this.callback.apply(this,Ft)},nt.prototype.getLinearValue=function(ht){var at=this.values.length-1,Ot=Math.floor(at*ht),Ft=at*ht-Ot,Dt=this.values[Ot],V=Ot===at?Dt:this.values[Ot+1];return Dt+(V-Dt)*Ft},nt.prototype.getNames=function(){for(var ht=this.scales,at=this.names,Ot=Math.min(ht.length,at.length),Ft=[],Dt=0;Dt<Ot;Dt+=1)Ft.push(at[Dt]);return Ft},nt.prototype.getFields=function(){return this.scales.map(function(ht){return ht.field})},nt.prototype.getScale=function(ht){return this.scales[this.names.indexOf(ht)]},nt.prototype.defaultCallback=function(){for(var ht=this,at=[],Ot=0;Ot<arguments.length;Ot++)at[Ot]=arguments[Ot];return at.length===0?this.values:at.map(function(Ft,Dt){var V=ht.scales[Dt];return V.type==="identity"?V.values[0]:ht._getAttributeValue(V,Ft)})},nt.prototype._parseCfg=function(ht){var at=this,Ot=ht.type,Ft=Ot===void 0?"base":Ot,Dt=ht.names,V=Dt===void 0?[]:Dt,q=ht.scales,K=q===void 0?[]:q,Z=ht.values,mt=Z===void 0?[]:Z,rt=ht.callback;this.type=Ft,this.scales=K,this.values=mt,this.names=V,this.callback=function(){for(var W=[],z=0;z<arguments.length;z++)W[z]=arguments[z];if(rt){var G=rt.apply(void 0,W);if(!(0,m.isNil)(G))return[G]}return at.defaultCallback.apply(at,W)}},nt.prototype._getAttributeValue=function(ht,at){if(ht.isCategory&&!this.linear){var Ot=ht.translate(at);return this.values[Ot%this.values.length]}var Ft=ht.scale(at);return this.getLinearValue(Ft)},nt.prototype._toOriginParam=function(ht,at){return at.isLinear?ht:(0,m.isArray)(ht)?ht.map(function(Ot){return O(at,Ot)}):O(at,ht)},nt}(),L=I,P=d(60153),_=d(55223),E=function(nt){(0,P.__extends)(ht,nt);function ht(at){var Ot=nt.call(this,at)||this;return Ot.type="color",Ot.names=["color"],(0,m.isString)(Ot.values)&&(Ot.linear=!0),Ot.gradient=_.default.gradient(Ot.values),Ot}return ht.prototype.getLinearValue=function(at){return this.gradient(at)},ht}(L),C=E,p=function(nt){(0,P.__extends)(ht,nt);function ht(at){var Ot=nt.call(this,at)||this;return Ot.type="opacity",Ot.names=["opacity"],Ot}return ht}(L),b=p,x=function(nt){(0,P.__extends)(ht,nt);function ht(at){var Ot=nt.call(this,at)||this;return Ot.names=["x","y"],Ot.type="position",Ot}return ht.prototype.mapping=function(at,Ot){var Ft=this.scales,Dt=Ft[0],V=Ft[1];return(0,m.isNil)(at)||(0,m.isNil)(Ot)?[]:[(0,m.isArray)(at)?at.map(function(q){return Dt.scale(q)}):Dt.scale(at),(0,m.isArray)(Ot)?Ot.map(function(q){return V.scale(q)}):V.scale(Ot)]},ht}(L),w=x,y=function(nt){(0,P.__extends)(ht,nt);function ht(at){var Ot=nt.call(this,at)||this;return Ot.type="shape",Ot.names=["shape"],Ot}return ht.prototype.getLinearValue=function(at){var Ot=Math.round((this.values.length-1)*at);return this.values[Ot]},ht}(L),M=y,T=function(nt){(0,P.__extends)(ht,nt);function ht(at){var Ot=nt.call(this,at)||this;return Ot.type="size",Ot.names=["size"],Ot}return ht}(L),B=T,D=d(2443),X={},$=function(nt){return X[nt.toLowerCase()]},H=function(nt,ht){if($(nt))throw new Error("Attribute type '"+nt+"' existed.");X[nt.toLowerCase()]=ht};H("Color",C),H("Opacity",b),H("Position",w),H("Shape",M),H("Size",B)},74839:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=function(L,P){return m.isString(P)?P:L.invert(L.scale(P))},I=function(){function L(P){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(P)}return L.prototype.mapping=function(){for(var P=this,_=[],E=0;E<arguments.length;E++)_[E]=arguments[E];var C=_.map(function(p,b){return P._toOriginParam(p,P.scales[b])});return this.callback.apply(this,C)},L.prototype.getLinearValue=function(P){var _=this.values.length-1,E=Math.floor(_*P),C=_*P-E,p=this.values[E],b=E===_?p:this.values[E+1];return p+(b-p)*C},L.prototype.getNames=function(){for(var P=this.scales,_=this.names,E=Math.min(P.length,_.length),C=[],p=0;p<E;p+=1)C.push(_[p]);return C},L.prototype.getFields=function(){return this.scales.map(function(P){return P.field})},L.prototype.getScale=function(P){return this.scales[this.names.indexOf(P)]},L.prototype.defaultCallback=function(){for(var P=this,_=[],E=0;E<arguments.length;E++)_[E]=arguments[E];return _.length===0?this.values:_.map(function(C,p){var b=P.scales[p];return b.type==="identity"?b.values[0]:P._getAttributeValue(b,C)})},L.prototype._parseCfg=function(P){var _=this,E=P.type,C=E===void 0?"base":E,p=P.names,b=p===void 0?[]:p,x=P.scales,w=x===void 0?[]:x,y=P.values,M=y===void 0?[]:y,T=P.callback;this.type=C,this.scales=w,this.values=M,this.names=b,this.callback=function(){for(var B=[],D=0;D<arguments.length;D++)B[D]=arguments[D];if(T){var X=T.apply(void 0,B);if(!m.isNil(X))return[X]}return _.defaultCallback.apply(_,B)}},L.prototype._getAttributeValue=function(P,_){if(P.isCategory&&!this.linear){var E=P.translate(_);return this.values[E%this.values.length]}var C=P.scale(_);return this.getLinearValue(C)},L.prototype._toOriginParam=function(P,_){return _.isLinear?P:m.isArray(P)?P.map(function(E){return O(_,E)}):O(_,P)},L}();S.default=I},24796:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60153),O=d(74839);S.Attribute=O.default;var I={},L=function(_){return I[_.toLowerCase()]};S.getAttribute=L;var P=function(_,E){if(L(_))throw new Error("Attribute type '"+_+"' existed.");I[_.toLowerCase()]=E};S.registerAttribute=P,m.__exportStar(d(77290),S)},77290:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(2443);S.Scale=m.Scale},55223:function(_t,S,d){"use strict";d.r(S);var m=d(49242),O=/rgba?\(([\s.,0-9]+)\)/,I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,L=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,_=function(D){return/^[r,R,L,l]{1}[\s]*\(/.test(D)},E=function(){var D=document.createElement("i");return D.title="Web Colour Picker",D.style.display="none",document.body.appendChild(D),D},C=function(D,X,$,H){return D[H]+(X[H]-D[H])*$};function p(D){return"#"+x(D[0])+x(D[1])+x(D[2])}var b=function(D){return[parseInt(D.substr(1,2),16),parseInt(D.substr(3,2),16),parseInt(D.substr(5,2),16)]},x=function(D){var X=Math.round(D).toString(16);return X.length===1?"0"+X:X},w=function(D,X){var $=isNaN(Number(X))||X<0?0:X>1?1:Number(X),H=D.length-1,nt=Math.floor(H*$),ht=H*$-nt,at=D[nt],Ot=nt===H?at:D[nt+1];return p([C(at,Ot,ht,0),C(at,Ot,ht,1),C(at,Ot,ht,2)])},y,M=function(D){if(D[0]==="#"&&D.length===7)return D;y||(y=E()),y.style.color=D;var X=document.defaultView.getComputedStyle(y,"").getPropertyValue("color"),$=O.exec(X),H=$[1].split(/\s*,\s*/).map(function(nt){return Number(nt)});return X=p(H),X},T=function(D){var X=(0,m.isString)(D)?D.split("-"):D,$=(0,m.map)(X,function(H){return b(H.indexOf("#")===-1?M(H):H)});return function(H){return w($,H)}},B=function(D){if(_(D)){var X,$=void 0;if(D[0]==="l"){var H=I.exec(D),nt=+H[1]+90;$=H[2],X="linear-gradient("+nt+"deg, "}else if(D[0]==="r"){X="radial-gradient(";var H=L.exec(D);$=H[4]}var ht=$.match(P);return(0,m.each)(ht,function(at,Ot){var Ft=at.split(":");X+=Ft[1]+" "+Ft[0]*100+"%",Ot!==ht.length-1&&(X+=", ")}),X+=")",X}return D};S.default={rgb2arr:b,gradient:T,toRGB:(0,m.memoize)(M),toCSSGradient:B}},51441:function(_t,S,d){"use strict";d.r(S),d.d(S,{Annotation:function(){return m},Axis:function(){return _},Component:function(){return it},Crosshair:function(){return E},Grid:function(){return C},GroupComponent:function(){return et},HtmlComponent:function(){return ua},Legend:function(){return p},Scrollbar:function(){return Ra},Slider:function(){return us},Tooltip:function(){return x}});var m={};d.r(m),d.d(m,{Arc:function(){return Zn},DataMarker:function(){return oe},DataRegion:function(){return be},Image:function(){return Jt},Line:function(){return Jr},Region:function(){return Pn},RegionFilter:function(){return Me},Text:function(){return Hr}});var O={};d.r(O),d.d(O,{ellipsisHead:function(){return Ue},ellipsisMiddle:function(){return qe},ellipsisTail:function(){return nr},getDefault:function(){return er}});var I={};d.r(I),d.d(I,{equidistance:function(){return kr},getDefault:function(){return Pr},reserveBoth:function(){return Yr},reserveFirst:function(){return wr},reserveLast:function(){return _r}});var L={};d.r(L),d.d(L,{fixedAngle:function(){return Kn},getDefault:function(){return In},unfixedAngle:function(){return Wn}});var P={};d.r(P),d.d(P,{autoEllipsis:function(){return O},autoHide:function(){return I},autoRotate:function(){return L}});var _={};d.r(_),d.d(_,{Base:function(){return Le},Circle:function(){return hi},Line:function(){return Bi}});var E={};d.r(E),d.d(E,{Base:function(){return ti},Circle:function(){return ri},Html:function(){return bt},Line:function(){return ei}});var C={};d.r(C),d.d(C,{Base:function(){return Bt},Circle:function(){return se},Line:function(){return ve}});var p={};d.r(p),d.d(p,{Base:function(){return Ke},Category:function(){return gr},Continuous:function(){return Or}});var b={};d.r(b),d.d(b,{CONTAINER_CLASS:function(){return vn},CROSSHAIR_X:function(){return Di},CROSSHAIR_Y:function(){return Wi},LIST_CLASS:function(){return Yn},LIST_ITEM_CLASS:function(){return Hi},MARKER_CLASS:function(){return Vn},NAME_CLASS:function(){return ii},TITLE_CLASS:function(){return Mn},VALUE_CLASS:function(){return ni}});var x={};d.r(x),d.d(x,{Html:function(){return Fi}});var w=d(60153),y=d(49242),M=d(66192);function T(Ut,yt,R){var j=new M.default(yt,R);j.target=Ut,j.propagationPath.push(Ut),Ut.emitDelegation(yt,j);for(var ft=Ut.getParent();ft;)ft.emitDelegation(yt,j),j.propagationPath.push(ft),ft=ft.getParent()}var B=d(31506),D=d(31437),X=[1,0,0,0,1,0,0,0,1];function $(Ut,yt,R){if(R===void 0&&(R=X),!yt)return null;var j=B.transform(R,[["t",-Ut.x,-Ut.y],["r",yt],["t",Ut.x,Ut.y]]);return j}function H(Ut,yt){return!Ut.x&&!Ut.y?null:B.transform(yt||X,[["t",Ut.x,Ut.y]])}function nt(Ut){var yt=[1,0,0],R=[0,0,0];return vec3.transformMat3(R,yt,Ut),Math.atan2(R[1],R[0])}function ht(Ut,yt){var R=[0,0];return D.transformMat3(R,yt,Ut),R}function at(Ut,yt){var R=ht(Ut,[yt.minX,yt.minY]),j=ht(Ut,[yt.maxX,yt.minY]),ft=ht(Ut,[yt.minX,yt.maxY]),Pt=ht(Ut,[yt.maxX,yt.maxY]),Yt=Math.min(R[0],j[0],ft[0],Pt[0]),jt=Math.max(R[0],j[0],ft[0],Pt[0]),ee=Math.min(R[1],j[1],ft[1],Pt[1]),ne=Math.max(R[1],j[1],ft[1],Pt[1]);return{x:Yt,y:ee,minX:Yt,minY:ee,maxX:jt,maxY:ne,width:jt-Yt,height:ne-ee}}function Ot(Ut,yt,R,j){if(yt){var ft=$({x:R,y:j},yt,Ut.getMatrix());Ut.setMatrix(ft)}}function Ft(Ut,yt,R){var j=H({x:yt,y:R});Ut.attr("matrix",j)}function Dt(Ut){var yt=0,R=0,j=0,ft=0;return(0,y.isNumber)(Ut)?yt=R=j=ft=Ut:(0,y.isArray)(Ut)&&(yt=Ut[0],j=(0,y.isNil)(Ut[1])?Ut[0]:Ut[1],ft=(0,y.isNil)(Ut[2])?Ut[0]:Ut[2],R=(0,y.isNil)(Ut[3])?j:Ut[3]),[yt,j,ft,R]}function V(Ut){for(var yt=Ut.childNodes,R=yt.length,j=R-1;j>=0;j--)Ut.removeChild(yt[j])}function q(Ut,yt){return!!Ut.className.match(new RegExp("(\\s|^)"+yt+"(\\s|$)"))}function K(Ut){var yt=Ut.start,R=Ut.end,j=Math.min(yt.x,R.x),ft=Math.min(yt.y,R.y),Pt=Math.max(yt.x,R.x),Yt=Math.max(yt.y,R.y);return{x:j,y:ft,minX:j,minY:ft,maxX:Pt,maxY:Yt,width:Pt-j,height:Yt-ft}}function Z(Ut){var yt=Ut.map(function(jt){return jt.x}),R=Ut.map(function(jt){return jt.y}),j=Math.min.apply(Math,yt),ft=Math.min.apply(Math,R),Pt=Math.max.apply(Math,yt),Yt=Math.max.apply(Math,R);return{x:j,y:ft,minX:j,minY:ft,maxX:Pt,maxY:Yt,width:Pt-j,height:Yt-ft}}function mt(Ut,yt,R,j){return{x:Ut,y:yt,width:R,height:j,minX:Ut,minY:yt,maxX:Ut+R,maxY:yt+j}}function rt(Ut,yt,R){return(1-R)*Ut+yt*R}function W(Ut,yt,R){return{x:Ut.x+Math.cos(R)*yt,y:Ut.y+Math.sin(R)*yt}}function z(Ut,yt){var R=yt.x-Ut.x,j=yt.y-Ut.y;return Math.sqrt(R*R+j*j)}var G=function(Ut){return new Promise(function(yt){setTimeout(yt,Ut)})},f=function(Ut,yt){return[Ut,yt].includes(Infinity)?Math.abs(Ut)===Math.abs(yt):Math.abs(Ut-yt)<Math.pow(Number.EPSILON,.5)};function pt(Ut,yt){var R=Math.max(Ut.minX,yt.minX),j=Math.max(Ut.minY,yt.minY),ft=Math.min(Ut.maxX,yt.maxX),Pt=Math.min(Ut.maxY,yt.maxY);return mt(R,j,ft-R,Pt-j)}function Ct(Ut,yt){var R=Math.min(Ut.minX,yt.minX),j=Math.min(Ut.minY,yt.minY),ft=Math.max(Ut.maxX,yt.maxX),Pt=Math.max(Ut.maxY,yt.maxY);return mt(R,j,ft-R,Pt-j)}function ot(Ut){var yt=Ut.getClip(),R=yt&&yt.getBBox(),j;if(!Ut.isGroup())j=Ut.getBBox();else{var ft=Infinity,Pt=-Infinity,Yt=Infinity,jt=-Infinity,ee=Ut.getChildren();ee.length>0?(0,y.each)(ee,function(ne){if(ne.get("visible")){if(ne.isGroup()&&ne.get("children").length===0)return!0;var ce=ot(ne),we=ne.applyToMatrix([ce.minX,ce.minY,1]),Oe=ne.applyToMatrix([ce.minX,ce.maxY,1]),Re=ne.applyToMatrix([ce.maxX,ce.minY,1]),ir=ne.applyToMatrix([ce.maxX,ce.maxY,1]),Cr=Math.min(we[0],Oe[0],Re[0],ir[0]),pr=Math.max(we[0],Oe[0],Re[0],ir[0]),Wr=Math.min(we[1],Oe[1],Re[1],ir[1]),Kr=Math.max(we[1],Oe[1],Re[1],ir[1]);Cr<ft&&(ft=Cr),pr>Pt&&(Pt=pr),Wr<Yt&&(Yt=Wr),Kr>jt&&(jt=Kr)}}):(ft=0,Pt=0,Yt=0,jt=0),j=mt(ft,Yt,Pt-ft,jt-Yt)}return R?pt(j,R):j}function St(Ut,yt){if(!(!Ut.getClip()&&!yt.getClip())){var R=yt.getClip();if(!R){Ut.setClip(null);return}var j={type:R.get("type"),attrs:R.attr()};Ut.setClip(j)}}function xt(Ut){return Ut+"px"}function Mt(Ut,yt,R,j){var ft=z(Ut,yt),Pt=j/ft,Yt=0;return R==="start"?Yt=0-Pt:R==="end"&&(Yt=1+Pt),{x:rt(Ut.x,yt.x,Yt),y:rt(Ut.y,yt.y,Yt)}}var Et=d(39014),Tt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},gt=function(Ut){(0,w.__extends)(yt,Ut);function yt(R){var j=Ut.call(this,R)||this;return j.initCfg(),j}return yt.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},yt.prototype.clear=function(){},yt.prototype.update=function(R){var j=this,ft=this.get("defaultCfg");(0,y.each)(R,function(Pt,Yt){var jt=j.get(Yt),ee=Pt;jt!==Pt&&((0,y.isObject)(Pt)&&ft[Yt]&&(ee=(0,y.deepMix)({},ft[Yt],Pt)),j.set(Yt,ee))}),this.updateInner(R),this.afterUpdate(R)},yt.prototype.updateInner=function(R){},yt.prototype.afterUpdate=function(R){(0,y.hasKey)(R,"visible")&&(R.visible?this.show():this.hide()),(0,y.hasKey)(R,"capture")&&this.setCapture(R.capture)},yt.prototype.getLayoutBBox=function(){return this.getBBox()},yt.prototype.getLocationType=function(){return this.get("locationType")},yt.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},yt.prototype.setOffset=function(R,j){this.update({offsetX:R,offsetY:j})},yt.prototype.setLocation=function(R){var j=(0,w.__assign)({},R);this.update(j)},yt.prototype.getLocation=function(){var R=this,j={},ft=this.get("locationType"),Pt=Tt[ft];return(0,y.each)(Pt,function(Yt){j[Yt]=R.get(Yt)}),j},yt.prototype.isList=function(){return!1},yt.prototype.isSlider=function(){return!1},yt.prototype.init=function(){},yt.prototype.initCfg=function(){var R=this,j=this.get("defaultCfg");(0,y.each)(j,function(ft,Pt){var Yt=R.get(Pt);if((0,y.isObject)(Yt)){var jt=(0,y.deepMix)({},ft,Yt);R.set(Pt,jt)}})},yt}(Et.Base),it=gt,Q="update_status",U=["visible","tip","delegateObject"],ct=["container","group","shapesMap","isRegister","isUpdating","destroyed"],tt=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},yt.prototype.remove=function(){this.clear();var R=this.get("group");R.remove()},yt.prototype.clear=function(){var R=this.get("group");R.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},yt.prototype.getChildComponentById=function(R){var j=this.getElementById(R),ft=j&&j.get("component");return ft},yt.prototype.getElementById=function(R){return this.get("shapesMap")[R]},yt.prototype.getElementByLocalId=function(R){var j=this.getElementId(R);return this.getElementById(j)},yt.prototype.getElementsByName=function(R){var j=[];return(0,y.each)(this.get("shapesMap"),function(ft){ft.get("name")===R&&j.push(ft)}),j},yt.prototype.getContainer=function(){return this.get("container")},yt.prototype.updateInner=function(R){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},yt.prototype.render=function(){var R=this.get("offScreenGroup");R||(R=this.offScreenRender());var j=this.get("group");this.updateElements(R,j),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},yt.prototype.show=function(){var R=this.get("group");R.show(),this.set("visible",!0)},yt.prototype.hide=function(){var R=this.get("group");R.hide(),this.set("visible",!1)},yt.prototype.setCapture=function(R){var j=this.get("group");j.set("capture",R),this.set("capture",R)},yt.prototype.destroy=function(){this.removeEvent(),this.remove(),Ut.prototype.destroy.call(this)},yt.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},yt.prototype.getLayoutBBox=function(){var R=this.get("group"),j=this.getInnerLayoutBBox(),ft=R.getTotalMatrix();return ft&&(j=at(ft,j)),j},yt.prototype.on=function(R,j,ft){var Pt=this.get("group");return Pt.on(R,j,ft),this},yt.prototype.off=function(R,j){var ft=this.get("group");return ft&&ft.off(R,j),this},yt.prototype.emit=function(R,j){var ft=this.get("group");ft.emit(R,j)},yt.prototype.init=function(){Ut.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},yt.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},yt.prototype.delegateEmit=function(R,j){var ft=this.get("group");j.target=ft,ft.emit(R,j),T(ft,R,j)},yt.prototype.createOffScreenGroup=function(){var R=this.get("group"),j=R.getGroupBase(),ft=new j({delegateObject:this.getDelegateObject()});return ft},yt.prototype.applyOffset=function(){var R=this.get("offsetX"),j=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R,y:j})},yt.prototype.initGroup=function(){var R=this.get("container");this.set("group",R.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},yt.prototype.offScreenRender=function(){this.clearOffScreenCache();var R=this.createOffScreenGroup();return this.renderInner(R),this.set("offScreenGroup",R),this.set("offScreenBBox",ot(R)),R},yt.prototype.addGroup=function(R,j){this.appendDelegateObject(R,j);var ft=R.addGroup(j);return this.get("isRegister")&&this.registerElement(ft),ft},yt.prototype.addShape=function(R,j){this.appendDelegateObject(R,j);var ft=R.addShape(j);return this.get("isRegister")&&this.registerElement(ft),ft},yt.prototype.addComponent=function(R,j){var ft=j.id,Pt=j.component,Yt=(0,w.__rest)(j,["id","component"]),jt=new Pt((0,w.__assign)((0,w.__assign)({},Yt),{id:ft,container:R,updateAutoRender:this.get("updateAutoRender")}));return jt.init(),jt.render(),this.get("isRegister")&&this.registerElement(jt.get("group")),jt},yt.prototype.initEvent=function(){},yt.prototype.removeEvent=function(){var R=this.get("group");R.off()},yt.prototype.getElementId=function(R){var j=this.get("id"),ft=this.get("name");return j+"-"+ft+"-"+R},yt.prototype.registerElement=function(R){var j=R.get("id");this.get("shapesMap")[j]=R},yt.prototype.unregisterElement=function(R){var j=R.get("id");delete this.get("shapesMap")[j]},yt.prototype.moveElementTo=function(R,j){var ft=H(j);R.attr("matrix",ft)},yt.prototype.addAnimation=function(R,j,ft){var Pt=j.attr("opacity");(0,y.isNil)(Pt)&&(Pt=1),j.attr("opacity",0),j.animate({opacity:Pt},ft)},yt.prototype.removeAnimation=function(R,j,ft){j.animate({opacity:0},ft)},yt.prototype.updateAnimation=function(R,j,ft,Pt){j.animate(ft,Pt)},yt.prototype.updateElements=function(R,j){var ft=this,Pt=this.get("animate"),Yt=this.get("animateOption"),jt=R.getChildren().slice(0),ee;(0,y.each)(jt,function(ne){var ce=ne.get("id"),we=ft.getElementById(ce),Oe=ne.get("name");if(we)if(ne.get("isComponent")){var Re=ne.get("component"),ir=we.get("component"),Cr=(0,y.pick)(Re.cfg,(0,y.difference)((0,y.keys)(Re.cfg),ct));ir.update(Cr),we.set(Q,"update")}else{var pr=ft.getReplaceAttrs(we,ne);Pt&&Yt.update?ft.updateAnimation(Oe,we,pr,Yt.update):we.attr(pr),ne.isGroup()&&ft.updateElements(ne,we),(0,y.each)(U,function(Nt){we.set(Nt,ne.get(Nt))}),St(we,ne),ee=we,we.set(Q,"update")}else{j.add(ne);var Wr=j.getChildren();if(Wr.splice(Wr.length-1,1),ee){var Kr=Wr.indexOf(ee);Wr.splice(Kr+1,0,ne)}else Wr.unshift(ne);if(ft.registerElement(ne),ne.set(Q,"add"),ne.get("isComponent")){var Re=ne.get("component");Re.set("container",j)}else ne.isGroup()&&ft.registerNewGroup(ne);if(ee=ne,Pt){var jr=ft.get("isInit")?Yt.appear:Yt.enter;jr&&ft.addAnimation(Oe,ne,jr)}}})},yt.prototype.clearUpdateStatus=function(R){var j=R.getChildren();(0,y.each)(j,function(ft){ft.set(Q,null)})},yt.prototype.clearOffScreenCache=function(){var R=this.get("offScreenGroup");R&&R.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},yt.prototype.getDelegateObject=function(){var R,j=this.get("name"),ft=(R={},R[j]=this,R.component=this,R);return ft},yt.prototype.appendDelegateObject=function(R,j){var ft=R.get("delegateObject");j.delegateObject||(j.delegateObject={}),(0,y.mix)(j.delegateObject,ft)},yt.prototype.getReplaceAttrs=function(R,j){var ft=R.attr(),Pt=j.attr();return(0,y.each)(ft,function(Yt,jt){Pt[jt]===void 0&&(Pt[jt]=void 0)}),Pt},yt.prototype.registerNewGroup=function(R){var j=this,ft=R.getChildren();(0,y.each)(ft,function(Pt){j.registerElement(Pt),Pt.set(Q,"add"),Pt.isGroup()&&j.registerNewGroup(Pt)})},yt.prototype.deleteElements=function(){var R=this,j=this.get("shapesMap"),ft=[];(0,y.each)(j,function(jt,ee){!jt.get(Q)||jt.destroyed?ft.push([ee,jt]):jt.set(Q,null)});var Pt=this.get("animate"),Yt=this.get("animateOption");(0,y.each)(ft,function(jt){var ee=jt[0],ne=jt[1];if(!ne.destroyed){var ce=ne.get("name");if(Pt&&Yt.leave){var we=(0,y.mix)({callback:function(){R.removeElement(ne)}},Yt.leave);R.removeAnimation(ce,ne,we)}else R.removeElement(ne)}delete j[ee]})},yt.prototype.removeElement=function(R){if(R.get("isGroup")){var j=R.get("component");j&&j.destroy()}R.remove()},yt}(it),et=tt,dt="\u2026";function Lt(Ut){for(var yt=0,R=0;R<Ut.length;R++)yt+=Xt(Ut,R);return yt}function Xt(Ut,yt){return Ut.charCodeAt(yt)>0&&Ut.charCodeAt(yt)<128?1:2}function $t(Ut,yt,R){R===void 0&&(R="tail");var j=Ut.length,ft="";if(R==="tail"){for(var Pt=0,Yt=0;Pt<yt;){var jt=Xt(Ut,Yt);if(Pt+jt<=yt)ft+=Ut[Yt],Pt+=Xt(Ut,Yt),Yt++;else break}ft+=dt}else if(R==="head"){for(var Pt=0,Yt=j-1;Pt<yt;){var jt=Xt(Ut,Yt);if(Pt+jt<=yt)ft+=Ut[Yt],Pt+=Xt(Ut,Yt),Yt--;else break}ft=dt+ft}else{for(var ee="",ne="",Pt=0,ce=0,we=j-1;Pt<yt;){var Oe=Xt(Ut,ce),Re=!1;Oe+Pt<=yt&&(ee+=Ut[ce],ce++,Pt+=Oe,Re=!0);var ir=Xt(Ut,we);if(ir+Pt<=yt&&(ne=Ut[we]+ne,Pt+=ir,we--,Re=!0),!Re)break}ft=ee+dt+ne}return ft}var fe="\u2026",me=2;function pe(Ut){var yt=0;return(0,y.each)(Ut,function(R){var j=R.getBBox(),ft=j.width;yt<ft&&(yt=ft)}),yt}function xe(Ut,yt){var R=yt.getCanvasBBox();return Ut?R.width:R.height}function Ie(Ut,yt){return Ut.getBBox().width<yt}function je(Ut,yt,R,j){j===void 0&&(j="tail");var ft=yt.attr("text"),Pt=xe(Ut,yt),Yt=Lt(ft),jt=!1;if(R<Pt){var ee=Math.floor(R/Pt*Yt)-me,ne=void 0;ee>=0?ne=$t(ft,ee,j):ne=fe,ne&&(yt.attr("text",ne),jt=!0)}return jt?yt.set("tip",ft):yt.set("tip",null),jt}function ur(Ut,yt){var R=yt.x,j=yt.y,ft=yt.content,Pt=yt.style,Yt=yt.id,jt=yt.name,ee=yt.rotate,ne=yt.maxLength,ce=yt.autoEllipsis,we=yt.isVertical,Oe=yt.ellipsisPosition,Re=yt.background,ir=Ut.addGroup({id:Yt+"-group",name:jt+"-group",attrs:{x:R,y:j}}),Cr=ir.addShape({type:"text",id:Yt,name:jt,attrs:(0,w.__assign)({x:0,y:0,text:ft},Pt)}),pr=Dt((0,y.get)(Re,"padding",0));if(ne&&ce){var Wr=ne-(pr[1]+pr[3]);je(!we,Cr,Wr,Oe)}if(Re){var Kr=(0,y.get)(Re,"style",{}),jr=Cr.getCanvasBBox(),Nt=jr.minX,qt=jr.minY,ue=jr.width,ye=jr.height,Pe=ir.addShape("rect",{id:Yt+"-bg",name:Yt+"-bg",attrs:(0,w.__assign)({x:Nt-pr[3],y:qt-pr[0],width:ue+pr[1]+pr[3],height:ye+pr[0]+pr[2]},Kr)});Pe.toBack()}Ft(ir,R,j),Ot(ir,ee,R,j)}var Ze={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4},Ar=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Ze.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Ze.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Ze.lineColor,lineWidth:1}}}})},yt.prototype.renderInner=function(R){this.renderLine(R),this.get("text")&&this.renderLabel(R)},yt.prototype.renderLine=function(R){var j=this.get("start"),ft=this.get("end"),Pt=this.get("style");this.addShape(R,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,w.__assign)({x1:j.x,y1:j.y,x2:ft.x,y2:ft.y},Pt)})},yt.prototype.getLabelPoint=function(R,j,ft){var Pt;return ft==="start"?Pt=0:ft==="center"?Pt=.5:(0,y.isString)(ft)&&ft.indexOf("%")!==-1?Pt=parseInt(ft,10)/100:(0,y.isNumber)(ft)?Pt=ft:Pt=1,(Pt>1||Pt<0)&&(Pt=1),{x:rt(R.x,j.x,Pt),y:rt(R.y,j.y,Pt)}},yt.prototype.renderLabel=function(R){var j=this.get("text"),ft=this.get("start"),Pt=this.get("end"),Yt=j.position,jt=j.content,ee=j.style,ne=j.offsetX,ce=j.offsetY,we=j.autoRotate,Oe=j.maxLength,Re=j.autoEllipsis,ir=j.ellipsisPosition,Cr=j.background,pr=j.isVertical,Wr=pr===void 0?!1:pr,Kr=this.getLabelPoint(ft,Pt,Yt),jr=Kr.x+ne,Nt=Kr.y+ce,qt={id:this.getElementId("line-text"),name:"annotation-line-text",x:jr,y:Nt,content:jt,style:ee,maxLength:Oe,autoEllipsis:Re,ellipsisPosition:ir,background:Cr,isVertical:Wr};if(we){var ue=[Pt.x-ft.x,Pt.y-ft.y];qt.rotate=Math.atan2(ue[1],ue[0])}ur(R,qt)},yt}(et),Jr=Ar,Er=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Ze.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Ze.fontFamily}}})},yt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetLocation()},yt.prototype.renderInner=function(R){var j=this.getLocation(),ft=j.x,Pt=j.y,Yt=this.get("content"),jt=this.get("style"),ee=this.getElementId("text"),ne=this.get("name")+"-text",ce=this.get("maxLength"),we=this.get("autoEllipsis"),Oe=this.get("isVertical"),Re=this.get("ellipsisPosition"),ir=this.get("background"),Cr=this.get("rotate"),pr={id:ee,name:ne,x:ft,y:Pt,content:Yt,style:jt,maxLength:ce,autoEllipsis:we,isVertical:Oe,ellipsisPosition:Re,background:ir,rotate:Cr};ur(R,pr)},yt.prototype.resetLocation=function(){var R=this.getElementByLocalId("text-group");if(R){var j=this.getLocation(),ft=j.x,Pt=j.y,Yt=this.get("rotate");Ft(R,ft,Pt),Ot(R,Yt,ft,Pt)}},yt}(et),Hr=Er,Xn=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},yt.prototype.renderInner=function(R){this.renderArc(R)},yt.prototype.getArcPath=function(){var R=this.getLocation(),j=R.center,ft=R.radius,Pt=R.startAngle,Yt=R.endAngle,jt=W(j,ft,Pt),ee=W(j,ft,Yt),ne=Yt-Pt>Math.PI?1:0,ce=[["M",jt.x,jt.y]];if(Yt-Pt==Math.PI*2){var we=W(j,ft,Pt+Math.PI);ce.push(["A",ft,ft,0,ne,1,we.x,we.y]),ce.push(["A",ft,ft,0,ne,1,ee.x,ee.y])}else ce.push(["A",ft,ft,0,ne,1,ee.x,ee.y]);return ce},yt.prototype.renderArc=function(R){var j=this.getArcPath(),ft=this.get("style");this.addShape(R,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,w.__assign)({path:j},ft)})},yt}(et),Zn=Xn,qn=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Ze.regionColor,opacity:.4}}})},yt.prototype.renderInner=function(R){this.renderRegion(R)},yt.prototype.renderRegion=function(R){var j=this.get("start"),ft=this.get("end"),Pt=this.get("style"),Yt=K({start:j,end:ft});this.addShape(R,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.__assign)({x:Yt.x,y:Yt.y,width:Yt.width,height:Yt.height},Pt)})},yt}(et),Pn=qn,Kt=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},yt.prototype.renderInner=function(R){this.renderImage(R)},yt.prototype.getImageAttrs=function(){var R=this.get("start"),j=this.get("end"),ft=this.get("style"),Pt=K({start:R,end:j}),Yt=this.get("src");return(0,w.__assign)({x:Pt.x,y:Pt.y,img:Yt,width:Pt.width,height:Pt.height},ft)},yt.prototype.renderImage=function(R){this.addShape(R,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},yt}(et),Jt=Kt,re=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Ze.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Ze.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Ze.fontFamily}}}})},yt.prototype.renderInner=function(R){(0,y.get)(this.get("line"),"display")&&this.renderLine(R),(0,y.get)(this.get("text"),"display")&&this.renderText(R),(0,y.get)(this.get("point"),"display")&&this.renderPoint(R),this.get("autoAdjust")&&this.autoAdjust(R)},yt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},yt.prototype.renderPoint=function(R){var j=this.getShapeAttrs().point;this.addShape(R,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:j})},yt.prototype.renderLine=function(R){var j=this.getShapeAttrs().line;this.addShape(R,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:j})},yt.prototype.renderText=function(R){var j=this.getShapeAttrs().text,ft=j.x,Pt=j.y,Yt=j.text,jt=(0,w.__rest)(j,["x","y","text"]),ee=this.get("text"),ne=ee.background,ce=ee.maxLength,we=ee.autoEllipsis,Oe=ee.isVertival,Re=ee.ellipsisPosition,ir={x:ft,y:Pt,id:this.getElementId("text"),name:"annotation-text",content:Yt,style:jt,background:ne,maxLength:ce,autoEllipsis:we,isVertival:Oe,ellipsisPosition:Re};ur(R,ir)},yt.prototype.autoAdjust=function(R){var j=this.get("direction"),ft=this.get("x"),Pt=this.get("y"),Yt=(0,y.get)(this.get("line"),"length",0),jt=this.get("coordinateBBox"),ee=R.getBBox(),ne=ee.minX,ce=ee.maxX,we=ee.minY,Oe=ee.maxY,Re=R.findById(this.getElementId("text-group")),ir=R.findById(this.getElementId("text")),Cr=R.findById(this.getElementId("line"));if(!!jt){if(Re){if(ft+ne<=jt.minX){var pr=jt.minX-(ft+ne);Ft(Re,Re.attr("x")+pr,Re.attr("y"))}if(ft+ce>=jt.maxX){var pr=ft+ce-jt.maxX;Ft(Re,Re.attr("x")-pr,Re.attr("y"))}}if(j==="upward"&&Pt+we<=jt.minY||j!=="upward"&&Pt+Oe>=jt.maxY){var Wr=void 0,Kr=void 0;j==="upward"&&Pt+we<=jt.minY?(Wr="top",Kr=1):(Wr="bottom",Kr=-1),ir.attr("textBaseline",Wr),Cr&&Cr.attr("path",[["M",0,0],["L",0,Yt*Kr]]),Ft(Re,Re.attr("x"),(Yt+2)*Kr)}}},yt.prototype.getShapeAttrs=function(){var R=(0,y.get)(this.get("line"),"display"),j=(0,y.get)(this.get("point"),"style",{}),ft=(0,y.get)(this.get("line"),"style",{}),Pt=(0,y.get)(this.get("text"),"style",{}),Yt=this.get("direction"),jt=R?(0,y.get)(this.get("line"),"length",0):0,ee=Yt==="upward"?-1:1;return{point:(0,w.__assign)({x:0,y:0},j),line:(0,w.__assign)({path:[["M",0,0],["L",0,jt*ee]]},ft),text:(0,w.__assign)({x:0,y:(jt+2)*ee,text:(0,y.get)(this.get("text"),"content",""),textBaseline:Yt==="upward"?"bottom":"top"},Pt)}},yt}(et),oe=re,ge=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Ze.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Ze.textColor,fontFamily:Ze.fontFamily}}}})},yt.prototype.renderInner=function(R){var j=(0,y.get)(this.get("region"),"style",{}),ft=(0,y.get)(this.get("text"),"style",{}),Pt=this.get("lineLength")||0,Yt=this.get("points");if(!!Yt.length){var jt=Z(Yt),ee=[];ee.push(["M",Yt[0].x,jt.minY-Pt]),Yt.forEach(function(ce){ee.push(["L",ce.x,ce.y])}),ee.push(["L",Yt[Yt.length-1].x,Yt[Yt.length-1].y-Pt]),this.addShape(R,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,w.__assign)({path:ee},j)});var ne=(0,w.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(jt.minX+jt.maxX)/2,y:jt.minY-Pt},this.get("text"));ur(R,ne)}},yt}(et),be=ge,Ce=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},yt.prototype.renderInner=function(R){var j=this,ft=this.get("start"),Pt=this.get("end"),Yt=this.addGroup(R,{id:this.getElementId("region-filter"),capture:!1});(0,y.each)(this.get("shapes"),function(ee,ne){var ce=ee.get("type"),we=(0,y.clone)(ee.attr());j.adjustShapeAttrs(we),j.addShape(Yt,{id:j.getElementId("shape-"+ce+"-"+ne),capture:!1,type:ce,attrs:we})});var jt=K({start:ft,end:Pt});Yt.setClip({type:"rect",attrs:{x:jt.minX,y:jt.minY,width:jt.width,height:jt.height}})},yt.prototype.adjustShapeAttrs=function(R){var j=this.get("color");R.fill&&(R.fill=R.fillStyle=j),R.stroke=R.strokeStyle=j},yt}(et),Me=Ce;function he(Ut,yt,R){var j=yt+"Style",ft=null;return(0,y.each)(R,function(Pt,Yt){Ut[Yt]&&Pt[j]&&(ft||(ft={}),(0,y.mix)(ft,Pt[j]))}),ft}var Ge=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Ze.lineColor}},tickLine:{style:{lineWidth:1,stroke:Ze.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Ze.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Ze.textColor,textBaseline:"middle",fontFamily:Ze.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Ze.textColor,textBaseline:"middle",fontFamily:Ze.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Ze.uncheckedColor}}}}})},yt.prototype.renderInner=function(R){this.get("line")&&this.drawLine(R),this.drawTicks(R),this.get("title")&&this.drawTitle(R)},yt.prototype.isList=function(){return!0},yt.prototype.getItems=function(){return this.get("ticks")},yt.prototype.setItems=function(R){this.update({ticks:R})},yt.prototype.updateItem=function(R,j){(0,y.mix)(R,j),this.clear(),this.render()},yt.prototype.clearItems=function(){var R=this.getElementByLocalId("label-group");R&&R.clear()},yt.prototype.setItemState=function(R,j,ft){R[j]=ft,this.updateTickStates(R)},yt.prototype.hasState=function(R,j){return!!R[j]},yt.prototype.getItemStates=function(R){var j=this.get("tickStates"),ft=[];return(0,y.each)(j,function(Pt,Yt){R[Yt]&&ft.push(Yt)}),ft},yt.prototype.clearItemsState=function(R){var j=this,ft=this.getItemsByState(R);(0,y.each)(ft,function(Pt){j.setItemState(Pt,R,!1)})},yt.prototype.getItemsByState=function(R){var j=this,ft=this.getItems();return(0,y.filter)(ft,function(Pt){return j.hasState(Pt,R)})},yt.prototype.getSidePoint=function(R,j){var ft=this,Pt=ft.getSideVector(j,R);return{x:R.x+Pt[0],y:R.y+Pt[1]}},yt.prototype.getTextAnchor=function(R){var j;return(0,y.isNumberEqual)(R[0],0)?j="center":R[0]>0?j="start":R[0]<0&&(j="end"),j},yt.prototype.processOverlap=function(R){},yt.prototype.drawLine=function(R){var j=this.getLinePath(),ft=this.get("line");this.addShape(R,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,y.mix)({path:j},ft.style)})},yt.prototype.getTickLineItems=function(R){var j=this,ft=[],Pt=this.get("tickLine"),Yt=Pt.alignTick,jt=Pt.length,ee=1,ne=R.length;return ne>=2&&(ee=R[1].value-R[0].value),(0,y.each)(R,function(ce){var we=ce.point;Yt||(we=j.getTickPoint(ce.value-ee/2));var Oe=j.getSidePoint(we,jt);ft.push({startPoint:we,tickValue:ce.value,endPoint:Oe,tickId:ce.id,id:"tickline-"+ce.id})}),ft},yt.prototype.getSubTickLineItems=function(R){var j=[],ft=this.get("subTickLine"),Pt=ft.count,Yt=R.length;if(Yt>=2)for(var jt=0;jt<Yt-1;jt++)for(var ee=R[jt],ne=R[jt+1],ce=0;ce<Pt;ce++){var we=(ce+1)/(Pt+1),Oe=(1-we)*ee.tickValue+we*ne.tickValue,Re=this.getTickPoint(Oe),ir=this.getSidePoint(Re,ft.length);j.push({startPoint:Re,endPoint:ir,tickValue:Oe,id:"sub-"+ee.id+"-"+ce})}return j},yt.prototype.getTickLineAttrs=function(R,j){var ft=this.get(j).style,Pt=R.startPoint,Yt=R.endPoint,jt=(0,y.mix)({x1:Pt.x,y1:Pt.y,x2:Yt.x,y2:Yt.y},ft);return jt},yt.prototype.drawTick=function(R,j,ft){this.addShape(j,{type:"line",id:this.getElementId(R.id),name:"axis-"+ft,attrs:this.getTickLineAttrs(R,ft)})},yt.prototype.drawTickLines=function(R){var j=this,ft=this.get("ticks"),Pt=this.get("subTickLine"),Yt=this.getTickLineItems(ft),jt=this.addGroup(R,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),ee=this.get("tickLine");if((0,y.each)(Yt,function(ce){if(ee.displayWithLabel){var we=j.getElementId("label-"+ce.tickId);R.findById(we)&&j.drawTick(ce,jt,"tickLine")}else j.drawTick(ce,jt,"tickLine")}),Pt){var ne=this.getSubTickLineItems(Yt);(0,y.each)(ne,function(ce){j.drawTick(ce,jt,"subTickLine")})}},yt.prototype.processTicks=function(){var R=this,j=this.get("ticks");(0,y.each)(j,function(ft){ft.point=R.getTickPoint(ft.value),(0,y.isNil)(ft.id)&&(ft.id=ft.name)})},yt.prototype.drawTicks=function(R){var j=this;this.processTicks(),this.get("label")&&this.drawLabels(R),this.get("tickLine")&&this.drawTickLines(R);var ft=this.get("ticks");(0,y.each)(ft,function(Pt){j.applyTickStates(Pt,R)})},yt.prototype.getLabelAttrs=function(R,j){var ft=this.get("label"),Pt=ft.offset,Yt=ft.style,jt=ft.rotate,ee=ft.formatter,ne=this.getSidePoint(R.point,Pt),ce=this.getSideVector(Pt,ne),we=ee?ee(R.name,R,j):R.name,Oe=(0,y.mix)({x:ne.x,y:ne.y,text:we,textAlign:this.getTextAnchor(ce)},Yt);return jt&&(Oe.matrix=$(ne,jt)),Oe},yt.prototype.drawLabels=function(R){var j=this,ft=this.get("ticks"),Pt=this.addGroup(R,{name:"axis-label-group",id:this.getElementId("label-group")});(0,y.each)(ft,function(Yt,jt){j.addShape(Pt,{type:"text",name:"axis-label",id:j.getElementId("label-"+Yt.id),attrs:j.getLabelAttrs(Yt,jt),delegateObject:{tick:Yt,item:Yt,index:jt}})}),this.processOverlap(Pt)},yt.prototype.getTitleAttrs=function(){var R=this.get("title"),j=R.style,ft=R.position,Pt=R.offset,Yt=R.spacing,jt=Yt===void 0?0:Yt,ee=R.autoRotate,ne=j.fontSize,ce=.5;ft==="start"?ce=0:ft==="end"&&(ce=1);var we=this.getTickPoint(ce),Oe=this.getSidePoint(we,Pt||jt+ne/2),Re=(0,y.mix)({x:Oe.x,y:Oe.y,text:R.text},j),ir=R.rotate,Cr=ir;if((0,y.isNil)(ir)&&ee){var pr=this.getAxisVector(we),Wr=[1,0];Cr=B.angleTo(pr,Wr,!0)}if(Cr){var Kr=$(Oe,Cr);Re.matrix=Kr}return Re},yt.prototype.drawTitle=function(R){this.addShape(R,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},yt.prototype.applyTickStates=function(R,j){var ft=this.getItemStates(R);if(ft.length){var Pt=this.get("tickStates"),Yt=this.getElementId("label-"+R.id),jt=j.findById(Yt);if(jt){var ee=he(R,"label",Pt);ee&&jt.attr(ee)}var ne=this.getElementId("tickline-"+R.id),ce=j.findById(ne);if(ce){var we=he(R,"tickLine",Pt);we&&ce.attr(we)}}},yt.prototype.updateTickStates=function(R){var j=this.getItemStates(R),ft=this.get("tickStates"),Pt=this.get("label"),Yt=this.getElementByLocalId("label-"+R.id),jt=this.get("tickLine"),ee=this.getElementByLocalId("tickline-"+R.id);if(j.length){if(Yt){var ne=he(R,"label",ft);ne&&Yt.attr(ne)}if(ee){var ce=he(R,"tickLine",ft);ce&&ee.attr(ce)}}else Yt&&Yt.attr(Pt.style),ee&&ee.attr(jt.style)},yt}(et),Le=Ge;function He(Ut,yt,R,j){var ft=yt.getChildren(),Pt=!1;return(0,y.each)(ft,function(Yt){var jt=je(Ut,Yt,R,j);Pt=Pt||jt}),Pt}function er(){return nr}function Ue(Ut,yt,R){return He(Ut,yt,R,"head")}function nr(Ut,yt,R){return He(Ut,yt,R,"tail")}function qe(Ut,yt,R){return He(Ut,yt,R,"middle")}function fr(Ut){var yt=Ut.attr("matrix");return yt&&yt[0]!==1}function We(Ut,yt,R,j,ft){ft===void 0&&(ft=!1);var Pt=!1;if(Ut)Pt=Math.abs(R.y-j.y)<R.height;else if(yt){var Yt=ft?j.height:R.height;Pt=Math.abs(R.x-j.x)<Yt}else{var jt=ft?j.width:R.width;Pt=Math.abs(R.x-j.x)<jt}return Pt}function vr(Ut,yt,R){var j=yt.getChildren().slice();if(!j.length)return!1;var ft=!1;R&&j.reverse();for(var Pt=j.length,Yt=j[0],jt=fr(Yt),ee=Yt.getBBox(),ne=1;ne<Pt;ne++){var ce=j[ne],we=ce.getBBox(),Oe=We(Ut,jt,ee,we,R);Oe?(ce.hide(),ft=!0):ee=we}return ft}function Pr(){return kr}function wr(Ut,yt){return vr(Ut,yt,!1)}function _r(Ut,yt){return vr(Ut,yt,!0)}function Yr(Ut,yt){var R=yt.getChildren().slice();if(R.length<=2)return!1;for(var j=!1,ft=R.length,Pt=R[0],Yt=R[ft-1],jt=fr(Pt),ee=Pt.getBBox(),ne=Pt,ce=1;ce<ft-1;ce++){var we=R[ce],Oe=we.getBBox(),Re=We(Ut,jt,ee,Oe);Re?(we.hide(),j=!0):(ee=Oe,ne=we)}var ir=Yt.getBBox(),Cr=We(Ut,jt,ee,ir);return Cr&&(ne.hide(),j=!0),j}function kr(Ut,yt){var R=yt.getChildren().slice();if(R.length<2)return!1;var j=!1,ft=R[0],Pt=ft.getBBox(),Yt=R[1],jt=fr(ft),ee=R.length,ne=0;if(Ut){var ce=Math.abs(Yt.attr("y")-ft.attr("y"));ne=Pt.height/ce}else if(jt){var ce=Math.abs(Yt.attr("x")-ft.attr("x"));ne=Pt.width/ce}else{var we=pe(R),ce=Math.abs(Yt.attr("x")-ft.attr("x"));ne=we/ce}if(ne>1){ne=Math.ceil(ne);for(var Oe=0;Oe<ee;Oe++)Oe%ne!=0&&(R[Oe].hide(),j=!0)}return j}function mn(Ut,yt){(0,y.each)(Ut,function(R){var j=R.attr("x"),ft=R.attr("y"),Pt=$({x:j,y:ft},yt);R.attr("matrix",Pt)})}function Ur(Ut,yt,R,j){var ft=yt.getChildren();if(!ft.length||!Ut&&ft.length<2)return!1;var Pt=pe(ft),Yt=!1;if(Ut)Yt=!!R&&Pt>R;else{var jt=Math.abs(ft[1].attr("x")-ft[0].attr("x"));Yt=Pt>jt}if(Yt){var ee=j(R,Pt);mn(ft,ee)}return Yt}function In(){return Kn}function Kn(Ut,yt,R){return Ur(Ut,yt,R,function(){return Ut?Ze.verticalAxisRotate:Ze.horizontalAxisRotate})}function Wn(Ut,yt,R){return Ur(Ut,yt,R,function(j,ft){if(!j)return Ut?Ze.verticalAxisRotate:Ze.horizontalAxisRotate;if(Ut)return-Math.acos(j/ft);var Pt=0;return j>ft?Pt=Math.PI/4:(Pt=Math.asin(j/ft),Pt>Math.PI/4&&(Pt=Math.PI/4)),Pt})}var Ti=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"line",locationType:"region",start:null,end:null})},yt.prototype.getLinePath=function(){var R=this.get("start"),j=this.get("end"),ft=[];return ft.push(["M",R.x,R.y]),ft.push(["L",j.x,j.y]),ft},yt.prototype.getInnerLayoutBBox=function(){var R=this.get("start"),j=this.get("end"),ft=Ut.prototype.getInnerLayoutBBox.call(this),Pt=Math.min(R.x,j.x,ft.x),Yt=Math.min(R.y,j.y,ft.y),jt=Math.max(R.x,j.x,ft.maxX),ee=Math.max(R.y,j.y,ft.maxY);return{x:Pt,y:Yt,minX:Pt,minY:Yt,maxX:jt,maxY:ee,width:jt-Pt,height:ee-Yt}},yt.prototype.isVertical=function(){var R=this.get("start"),j=this.get("end");return(0,y.isNumberEqual)(R.x,j.x)},yt.prototype.isHorizontal=function(){var R=this.get("start"),j=this.get("end");return(0,y.isNumberEqual)(R.y,j.y)},yt.prototype.getTickPoint=function(R){var j=this,ft=j.get("start"),Pt=j.get("end"),Yt=Pt.x-ft.x,jt=Pt.y-ft.y;return{x:ft.x+Yt*R,y:ft.y+jt*R}},yt.prototype.getSideVector=function(R){var j=this.getAxisVector(),ft=D.normalize([0,0],j),Pt=this.get("verticalFactor"),Yt=[ft[1],ft[0]*-1];return D.scale([0,0],Yt,R*Pt)},yt.prototype.getAxisVector=function(){var R=this.get("start"),j=this.get("end");return[j.x-R.x,j.y-R.y]},yt.prototype.processOverlap=function(R){var j=this,ft=this.isVertical(),Pt=this.isHorizontal();if(!(!ft&&!Pt)){var Yt=this.get("label"),jt=this.get("title"),ee=this.get("verticalLimitLength"),ne=Yt.offset,ce=ee,we=0,Oe=0;jt&&(we=jt.style.fontSize,Oe=jt.spacing),ce&&(ce=ce-ne-Oe-we);var Re=this.get("overlapOrder");if((0,y.each)(Re,function(pr){Yt[pr]&&j.autoProcessOverlap(pr,Yt[pr],R,ce)}),jt){var ir=R.getBBox(),Cr=ft?ir.width:ir.height;(0,y.isNil)(jt.offset)&&(jt.offset=ne+Cr+Oe+we/2)}}},yt.prototype.autoProcessOverlap=function(R,j,ft,Pt){var Yt=this,jt=this.isVertical(),ee=!1,ne=P[R];if(j===!0?ee=ne.getDefault()(jt,ft,Pt):(0,y.isFunction)(j)?ee=j(jt,ft,Pt):ne[j]&&(ee=ne[j](jt,ft,Pt)),R==="autoRotate"){if(ee){var ce=ft.getChildren(),we=this.get("verticalFactor");(0,y.each)(ce,function(Re){var ir=Re.attr("textAlign");if(ir==="center"){var Cr=we>0?"end":"start";Re.attr("textAlign",Cr)}})}}else if(R==="autoHide"){var Oe=ft.getChildren().slice(0);(0,y.each)(Oe,function(Re){Re.get("visible")||(Yt.get("isRegister")&&Yt.unregisterElement(Re),Re.remove())})}},yt}(Le),Bi=Ti,Sr=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},yt.prototype.getLinePath=function(){var R=this.get("center"),j=R.x,ft=R.y,Pt=this.get("radius"),Yt=Pt,jt=this.get("startAngle"),ee=this.get("endAngle"),ne=[];if(Math.abs(ee-jt)===Math.PI*2)ne=[["M",j,ft-Yt],["A",Pt,Yt,0,1,1,j,ft+Yt],["A",Pt,Yt,0,1,1,j,ft-Yt],["Z"]];else{var ce=this.getCirclePoint(jt),we=this.getCirclePoint(ee),Oe=Math.abs(ee-jt)>Math.PI?1:0,Re=jt>ee?0:1;ne=[["M",j,ft],["L",ce.x,ce.y],["A",Pt,Yt,0,Oe,Re,we.x,we.y],["L",j,ft]]}return ne},yt.prototype.getTickPoint=function(R){var j=this.get("startAngle"),ft=this.get("endAngle"),Pt=j+(ft-j)*R;return this.getCirclePoint(Pt)},yt.prototype.getSideVector=function(R,j){var ft=this.get("center"),Pt=[j.x-ft.x,j.y-ft.y],Yt=this.get("verticalFactor"),jt=D.length(Pt);return D.scale(Pt,Pt,Yt*R/jt),Pt},yt.prototype.getAxisVector=function(R){var j=this.get("center"),ft=[R.x-j.x,R.y-j.y];return[ft[1],-1*ft[0]]},yt.prototype.getCirclePoint=function(R,j){var ft=this.get("center");return j=j||this.get("radius"),{x:ft.x+Math.cos(R)*j,y:ft.y+Math.sin(R)*j}},yt}(Le),hi=Sr,bi=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Ze.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Ze.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Ze.fontFamily}},textBackground:{padding:5,style:{stroke:Ze.lineColor}}}})},yt.prototype.renderInner=function(R){this.get("line")&&this.renderLine(R),this.get("text")&&(this.renderText(R),this.renderBackground(R))},yt.prototype.renderText=function(R){var j=this.get("text"),ft=j.style,Pt=j.autoRotate,Yt=j.content;if(!(0,y.isNil)(Yt)){var jt=this.getTextPoint(),ee=null;if(Pt){var ne=this.getRotateAngle();ee=$(jt,ne)}this.addShape(R,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,w.__assign)((0,w.__assign)((0,w.__assign)({},jt),{text:Yt,matrix:ee}),ft)})}},yt.prototype.renderLine=function(R){var j=this.getLinePath(),ft=this.get("line"),Pt=ft.style;this.addShape(R,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,w.__assign)({path:j},Pt)})},yt.prototype.renderBackground=function(R){var j=this.getElementId("text"),ft=R.findById(j),Pt=this.get("textBackground");if(Pt&&ft){var Yt=ft.getBBox(),jt=Dt(Pt.padding),ee=Pt.style,ne=this.addShape(R,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,w.__assign)({x:Yt.x-jt[3],y:Yt.y-jt[0],width:Yt.width+jt[1]+jt[3],height:Yt.height+jt[0]+jt[2],matrix:ft.attr("matrix")},ee)});ne.toBack()}},yt}(et),ti=bi,cn=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"line",locationType:"region",start:null,end:null})},yt.prototype.getRotateAngle=function(){var R=this.getLocation(),j=R.start,ft=R.end,Pt=this.get("text").position,Yt=Math.atan2(ft.y-j.y,ft.x-j.x),jt=Pt==="start"?Yt-Math.PI/2:Yt+Math.PI/2;return jt},yt.prototype.getTextPoint=function(){var R=this.getLocation(),j=R.start,ft=R.end,Pt=this.get("text"),Yt=Pt.position,jt=Pt.offset;return Mt(j,ft,Yt,jt)},yt.prototype.getLinePath=function(){var R=this.getLocation(),j=R.start,ft=R.end;return[["M",j.x,j.y],["L",ft.x,ft.y]]},yt}(ti),ei=cn,Vi=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},yt.prototype.getRotateAngle=function(){var R=this.getLocation(),j=R.startAngle,ft=R.endAngle,Pt=this.get("text").position,Yt=Pt==="start"?j+Math.PI/2:ft-Math.PI/2;return Yt},yt.prototype.getTextPoint=function(){var R=this.get("text"),j=R.position,ft=R.offset,Pt=this.getLocation(),Yt=Pt.center,jt=Pt.radius,ee=Pt.startAngle,ne=Pt.endAngle,ce=j==="start"?ee:ne,we=this.getRotateAngle()-Math.PI,Oe=W(Yt,jt,ce),Re=Math.cos(we)*ft,ir=Math.sin(we)*ft;return{x:Oe.x+Re,y:Oe.y+ir}},yt.prototype.getLinePath=function(){var R=this.getLocation(),j=R.center,ft=R.radius,Pt=R.startAngle,Yt=R.endAngle,jt=null;if(Yt-Pt==Math.PI*2){var ee=j.x,ne=j.y;jt=[["M",ee,ne-ft],["A",ft,ft,0,1,1,ee,ne+ft],["A",ft,ft,0,1,1,ee,ne-ft],["Z"]]}else{var ce=W(j,ft,Pt),we=W(j,ft,Yt),Oe=Math.abs(Yt-Pt)>Math.PI?1:0,Re=Pt>Yt?0:1;jt=[["M",ce.x,ce.y],["A",ft,ft,0,Oe,Re,we.x,we.y]]}return jt},yt}(ti),ri=Vi,Pi=d(6056),Dn=d(45442),Qi=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},yt.prototype.getContainer=function(){return this.get("container")},yt.prototype.show=function(){var R=this.get("container");R.style.display="",this.set("visible",!0)},yt.prototype.hide=function(){var R=this.get("container");R.style.display="none",this.set("visible",!1)},yt.prototype.setCapture=function(R){var j=this.getContainer(),ft=R?"auto":"none";j.style.pointerEvents=ft,this.set("capture",R)},yt.prototype.getBBox=function(){var R=this.getContainer(),j=parseFloat(R.style.left)||0,ft=parseFloat(R.style.top)||0;return mt(j,ft,R.clientWidth,R.clientHeight)},yt.prototype.clear=function(){var R=this.get("container");V(R)},yt.prototype.destroy=function(){this.removeEvent(),this.removeDom(),Ut.prototype.destroy.call(this)},yt.prototype.init=function(){Ut.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},yt.prototype.initCapture=function(){this.setCapture(this.get("capture"))},yt.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},yt.prototype.initDom=function(){},yt.prototype.initContainer=function(){var R=this.get("container");if((0,y.isNil)(R)){R=this.createDom();var j=this.get("parent");(0,y.isString)(j)&&(j=document.getElementById(j),this.set("parent",j)),j.appendChild(R),this.set("container",R)}else(0,y.isString)(R)&&(R=document.getElementById(R),this.set("container",R));this.get("parent")||this.set("parent",R.parentNode)},yt.prototype.resetStyles=function(){var R=this.get("domStyles"),j=this.get("defaultStyles");R?R=(0,y.deepMix)({},j,R):R=j,this.set("domStyles",R)},yt.prototype.applyStyles=function(){var R=this.get("domStyles");if(!!R){var j=this.getContainer();this.applyChildrenStyles(j,R);var ft=this.get("containerClassName");if(ft&&q(j,ft)){var Pt=R[ft];(0,Dn.Z)(j,Pt)}}},yt.prototype.applyChildrenStyles=function(R,j){(0,y.each)(j,function(ft,Pt){var Yt=R.getElementsByClassName(Pt);(0,y.each)(Yt,function(jt){(0,Dn.Z)(jt,ft)})})},yt.prototype.applyStyle=function(R,j){var ft=this.get("domStyles");(0,Dn.Z)(j,ft[R])},yt.prototype.createDom=function(){var R=this.get("containerTpl");return(0,Pi.Z)(R)},yt.prototype.initEvent=function(){},yt.prototype.removeDom=function(){var R=this.get("container");R&&R.parentNode.removeChild(R)},yt.prototype.removeEvent=function(){},yt.prototype.updateInner=function(R){(0,y.hasKey)(R,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},yt.prototype.resetPosition=function(){},yt}(it),ua=Qi,Gt="g2-crosshair",It=Gt+"-line",vt=Gt+"-text",wt,J=(wt={},wt[""+Gt]={position:"relative"},wt[""+It]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},wt[""+vt]={position:"absolute",color:Ze.textColor,fontFamily:Ze.fontFamily},wt),ut=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+Gt+'"></div>',crosshairTpl:'<div class="'+It+'"></div>',textTpl:'<span class="'+vt+'">{content}</span>',domStyles:null,containerClassName:Gt,defaultStyles:J,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},yt.prototype.render=function(){this.resetText(),this.resetPosition()},yt.prototype.initCrossHair=function(){var R=this.getContainer(),j=this.get("crosshairTpl"),ft=(0,Pi.Z)(j);R.appendChild(ft),this.applyStyle(It,ft),this.set("crosshairEl",ft)},yt.prototype.getTextPoint=function(){var R=this.getLocation(),j=R.start,ft=R.end,Pt=this.get("text"),Yt=Pt.position,jt=Pt.offset;return Mt(j,ft,Yt,jt)},yt.prototype.resetText=function(){var R=this.get("text"),j=this.get("textEl");if(R){var ft=R.content;if(!j){var Pt=this.getContainer(),Yt=(0,y.substitute)(this.get("textTpl"),R);j=(0,Pi.Z)(Yt),Pt.appendChild(j),this.applyStyle(vt,j),this.set("textEl",j)}j.innerHTML=ft}else j&&j.remove()},yt.prototype.isVertical=function(R,j){return R.x===j.x},yt.prototype.resetPosition=function(){var R=this.get("crosshairEl");R||(this.initCrossHair(),R=this.get("crosshairEl"));var j=this.get("start"),ft=this.get("end"),Pt=Math.min(j.x,ft.x),Yt=Math.min(j.y,ft.y);this.isVertical(j,ft)?(0,Dn.Z)(R,{width:"1px",height:xt(Math.abs(ft.y-j.y))}):(0,Dn.Z)(R,{height:"1px",width:xt(Math.abs(ft.x-j.x))}),(0,Dn.Z)(R,{top:xt(Yt),left:xt(Pt)}),this.alignText()},yt.prototype.alignText=function(){var R=this.get("textEl");if(R){var j=this.get("text").align,ft=R.clientWidth,Pt=this.getTextPoint();switch(j){case"center":Pt.x=Pt.x-ft/2;break;case"right":Pt.x=Pt.x-ft;case"left":break}(0,Dn.Z)(R,{top:xt(Pt.y),left:xt(Pt.x)})}},yt.prototype.updateInner=function(R){(0,y.hasKey)(R,"text")&&this.resetText(),Ut.prototype.updateInner.call(this,R)},yt}(ua),bt=ut,kt=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Ze.lineColor}}}})},yt.prototype.getLineType=function(){var R=this.get("line")||this.get("defaultCfg").line;return R.type},yt.prototype.renderInner=function(R){this.drawGrid(R)},yt.prototype.getAlternatePath=function(R,j){var ft=this.getGridPath(R),Pt=j.slice(0).reverse(),Yt=this.getGridPath(Pt,!0),jt=this.get("closed");return jt?ft=ft.concat(Yt):(Yt[0][0]="L",ft=ft.concat(Yt),ft.push(["Z"])),ft},yt.prototype.getPathStyle=function(){return this.get("line").style},yt.prototype.drawGrid=function(R){var j=this,ft=this.get("line"),Pt=this.get("items"),Yt=this.get("alternateColor"),jt=null;(0,y.each)(Pt,function(ee,ne){var ce=ee.id||ne;if(ft){var we=j.getPathStyle(),Oe=j.getElementId("line-"+ce),Re=j.getGridPath(ee.points);j.addShape(R,{type:"path",name:"grid-line",id:Oe,attrs:(0,y.mix)({path:Re},we)})}if(Yt&&ne>0){var ir=j.getElementId("region-"+ce),Cr=ne%2==0;if((0,y.isString)(Yt))Cr&&j.drawAlternateRegion(ir,R,jt.points,ee.points,Yt);else{var pr=Cr?Yt[1]:Yt[0];j.drawAlternateRegion(ir,R,jt.points,ee.points,pr)}}jt=ee})},yt.prototype.drawAlternateRegion=function(R,j,ft,Pt,Yt){var jt=this.getAlternatePath(ft,Pt);this.addShape(j,{type:"path",id:R,name:"grid-region",attrs:{path:jt,fill:Yt}})},yt}(et),Bt=kt;function Ht(Ut,yt,R,j){var ft=R-Ut,Pt=j-yt;return Math.sqrt(ft*ft+Pt*Pt)}var ie=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"circle",center:null,closed:!0})},yt.prototype.getGridPath=function(R,j){var ft=this.getLineType(),Pt=this.get("closed"),Yt=[];if(R.length)if(ft==="circle"){var jt=this.get("center"),ee=R[0],ne=Ht(jt.x,jt.y,ee.x,ee.y),ce=j?0:1;Pt?(Yt.push(["M",jt.x,jt.y-ne]),Yt.push(["A",ne,ne,0,0,ce,jt.x,jt.y+ne]),Yt.push(["A",ne,ne,0,0,ce,jt.x,jt.y-ne]),Yt.push(["Z"])):(0,y.each)(R,function(we,Oe){Oe===0?Yt.push(["M",we.x,we.y]):Yt.push(["A",ne,ne,0,0,ce,we.x,we.y])})}else(0,y.each)(R,function(we,Oe){Oe===0?Yt.push(["M",we.x,we.y]):Yt.push(["L",we.x,we.y])}),Pt&&Yt.push(["Z"]);return Yt},yt}(Bt),se=ie,Ae=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"line"})},yt.prototype.getGridPath=function(R){var j=[];return(0,y.each)(R,function(ft,Pt){Pt===0?j.push(["M",ft.x,ft.y]):j.push(["L",ft.x,ft.y])}),j},yt}(Bt),ve=Ae,de=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},yt.prototype.getLayoutBBox=function(){var R=Ut.prototype.getLayoutBBox.call(this),j=this.get("x"),ft=this.get("y"),Pt=this.get("offsetX"),Yt=this.get("offsetY"),jt=this.get("maxWidth"),ee=this.get("maxHeight"),ne=j+Pt,ce=ft+Yt,we=R.maxX-ne,Oe=R.maxY-ce;return jt&&(we=Math.min(we,jt)),ee&&(Oe=Math.min(Oe,ee)),mt(ne,ce,we,Oe)},yt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetLocation()},yt.prototype.resetLocation=function(){var R=this.get("x"),j=this.get("y"),ft=this.get("offsetX"),Pt=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R+ft,y:j+Pt})},yt.prototype.applyOffset=function(){this.resetLocation()},yt.prototype.getDrawPoint=function(){return this.get("currentPoint")},yt.prototype.setDrawPoint=function(R){return this.set("currentPoint",R)},yt.prototype.renderInner=function(R){this.resetDraw(),this.get("title")&&this.drawTitle(R),this.drawLegendContent(R),this.get("background")&&this.drawBackground(R)},yt.prototype.drawBackground=function(R){var j=this.get("background"),ft=R.getBBox(),Pt=Dt(j.padding),Yt=(0,w.__assign)({x:0,y:0,width:ft.width+Pt[1]+Pt[3],height:ft.height+Pt[0]+Pt[2]},j.style),jt=this.addShape(R,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:Yt});jt.toBack()},yt.prototype.drawTitle=function(R){var j=this.get("currentPoint"),ft=this.get("title"),Pt=ft.spacing,Yt=ft.style,jt=ft.text,ee=this.addShape(R,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,w.__assign)({text:jt,x:j.x,y:j.y},Yt)}),ne=ee.getBBox();this.set("currentPoint",{x:j.x,y:ne.maxY+Pt})},yt.prototype.resetDraw=function(){var R=this.get("background"),j={x:0,y:0};if(R){var ft=Dt(R.padding);j.x=ft[3],j.y=ft[0]}this.set("currentPoint",j)},yt}(et),Ke=de,Qe=function(Ut){(0,w.__extends)(yt,Ut);function yt(){var R=Ut!==null&&Ut.apply(this,arguments)||this;return R.currentPageIndex=1,R.totalPagesCnt=1,R.pageWidth=0,R.pageHeight=0,R.startX=0,R.startY=0,R.onNavigationBack=function(){var j=R.getElementByLocalId("item-group");if(R.currentPageIndex>1){R.currentPageIndex-=1,R.updateNavigation();var ft=R.getCurrentNavigationMatrix();R.get("animate")?j.animate({matrix:ft},100):j.attr({matrix:ft})}},R.onNavigationAfter=function(){var j=R.getElementByLocalId("item-group");if(R.currentPageIndex<R.totalPagesCnt){R.currentPageIndex+=1,R.updateNavigation();var ft=R.getCurrentNavigationMatrix();R.get("animate")?j.animate({matrix:ft},100):j.attr({matrix:ft})}},R}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:Ze.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Ze.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:Ze.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:Ze.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Ze.uncheckedColor},markerStyle:{fill:Ze.uncheckedColor,stroke:Ze.uncheckedColor}},inactive:{nameStyle:{fill:Ze.uncheckedColor},markerStyle:{opacity:.2}}}}})},yt.prototype.isList=function(){return!0},yt.prototype.getItems=function(){return this.get("items")},yt.prototype.setItems=function(R){this.update({items:R})},yt.prototype.updateItem=function(R,j){(0,y.mix)(R,j),this.clear(),this.render()},yt.prototype.clearItems=function(){var R=this.getElementByLocalId("item-group");R&&R.clear()},yt.prototype.setItemState=function(R,j,ft){R[j]=ft;var Pt=this.getElementByLocalId("item-"+R.id);if(Pt){var Yt=this.getItems(),jt=Yt.indexOf(R),ee=this.createOffScreenGroup(),ne=this.drawItem(R,jt,this.getItemHeight(),ee);this.updateElements(ne,Pt),this.clearUpdateStatus(Pt)}},yt.prototype.hasState=function(R,j){return!!R[j]},yt.prototype.getItemStates=function(R){var j=this.get("itemStates"),ft=[];return(0,y.each)(j,function(Pt,Yt){R[Yt]&&ft.push(Yt)}),ft},yt.prototype.clearItemsState=function(R){var j=this,ft=this.getItemsByState(R);(0,y.each)(ft,function(Pt){j.setItemState(Pt,R,!1)})},yt.prototype.getItemsByState=function(R){var j=this,ft=this.getItems();return(0,y.filter)(ft,function(Pt){return j.hasState(Pt,R)})},yt.prototype.drawLegendContent=function(R){this.processItems(),this.drawItems(R)},yt.prototype.processItems=function(){var R=this.get("items");(0,y.each)(R,function(j){j.id||(j.id=j.name)})},yt.prototype.drawItems=function(R){var j=this,ft=this.addGroup(R,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),Pt=this.addGroup(ft,{id:this.getElementId("item-group"),name:"legend-item-group"}),Yt=this.getItemHeight(),jt=this.get("itemWidth"),ee=this.get("itemSpacing"),ne=this.get("currentPoint"),ce=ne.x,we=ne.y,Oe=this.get("layout"),Re=this.get("items"),ir=!1,Cr=0,pr=this.get("maxWidth"),Wr=this.get("maxHeight");(0,y.each)(Re,function(Kr,jr){var Nt=j.drawItem(Kr,jr,Yt,Pt),qt=Nt.getBBox(),ue=jt||qt.width;ue>Cr&&(Cr=ue),Oe==="horizontal"?(pr&&pr<ne.x+ue-ce&&(ir=!0,ne.x=ce,ne.y+=Yt),j.moveElementTo(Nt,ne),ne.x+=ue+ee):(Wr&&Wr<ne.y+Yt-we&&(ir=!0,ne.x+=Cr+ee,ne.y=we,Cr=0),j.moveElementTo(Nt,ne),ne.y+=Yt)}),ir&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=ce,this.startY=we,this.adjustNavigation(R,Pt))},yt.prototype.getItemHeight=function(){var R=this.get("itemHeight");if(!R){var j=this.get("itemName");j&&(R=j.style.fontSize+8)}return R},yt.prototype.drawMarker=function(R,j,ft,Pt){var Yt=(0,w.__assign)((0,w.__assign)((0,w.__assign)({x:0,y:Pt/2},j.style),{symbol:(0,y.get)(ft.marker,"symbol","circle")}),(0,y.get)(ft.marker,"style",{})),jt=this.addShape(R,{type:"marker",id:this.getElementId("item-"+ft.id+"-marker"),name:"legend-item-marker",attrs:Yt}),ee=jt.getBBox();jt.attr("x",ee.width/2);var ne=jt.attr(),ce=ne.stroke,we=ne.fill;return ce&&jt.set("isStroke",!0),we&&jt.set("isFill",!0),jt},yt.prototype.drawItemText=function(R,j,ft,Pt,Yt,jt,ee){var ne=ft.formatter,ce=(0,w.__assign)({x:jt,y:Yt/2,text:ne?ne(Pt[j],Pt,ee):Pt[j]},ft.style);return this.addShape(R,{type:"text",id:this.getElementId("item-"+Pt.id+"-"+j),name:"legend-item-"+j,attrs:ce})},yt.prototype.drawItem=function(R,j,ft,Pt){var Yt="item-"+R.id,jt=this.addGroup(Pt,{name:"legend-item-container",id:this.getElementId("item-container-"+Yt),delegateObject:{item:R,index:j}}),ee=this.addGroup(jt,{name:"legend-item",id:this.getElementId(Yt),delegateObject:{item:R,index:j}}),ne=this.get("marker"),ce=this.get("itemName"),we=this.get("itemValue"),Oe=this.get("itemBackground"),Re=this.getLimitItemWidth(),ir=0;if(ne){var Cr=this.drawMarker(ee,ne,R,ft);ir=Cr.getBBox().maxX+ne.spacing}if(ce){var pr=this.drawItemText(ee,"name",ce,R,ft,ir,j);Re&&je(!0,pr,(0,y.clamp)(Re-ir,0,Re)),ir=pr.getBBox().maxX+ce.spacing}if(we){var Wr=this.drawItemText(ee,"value",we,R,ft,ir,j);Re&&(we.alignRight?(Wr.attr({textAlign:"right",x:Re}),je(!0,Wr,(0,y.clamp)(Re-ir,0,Re),"head")):je(!0,Wr,(0,y.clamp)(Re-ir,0,Re)))}if(Oe){var Kr=ee.getBBox(),jr=this.addShape(ee,{type:"rect",name:"legend-item-background",id:this.getElementId(Yt+"-background"),attrs:(0,w.__assign)({x:0,y:0,width:Kr.width,height:ft},Oe.style)});jr.toBack()}return this.applyItemStates(R,ee),ee},yt.prototype.adjustNavigation=function(R,j){var ft=this,Pt=this.startX,Yt=this.startY,jt=this.get("layout"),ee=j.findAll(function(ue){return ue.get("name")==="legend-item"}),ne=this.get("maxWidth"),ce=this.get("maxHeight"),we=this.get("itemWidth"),Oe=this.get("itemSpacing"),Re=this.getItemHeight(),ir=this.drawNavigation(R,jt,"00/00",12),Cr=ir.getBBox(),pr={x:Pt,y:Yt},Wr=1,Kr=0,jr=0,Nt=0;if(jt==="horizontal")this.pageHeight=Re,(0,y.each)(ee,function(ue){var ye=ue.getBBox(),Pe=we||ye.width;(Kr&&Kr<pr.x+Pe+Oe||ne<pr.x+Pe+Oe+Cr.width)&&(Wr===1&&(Kr=pr.x+Oe,ft.pageWidth=Kr,ft.moveElementTo(ir,{x:ne-Oe-Cr.width-Cr.minX,y:pr.y+Re/2-Cr.height/2-Cr.minY})),Wr+=1,pr.x=Pt,pr.y+=Re),ft.moveElementTo(ue,pr),ue.getParent().setClip({type:"rect",attrs:{x:pr.x,y:pr.y,width:Pe+Oe,height:Re}}),pr.x+=Pe+Oe});else{(0,y.each)(ee,function(ue){var ye=ue.getBBox();ye.width>jr&&(jr=ye.width)}),Nt=jr,jr+=Oe,ne&&(jr=Math.min(ne,jr),Nt=Math.min(ne,Nt)),this.pageWidth=jr,this.pageHeight=ce-Math.max(Cr.height,Re);var qt=Math.floor(this.pageHeight/Re);(0,y.each)(ee,function(ue,ye){ye!==0&&ye%qt==0&&(Wr+=1,pr.x+=jr,pr.y=Yt),ft.moveElementTo(ue,pr),ue.getParent().setClip({type:"rect",attrs:{x:pr.x,y:pr.y,width:jr,height:Re}}),pr.y+=Re}),this.totalPagesCnt=Wr,this.moveElementTo(ir,{x:Pt+Nt/2-Cr.width/2-Cr.minX,y:ce-Cr.height-Cr.minY})}this.pageHeight&&this.pageWidth&&j.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Wr,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(ir),j.attr("matrix",this.getCurrentNavigationMatrix())},yt.prototype.drawNavigation=function(R,j,ft,Pt){var Yt={x:0,y:0},jt=this.addGroup(R,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),ee=this.drawArrow(jt,Yt,"navigation-arrow-left",j==="horizontal"?"up":"left",Pt);ee.on("click",this.onNavigationBack);var ne=ee.getBBox();Yt.x+=ne.width+2;var ce=this.addShape(jt,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:Yt.x,y:Yt.y+Pt/2,text:ft,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),we=ce.getBBox();Yt.x+=we.width+2;var Oe=this.drawArrow(jt,Yt,"navigation-arrow-right",j==="horizontal"?"down":"right",Pt);return Oe.on("click",this.onNavigationAfter),jt},yt.prototype.updateNavigation=function(R){var j=this.currentPageIndex+"/"+this.totalPagesCnt,ft=R?R.getChildren()[1]:this.getElementByLocalId("navigation-text"),Pt=R?R.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),Yt=R?R.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),jt=ft.getBBox();ft.attr("text",j);var ee=ft.getBBox();ft.attr("x",ft.attr("x")-(ee.width-jt.width)/2),Pt.attr("opacity",this.currentPageIndex===1?.45:1),Pt.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),Yt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),Yt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},yt.prototype.drawArrow=function(R,j,ft,Pt,Yt){var jt=j.x,ee=j.y,ne={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},ce=this.addShape(R,{type:"path",id:this.getElementId(ft),name:ft,attrs:{path:[["M",jt+Yt/2,ee],["L",jt,ee+Yt],["L",jt+Yt,ee+Yt],["Z"]],fill:"#000",cursor:"pointer"}});return ce.attr("matrix",$({x:jt+Yt/2,y:ee+Yt/2},ne[Pt])),ce},yt.prototype.getCurrentNavigationMatrix=function(){var R=this,j=R.currentPageIndex,ft=R.pageWidth,Pt=R.pageHeight,Yt=this.get("layout"),jt=Yt==="horizontal"?{x:0,y:Pt*(1-j)}:{x:ft*(1-j),y:0};return H(jt)},yt.prototype.applyItemStates=function(R,j){var ft=this.getItemStates(R),Pt=ft.length>0;if(Pt){var Yt=j.getChildren(),jt=this.get("itemStates");(0,y.each)(Yt,function(ee){var ne=ee.get("name"),ce=ne.split("-")[2],we=he(R,ce,jt);we&&(ee.attr(we),ce==="marker"&&!(ee.get("isStroke")&&ee.get("isFill"))&&(ee.get("isStroke")&&ee.attr("fill",null),ee.get("isFill")&&ee.attr("stroke",null)))})}},yt.prototype.getLimitItemWidth=function(){var R=this.get("itemWidth"),j=this.get("maxItemWidth");return j?R&&(j=R<=j?R:j):R&&(j=R),j},yt}(Ke),gr=Qe,cr=1.4,$e=.4,ze=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Ze.textColor,textBaseline:"middle",fontFamily:Ze.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Ze.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},yt.prototype.isSlider=function(){return!0},yt.prototype.getValue=function(){return this.getCurrentValue()},yt.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},yt.prototype.setRange=function(R,j){this.update({min:R,max:j})},yt.prototype.setValue=function(R){var j=this.getValue();this.set("value",R);var ft=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(ft),this.delegateEmit("valuechanged",{originValue:j,value:R})},yt.prototype.initEvent=function(){var R=this.get("group");this.bindSliderEvent(R),this.bindRailEvent(R),this.bindTrackEvent(R)},yt.prototype.drawLegendContent=function(R){this.drawRail(R),this.drawLabels(R),this.fixedElements(R),this.resetTrack(R),this.resetTrackClip(R),this.get("slidable")&&this.resetHandlers(R)},yt.prototype.bindSliderEvent=function(R){this.bindHandlersEvent(R)},yt.prototype.bindHandlersEvent=function(R){var j=this;R.on("legend-handler-min:drag",function(ft){var Pt=j.getValueByCanvasPoint(ft.x,ft.y),Yt=j.getCurrentValue(),jt=Yt[1];jt<Pt&&(jt=Pt),j.setValue([Pt,jt])}),R.on("legend-handler-max:drag",function(ft){var Pt=j.getValueByCanvasPoint(ft.x,ft.y),Yt=j.getCurrentValue(),jt=Yt[0];jt>Pt&&(jt=Pt),j.setValue([jt,Pt])})},yt.prototype.bindRailEvent=function(R){},yt.prototype.bindTrackEvent=function(R){var j=this,ft=null;R.on("legend-track:dragstart",function(Pt){ft={x:Pt.x,y:Pt.y}}),R.on("legend-track:drag",function(Pt){if(!!ft){var Yt=j.getValueByCanvasPoint(ft.x,ft.y),jt=j.getValueByCanvasPoint(Pt.x,Pt.y),ee=j.getCurrentValue(),ne=ee[1]-ee[0],ce=j.getRange(),we=jt-Yt;we<0?ee[0]+we>ce.min?j.setValue([ee[0]+we,ee[1]+we]):j.setValue([ce.min,ce.min+ne]):we>0&&(we>0&&ee[1]+we<ce.max?j.setValue([ee[0]+we,ee[1]+we]):j.setValue([ce.max-ne,ce.max])),ft={x:Pt.x,y:Pt.y}}}),R.on("legend-track:dragend",function(Pt){ft=null})},yt.prototype.drawLabels=function(R){this.drawLabel("min",R),this.drawLabel("max",R)},yt.prototype.drawLabel=function(R,j){var ft=this.get("label"),Pt=ft.style,Yt=ft.align,jt=this.get(R),ee=this.getLabelAlignAttrs(R,Yt),ne="label-"+R;this.addShape(j,{type:"text",id:this.getElementId(ne),name:"legend-label-"+R,attrs:(0,w.__assign)((0,w.__assign)({x:0,y:0,text:jt},Pt),ee)})},yt.prototype.getLabelAlignAttrs=function(R,j){var ft=this.isVertical(),Pt="center",Yt="middle";return ft?(Pt="start",j!=="rail"?R==="min"?Yt="top":Yt="bottom":Yt="top"):j!=="rail"?(Yt="top",R==="min"?Pt="start":Pt="end"):(Pt="start",Yt="middle"),{textAlign:Pt,textBaseline:Yt}},yt.prototype.getRailPath=function(R,j,ft,Pt){var Yt=this.get("rail"),jt=Yt.size,ee=Yt.defaultLength,ne=Yt.type,ce=this.isVertical(),we=ee,Oe=ft,Re=Pt;Oe||(Oe=ce?jt:we),Re||(Re=ce?we:jt);var ir=[];return ne==="color"?(ir.push(["M",R,j]),ir.push(["L",R+Oe,j]),ir.push(["L",R+Oe,j+Re]),ir.push(["L",R,j+Re]),ir.push(["Z"])):(ir.push(["M",R+Oe,j]),ir.push(["L",R+Oe,j+Re]),ir.push(["L",R,j+Re]),ir.push(["Z"])),ir},yt.prototype.drawRail=function(R){var j=this.get("rail"),ft=j.style;this.addShape(R,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,w.__assign)({path:this.getRailPath(0,0)},ft)})},yt.prototype.getTrackColor=function(R){var j=R.length;if(!j)return null;if(j===1)return R[0];var ft;this.isVertical()?ft="l(90)":ft="l(0)";for(var Pt=0;Pt<j;Pt++){var Yt=Pt/(j-1);ft+=" "+Yt+":"+R[Pt]}return ft},yt.prototype.getTrackPath=function(R){var j=this.getRailShape(R),ft=j.attr("path");return(0,y.clone)(ft)},yt.prototype.getClipTrackAttrs=function(R){var j=this.getCurrentValue(),ft=j[0],Pt=j[1],Yt=this.getRailBBox(R),jt=this.getPointByValue(ft,R),ee=this.getPointByValue(Pt,R),ne=this.isVertical(),ce,we,Oe,Re;return ne?(ce=Yt.minX,we=jt.y,Oe=Yt.width,Re=ee.y-jt.y):(ce=jt.x,we=Yt.minY,Oe=ee.x-jt.x,Re=Yt.height),{x:ce,y:we,width:Oe,height:Re}},yt.prototype.getTrackAttrs=function(R){var j=this.get("track"),ft=this.get("colors"),Pt=this.getTrackPath(R);return(0,y.mix)({path:Pt,fill:this.getTrackColor(ft)},j.style)},yt.prototype.resetTrackClip=function(R){var j=R||this.get("group"),ft=this.getElementId("track"),Pt=j.findById(ft),Yt=Pt.getClip(),jt=this.getClipTrackAttrs(R);Yt?Yt.attr(jt):Pt.setClip({type:"rect",attrs:jt})},yt.prototype.resetTrack=function(R){var j=this.getElementId("track"),ft=R.findById(j),Pt=this.getTrackAttrs(R);ft?ft.attr(Pt):this.addShape(R,{type:"path",id:j,draggable:this.get("slidable"),name:"legend-track",attrs:Pt})},yt.prototype.getPointByValue=function(R,j){var ft=this.getRange(),Pt=ft.min,Yt=ft.max,jt=(R-Pt)/(Yt-Pt),ee=this.getRailBBox(j),ne=this.isVertical(),ce={x:0,y:0};return ne?(ce.x=ee.minX+ee.width/2,ce.y=rt(ee.minY,ee.maxY,jt)):(ce.x=rt(ee.minX,ee.maxX,jt),ce.y=ee.minY+ee.height/2),ce},yt.prototype.getRailShape=function(R){var j=R||this.get("group");return j.findById(this.getElementId("rail"))},yt.prototype.getRailBBox=function(R){var j=this.getRailShape(R),ft=j.getBBox();return ft},yt.prototype.getRailCanvasBBox=function(){var R=this.get("group"),j=R.findById(this.getElementId("rail")),ft=j.getCanvasBBox();return ft},yt.prototype.isVertical=function(){return this.get("layout")==="vertical"},yt.prototype.getValueByCanvasPoint=function(R,j){var ft=this.getRange(),Pt=ft.min,Yt=ft.max,jt=this.getRailCanvasBBox(),ee=this.isVertical(),ne=this.get("step"),ce;ee?ce=(j-jt.minY)/jt.height:ce=(R-jt.minX)/jt.width;var we=rt(Pt,Yt,ce);if(ne){var Oe=Math.round((we-Pt)/ne);we=Pt+Oe*ne}return we>Yt&&(we=Yt),we<Pt&&(we=Pt),we},yt.prototype.getCurrentValue=function(){var R=this.get("value");return R||(R=[this.get("min"),this.get("max")]),R},yt.prototype.resetHandlers=function(R){var j=this.getCurrentValue(),ft=j[0],Pt=j[1];this.resetHandler(R,"min",ft),this.resetHandler(R,"max",Pt)},yt.prototype.getHandlerPath=function(R,j){var ft=this.isVertical(),Pt=[],Yt=R.size,jt=j.x,ee=j.y,ne=Yt*cr,ce=Yt/2,we=Yt/6;if(ft){var Oe=jt+ne*$e;Pt.push(["M",jt,ee]),Pt.push(["L",Oe,ee+ce]),Pt.push(["L",jt+ne,ee+ce]),Pt.push(["L",jt+ne,ee-ce]),Pt.push(["L",Oe,ee-ce]),Pt.push(["Z"]),Pt.push(["M",Oe,ee+we]),Pt.push(["L",jt+ne-2,ee+we]),Pt.push(["M",Oe,ee-we]),Pt.push(["L",jt+ne-2,ee-we])}else{var Re=ee+ne*$e;Pt.push(["M",jt,ee]),Pt.push(["L",jt-ce,Re]),Pt.push(["L",jt-ce,ee+ne]),Pt.push(["L",jt+ce,ee+ne]),Pt.push(["L",jt+ce,Re]),Pt.push(["Z"]),Pt.push(["M",jt-we,Re]),Pt.push(["L",jt-we,ee+ne-2]),Pt.push(["M",jt+we,Re]),Pt.push(["L",jt+we,ee+ne-2])}return Pt},yt.prototype.resetHandler=function(R,j,ft){var Pt=this.getPointByValue(ft,R),Yt=this.get("handler"),jt=this.getHandlerPath(Yt,Pt),ee=this.getElementId("handler-"+j),ne=R.findById(ee),ce=this.isVertical();ne?ne.attr("path",jt):this.addShape(R,{type:"path",name:"legend-handler-"+j,draggable:!0,id:ee,attrs:(0,w.__assign)((0,w.__assign)({path:jt},Yt.style),{cursor:ce?"ns-resize":"ew-resize"})})},yt.prototype.fixedElements=function(R){var j=R.findById(this.getElementId("rail")),ft=R.findById(this.getElementId("label-min")),Pt=R.findById(this.getElementId("label-max")),Yt=this.getDrawPoint();this.isVertical()?this.fixedVertail(ft,Pt,j,Yt):this.fixedHorizontal(ft,Pt,j,Yt)},yt.prototype.fitRailLength=function(R,j,ft,Pt){var Yt=this.isVertical(),jt=Yt?"height":"width",ee=this.get("label"),ne=ee.align,ce=ee.spacing,we=this.get("max"+(0,y.upperFirst)(jt));if(we){var Oe=ne==="rail"?ft[jt]+R[jt]+j[jt]+ce*2:ft[jt],Re=Oe-we;Re>0&&this.changeRailLength(Pt,jt,ft[jt]-Re)}},yt.prototype.changeRailLength=function(R,j,ft){var Pt=R.getBBox(),Yt;j==="height"?Yt=this.getRailPath(Pt.x,Pt.y,Pt.width,ft):Yt=this.getRailPath(Pt.x,Pt.y,ft,Pt.height),R.attr("path",Yt)},yt.prototype.changeRailPosition=function(R,j,ft){var Pt=R.getBBox(),Yt=this.getRailPath(j,ft,Pt.width,Pt.height);R.attr("path",Yt)},yt.prototype.fixedHorizontal=function(R,j,ft,Pt){var Yt=this.get("label"),jt=Yt.align,ee=Yt.spacing,ne=ft.getBBox(),ce=R.getBBox(),we=j.getBBox(),Oe=ne.height;this.fitRailLength(ce,we,ne,ft),ne=ft.getBBox(),jt==="rail"?(R.attr({x:Pt.x,y:Pt.y+Oe/2}),this.changeRailPosition(ft,Pt.x+ce.width+ee,Pt.y),j.attr({x:Pt.x+ce.width+ne.width+ee*2,y:Pt.y+Oe/2})):jt==="top"?(R.attr({x:Pt.x,y:Pt.y}),j.attr({x:Pt.x+ne.width,y:Pt.y}),this.changeRailPosition(ft,Pt.x,Pt.y+ce.height+ee)):(this.changeRailPosition(ft,Pt.x,Pt.y),R.attr({x:Pt.x,y:Pt.y+ne.height+ee}),j.attr({x:Pt.x+ne.width,y:Pt.y+ne.height+ee}))},yt.prototype.fixedVertail=function(R,j,ft,Pt){var Yt=this.get("label"),jt=Yt.align,ee=Yt.spacing,ne=ft.getBBox(),ce=R.getBBox(),we=j.getBBox();if(this.fitRailLength(ce,we,ne,ft),ne=ft.getBBox(),jt==="rail")R.attr({x:Pt.x,y:Pt.y}),this.changeRailPosition(ft,Pt.x,Pt.y+ce.height+ee),j.attr({x:Pt.x,y:Pt.y+ce.height+ne.height+ee*2});else if(jt==="right")R.attr({x:Pt.x+ne.width+ee,y:Pt.y}),this.changeRailPosition(ft,Pt.x,Pt.y),j.attr({x:Pt.x+ne.width+ee,y:Pt.y+ne.height});else{var Oe=Math.max(ce.width,we.width);R.attr({x:Pt.x,y:Pt.y}),this.changeRailPosition(ft,Pt.x+Oe+ee,Pt.y),j.attr({x:Pt.x,y:Pt.y+ne.height})}},yt}(Ke),Or=ze,Zr=d(55223),vn="g2-tooltip",Mn="g2-tooltip-title",Yn="g2-tooltip-list",Hi="g2-tooltip-list-item",Vn="g2-tooltip-marker",ni="g2-tooltip-value",ii="g2-tooltip-name",Di="g2-tooltip-crosshair-x",Wi="g2-tooltip-crosshair-y",tn,fa=(tn={},tn[""+vn]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Ze.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},tn[""+Mn]={marginBottom:"4px"},tn[""+Yn]={margin:"0px",listStyleType:"none",padding:"0px"},tn[""+Hi]={listStyleType:"none",marginBottom:"4px"},tn[""+Vn]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},tn[""+ni]={display:"inline-block",float:"right",marginLeft:"30px"},tn[""+Di]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},tn[""+Wi]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},tn);function ta(Ut,yt,R,j,ft){var Pt={left:Ut<ft.x,right:Ut+R>ft.x+ft.width,top:yt<ft.y,bottom:yt+j>ft.y+ft.height};return Pt}function $n(Ut,yt,R,j,ft,Pt){var Yt=Ut,jt=yt;switch(Pt){case"left":Yt=Ut-j-R,jt=yt-ft/2;break;case"right":Yt=Ut+R,jt=yt-ft/2;break;case"top":Yt=Ut-j/2,jt=yt-ft-R;break;case"bottom":Yt=Ut-j/2,jt=yt+R;break;default:Yt=Ut+R,jt=yt-ft-R;break}return{x:Yt,y:jt}}function ha(Ut,yt,R,j,ft,Pt,Yt){var jt=$n(Ut,yt,R,j,ft,Pt);if(Yt){var ee=ta(jt.x,jt.y,j,ft,Yt);Pt==="auto"?(ee.right&&(jt.x=Math.max(0,Ut-j-R)),ee.top&&(jt.y=Math.max(0,yt-ft-R))):Pt==="top"||Pt==="bottom"?(ee.left&&(jt.x=Yt.x),ee.right&&(jt.x=Yt.x+Yt.width-j),Pt==="top"&&ee.top&&(jt.y=yt+R),Pt==="bottom"&&ee.bottom&&(jt.y=yt-ft-R)):(ee.top&&(jt.y=Yt.y),ee.bottom&&(jt.y=Yt.y+Yt.height-ft),Pt==="left"&&ee.left&&(jt.x=Ut+R),Pt==="right"&&ee.right&&(jt.x=Ut-j-R))}return jt}function wi(Ut,yt){var R=!1;return(0,y.each)(yt,function(j){if((0,y.hasKey)(Ut,j))return R=!0,!1}),R}var ea=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+vn+'"><div class="'+Mn+'"></div><ul class="'+Yn+'"></ul></div>',itemTpl:'<li class="'+Hi+`" data-index={index}>
          <span class="`+Vn+`" style="background:{color}"></span>
          <span class="`+ii+`">{name}</span>:
          <span class="`+ni+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Di+'"></div>',yCrosshairTpl:'<div class="'+Wi+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:vn,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:fa})},yt.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},yt.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},yt.prototype.show=function(){var R=this.getContainer();!R||this.destroyed||(this.set("visible",!0),(0,Dn.Z)(R,{visibility:"visible"}),this.setCrossHairsVisible(!0))},yt.prototype.hide=function(){var R=this.getContainer();!R||this.destroyed||(this.set("visible",!1),(0,Dn.Z)(R,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},yt.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},yt.prototype.setLocation=function(R){this.set("x",R.x),this.set("y",R.y),this.resetPosition()},yt.prototype.setCrossHairsVisible=function(R){var j=R?"":"none",ft=this.get("xCrosshairDom"),Pt=this.get("yCrosshairDom");ft&&(0,Dn.Z)(ft,{display:j}),Pt&&(0,Dn.Z)(Pt,{display:j})},yt.prototype.initContainer=function(){if(Ut.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var R=this.getHtmlContentNode();this.get("parent").appendChild(R),this.set("container",R),this.resetStyles(),this.applyStyles()}},yt.prototype.updateInner=function(R){this.get("customContent")?this.renderCustomContent():(wi(R,["title","showTitle"])&&this.resetTitle(),(0,y.hasKey)(R,"items")&&this.renderItems()),Ut.prototype.updateInner.call(this,R)},yt.prototype.initDom=function(){this.cacheDoms()},yt.prototype.removeDom=function(){Ut.prototype.removeDom.call(this),this.clearCrosshairs()},yt.prototype.resetPosition=function(){var R=this.get("x"),j=this.get("y"),ft=this.get("offset"),Pt=this.getOffset(),Yt=Pt.offsetX,jt=Pt.offsetY,ee=this.get("position"),ne=this.get("region"),ce=this.getContainer(),we=this.getBBox(),Oe=we.width,Re=we.height,ir;ne&&(ir=K(ne));var Cr=ha(R,j,ft,Oe,Re,ee,ir);(0,Dn.Z)(ce,{left:xt(Cr.x+Yt),top:xt(Cr.y+jt)}),this.resetCrosshairs()},yt.prototype.renderCustomContent=function(){var R=this.getHtmlContentNode(),j=this.get("parent"),ft=this.get("container");ft&&ft.parentNode===j?j.replaceChild(R,ft):j.appendChild(R),this.set("container",R),this.resetStyles(),this.applyStyles()},yt.prototype.getHtmlContentNode=function(){var R,j=this.get("customContent");if(j){var ft=j(this.get("title"),this.get("items"));(0,y.isElement)(ft)?R=ft:R=(0,Pi.Z)(ft)}return R},yt.prototype.cacheDoms=function(){var R=this.getContainer(),j=R.getElementsByClassName(Mn)[0],ft=R.getElementsByClassName(Yn)[0];this.set("titleDom",j),this.set("listDom",ft)},yt.prototype.resetTitle=function(){var R=this.get("title"),j=this.get("showTitle");j&&R?this.setTitle(R):this.setTitle("")},yt.prototype.setTitle=function(R){var j=this.get("titleDom");j&&(j.innerText=R)},yt.prototype.resetCrosshairs=function(){var R=this.get("crosshairsRegion"),j=this.get("crosshairs");if(!R||!j)this.clearCrosshairs();else{var ft=K(R),Pt=this.get("xCrosshairDom"),Yt=this.get("yCrosshairDom");j==="x"?(this.resetCrosshair("x",ft),Yt&&(Yt.remove(),this.set("yCrosshairDom",null))):j==="y"?(this.resetCrosshair("y",ft),Pt&&(Pt.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",ft),this.resetCrosshair("y",ft)),this.setCrossHairsVisible(this.get("visible"))}},yt.prototype.resetCrosshair=function(R,j){var ft=this.checkCrosshair(R),Pt=this.get(R);R==="x"?(0,Dn.Z)(ft,{left:xt(Pt),top:xt(j.y),height:xt(j.height)}):(0,Dn.Z)(ft,{top:xt(Pt),left:xt(j.x),width:xt(j.width)})},yt.prototype.checkCrosshair=function(R){var j=R+"CrosshairDom",ft=R+"CrosshairTpl",Pt="CROSSHAIR_"+R.toUpperCase(),Yt=b[Pt],jt=this.get(j),ee=this.get("parent");return jt||(jt=(0,Pi.Z)(this.get(ft)),this.applyStyle(Yt,jt),ee.appendChild(jt),this.set(j,jt)),jt},yt.prototype.renderItems=function(){this.clearItemDoms();var R=this.get("items"),j=this.get("itemTpl"),ft=this.get("listDom");ft&&((0,y.each)(R,function(Pt){var Yt=Zr.default.toCSSGradient(Pt.color),jt=(0,w.__assign)((0,w.__assign)({},Pt),{color:Yt}),ee=(0,y.substitute)(j,jt),ne=(0,Pi.Z)(ee);ft.appendChild(ne)}),this.applyChildrenStyles(ft,this.get("domStyles")))},yt.prototype.clearItemDoms=function(){this.get("listDom")&&V(this.get("listDom"))},yt.prototype.clearCrosshairs=function(){var R=this.get("xCrosshairDom"),j=this.get("yCrosshairDom");R&&R.remove(),j&&j.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},yt}(ua),Fi=ea,Da={opacity:0},Li={stroke:"#C5C5C5",strokeOpacity:.85},Fa={fill:"#CACED4",opacity:.85},ji=d(57350),ci=d(2443);function Sa(Ut){return(0,y.map)(Ut,function(yt,R){var j=R===0?"M":"L",ft=yt[0],Pt=yt[1];return[j,ft,Pt]})}function ra(Ut){return Sa(Ut)}function Ka(Ut){if(Ut.length<=2)return ra(Ut);var yt=[];(0,y.each)(Ut,function(Yt){(0,y.isEqual)(Yt,yt.slice(yt.length-2))||yt.push(Yt[0],Yt[1])});var R=(0,ji.catmullRom2Bezier)(yt,!1),j=(0,y.head)(Ut),ft=j[0],Pt=j[1];return R.unshift(["M",ft,Pt]),R}function Ca(Ut,yt,R,j){j===void 0&&(j=!0);var ft=new ci.Linear({values:Ut}),Pt=new ci.Category({values:(0,y.map)(Ut,function(jt,ee){return ee})}),Yt=(0,y.map)(Ut,function(jt,ee){return[Pt.scale(ee)*yt,R-ft.scale(jt)*R]});return j?Ka(Yt):ra(Yt)}function os(Ut,yt,R){var j=(0,w.__spreadArrays)(Ut);return j.push(["L",yt,0]),j.push(["L",0,R]),j.push(["Z"]),j}var Oo=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Da,lineStyle:Li,areaStyle:Fa})},yt.prototype.renderInner=function(R){var j=this.cfg,ft=j.width,Pt=j.height,Yt=j.data,jt=j.smooth,ee=j.isArea,ne=j.backgroundStyle,ce=j.lineStyle,we=j.areaStyle;this.addShape(R,{id:this.getElementId("background"),type:"rect",attrs:(0,w.__assign)({x:0,y:0,width:ft,height:Pt},ne)});var Oe=Ca(Yt,ft,Pt,jt);if(this.addShape(R,{id:this.getElementId("line"),type:"path",attrs:(0,w.__assign)({path:Oe},ce)}),ee){var Re=os(Oe,ft,Pt);this.addShape(R,{id:this.getElementId("area"),type:"path",attrs:(0,w.__assign)({path:Re},we)})}},yt.prototype.applyOffset=function(){var R=this.cfg,j=R.x,ft=R.y;this.moveElementTo(this.get("group"),{x:j,y:ft})},yt}(et),Hs=null,ho={fill:"#416180",opacity:.05},Io={fill:"#5B8FF9",opacity:.15,cursor:"move"},$a=10,Si={width:$a,height:24},ss={textBaseline:"middle",fill:"#000",opacity:.45},ls="sliderchange",ko={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},co=function(Ut){(0,w.__extends)(yt,Ut);function yt(){return Ut!==null&&Ut.apply(this,arguments)||this}return yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"handler",x:0,y:0,width:10,height:24,style:ko})},yt.prototype.renderInner=function(R){var j=this.cfg,ft=j.width,Pt=j.height,Yt=j.style,jt=Yt.fill,ee=Yt.stroke,ne=Yt.radius,ce=Yt.opacity,we=Yt.cursor;this.addShape(R,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:ft,height:Pt,fill:jt,stroke:ee,radius:ne,opacity:ce,cursor:we}});var Oe=1/3*ft,Re=2/3*ft,ir=1/4*Pt,Cr=3/4*Pt;this.addShape(R,{id:this.getElementId("line-left"),type:"line",attrs:{x1:Oe,y1:ir,x2:Oe,y2:Cr,stroke:ee,cursor:we}}),this.addShape(R,{id:this.getElementId("line-right"),type:"line",attrs:{x1:Re,y1:ir,x2:Re,y2:Cr,stroke:ee,cursor:we}})},yt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},yt.prototype.initEvent=function(){this.bindEvents()},yt.prototype.bindEvents=function(){var R=this;this.get("group").on("mouseenter",function(){var j=R.get("style").highLightFill;R.getElementByLocalId("background").attr("fill",j),R.draw()}),this.get("group").on("mouseleave",function(){var j=R.get("style").fill;R.getElementByLocalId("background").attr("fill",j),R.draw()})},yt.prototype.draw=function(){var R=this.get("container").get("canvas");R&&R.draw()},yt}(et),gn=null,us=function(Ut){(0,w.__extends)(yt,Ut);function yt(){var R=Ut!==null&&Ut.apply(this,arguments)||this;return R.onMouseDown=function(j){return function(ft){R.currentTarget=j;var Pt=ft.originalEvent;Pt.stopPropagation(),Pt.preventDefault(),R.prevX=(0,y.get)(Pt,"touches.0.pageX",Pt.pageX),R.prevY=(0,y.get)(Pt,"touches.0.pageY",Pt.pageY);var Yt=R.getContainerDOM();Yt.addEventListener("mousemove",R.onMouseMove),Yt.addEventListener("mouseup",R.onMouseUp),Yt.addEventListener("mouseleave",R.onMouseUp),Yt.addEventListener("touchmove",R.onMouseMove),Yt.addEventListener("touchend",R.onMouseUp),Yt.addEventListener("touchcancel",R.onMouseUp)}},R.onMouseMove=function(j){var ft=R.cfg.width,Pt=[R.get("start"),R.get("end")];j.stopPropagation(),j.preventDefault();var Yt=(0,y.get)(j,"touches.0.pageX",j.pageX),jt=(0,y.get)(j,"touches.0.pageY",j.pageY),ee=Yt-R.prevX,ne=R.adjustOffsetRange(ee/ft);R.updateStartEnd(ne),R.updateUI(R.getElementByLocalId("foreground"),R.getElementByLocalId("minText"),R.getElementByLocalId("maxText")),R.prevX=Yt,R.prevY=jt,R.draw(),R.emit(ls,[R.get("start"),R.get("end")].sort()),R.delegateEmit("valuechanged",{originValue:Pt,value:[R.get("start"),R.get("end")]})},R.onMouseUp=function(){R.currentTarget&&(R.currentTarget=void 0);var j=R.getContainerDOM();j&&(j.removeEventListener("mousemove",R.onMouseMove),j.removeEventListener("mouseup",R.onMouseUp),j.removeEventListener("mouseleave",R.onMouseUp),j.removeEventListener("touchmove",R.onMouseMove),j.removeEventListener("touchend",R.onMouseUp),j.removeEventListener("touchcancel",R.onMouseUp))},R}return yt.prototype.setRange=function(R,j){this.set("minLimit",R),this.set("maxLimit",j);var ft=this.get("start"),Pt=this.get("end"),Yt=(0,y.clamp)(ft,R,j),jt=(0,y.clamp)(Pt,R,j);!this.get("isInit")&&(ft!==Yt||Pt!==jt)&&this.setValue([Yt,jt])},yt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},yt.prototype.setValue=function(R){var j=this.getRange();if((0,y.isArray)(R)&&R.length===2){var ft=[this.get("start"),this.get("end")];this.update({start:(0,y.clamp)(R[0],j.min,j.max),end:(0,y.clamp)(R[1],j.min,j.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:ft,value:R})}},yt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:ho,foregroundStyle:Io,handlerStyle:Si,textStyle:ss}})},yt.prototype.update=function(R){var j=R.start,ft=R.end,Pt=(0,w.__assign)({},R);(0,y.isNil)(j)||(Pt.start=(0,y.clamp)(j,0,1)),(0,y.isNil)(ft)||(Pt.end=(0,y.clamp)(ft,0,1)),Ut.prototype.update.call(this,Pt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},yt.prototype.init=function(){this.set("start",(0,y.clamp)(this.get("start"),0,1)),this.set("end",(0,y.clamp)(this.get("end"),0,1)),Ut.prototype.init.call(this)},yt.prototype.renderInner=function(R){var j=this.cfg,ft=j.start,Pt=j.end,Yt=j.width,jt=j.height,ee=j.trendCfg,ne=ee===void 0?{}:ee,ce=j.minText,we=j.maxText,Oe=j.backgroundStyle,Re=Oe===void 0?{}:Oe,ir=j.foregroundStyle,Cr=ir===void 0?{}:ir,pr=j.textStyle,Wr=pr===void 0?{}:pr,Kr=j.handlerStyle,jr=Kr===void 0?{}:Kr,Nt=ft*Yt,qt=Pt*Yt;(0,y.size)((0,y.get)(ne,"data"))&&this.addComponent(R,(0,w.__assign)({component:Oo,id:this.getElementId("trend"),x:0,y:0,width:Yt,height:jt},ne)),this.addShape(R,{id:this.getElementId("background"),type:"rect",attrs:(0,w.__assign)({x:0,y:0,width:Yt,height:jt},Re)});var ue=this.addShape(R,{id:this.getElementId("minText"),type:"text",attrs:(0,w.__assign)({y:jt/2,textAlign:"right",text:ce,silent:!1},Wr)}),ye=this.addShape(R,{id:this.getElementId("maxText"),type:"text",attrs:(0,w.__assign)({y:jt/2,textAlign:"left",text:we,silent:!1},Wr)}),Pe=this.addShape(R,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,w.__assign)({y:0,height:jt},Cr)}),Je=(0,y.get)(jr,"height",24);this.minHandler=this.addComponent(R,(0,w.__assign)({component:co,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(jt-Je)/2,width:Yt,height:Je,cursor:"ew-resize"},jr)),this.maxHandler=this.addComponent(R,(0,w.__assign)({component:co,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(jt-Je)/2,width:Yt,height:Je,cursor:"ew-resize"},jr)),this.updateUI(Pe,ue,ye)},yt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},yt.prototype.initEvent=function(){this.bindEvents()},yt.prototype.updateUI=function(R,j,ft){var Pt=this.cfg,Yt=Pt.start,jt=Pt.end,ee=Pt.width,ne=Pt.minText,ce=Pt.maxText,we=Pt.handlerStyle,Oe=Yt*ee,Re=jt*ee;R.attr("x",Oe),R.attr("width",Re-Oe);var ir=(0,y.get)(we,"width",$a);j.attr("text",ne),ft.attr("text",ce);var Cr=this._dodgeText([Oe,Re],j,ft),pr=Cr[0],Wr=Cr[1];this.minHandler&&(this.minHandler.update({x:Oe-ir/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,y.each)(pr,function(Kr,jr){return j.attr(jr,Kr)}),this.maxHandler&&(this.maxHandler.update({x:Re-ir/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,y.each)(Wr,function(Kr,jr){return ft.attr(jr,Kr)})},yt.prototype.bindEvents=function(){var R=this.get("group");R.on("handler-min:mousedown",this.onMouseDown("minHandler")),R.on("handler-min:touchstart",this.onMouseDown("minHandler")),R.on("handler-max:mousedown",this.onMouseDown("maxHandler")),R.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var j=R.findById(this.getElementId("foreground"));j.on("mousedown",this.onMouseDown("foreground")),j.on("touchstart",this.onMouseDown("foreground"))},yt.prototype.adjustOffsetRange=function(R){var j=this.cfg,ft=j.start,Pt=j.end;switch(this.currentTarget){case"minHandler":{var Yt=0-ft,jt=1-ft;return Math.min(jt,Math.max(Yt,R))}case"maxHandler":{var Yt=0-Pt,jt=1-Pt;return Math.min(jt,Math.max(Yt,R))}case"foreground":{var Yt=0-ft,jt=1-Pt;return Math.min(jt,Math.max(Yt,R))}}},yt.prototype.updateStartEnd=function(R){var j=this.cfg,ft=j.start,Pt=j.end;switch(this.currentTarget){case"minHandler":ft+=R;break;case"maxHandler":Pt+=R;break;case"foreground":ft+=R,Pt+=R;break}this.set("start",ft),this.set("end",Pt)},yt.prototype._dodgeText=function(R,j,ft){var Pt,Yt,jt=this.cfg,ee=jt.handlerStyle,ne=jt.width,ce=2,we=(0,y.get)(ee,"width",$a),Oe=R[0],Re=R[1],ir=!1;Oe>Re&&(Pt=[Re,Oe],Oe=Pt[0],Re=Pt[1],Yt=[ft,j],j=Yt[0],ft=Yt[1],ir=!0);var Cr=j.getBBox(),pr=ft.getBBox(),Wr=Cr.width>Oe-ce?{x:Oe+we/2+ce,textAlign:"left"}:{x:Oe-we/2-ce,textAlign:"right"},Kr=pr.width>ne-Re-ce?{x:Re-we/2-ce,textAlign:"right"}:{x:Re+we/2+ce,textAlign:"left"};return ir?[Kr,Wr]:[Wr,Kr]},yt.prototype.draw=function(){var R=this.get("container"),j=R&&R.get("canvas");j&&j.draw()},yt.prototype.getContainerDOM=function(){var R=this.get("container"),j=R&&R.get("canvas");return j&&j.get("container")},yt}(et),vi=null,pn=d(57817),Bo={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},un={default:Bo,hover:{thumbColor:"rgba(0,0,0,0.2)"}},Ra=function(Ut){(0,w.__extends)(yt,Ut);function yt(){var R=Ut!==null&&Ut.apply(this,arguments)||this;return R.clearEvents=y.noop,R.onStartEvent=function(j){return function(ft){R.isMobile=j,ft.originalEvent.preventDefault();var Pt=j?(0,y.get)(ft.originalEvent,"touches.0.clientX"):ft.clientX,Yt=j?(0,y.get)(ft.originalEvent,"touches.0.clientY"):ft.clientY;R.startPos=R.cfg.isHorizontal?Pt:Yt,R.bindLaterEvent()}},R.bindLaterEvent=function(){var j=R.getContainerDOM(),ft=[];R.isMobile?ft=[(0,pn.Z)(j,"touchmove",R.onMouseMove),(0,pn.Z)(j,"touchend",R.onMouseUp),(0,pn.Z)(j,"touchcancel",R.onMouseUp)]:ft=[(0,pn.Z)(j,"mousemove",R.onMouseMove),(0,pn.Z)(j,"mouseup",R.onMouseUp),(0,pn.Z)(j,"mouseleave",R.onMouseUp)],R.clearEvents=function(){ft.forEach(function(Pt){Pt.remove()})}},R.onMouseMove=function(j){var ft=R.cfg,Pt=ft.isHorizontal,Yt=ft.thumbOffset;j.preventDefault();var jt=R.isMobile?(0,y.get)(j,"touches.0.clientX"):j.clientX,ee=R.isMobile?(0,y.get)(j,"touches.0.clientY"):j.clientY,ne=Pt?jt:ee,ce=ne-R.startPos;R.startPos=ne,R.updateThumbOffset(Yt+ce)},R.onMouseUp=function(j){j.preventDefault(),R.clearEvents()},R.onTrackClick=function(j){var ft=R.cfg,Pt=ft.isHorizontal,Yt=ft.x,jt=ft.y,ee=ft.thumbLen,ne=R.getContainerDOM(),ce=ne.getBoundingClientRect(),we=j.clientX,Oe=j.clientY,Re=Pt?we-ce.left-Yt-ee/2:Oe-ce.top-jt-ee/2,ir=R.validateRange(Re);R.updateThumbOffset(ir)},R.onThumbMouseOver=function(){var j=R.cfg.theme.hover.thumbColor;R.getElementByLocalId("thumb").attr("stroke",j),R.draw()},R.onThumbMouseOut=function(){var j=R.cfg.theme.default.thumbColor;R.getElementByLocalId("thumb").attr("stroke",j),R.draw()},R}return yt.prototype.setRange=function(R,j){this.set("minLimit",R),this.set("maxLimit",j);var ft=this.getValue(),Pt=(0,y.clamp)(ft,R,j);ft!==Pt&&!this.get("isInit")&&this.setValue(Pt)},yt.prototype.getRange=function(){var R=this.get("minLimit")||0,j=this.get("maxLimit")||1;return{min:R,max:j}},yt.prototype.setValue=function(R){var j=this.getRange(),ft=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,y.clamp)(R,j.min,j.max)}),this.delegateEmit("valuechange",{originalValue:ft,value:this.getValue()})},yt.prototype.getValue=function(){return(0,y.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},yt.prototype.getDefaultCfg=function(){var R=Ut.prototype.getDefaultCfg.call(this);return(0,w.__assign)((0,w.__assign)({},R),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:un})},yt.prototype.renderInner=function(R){this.renderTrackShape(R),this.renderThumbShape(R)},yt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},yt.prototype.initEvent=function(){this.bindEvents()},yt.prototype.renderTrackShape=function(R){var j=this.cfg,ft=j.trackLen,Pt=j.theme,Yt=Pt===void 0?{default:{}}:Pt,jt=Yt.default,ee=jt.lineCap,ne=jt.trackColor,ce=jt.size,we=this.get("isHorizontal")?{x1:0+ce/2,y1:ce/2,x2:ft-ce/2,y2:ce/2,lineWidth:ce,stroke:ne,lineCap:ee}:{x1:ce/2,y1:0+ce/2,x2:ce/2,y2:ft-ce/2,lineWidth:ce,stroke:ne,lineCap:ee};return this.addShape(R,{id:this.getElementId("track"),name:"track",type:"line",attrs:we})},yt.prototype.renderThumbShape=function(R){var j=this.cfg,ft=j.thumbOffset,Pt=j.thumbLen,Yt=j.theme,jt=Yt===void 0?{default:{}}:Yt,ee=jt.default,ne=ee.size,ce=ee.lineCap,we=ee.thumbColor,Oe=this.get("isHorizontal")?{x1:ft+ne/2,y1:ne/2,x2:ft+Pt-ne/2,y2:ne/2,lineWidth:ne,stroke:we,lineCap:ce,cursor:"default"}:{x1:ne/2,y1:ft+ne/2,x2:ne/2,y2:ft+Pt-ne/2,lineWidth:ne,stroke:we,lineCap:ce,cursor:"default"};return this.addShape(R,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:Oe})},yt.prototype.bindEvents=function(){var R=this.get("group");R.on("mousedown",this.onStartEvent(!1)),R.on("mouseup",this.onMouseUp),R.on("touchstart",this.onStartEvent(!0)),R.on("touchend",this.onMouseUp);var j=R.findById(this.getElementId("track"));j.on("click",this.onTrackClick);var ft=R.findById(this.getElementId("thumb"));ft.on("mouseover",this.onThumbMouseOver),ft.on("mouseout",this.onThumbMouseOut)},yt.prototype.getContainerDOM=function(){var R=this.get("container"),j=R&&R.get("canvas");return j&&j.get("container")},yt.prototype.validateRange=function(R){var j=this.cfg,ft=j.thumbLen,Pt=j.trackLen,Yt=R;return R+ft>Pt?Yt=Pt-ft:R+ft<ft&&(Yt=0),Yt},yt.prototype.draw=function(){var R=this.get("container"),j=R&&R.get("canvas");j&&j.draw()},yt.prototype.updateThumbOffset=function(R){var j=this.cfg,ft=j.thumbOffset,Pt=j.isHorizontal,Yt=j.thumbLen,jt=j.size,ee=this.validateRange(R);if(ee!==ft){var ne=this.getElementByLocalId("thumb");Pt?ne.attr({x1:ee+jt/2,x2:ee+Yt-jt/2}):ne.attr({y1:ee+jt/2,y2:ee+Yt-jt/2}),this.emitOffsetChange(ee)}},yt.prototype.emitOffsetChange=function(R){var j=this.cfg,ft=j.thumbOffset,Pt=j.trackLen,Yt=j.thumbLen;this.cfg.thumbOffset=R,this.emit("scrollchange",{thumbOffset:R,ratio:(0,y.clamp)(R/(Pt-Yt),0,1)}),this.delegateEmit("valuechange",{originalValue:ft,value:R})},yt}(et)},15110:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60153),O=d(39014),I=d(49242),L={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},P=function(_){m.__extends(E,_);function E(C){var p=_.call(this,C)||this;return p.initCfg(),p}return E.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},E.prototype.clear=function(){},E.prototype.update=function(C){var p=this,b=this.get("defaultCfg");I.each(C,function(x,w){var y=p.get(w),M=x;y!==x&&(I.isObject(x)&&b[w]&&(M=I.deepMix({},b[w],x)),p.set(w,M))}),this.updateInner(C),this.afterUpdate(C)},E.prototype.updateInner=function(C){},E.prototype.afterUpdate=function(C){I.hasKey(C,"visible")&&(C.visible?this.show():this.hide()),I.hasKey(C,"capture")&&this.setCapture(C.capture)},E.prototype.getLayoutBBox=function(){return this.getBBox()},E.prototype.getLocationType=function(){return this.get("locationType")},E.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},E.prototype.setOffset=function(C,p){this.update({offsetX:C,offsetY:p})},E.prototype.setLocation=function(C){var p=m.__assign({},C);this.update(p)},E.prototype.getLocation=function(){var C=this,p={},b=this.get("locationType"),x=L[b];return I.each(x,function(w){p[w]=C.get(w)}),p},E.prototype.isList=function(){return!1},E.prototype.isSlider=function(){return!1},E.prototype.init=function(){},E.prototype.initCfg=function(){var C=this,p=this.get("defaultCfg");I.each(p,function(b,x){var w=C.get(x);if(I.isObject(w)){var y=I.deepMix({},b,w);C.set(x,y)}})},E}(O.Base);S.default=P},51964:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60153),O=d(80478),I=d(49242),L=d(11594),P=d(15110),_=function(E){m.__extends(C,E);function C(){return E!==null&&E.apply(this,arguments)||this}return C.prototype.getDefaultCfg=function(){var p=E.prototype.getDefaultCfg.call(this);return m.__assign(m.__assign({},p),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},C.prototype.getContainer=function(){return this.get("container")},C.prototype.show=function(){var p=this.get("container");p.style.display="",this.set("visible",!0)},C.prototype.hide=function(){var p=this.get("container");p.style.display="none",this.set("visible",!1)},C.prototype.setCapture=function(p){var b=this.getContainer(),x=p?"auto":"none";b.style.pointerEvents=x,this.set("capture",p)},C.prototype.getBBox=function(){var p=this.getContainer(),b=parseFloat(p.style.left)||0,x=parseFloat(p.style.top)||0;return L.createBBox(b,x,p.clientWidth,p.clientHeight)},C.prototype.clear=function(){var p=this.get("container");L.clearDom(p)},C.prototype.destroy=function(){this.removeEvent(),this.removeDom(),E.prototype.destroy.call(this)},C.prototype.init=function(){E.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},C.prototype.initCapture=function(){this.setCapture(this.get("capture"))},C.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},C.prototype.initDom=function(){},C.prototype.initContainer=function(){var p=this.get("container");if(I.isNil(p)){p=this.createDom();var b=this.get("parent");I.isString(b)&&(b=document.getElementById(b),this.set("parent",b)),b.appendChild(p),this.set("container",p)}else I.isString(p)&&(p=document.getElementById(p),this.set("container",p));this.get("parent")||this.set("parent",p.parentNode)},C.prototype.resetStyles=function(){var p=this.get("domStyles"),b=this.get("defaultStyles");p?p=I.deepMix({},b,p):p=b,this.set("domStyles",p)},C.prototype.applyStyles=function(){var p=this.get("domStyles");if(!!p){var b=this.getContainer();this.applyChildrenStyles(b,p);var x=this.get("containerClassName");if(x&&L.hasClass(b,x)){var w=p[x];O.modifyCSS(b,w)}}},C.prototype.applyChildrenStyles=function(p,b){I.each(b,function(x,w){var y=p.getElementsByClassName(w);I.each(y,function(M){O.modifyCSS(M,x)})})},C.prototype.applyStyle=function(p,b){var x=this.get("domStyles");O.modifyCSS(b,x[p])},C.prototype.createDom=function(){var p=this.get("containerTpl");return O.createDom(p)},C.prototype.initEvent=function(){},C.prototype.removeDom=function(){var p=this.get("container");p&&p.parentNode.removeChild(p)},C.prototype.removeEvent=function(){},C.prototype.updateInner=function(p){I.hasKey(p,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},C.prototype.resetPosition=function(){},C}(P.default);S.default=_},7755:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.CROSSHAIR_Y=S.CROSSHAIR_X=S.NAME_CLASS=S.VALUE_CLASS=S.MARKER_CLASS=S.LIST_ITEM_CLASS=S.LIST_CLASS=S.TITLE_CLASS=S.CONTAINER_CLASS=void 0,S.CONTAINER_CLASS="g2-tooltip",S.TITLE_CLASS="g2-tooltip-title",S.LIST_CLASS="g2-tooltip-list",S.LIST_ITEM_CLASS="g2-tooltip-list-item",S.MARKER_CLASS="g2-tooltip-marker",S.VALUE_CLASS="g2-tooltip-value",S.NAME_CLASS="g2-tooltip-name",S.CROSSHAIR_X="g2-tooltip-crosshair-x",S.CROSSHAIR_Y="g2-tooltip-crosshair-y"},55225:function(_t,S,d){"use strict";var m;Object.defineProperty(S,"__esModule",{value:!0});var O=d(52782),I=d(7755);S.default=(m={},m[""+I.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:O.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},m[""+I.TITLE_CLASS]={marginBottom:"4px"},m[""+I.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},m[""+I.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},m[""+I.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},m[""+I.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},m[""+I.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},m[""+I.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},m)},88373:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(60153),I=d(55223),L=d(80478),P=d(49242),_=d(51964),E=d(11594),C=d(7755),p=d(55225),b=d(51227);function x(y,M){var T=!1;return P.each(M,function(B){if(P.hasKey(y,B))return T=!0,!1}),T}var w=function(y){O.__extends(M,y);function M(){return y!==null&&y.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var T=y.prototype.getDefaultCfg.call(this);return O.__assign(O.__assign({},T),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+C.CONTAINER_CLASS+'"><div class="'+C.TITLE_CLASS+'"></div><ul class="'+C.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+C.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+C.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+C.NAME_CLASS+`">{name}</span>:
          <span class="`+C.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+C.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+C.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:C.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:p.default})},M.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},M.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},M.prototype.show=function(){var T=this.getContainer();!T||this.destroyed||(this.set("visible",!0),L.modifyCSS(T,{visibility:"visible"}),this.setCrossHairsVisible(!0))},M.prototype.hide=function(){var T=this.getContainer();!T||this.destroyed||(this.set("visible",!1),L.modifyCSS(T,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},M.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},M.prototype.setLocation=function(T){this.set("x",T.x),this.set("y",T.y),this.resetPosition()},M.prototype.setCrossHairsVisible=function(T){var B=T?"":"none",D=this.get("xCrosshairDom"),X=this.get("yCrosshairDom");D&&L.modifyCSS(D,{display:B}),X&&L.modifyCSS(X,{display:B})},M.prototype.initContainer=function(){if(y.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var T=this.getHtmlContentNode();this.get("parent").appendChild(T),this.set("container",T),this.resetStyles(),this.applyStyles()}},M.prototype.updateInner=function(T){this.get("customContent")?this.renderCustomContent():(x(T,["title","showTitle"])&&this.resetTitle(),P.hasKey(T,"items")&&this.renderItems()),y.prototype.updateInner.call(this,T)},M.prototype.initDom=function(){this.cacheDoms()},M.prototype.removeDom=function(){y.prototype.removeDom.call(this),this.clearCrosshairs()},M.prototype.resetPosition=function(){var T=this.get("x"),B=this.get("y"),D=this.get("offset"),X=this.getOffset(),$=X.offsetX,H=X.offsetY,nt=this.get("position"),ht=this.get("region"),at=this.getContainer(),Ot=this.getBBox(),Ft=Ot.width,Dt=Ot.height,V;ht&&(V=E.regionToBBox(ht));var q=b.getAlignPoint(T,B,D,Ft,Dt,nt,V);L.modifyCSS(at,{left:E.toPx(q.x+$),top:E.toPx(q.y+H)}),this.resetCrosshairs()},M.prototype.renderCustomContent=function(){var T=this.getHtmlContentNode(),B=this.get("parent"),D=this.get("container");D&&D.parentNode===B?B.replaceChild(T,D):B.appendChild(T),this.set("container",T),this.resetStyles(),this.applyStyles()},M.prototype.getHtmlContentNode=function(){var T,B=this.get("customContent");if(B){var D=B(this.get("title"),this.get("items"));P.isElement(D)?T=D:T=L.createDom(D)}return T},M.prototype.cacheDoms=function(){var T=this.getContainer(),B=T.getElementsByClassName(C.TITLE_CLASS)[0],D=T.getElementsByClassName(C.LIST_CLASS)[0];this.set("titleDom",B),this.set("listDom",D)},M.prototype.resetTitle=function(){var T=this.get("title"),B=this.get("showTitle");B&&T?this.setTitle(T):this.setTitle("")},M.prototype.setTitle=function(T){var B=this.get("titleDom");B&&(B.innerText=T)},M.prototype.resetCrosshairs=function(){var T=this.get("crosshairsRegion"),B=this.get("crosshairs");if(!T||!B)this.clearCrosshairs();else{var D=E.regionToBBox(T),X=this.get("xCrosshairDom"),$=this.get("yCrosshairDom");B==="x"?(this.resetCrosshair("x",D),$&&($.remove(),this.set("yCrosshairDom",null))):B==="y"?(this.resetCrosshair("y",D),X&&(X.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",D),this.resetCrosshair("y",D)),this.setCrossHairsVisible(this.get("visible"))}},M.prototype.resetCrosshair=function(T,B){var D=this.checkCrosshair(T),X=this.get(T);T==="x"?L.modifyCSS(D,{left:E.toPx(X),top:E.toPx(B.y),height:E.toPx(B.height)}):L.modifyCSS(D,{top:E.toPx(X),left:E.toPx(B.x),width:E.toPx(B.width)})},M.prototype.checkCrosshair=function(T){var B=T+"CrosshairDom",D=T+"CrosshairTpl",X="CROSSHAIR_"+T.toUpperCase(),$=C[X],H=this.get(B),nt=this.get("parent");return H||(H=L.createDom(this.get(D)),this.applyStyle($,H),nt.appendChild(H),this.set(B,H)),H},M.prototype.renderItems=function(){this.clearItemDoms();var T=this.get("items"),B=this.get("itemTpl"),D=this.get("listDom");D&&(P.each(T,function(X){var $=I.default.toCSSGradient(X.color),H=O.__assign(O.__assign({},X),{color:$}),nt=P.substitute(B,H),ht=L.createDom(nt);D.appendChild(ht)}),this.applyChildrenStyles(D,this.get("domStyles")))},M.prototype.clearItemDoms=function(){this.get("listDom")&&E.clearDom(this.get("listDom"))},M.prototype.clearCrosshairs=function(){var T=this.get("xCrosshairDom"),B=this.get("yCrosshairDom");T&&T.remove(),B&&B.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},M}(_.default);S.Z=w},51227:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getAlignPoint=S.getPointByPosition=S.getOutSides=void 0;function d(I,L,P,_,E){var C={left:I<E.x,right:I+P>E.x+E.width,top:L<E.y,bottom:L+_>E.y+E.height};return C}S.getOutSides=d;function m(I,L,P,_,E,C){var p=I,b=L;switch(C){case"left":p=I-_-P,b=L-E/2;break;case"right":p=I+P,b=L-E/2;break;case"top":p=I-_/2,b=L-E-P;break;case"bottom":p=I-_/2,b=L+P;break;default:p=I+P,b=L-E-P;break}return{x:p,y:b}}S.getPointByPosition=m;function O(I,L,P,_,E,C,p){var b=m(I,L,P,_,E,C);if(p){var x=d(b.x,b.y,_,E,p);C==="auto"?(x.right&&(b.x=Math.max(0,I-_-P)),x.top&&(b.y=Math.max(0,L-E-P))):C==="top"||C==="bottom"?(x.left&&(b.x=p.x),x.right&&(b.x=p.x+p.width-_),C==="top"&&x.top&&(b.y=L+P),C==="bottom"&&x.bottom&&(b.y=L-E-P)):(x.top&&(b.y=p.y),x.bottom&&(b.y=p.y+p.height-E),C==="left"&&x.left&&(b.x=I+P),C==="right"&&x.right&&(b.x=I-_-P))}return b}S.getAlignPoint=O},31207:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.propagationDelegate=void 0;var m=d(66192);function O(I,L,P){var _=new m.default(L,P);_.target=I,_.propagationPath.push(I),I.emitDelegation(L,_);for(var E=I.getParent();E;)E.emitDelegation(L,_),_.propagationPath.push(E),E=E.getParent()}S.propagationDelegate=O},52782:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},11594:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTextPoint=S.toPx=S.updateClip=S.getBBoxWithClip=S.mergeBBox=S.intersectBBox=S.near=S.wait=S.distance=S.getCirclePoint=S.getValueByPercent=S.createBBox=S.pointsToBBox=S.regionToBBox=S.hasClass=S.clearDom=S.formatPadding=void 0;var m=d(49242);function O(D){var X=0,$=0,H=0,nt=0;return m.isNumber(D)?X=$=H=nt=D:m.isArray(D)&&(X=D[0],H=m.isNil(D[1])?D[0]:D[1],nt=m.isNil(D[2])?D[0]:D[2],$=m.isNil(D[3])?H:D[3]),[X,H,nt,$]}S.formatPadding=O;function I(D){for(var X=D.childNodes,$=X.length,H=$-1;H>=0;H--)D.removeChild(X[H])}S.clearDom=I;function L(D,X){return!!D.className.match(new RegExp("(\\s|^)"+X+"(\\s|$)"))}S.hasClass=L;function P(D){var X=D.start,$=D.end,H=Math.min(X.x,$.x),nt=Math.min(X.y,$.y),ht=Math.max(X.x,$.x),at=Math.max(X.y,$.y);return{x:H,y:nt,minX:H,minY:nt,maxX:ht,maxY:at,width:ht-H,height:at-nt}}S.regionToBBox=P;function _(D){var X=D.map(function(Ot){return Ot.x}),$=D.map(function(Ot){return Ot.y}),H=Math.min.apply(Math,X),nt=Math.min.apply(Math,$),ht=Math.max.apply(Math,X),at=Math.max.apply(Math,$);return{x:H,y:nt,minX:H,minY:nt,maxX:ht,maxY:at,width:ht-H,height:at-nt}}S.pointsToBBox=_;function E(D,X,$,H){return{x:D,y:X,width:$,height:H,minX:D,minY:X,maxX:D+$,maxY:X+H}}S.createBBox=E;function C(D,X,$){return(1-$)*D+X*$}S.getValueByPercent=C;function p(D,X,$){return{x:D.x+Math.cos($)*X,y:D.y+Math.sin($)*X}}S.getCirclePoint=p;function b(D,X){var $=X.x-D.x,H=X.y-D.y;return Math.sqrt($*$+H*H)}S.distance=b,S.wait=function(D){return new Promise(function(X){setTimeout(X,D)})},S.near=function(D,X){return[D,X].includes(Infinity)?Math.abs(D)===Math.abs(X):Math.abs(D-X)<Math.pow(Number.EPSILON,.5)};function x(D,X){var $=Math.max(D.minX,X.minX),H=Math.max(D.minY,X.minY),nt=Math.min(D.maxX,X.maxX),ht=Math.min(D.maxY,X.maxY);return E($,H,nt-$,ht-H)}S.intersectBBox=x;function w(D,X){var $=Math.min(D.minX,X.minX),H=Math.min(D.minY,X.minY),nt=Math.max(D.maxX,X.maxX),ht=Math.max(D.maxY,X.maxY);return E($,H,nt-$,ht-H)}S.mergeBBox=w;function y(D){var X=D.getClip(),$=X&&X.getBBox(),H;if(!D.isGroup())H=D.getBBox();else{var nt=Infinity,ht=-Infinity,at=Infinity,Ot=-Infinity,Ft=D.getChildren();Ft.length>0?m.each(Ft,function(Dt){if(Dt.get("visible")){if(Dt.isGroup()&&Dt.get("children").length===0)return!0;var V=y(Dt),q=Dt.applyToMatrix([V.minX,V.minY,1]),K=Dt.applyToMatrix([V.minX,V.maxY,1]),Z=Dt.applyToMatrix([V.maxX,V.minY,1]),mt=Dt.applyToMatrix([V.maxX,V.maxY,1]),rt=Math.min(q[0],K[0],Z[0],mt[0]),W=Math.max(q[0],K[0],Z[0],mt[0]),z=Math.min(q[1],K[1],Z[1],mt[1]),G=Math.max(q[1],K[1],Z[1],mt[1]);rt<nt&&(nt=rt),W>ht&&(ht=W),z<at&&(at=z),G>Ot&&(Ot=G)}}):(nt=0,ht=0,at=0,Ot=0),H=E(nt,at,ht-nt,Ot-at)}return $?x(H,$):H}S.getBBoxWithClip=y;function M(D,X){if(!(!D.getClip()&&!X.getClip())){var $=X.getClip();if(!$){D.setClip(null);return}var H={type:$.get("type"),attrs:$.attr()};D.setClip(H)}}S.updateClip=M;function T(D){return D+"px"}S.toPx=T;function B(D,X,$,H){var nt=b(D,X),ht=H/nt,at=0;return $==="start"?at=0-ht:$==="end"&&(at=1+ht),{x:C(D.x,X.x,at),y:C(D.y,X.y,at)}}S.getTextPoint=B},50782:function(_t,S,d){"use strict";d.r(S),d.d(S,{Coordinate:function(){return rt},getCoordinate:function(){return xt},registerCoordinate:function(){return Mt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(Et,Tt){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gt,it){gt.__proto__=it}||function(gt,it){for(var Q in it)Object.prototype.hasOwnProperty.call(it,Q)&&(gt[Q]=it[Q])},m(Et,Tt)};function O(Et,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Class extends value "+String(Tt)+" is not a constructor or null");m(Et,Tt);function gt(){this.constructor=Et}Et.prototype=Tt===null?Object.create(Tt):(gt.prototype=Tt.prototype,new gt)}var I=function(){return I=Object.assign||function(Tt){for(var gt,it=1,Q=arguments.length;it<Q;it++){gt=arguments[it];for(var U in gt)Object.prototype.hasOwnProperty.call(gt,U)&&(Tt[U]=gt[U])}return Tt},I.apply(this,arguments)};function L(Et,Tt){var gt={};for(var it in Et)Object.prototype.hasOwnProperty.call(Et,it)&&Tt.indexOf(it)<0&&(gt[it]=Et[it]);if(Et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Q=0,it=Object.getOwnPropertySymbols(Et);Q<it.length;Q++)Tt.indexOf(it[Q])<0&&Object.prototype.propertyIsEnumerable.call(Et,it[Q])&&(gt[it[Q]]=Et[it[Q]]);return gt}function P(Et,Tt,gt,it){var Q=arguments.length,U=Q<3?Tt:it===null?it=Object.getOwnPropertyDescriptor(Tt,gt):it,ct;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(Et,Tt,gt,it);else for(var tt=Et.length-1;tt>=0;tt--)(ct=Et[tt])&&(U=(Q<3?ct(U):Q>3?ct(Tt,gt,U):ct(Tt,gt))||U);return Q>3&&U&&Object.defineProperty(Tt,gt,U),U}function _(Et,Tt){return function(gt,it){Tt(gt,it,Et)}}function E(Et,Tt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Et,Tt)}function C(Et,Tt,gt,it){function Q(U){return U instanceof gt?U:new gt(function(ct){ct(U)})}return new(gt||(gt=Promise))(function(U,ct){function tt(Lt){try{dt(it.next(Lt))}catch(Xt){ct(Xt)}}function et(Lt){try{dt(it.throw(Lt))}catch(Xt){ct(Xt)}}function dt(Lt){Lt.done?U(Lt.value):Q(Lt.value).then(tt,et)}dt((it=it.apply(Et,Tt||[])).next())})}function p(Et,Tt){var gt={label:0,sent:function(){if(U[0]&1)throw U[1];return U[1]},trys:[],ops:[]},it,Q,U,ct;return ct={next:tt(0),throw:tt(1),return:tt(2)},typeof Symbol=="function"&&(ct[Symbol.iterator]=function(){return this}),ct;function tt(dt){return function(Lt){return et([dt,Lt])}}function et(dt){if(it)throw new TypeError("Generator is already executing.");for(;gt;)try{if(it=1,Q&&(U=dt[0]&2?Q.return:dt[0]?Q.throw||((U=Q.return)&&U.call(Q),0):Q.next)&&!(U=U.call(Q,dt[1])).done)return U;switch(Q=0,U&&(dt=[dt[0]&2,U.value]),dt[0]){case 0:case 1:U=dt;break;case 4:return gt.label++,{value:dt[1],done:!1};case 5:gt.label++,Q=dt[1],dt=[0];continue;case 7:dt=gt.ops.pop(),gt.trys.pop();continue;default:if(U=gt.trys,!(U=U.length>0&&U[U.length-1])&&(dt[0]===6||dt[0]===2)){gt=0;continue}if(dt[0]===3&&(!U||dt[1]>U[0]&&dt[1]<U[3])){gt.label=dt[1];break}if(dt[0]===6&&gt.label<U[1]){gt.label=U[1],U=dt;break}if(U&&gt.label<U[2]){gt.label=U[2],gt.ops.push(dt);break}U[2]&&gt.ops.pop(),gt.trys.pop();continue}dt=Tt.call(Et,gt)}catch(Lt){dt=[6,Lt],Q=0}finally{it=U=0}if(dt[0]&5)throw dt[1];return{value:dt[0]?dt[1]:void 0,done:!0}}}var b=Object.create?function(Et,Tt,gt,it){it===void 0&&(it=gt),Object.defineProperty(Et,it,{enumerable:!0,get:function(){return Tt[gt]}})}:function(Et,Tt,gt,it){it===void 0&&(it=gt),Et[it]=Tt[gt]};function x(Et,Tt){for(var gt in Et)gt!=="default"&&!Object.prototype.hasOwnProperty.call(Tt,gt)&&b(Tt,Et,gt)}function w(Et){var Tt=typeof Symbol=="function"&&Symbol.iterator,gt=Tt&&Et[Tt],it=0;if(gt)return gt.call(Et);if(Et&&typeof Et.length=="number")return{next:function(){return Et&&it>=Et.length&&(Et=void 0),{value:Et&&Et[it++],done:!Et}}};throw new TypeError(Tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(Et,Tt){var gt=typeof Symbol=="function"&&Et[Symbol.iterator];if(!gt)return Et;var it=gt.call(Et),Q,U=[],ct;try{for(;(Tt===void 0||Tt-- >0)&&!(Q=it.next()).done;)U.push(Q.value)}catch(tt){ct={error:tt}}finally{try{Q&&!Q.done&&(gt=it.return)&&gt.call(it)}finally{if(ct)throw ct.error}}return U}function M(){for(var Et=[],Tt=0;Tt<arguments.length;Tt++)Et=Et.concat(y(arguments[Tt]));return Et}function T(){for(var Et=0,Tt=0,gt=arguments.length;Tt<gt;Tt++)Et+=arguments[Tt].length;for(var it=Array(Et),Q=0,Tt=0;Tt<gt;Tt++)for(var U=arguments[Tt],ct=0,tt=U.length;ct<tt;ct++,Q++)it[Q]=U[ct];return it}function B(Et,Tt,gt){if(gt||arguments.length===2)for(var it=0,Q=Tt.length,U;it<Q;it++)(U||!(it in Tt))&&(U||(U=Array.prototype.slice.call(Tt,0,it)),U[it]=Tt[it]);return Et.concat(U||Array.prototype.slice.call(Tt))}function D(Et){return this instanceof D?(this.v=Et,this):new D(Et)}function X(Et,Tt,gt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it=gt.apply(Et,Tt||[]),Q,U=[];return Q={},ct("next"),ct("throw"),ct("return"),Q[Symbol.asyncIterator]=function(){return this},Q;function ct($t){it[$t]&&(Q[$t]=function(fe){return new Promise(function(me,pe){U.push([$t,fe,me,pe])>1||tt($t,fe)})})}function tt($t,fe){try{et(it[$t](fe))}catch(me){Xt(U[0][3],me)}}function et($t){$t.value instanceof D?Promise.resolve($t.value.v).then(dt,Lt):Xt(U[0][2],$t)}function dt($t){tt("next",$t)}function Lt($t){tt("throw",$t)}function Xt($t,fe){$t(fe),U.shift(),U.length&&tt(U[0][0],U[0][1])}}function $(Et){var Tt,gt;return Tt={},it("next"),it("throw",function(Q){throw Q}),it("return"),Tt[Symbol.iterator]=function(){return this},Tt;function it(Q,U){Tt[Q]=Et[Q]?function(ct){return(gt=!gt)?{value:D(Et[Q](ct)),done:Q==="return"}:U?U(ct):ct}:U}}function H(Et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt=Et[Symbol.asyncIterator],gt;return Tt?Tt.call(Et):(Et=typeof w=="function"?w(Et):Et[Symbol.iterator](),gt={},it("next"),it("throw"),it("return"),gt[Symbol.asyncIterator]=function(){return this},gt);function it(U){gt[U]=Et[U]&&function(ct){return new Promise(function(tt,et){ct=Et[U](ct),Q(tt,et,ct.done,ct.value)})}}function Q(U,ct,tt,et){Promise.resolve(et).then(function(dt){U({value:dt,done:tt})},ct)}}function nt(Et,Tt){return Object.defineProperty?Object.defineProperty(Et,"raw",{value:Tt}):Et.raw=Tt,Et}var ht=Object.create?function(Et,Tt){Object.defineProperty(Et,"default",{enumerable:!0,value:Tt})}:function(Et,Tt){Et.default=Tt};function at(Et){if(Et&&Et.__esModule)return Et;var Tt={};if(Et!=null)for(var gt in Et)gt!=="default"&&Object.prototype.hasOwnProperty.call(Et,gt)&&b(Tt,Et,gt);return ht(Tt,Et),Tt}function Ot(Et){return Et&&Et.__esModule?Et:{default:Et}}function Ft(Et,Tt,gt,it){if(gt==="a"&&!it)throw new TypeError("Private accessor was defined without a getter");if(typeof Tt=="function"?Et!==Tt||!it:!Tt.has(Et))throw new TypeError("Cannot read private member from an object whose class did not declare it");return gt==="m"?it:gt==="a"?it.call(Et):it?it.value:Tt.get(Et)}function Dt(Et,Tt,gt,it,Q){if(it==="m")throw new TypeError("Private method is not writable");if(it==="a"&&!Q)throw new TypeError("Private accessor was defined without a setter");if(typeof Tt=="function"?Et!==Tt||!Q:!Tt.has(Et))throw new TypeError("Cannot write private member to an object whose class did not declare it");return it==="a"?Q.call(Et,gt):Q?Q.value=gt:Tt.set(Et,gt),gt}var V=d(77160),q=d(35600),K=d(31506),Z=d(49242),mt=function(){function Et(Tt){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var gt=Tt.start,it=Tt.end,Q=Tt.matrix,U=Q===void 0?[1,0,0,0,1,0,0,0,1]:Q,ct=Tt.isTransposed,tt=ct===void 0?!1:ct;this.start=gt,this.end=it,this.matrix=U,this.originalMatrix=B([],U),this.isTransposed=tt}return Et.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},Et.prototype.update=function(Tt){(0,Z.assign)(this,Tt),this.initial()},Et.prototype.convertDim=function(Tt,gt){var it,Q=this[gt],U=Q.start,ct=Q.end;return this.isReflect(gt)&&(it=[ct,U],U=it[0],ct=it[1]),U+Tt*(ct-U)},Et.prototype.invertDim=function(Tt,gt){var it,Q=this[gt],U=Q.start,ct=Q.end;return this.isReflect(gt)&&(it=[ct,U],U=it[0],ct=it[1]),(Tt-U)/(ct-U)},Et.prototype.applyMatrix=function(Tt,gt,it){it===void 0&&(it=0);var Q=this.matrix,U=[Tt,gt,it];return V.transformMat3(U,U,Q),U},Et.prototype.invertMatrix=function(Tt,gt,it){it===void 0&&(it=0);var Q=this.matrix,U=q.invert([0,0,0,0,0,0,0,0,0],Q),ct=[Tt,gt,it];return U&&V.transformMat3(ct,ct,U),ct},Et.prototype.convert=function(Tt){var gt=this.convertPoint(Tt),it=gt.x,Q=gt.y,U=this.applyMatrix(it,Q,1);return{x:U[0],y:U[1]}},Et.prototype.invert=function(Tt){var gt=this.invertMatrix(Tt.x,Tt.y,1);return this.invertPoint({x:gt[0],y:gt[1]})},Et.prototype.rotate=function(Tt){var gt=this.matrix,it=this.center;return K.leftTranslate(gt,gt,[-it.x,-it.y]),K.leftRotate(gt,gt,Tt),K.leftTranslate(gt,gt,[it.x,it.y]),this},Et.prototype.reflect=function(Tt){return Tt==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},Et.prototype.scale=function(Tt,gt){var it=this.matrix,Q=this.center;return K.leftTranslate(it,it,[-Q.x,-Q.y]),K.leftScale(it,it,[Tt,gt]),K.leftTranslate(it,it,[Q.x,Q.y]),this},Et.prototype.translate=function(Tt,gt){var it=this.matrix;return K.leftTranslate(it,it,[Tt,gt]),this},Et.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},Et.prototype.getCenter=function(){return this.center},Et.prototype.getWidth=function(){return this.width},Et.prototype.getHeight=function(){return this.height},Et.prototype.getRadius=function(){return this.radius},Et.prototype.isReflect=function(Tt){return Tt==="x"?this.isReflectX:this.isReflectY},Et.prototype.resetMatrix=function(Tt){this.matrix=Tt||B([],this.originalMatrix)},Et}(),rt=mt,W=function(Et){O(Tt,Et);function Tt(gt){var it=Et.call(this,gt)||this;return it.isRect=!0,it.type="cartesian",it.initial(),it}return Tt.prototype.initial=function(){Et.prototype.initial.call(this);var gt=this.start,it=this.end;this.x={start:gt.x,end:it.x},this.y={start:gt.y,end:it.y}},Tt.prototype.convertPoint=function(gt){var it,Q=gt.x,U=gt.y;return this.isTransposed&&(it=[U,Q],Q=it[0],U=it[1]),{x:this.convertDim(Q,"x"),y:this.convertDim(U,"y")}},Tt.prototype.invertPoint=function(gt){var it,Q=this.invertDim(gt.x,"x"),U=this.invertDim(gt.y,"y");return this.isTransposed&&(it=[U,Q],Q=it[0],U=it[1]),{x:Q,y:U}},Tt}(rt),z=W,G=d(31437),f=function(Et){O(Tt,Et);function Tt(gt){var it=Et.call(this,gt)||this;it.isHelix=!0,it.type="helix";var Q=gt.startAngle,U=Q===void 0?1.25*Math.PI:Q,ct=gt.endAngle,tt=ct===void 0?7.25*Math.PI:ct,et=gt.innerRadius,dt=et===void 0?0:et,Lt=gt.radius;return it.startAngle=U,it.endAngle=tt,it.innerRadius=dt,it.radius=Lt,it.initial(),it}return Tt.prototype.initial=function(){Et.prototype.initial.call(this);var gt=(this.endAngle-this.startAngle)/(2*Math.PI)+1,it=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(it=it*this.radius),this.d=Math.floor(it*(1-this.innerRadius)/gt),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*it,end:this.innerRadius*it+this.d*.99}},Tt.prototype.convertPoint=function(gt){var it,Q=gt.x,U=gt.y;this.isTransposed&&(it=[U,Q],Q=it[0],U=it[1]);var ct=this.convertDim(Q,"x"),tt=this.a*ct,et=this.convertDim(U,"y");return{x:this.center.x+Math.cos(ct)*(tt+et),y:this.center.y+Math.sin(ct)*(tt+et)}},Tt.prototype.invertPoint=function(gt){var it,Q=this.d+this.y.start,U=G.subtract([0,0],[gt.x,gt.y],[this.center.x,this.center.y]),ct=K.angleTo(U,[1,0],!0),tt=ct*this.a;G.length(U)<tt&&(tt=G.length(U));var et=Math.floor((G.length(U)-tt)/Q);ct=2*et*Math.PI+ct;var dt=this.a*ct,Lt=G.length(U)-dt;Lt=(0,Z.isNumberEqual)(Lt,0)?0:Lt;var Xt=this.invertDim(ct,"x"),$t=this.invertDim(Lt,"y");return Xt=(0,Z.isNumberEqual)(Xt,0)?0:Xt,$t=(0,Z.isNumberEqual)($t,0)?0:$t,this.isTransposed&&(it=[$t,Xt],Xt=it[0],$t=it[1]),{x:Xt,y:$t}},Tt}(rt),pt=f,Ct=function(Et){O(Tt,Et);function Tt(gt){var it=Et.call(this,gt)||this;it.isPolar=!0,it.type="polar";var Q=gt.startAngle,U=Q===void 0?-Math.PI/2:Q,ct=gt.endAngle,tt=ct===void 0?Math.PI*3/2:ct,et=gt.innerRadius,dt=et===void 0?0:et,Lt=gt.radius;return it.startAngle=U,it.endAngle=tt,it.innerRadius=dt,it.radius=Lt,it.initial(),it}return Tt.prototype.initial=function(){for(Et.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var gt=this.getOneBox(),it=gt.maxX-gt.minX,Q=gt.maxY-gt.minY,U=Math.abs(gt.minX)/it,ct=Math.abs(gt.minY)/Q,tt;this.height/Q>this.width/it?(tt=this.width/it,this.circleCenter={x:this.center.x-(.5-U)*this.width,y:this.center.y-(.5-ct)*tt*Q}):(tt=this.height/Q,this.circleCenter={x:this.center.x-(.5-U)*tt*it,y:this.center.y-(.5-ct)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=tt*this.radius:(this.radius<=0||this.radius>tt)&&(this.polarRadius=tt):this.polarRadius=tt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},Tt.prototype.getRadius=function(){return this.polarRadius},Tt.prototype.convertPoint=function(gt){var it,Q=this.getCenter(),U=gt.x,ct=gt.y;return this.isTransposed&&(it=[ct,U],U=it[0],ct=it[1]),U=this.convertDim(U,"x"),ct=this.convertDim(ct,"y"),{x:Q.x+Math.cos(U)*ct,y:Q.y+Math.sin(U)*ct}},Tt.prototype.invertPoint=function(gt){var it,Q=this.getCenter(),U=[gt.x-Q.x,gt.y-Q.y],ct=this,tt=ct.startAngle,et=ct.endAngle;this.isReflect("x")&&(it=[et,tt],tt=it[0],et=it[1]);var dt=[1,0,0,0,1,0,0,0,1];K.leftRotate(dt,dt,tt);var Lt=[1,0,0];V.transformMat3(Lt,Lt,dt);var Xt=[Lt[0],Lt[1]],$t=K.angleTo(Xt,U,et<tt);(0,Z.isNumberEqual)($t,Math.PI*2)&&($t=0);var fe=G.length(U),me=$t/(et-tt);me=et-tt>0?me:-me;var pe=this.invertDim(fe,"y"),xe={x:0,y:0};return xe.x=this.isTransposed?pe:me,xe.y=this.isTransposed?me:pe,xe},Tt.prototype.getCenter=function(){return this.circleCenter},Tt.prototype.getOneBox=function(){var gt=this.startAngle,it=this.endAngle;if(Math.abs(it-gt)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var Q=[0,Math.cos(gt),Math.cos(it)],U=[0,Math.sin(gt),Math.sin(it)],ct=Math.min(gt,it);ct<Math.max(gt,it);ct+=Math.PI/18)Q.push(Math.cos(ct)),U.push(Math.sin(ct));return{minX:Math.min.apply(Math,Q),maxX:Math.max.apply(Math,Q),minY:Math.min.apply(Math,U),maxY:Math.max.apply(Math,U)}},Tt}(rt),ot=Ct,St={},xt=function(Et){return St[Et.toLowerCase()]},Mt=function(Et,Tt){St[Et.toLowerCase()]=Tt};Mt("rect",z),Mt("cartesian",z),Mt("polar",ot),Mt("helix",pt)},57817:function(_t,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(O,I,L){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(I,L,!1),{remove:function(){O.removeEventListener(I,L,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+I,L),{remove:function(){O.detachEvent("on"+I,L)}}}}},6056:function(_t,S,d){"use strict";d.d(S,{Z:function(){return _}});var m,O,I,L;function P(){m=document.createElement("table"),O=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,L={tr:document.createElement("tbody"),tbody:m,thead:m,tfoot:m,td:O,th:O,"*":document.createElement("div")}}function _(E){m||P();var C=I.test(E)&&RegExp.$1;(!C||!(C in L))&&(C="*");var p=L[C];E=E.replace(/(^\s*)|(\s*$)/g,""),p.innerHTML=""+E;var b=p.childNodes[0];return p.removeChild(b),b}},10430:function(_t,S,d){"use strict";d.d(S,{Z:function(){return O}});var m=d(99911);function O(I,L){var P=(0,m.Z)(I,"height",L);return P==="auto"&&(P=I.offsetHeight),parseFloat(P)}},79189:function(_t,S,d){"use strict";d.d(S,{Z:function(){return I}});var m=d(99911),O=d(10430);function I(L,P){var _=(0,O.Z)(L,P),E=parseFloat((0,m.Z)(L,"borderTopWidth"))||0,C=parseFloat((0,m.Z)(L,"paddingTop"))||0,p=parseFloat((0,m.Z)(L,"paddingBottom"))||0,b=parseFloat((0,m.Z)(L,"borderBottomWidth"))||0,x=parseFloat((0,m.Z)(L,"marginTop"))||0,w=parseFloat((0,m.Z)(L,"marginBottom"))||0;return _+E+b+C+p+x+w}},89810:function(_t,S,d){"use strict";d.d(S,{Z:function(){return I}});var m=d(99911),O=d(23408);function I(L,P){var _=(0,O.Z)(L,P),E=parseFloat((0,m.Z)(L,"borderLeftWidth"))||0,C=parseFloat((0,m.Z)(L,"paddingLeft"))||0,p=parseFloat((0,m.Z)(L,"paddingRight"))||0,b=parseFloat((0,m.Z)(L,"borderRightWidth"))||0,x=parseFloat((0,m.Z)(L,"marginRight"))||0,w=parseFloat((0,m.Z)(L,"marginLeft"))||0;return _+E+b+C+p+w+x}},99911:function(_t,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(O,I,L){var P;try{P=window.getComputedStyle?window.getComputedStyle(O,null)[I]:O.style[I]}catch(_){}finally{P=P===void 0?L:P}return P}},23408:function(_t,S,d){"use strict";d.d(S,{Z:function(){return O}});var m=d(99911);function O(I,L){var P=(0,m.Z)(I,"width",L);return P==="auto"&&(P=I.offsetWidth),parseFloat(P)}},80478:function(_t,S,d){"use strict";d.r(S),d.d(S,{addEventListener:function(){return m.Z},createDom:function(){return O.Z},getHeight:function(){return I.Z},getOuterHeight:function(){return L.Z},getOuterWidth:function(){return P.Z},getRatio:function(){return _},getStyle:function(){return E.Z},getWidth:function(){return C.Z},modifyCSS:function(){return p.Z}});var m=d(57817),O=d(6056),I=d(10430),L=d(79189),P=d(89810);function _(){return window.devicePixelRatio?window.devicePixelRatio:2}var E=d(99911),C=d(23408),p=d(45442)},45442:function(_t,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(O,I){if(O)for(var L in I)I.hasOwnProperty(L)&&(O.style[L]=I[L]);return O}},73136:function(_t,S){"use strict";var d;d={value:!0};function m(O,I,L){if(O){if(typeof O.addEventListener=="function")return O.addEventListener(I,L,!1),{remove:function(){O.removeEventListener(I,L,!1)}};if(typeof O.attachEvent=="function")return O.attachEvent("on"+I,L),{remove:function(){O.detachEvent("on"+I,L)}}}}S.Z=m},57821:function(_t,S){"use strict";var d;d={value:!0};var m,O,I,L;function P(){m=document.createElement("table"),O=document.createElement("tr"),I=/^\s*<(\w+|!)[^>]*>/,L={tr:document.createElement("tbody"),tbody:m,thead:m,tfoot:m,td:O,th:O,"*":document.createElement("div")}}function _(E){m||P();var C=I.test(E)&&RegExp.$1;(!C||!(C in L))&&(C="*");var p=L[C];E=E.replace(/(^\s*)|(\s*$)/g,""),p.innerHTML=""+E;var b=p.childNodes[0];return p.removeChild(b),b}S.Z=_},1513:function(_t,S){"use strict";var d;d={value:!0};function m(O,I){if(O)for(var L in I)I.hasOwnProperty(L)&&(O.style[L]=I[L]);return O}S.Z=m},90494:function(_t,S,d){"use strict";d.r(S);var m="*",O=function(){function I(){this._events={}}return I.prototype.on=function(L,P,_){return this._events[L]||(this._events[L]=[]),this._events[L].push({callback:P,once:!!_}),this},I.prototype.once=function(L,P){return this.on(L,P,!0),this},I.prototype.emit=function(L){for(var P=this,_=[],E=1;E<arguments.length;E++)_[E-1]=arguments[E];var C=this._events[L]||[],p=this._events[m]||[],b=function(x){for(var w=x.length,y=0;y<w;y++)if(!!x[y]){var M=x[y],T=M.callback,B=M.once;B&&(x.splice(y,1),x.length===0&&delete P._events[L],w--,y--),T.apply(P,_)}};b(C),b(p)},I.prototype.off=function(L,P){if(!L)this._events={};else if(!P)delete this._events[L];else{for(var _=this._events[L]||[],E=_.length,C=0;C<E;C++)_[C].callback===P&&(_.splice(C,1),E--,C--);_.length===0&&delete this._events[L]}return this},I.prototype.getEvents=function(){return this._events},I}();S.default=O},39014:function(_t,S,d){"use strict";d.r(S),d.d(S,{AbstractCanvas:function(){return ei},AbstractGroup:function(){return ri},AbstractShape:function(){return Dn},Base:function(){return me},Event:function(){return xt},PathUtil:function(){return m},version:function(){return ua}});var m={};d.r(m),d.d(m,{catmullRomToBezier:function(){return E},fillPath:function(){return rt},fillPathByDiff:function(){return f},formatPath:function(){return ot},intersection:function(){return q},parsePathArray:function(){return T},parsePathString:function(){return _},pathToAbsolute:function(){return p},pathToCurve:function(){return y},rectPath:function(){return nt}});var O=d(49242),I=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,L=new RegExp("([a-z])["+I+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+I+"]*,?["+I+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+I+"]*,?["+I+"]*","ig"),_=function(Gt){if(!Gt)return null;if((0,O.isArray)(Gt))return Gt;var It={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},vt=[];return String(Gt).replace(L,function(wt,J,ut){var bt=[],kt=J.toLowerCase();if(ut.replace(P,function(Bt,Ht){Ht&&bt.push(+Ht)}),kt==="m"&&bt.length>2&&(vt.push([J].concat(bt.splice(0,2))),kt="l",J=J==="m"?"l":"L"),kt==="o"&&bt.length===1&&vt.push([J,bt[0]]),kt==="r")vt.push([J].concat(bt));else for(;bt.length>=It[kt]&&(vt.push([J].concat(bt.splice(0,It[kt]))),!!It[kt]););return Gt}),vt},E=function(Gt,It){for(var vt=[],wt=0,J=Gt.length;J-2*!It>wt;wt+=2){var ut=[{x:+Gt[wt-2],y:+Gt[wt-1]},{x:+Gt[wt],y:+Gt[wt+1]},{x:+Gt[wt+2],y:+Gt[wt+3]},{x:+Gt[wt+4],y:+Gt[wt+5]}];It?wt?J-4===wt?ut[3]={x:+Gt[0],y:+Gt[1]}:J-2===wt&&(ut[2]={x:+Gt[0],y:+Gt[1]},ut[3]={x:+Gt[2],y:+Gt[3]}):ut[0]={x:+Gt[J-2],y:+Gt[J-1]}:J-4===wt?ut[3]=ut[2]:wt||(ut[0]={x:+Gt[wt],y:+Gt[wt+1]}),vt.push(["C",(-ut[0].x+6*ut[1].x+ut[2].x)/6,(-ut[0].y+6*ut[1].y+ut[2].y)/6,(ut[1].x+6*ut[2].x-ut[3].x)/6,(ut[1].y+6*ut[2].y-ut[3].y)/6,ut[2].x,ut[2].y])}return vt},C=function(Gt,It,vt,wt,J){var ut=[];if(J===null&&wt===null&&(wt=vt),Gt=+Gt,It=+It,vt=+vt,wt=+wt,J!==null){var bt=Math.PI/180,kt=Gt+vt*Math.cos(-wt*bt),Bt=Gt+vt*Math.cos(-J*bt),Ht=It+vt*Math.sin(-wt*bt),ie=It+vt*Math.sin(-J*bt);ut=[["M",kt,Ht],["A",vt,vt,0,+(J-wt>180),0,Bt,ie]]}else ut=[["M",Gt,It],["m",0,-wt],["a",vt,wt,0,1,1,0,2*wt],["a",vt,wt,0,1,1,0,-2*wt],["z"]];return ut},p=function(Gt){if(Gt=_(Gt),!Gt||!Gt.length)return[["M",0,0]];var It=[],vt=0,wt=0,J=0,ut=0,bt=0,kt,Bt;Gt[0][0]==="M"&&(vt=+Gt[0][1],wt=+Gt[0][2],J=vt,ut=wt,bt++,It[0]=["M",vt,wt]);for(var Ht=Gt.length===3&&Gt[0][0]==="M"&&Gt[1][0].toUpperCase()==="R"&&Gt[2][0].toUpperCase()==="Z",ie=void 0,se=void 0,Ae=bt,ve=Gt.length;Ae<ve;Ae++){if(It.push(ie=[]),se=Gt[Ae],kt=se[0],kt!==kt.toUpperCase())switch(ie[0]=kt.toUpperCase(),ie[0]){case"A":ie[1]=se[1],ie[2]=se[2],ie[3]=se[3],ie[4]=se[4],ie[5]=se[5],ie[6]=+se[6]+vt,ie[7]=+se[7]+wt;break;case"V":ie[1]=+se[1]+wt;break;case"H":ie[1]=+se[1]+vt;break;case"R":Bt=[vt,wt].concat(se.slice(1));for(var de=2,Ke=Bt.length;de<Ke;de++)Bt[de]=+Bt[de]+vt,Bt[++de]=+Bt[de]+wt;It.pop(),It=It.concat(E(Bt,Ht));break;case"O":It.pop(),Bt=C(vt,wt,se[1],se[2]),Bt.push(Bt[0]),It=It.concat(Bt);break;case"U":It.pop(),It=It.concat(C(vt,wt,se[1],se[2],se[3])),ie=["U"].concat(It[It.length-1].slice(-2));break;case"M":J=+se[1]+vt,ut=+se[2]+wt;break;default:for(var de=1,Ke=se.length;de<Ke;de++)ie[de]=+se[de]+(de%2?vt:wt)}else if(kt==="R")Bt=[vt,wt].concat(se.slice(1)),It.pop(),It=It.concat(E(Bt,Ht)),ie=["R"].concat(se.slice(-2));else if(kt==="O")It.pop(),Bt=C(vt,wt,se[1],se[2]),Bt.push(Bt[0]),It=It.concat(Bt);else if(kt==="U")It.pop(),It=It.concat(C(vt,wt,se[1],se[2],se[3])),ie=["U"].concat(It[It.length-1].slice(-2));else for(var Qe=0,gr=se.length;Qe<gr;Qe++)ie[Qe]=se[Qe];if(kt=kt.toUpperCase(),kt!=="O")switch(ie[0]){case"Z":vt=+J,wt=+ut;break;case"H":vt=ie[1];break;case"V":wt=ie[1];break;case"M":J=ie[ie.length-2],ut=ie[ie.length-1];break;default:vt=ie[ie.length-2],wt=ie[ie.length-1]}}return It},b=function(Gt,It,vt,wt){return[Gt,It,vt,wt,vt,wt]},x=function(Gt,It,vt,wt,J,ut){var bt=1/3,kt=2/3;return[bt*Gt+kt*vt,bt*It+kt*wt,bt*J+kt*vt,bt*ut+kt*wt,J,ut]},w=function(Gt,It,vt,wt,J,ut,bt,kt,Bt,Ht){vt===wt&&(vt+=1);var ie=Math.PI*120/180,se=Math.PI/180*(+J||0),Ae=[],ve,de,Ke,Qe,gr,cr=function(ji,ci,Sa){var ra=ji*Math.cos(Sa)-ci*Math.sin(Sa),Ka=ji*Math.sin(Sa)+ci*Math.cos(Sa);return{x:ra,y:Ka}};if(Ht)de=Ht[0],Ke=Ht[1],Qe=Ht[2],gr=Ht[3];else{ve=cr(Gt,It,-se),Gt=ve.x,It=ve.y,ve=cr(kt,Bt,-se),kt=ve.x,Bt=ve.y,Gt===kt&&It===Bt&&(kt+=1,Bt+=1);var $e=(Gt-kt)/2,ze=(It-Bt)/2,Or=$e*$e/(vt*vt)+ze*ze/(wt*wt);Or>1&&(Or=Math.sqrt(Or),vt=Or*vt,wt=Or*wt);var Zr=vt*vt,vn=wt*wt,Mn=(ut===bt?-1:1)*Math.sqrt(Math.abs((Zr*vn-Zr*ze*ze-vn*$e*$e)/(Zr*ze*ze+vn*$e*$e)));Qe=Mn*vt*ze/wt+(Gt+kt)/2,gr=Mn*-wt*$e/vt+(It+Bt)/2,de=Math.asin(((It-gr)/wt).toFixed(9)),Ke=Math.asin(((Bt-gr)/wt).toFixed(9)),de=Gt<Qe?Math.PI-de:de,Ke=kt<Qe?Math.PI-Ke:Ke,de<0&&(de=Math.PI*2+de),Ke<0&&(Ke=Math.PI*2+Ke),bt&&de>Ke&&(de=de-Math.PI*2),!bt&&Ke>de&&(Ke=Ke-Math.PI*2)}var Yn=Ke-de;if(Math.abs(Yn)>ie){var Hi=Ke,Vn=kt,ni=Bt;Ke=de+ie*(bt&&Ke>de?1:-1),kt=Qe+vt*Math.cos(Ke),Bt=gr+wt*Math.sin(Ke),Ae=w(kt,Bt,vt,wt,J,0,bt,Vn,ni,[Ke,Hi,Qe,gr])}Yn=Ke-de;var ii=Math.cos(de),Di=Math.sin(de),Wi=Math.cos(Ke),tn=Math.sin(Ke),fa=Math.tan(Yn/4),ta=4/3*vt*fa,$n=4/3*wt*fa,ha=[Gt,It],wi=[Gt+ta*Di,It-$n*ii],ea=[kt+ta*tn,Bt-$n*Wi],Fi=[kt,Bt];if(wi[0]=2*ha[0]-wi[0],wi[1]=2*ha[1]-wi[1],Ht)return[wi,ea,Fi].concat(Ae);Ae=[wi,ea,Fi].concat(Ae).join().split(",");for(var Da=[],Li=0,Fa=Ae.length;Li<Fa;Li++)Da[Li]=Li%2?cr(Ae[Li-1],Ae[Li],se).y:cr(Ae[Li],Ae[Li+1],se).x;return Da},y=function(Gt,It){var vt=p(Gt),wt=It&&p(It),J={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ut={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},bt=[],kt=[],Bt="",Ht="",ie,se=function($e,ze,Or){var Zr,vn;if(!$e)return["C",ze.x,ze.y,ze.x,ze.y,ze.x,ze.y];switch(!($e[0]in{T:1,Q:1})&&(ze.qx=ze.qy=null),$e[0]){case"M":ze.X=$e[1],ze.Y=$e[2];break;case"A":$e=["C"].concat(w.apply(0,[ze.x,ze.y].concat($e.slice(1))));break;case"S":Or==="C"||Or==="S"?(Zr=ze.x*2-ze.bx,vn=ze.y*2-ze.by):(Zr=ze.x,vn=ze.y),$e=["C",Zr,vn].concat($e.slice(1));break;case"T":Or==="Q"||Or==="T"?(ze.qx=ze.x*2-ze.qx,ze.qy=ze.y*2-ze.qy):(ze.qx=ze.x,ze.qy=ze.y),$e=["C"].concat(x(ze.x,ze.y,ze.qx,ze.qy,$e[1],$e[2]));break;case"Q":ze.qx=$e[1],ze.qy=$e[2],$e=["C"].concat(x(ze.x,ze.y,$e[1],$e[2],$e[3],$e[4]));break;case"L":$e=["C"].concat(b(ze.x,ze.y,$e[1],$e[2]));break;case"H":$e=["C"].concat(b(ze.x,ze.y,$e[1],ze.y));break;case"V":$e=["C"].concat(b(ze.x,ze.y,ze.x,$e[1]));break;case"Z":$e=["C"].concat(b(ze.x,ze.y,ze.X,ze.Y));break;default:break}return $e},Ae=function($e,ze){if($e[ze].length>7){$e[ze].shift();for(var Or=$e[ze];Or.length;)bt[ze]="A",wt&&(kt[ze]="A"),$e.splice(ze++,0,["C"].concat(Or.splice(0,6)));$e.splice(ze,1),ie=Math.max(vt.length,wt&&wt.length||0)}},ve=function($e,ze,Or,Zr,vn){$e&&ze&&$e[vn][0]==="M"&&ze[vn][0]!=="M"&&(ze.splice(vn,0,["M",Zr.x,Zr.y]),Or.bx=0,Or.by=0,Or.x=$e[vn][1],Or.y=$e[vn][2],ie=Math.max(vt.length,wt&&wt.length||0))};ie=Math.max(vt.length,wt&&wt.length||0);for(var de=0;de<ie;de++){vt[de]&&(Bt=vt[de][0]),Bt!=="C"&&(bt[de]=Bt,de&&(Ht=bt[de-1])),vt[de]=se(vt[de],J,Ht),bt[de]!=="A"&&Bt==="C"&&(bt[de]="C"),Ae(vt,de),wt&&(wt[de]&&(Bt=wt[de][0]),Bt!=="C"&&(kt[de]=Bt,de&&(Ht=kt[de-1])),wt[de]=se(wt[de],ut,Ht),kt[de]!=="A"&&Bt==="C"&&(kt[de]="C"),Ae(wt,de)),ve(vt,wt,J,ut,de),ve(wt,vt,ut,J,de);var Ke=vt[de],Qe=wt&&wt[de],gr=Ke.length,cr=wt&&Qe.length;J.x=Ke[gr-2],J.y=Ke[gr-1],J.bx=parseFloat(Ke[gr-4])||J.x,J.by=parseFloat(Ke[gr-3])||J.y,ut.bx=wt&&(parseFloat(Qe[cr-4])||ut.x),ut.by=wt&&(parseFloat(Qe[cr-3])||ut.y),ut.x=wt&&Qe[cr-2],ut.y=wt&&Qe[cr-1]}return wt?[vt,wt]:vt},M=/,?([a-z]),?/gi,T=function(Gt){return Gt.join(",").replace(M,"$1")},B=function(Gt,It,vt,wt,J){var ut=-3*It+9*vt-9*wt+3*J,bt=Gt*ut+6*It-12*vt+6*wt;return Gt*bt-3*It+3*vt},D=function(Gt,It,vt,wt,J,ut,bt,kt,Bt){Bt===null&&(Bt=1),Bt=Bt>1?1:Bt<0?0:Bt;for(var Ht=Bt/2,ie=12,se=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ae=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ve=0,de=0;de<ie;de++){var Ke=Ht*se[de]+Ht,Qe=B(Ke,Gt,vt,J,bt),gr=B(Ke,It,wt,ut,kt),cr=Qe*Qe+gr*gr;ve+=Ae[de]*Math.sqrt(cr)}return Ht*ve},X=function(Gt,It,vt,wt,J,ut,bt,kt){for(var Bt=[],Ht=[[],[]],ie,se,Ae,ve,de=0;de<2;++de){if(de===0?(se=6*Gt-12*vt+6*J,ie=-3*Gt+9*vt-9*J+3*bt,Ae=3*vt-3*Gt):(se=6*It-12*wt+6*ut,ie=-3*It+9*wt-9*ut+3*kt,Ae=3*wt-3*It),Math.abs(ie)<1e-12){if(Math.abs(se)<1e-12)continue;ve=-Ae/se,ve>0&&ve<1&&Bt.push(ve);continue}var Ke=se*se-4*Ae*ie,Qe=Math.sqrt(Ke);if(!(Ke<0)){var gr=(-se+Qe)/(2*ie);gr>0&&gr<1&&Bt.push(gr);var cr=(-se-Qe)/(2*ie);cr>0&&cr<1&&Bt.push(cr)}}for(var $e=Bt.length,ze=$e,Or;$e--;)ve=Bt[$e],Or=1-ve,Ht[0][$e]=Or*Or*Or*Gt+3*Or*Or*ve*vt+3*Or*ve*ve*J+ve*ve*ve*bt,Ht[1][$e]=Or*Or*Or*It+3*Or*Or*ve*wt+3*Or*ve*ve*ut+ve*ve*ve*kt;return Ht[0][ze]=Gt,Ht[1][ze]=It,Ht[0][ze+1]=bt,Ht[1][ze+1]=kt,Ht[0].length=Ht[1].length=ze+2,{min:{x:Math.min.apply(0,Ht[0]),y:Math.min.apply(0,Ht[1])},max:{x:Math.max.apply(0,Ht[0]),y:Math.max.apply(0,Ht[1])}}},$=function(Gt,It,vt,wt,J,ut,bt,kt){if(!(Math.max(Gt,vt)<Math.min(J,bt)||Math.min(Gt,vt)>Math.max(J,bt)||Math.max(It,wt)<Math.min(ut,kt)||Math.min(It,wt)>Math.max(ut,kt))){var Bt=(Gt*wt-It*vt)*(J-bt)-(Gt-vt)*(J*kt-ut*bt),Ht=(Gt*wt-It*vt)*(ut-kt)-(It-wt)*(J*kt-ut*bt),ie=(Gt-vt)*(ut-kt)-(It-wt)*(J-bt);if(!!ie){var se=Bt/ie,Ae=Ht/ie,ve=+se.toFixed(2),de=+Ae.toFixed(2);if(!(ve<+Math.min(Gt,vt).toFixed(2)||ve>+Math.max(Gt,vt).toFixed(2)||ve<+Math.min(J,bt).toFixed(2)||ve>+Math.max(J,bt).toFixed(2)||de<+Math.min(It,wt).toFixed(2)||de>+Math.max(It,wt).toFixed(2)||de<+Math.min(ut,kt).toFixed(2)||de>+Math.max(ut,kt).toFixed(2)))return{x:se,y:Ae}}}},H=function(Gt,It,vt){return It>=Gt.x&&It<=Gt.x+Gt.width&&vt>=Gt.y&&vt<=Gt.y+Gt.height},nt=function(Gt,It,vt,wt,J){if(J)return[["M",+Gt+ +J,It],["l",vt-J*2,0],["a",J,J,0,0,1,J,J],["l",0,wt-J*2],["a",J,J,0,0,1,-J,J],["l",J*2-vt,0],["a",J,J,0,0,1,-J,-J],["l",0,J*2-wt],["a",J,J,0,0,1,J,-J],["z"]];var ut=[["M",Gt,It],["l",vt,0],["l",0,wt],["l",-vt,0],["z"]];return ut.parsePathArray=T,ut},ht=function(Gt,It,vt,wt){return Gt===null&&(Gt=It=vt=wt=0),It===null&&(It=Gt.y,vt=Gt.width,wt=Gt.height,Gt=Gt.x),{x:Gt,y:It,width:vt,w:vt,height:wt,h:wt,x2:Gt+vt,y2:It+wt,cx:Gt+vt/2,cy:It+wt/2,r1:Math.min(vt,wt)/2,r2:Math.max(vt,wt)/2,r0:Math.sqrt(vt*vt+wt*wt)/2,path:nt(Gt,It,vt,wt),vb:[Gt,It,vt,wt].join(" ")}},at=function(Gt,It){return Gt=ht(Gt),It=ht(It),H(It,Gt.x,Gt.y)||H(It,Gt.x2,Gt.y)||H(It,Gt.x,Gt.y2)||H(It,Gt.x2,Gt.y2)||H(Gt,It.x,It.y)||H(Gt,It.x2,It.y)||H(Gt,It.x,It.y2)||H(Gt,It.x2,It.y2)||(Gt.x<It.x2&&Gt.x>It.x||It.x<Gt.x2&&It.x>Gt.x)&&(Gt.y<It.y2&&Gt.y>It.y||It.y<Gt.y2&&It.y>Gt.y)},Ot=function(Gt,It,vt,wt,J,ut,bt,kt){(0,O.isArray)(Gt)||(Gt=[Gt,It,vt,wt,J,ut,bt,kt]);var Bt=X.apply(null,Gt);return ht(Bt.min.x,Bt.min.y,Bt.max.x-Bt.min.x,Bt.max.y-Bt.min.y)},Ft=function(Gt,It,vt,wt,J,ut,bt,kt,Bt){var Ht=1-Bt,ie=Math.pow(Ht,3),se=Math.pow(Ht,2),Ae=Bt*Bt,ve=Ae*Bt,de=ie*Gt+se*3*Bt*vt+Ht*3*Bt*Bt*J+ve*bt,Ke=ie*It+se*3*Bt*wt+Ht*3*Bt*Bt*ut+ve*kt,Qe=Gt+2*Bt*(vt-Gt)+Ae*(J-2*vt+Gt),gr=It+2*Bt*(wt-It)+Ae*(ut-2*wt+It),cr=vt+2*Bt*(J-vt)+Ae*(bt-2*J+vt),$e=wt+2*Bt*(ut-wt)+Ae*(kt-2*ut+wt),ze=Ht*Gt+Bt*vt,Or=Ht*It+Bt*wt,Zr=Ht*J+Bt*bt,vn=Ht*ut+Bt*kt,Mn=90-Math.atan2(Qe-cr,gr-$e)*180/Math.PI;return{x:de,y:Ke,m:{x:Qe,y:gr},n:{x:cr,y:$e},start:{x:ze,y:Or},end:{x:Zr,y:vn},alpha:Mn}},Dt=function(Gt,It,vt){var wt=Ot(Gt),J=Ot(It);if(!at(wt,J))return vt?0:[];for(var ut=D.apply(0,Gt),bt=D.apply(0,It),kt=~~(ut/8),Bt=~~(bt/8),Ht=[],ie=[],se={},Ae=vt?0:[],ve=0;ve<kt+1;ve++){var de=Ft.apply(0,Gt.concat(ve/kt));Ht.push({x:de.x,y:de.y,t:ve/kt})}for(var ve=0;ve<Bt+1;ve++){var de=Ft.apply(0,It.concat(ve/Bt));ie.push({x:de.x,y:de.y,t:ve/Bt})}for(var ve=0;ve<kt;ve++)for(var Ke=0;Ke<Bt;Ke++){var Qe=Ht[ve],gr=Ht[ve+1],cr=ie[Ke],$e=ie[Ke+1],ze=Math.abs(gr.x-Qe.x)<.001?"y":"x",Or=Math.abs($e.x-cr.x)<.001?"y":"x",Zr=$(Qe.x,Qe.y,gr.x,gr.y,cr.x,cr.y,$e.x,$e.y);if(Zr){if(se[Zr.x.toFixed(4)]===Zr.y.toFixed(4))continue;se[Zr.x.toFixed(4)]=Zr.y.toFixed(4);var vn=Qe.t+Math.abs((Zr[ze]-Qe[ze])/(gr[ze]-Qe[ze]))*(gr.t-Qe.t),Mn=cr.t+Math.abs((Zr[Or]-cr[Or])/($e[Or]-cr[Or]))*($e.t-cr.t);vn>=0&&vn<=1&&Mn>=0&&Mn<=1&&(vt?Ae+=1:Ae.push({x:Zr.x,y:Zr.y,t1:vn,t2:Mn}))}}return Ae},V=function(Gt,It,vt){Gt=y(Gt),It=y(It);for(var wt,J,ut,bt,kt,Bt,Ht,ie,se,Ae,ve=vt?0:[],de=0,Ke=Gt.length;de<Ke;de++){var Qe=Gt[de];if(Qe[0]==="M")wt=kt=Qe[1],J=Bt=Qe[2];else{Qe[0]==="C"?(se=[wt,J].concat(Qe.slice(1)),wt=se[6],J=se[7]):(se=[wt,J,wt,J,kt,Bt,kt,Bt],wt=kt,J=Bt);for(var gr=0,cr=It.length;gr<cr;gr++){var $e=It[gr];if($e[0]==="M")ut=Ht=$e[1],bt=ie=$e[2];else{$e[0]==="C"?(Ae=[ut,bt].concat($e.slice(1)),ut=Ae[6],bt=Ae[7]):(Ae=[ut,bt,ut,bt,Ht,ie,Ht,ie],ut=Ht,bt=ie);var ze=Dt(se,Ae,vt);if(vt)ve+=ze;else{for(var Or=0,Zr=ze.length;Or<Zr;Or++)ze[Or].segment1=de,ze[Or].segment2=gr,ze[Or].bez1=se,ze[Or].bez2=Ae;ve=ve.concat(ze)}}}}}return ve},q=function(Gt,It){return V(Gt,It)};function K(Gt,It){var vt=[],wt=[];function J(ut,bt){if(ut.length===1)vt.push(ut[0]),wt.push(ut[0]);else{for(var kt=[],Bt=0;Bt<ut.length-1;Bt++)Bt===0&&vt.push(ut[0]),Bt===ut.length-2&&wt.push(ut[Bt+1]),kt[Bt]=[(1-bt)*ut[Bt][0]+bt*ut[Bt+1][0],(1-bt)*ut[Bt][1]+bt*ut[Bt+1][1]];J(kt,bt)}}return Gt.length&&J(Gt,It),{left:vt,right:wt.reverse()}}function Z(Gt,It,vt){var wt=[[Gt[1],Gt[2]]];vt=vt||2;var J=[];It[0]==="A"?(wt.push(It[6]),wt.push(It[7])):It[0]==="C"?(wt.push([It[1],It[2]]),wt.push([It[3],It[4]]),wt.push([It[5],It[6]])):It[0]==="S"||It[0]==="Q"?(wt.push([It[1],It[2]]),wt.push([It[3],It[4]])):wt.push([It[1],It[2]]);for(var ut=wt,bt=1/vt,kt=0;kt<vt-1;kt++){var Bt=bt/(1-bt*kt),Ht=K(ut,Bt);J.push(Ht.left),ut=Ht.right}J.push(ut);var ie=J.map(function(se){var Ae=[];return se.length===4&&(Ae.push("C"),Ae=Ae.concat(se[2])),se.length>=3&&(se.length===3&&Ae.push("Q"),Ae=Ae.concat(se[1])),se.length===2&&Ae.push("L"),Ae=Ae.concat(se[se.length-1]),Ae});return ie}var mt=function(Gt,It,vt){if(vt===1)return[[].concat(Gt)];var wt=[];if(It[0]==="L"||It[0]==="C"||It[0]==="Q")wt=wt.concat(Z(Gt,It,vt));else{var J=[].concat(Gt);J[0]==="M"&&(J[0]="L");for(var ut=0;ut<=vt-1;ut++)wt.push(J)}return wt},rt=function(Gt,It){if(Gt.length===1)return Gt;var vt=Gt.length-1,wt=It.length-1,J=vt/wt,ut=[];if(Gt.length===1&&Gt[0][0]==="M"){for(var bt=0;bt<wt-vt;bt++)Gt.push(Gt[0]);return Gt}for(var bt=0;bt<wt;bt++){var kt=Math.floor(J*bt);ut[kt]=(ut[kt]||0)+1}var Bt=ut.reduce(function(Ht,ie,se){return se===vt?Ht.concat(Gt[vt]):Ht.concat(mt(Gt[se],Gt[se+1],ie))},[]);return Bt.unshift(Gt[0]),(It[wt]==="Z"||It[wt]==="z")&&Bt.push("Z"),Bt},W=function(Gt,It){if(Gt.length!==It.length)return!1;var vt=!0;return(0,O.each)(Gt,function(wt,J){if(wt!==It[J])return vt=!1,!1}),vt};function z(Gt,It,vt){var wt=null,J=vt;return It<J&&(J=It,wt="add"),Gt<J&&(J=Gt,wt="del"),{type:wt,min:J}}var G=function(Gt,It){var vt=Gt.length,wt=It.length,J,ut,bt=0;if(vt===0||wt===0)return null;for(var kt=[],Bt=0;Bt<=vt;Bt++)kt[Bt]=[],kt[Bt][0]={min:Bt};for(var Ht=0;Ht<=wt;Ht++)kt[0][Ht]={min:Ht};for(var Bt=1;Bt<=vt;Bt++){J=Gt[Bt-1];for(var Ht=1;Ht<=wt;Ht++){ut=It[Ht-1],W(J,ut)?bt=0:bt=1;var ie=kt[Bt-1][Ht].min+1,se=kt[Bt][Ht-1].min+1,Ae=kt[Bt-1][Ht-1].min+bt;kt[Bt][Ht]=z(ie,se,Ae)}}return kt},f=function(Gt,It){var vt=G(Gt,It),wt=Gt.length,J=It.length,ut=[],bt=1,kt=1;if(vt[wt][J].min!==wt){for(var Bt=1;Bt<=wt;Bt++){var Ht=vt[Bt][Bt].min;kt=Bt;for(var ie=bt;ie<=J;ie++)vt[Bt][ie].min<Ht&&(Ht=vt[Bt][ie].min,kt=ie);bt=kt,vt[Bt][bt].type&&ut.push({index:Bt-1,type:vt[Bt][bt].type})}for(var Bt=ut.length-1;Bt>=0;Bt--)bt=ut[Bt].index,ut[Bt].type==="add"?Gt.splice(bt,0,[].concat(Gt[bt])):Gt.splice(bt,1)}wt=Gt.length;var se=J-wt;if(wt<J)for(var Bt=0;Bt<se;Bt++)Gt[wt-1][0]==="z"||Gt[wt-1][0]==="Z"?Gt.splice(wt-2,0,Gt[wt-2]):Gt.push(Gt[wt-1]),wt+=1;return Gt};function pt(Gt,It,vt){for(var wt=[].concat(Gt),J,ut=1/(vt+1),bt=Ct(It)[0],kt=1;kt<=vt;kt++)ut*=kt,J=Math.floor(Gt.length*ut),J===0?wt.unshift([bt[0]*ut+Gt[J][0]*(1-ut),bt[1]*ut+Gt[J][1]*(1-ut)]):wt.splice(J,0,[bt[0]*ut+Gt[J][0]*(1-ut),bt[1]*ut+Gt[J][1]*(1-ut)]);return wt}function Ct(Gt){var It=[];switch(Gt[0]){case"M":It.push([Gt[1],Gt[2]]);break;case"L":It.push([Gt[1],Gt[2]]);break;case"A":It.push([Gt[6],Gt[7]]);break;case"Q":It.push([Gt[3],Gt[4]]),It.push([Gt[1],Gt[2]]);break;case"T":It.push([Gt[1],Gt[2]]);break;case"C":It.push([Gt[5],Gt[6]]),It.push([Gt[1],Gt[2]]),It.push([Gt[3],Gt[4]]);break;case"S":It.push([Gt[3],Gt[4]]),It.push([Gt[1],Gt[2]]);break;case"H":It.push([Gt[1],Gt[1]]);break;case"V":It.push([Gt[1],Gt[1]]);break;default:}return It}var ot=function(Gt,It){if(Gt.length<=1)return Gt;for(var vt,wt=0;wt<It.length;wt++)if(Gt[wt][0]!==It[wt][0])switch(vt=Ct(Gt[wt]),It[wt][0]){case"M":Gt[wt]=["M"].concat(vt[0]);break;case"L":Gt[wt]=["L"].concat(vt[0]);break;case"A":Gt[wt]=[].concat(It[wt]),Gt[wt][6]=vt[0][0],Gt[wt][7]=vt[0][1];break;case"Q":if(vt.length<2)if(wt>0)vt=pt(vt,Gt[wt-1],1);else{Gt[wt]=It[wt];break}Gt[wt]=["Q"].concat(vt.reduce(function(J,ut){return J.concat(ut)},[]));break;case"T":Gt[wt]=["T"].concat(vt[0]);break;case"C":if(vt.length<3)if(wt>0)vt=pt(vt,Gt[wt-1],2);else{Gt[wt]=It[wt];break}Gt[wt]=["C"].concat(vt.reduce(function(J,ut){return J.concat(ut)},[]));break;case"S":if(vt.length<2)if(wt>0)vt=pt(vt,Gt[wt-1],1);else{Gt[wt]=It[wt];break}Gt[wt]=["S"].concat(vt.reduce(function(J,ut){return J.concat(ut)},[]));break;default:Gt[wt]=It[wt]}return Gt},St=function(){function Gt(It,vt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=It,this.name=It,this.originalEvent=vt,this.timeStamp=vt.timeStamp}return Gt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},Gt.prototype.stopPropagation=function(){this.propagationStopped=!0},Gt.prototype.toString=function(){var It=this.type;return"[Event (type="+It+")]"},Gt.prototype.save=function(){},Gt.prototype.restore=function(){},Gt}(),xt=St,Mt=d(60153),Et=d(90494),Tt=d(73890),gt=d(46812),it=d(21830),Q=d(33643),U=d(66631),ct=d(66974),tt=d(27154),et=d(85260);function dt(Gt,It){var vt=Gt.indexOf(It);vt!==-1&&Gt.splice(vt,1)}var Lt=typeof window!="undefined"&&typeof window.document!="undefined";function Xt(Gt,It){if(Gt.isCanvas())return!0;for(var vt=It.getParent(),wt=!1;vt;){if(vt===Gt){wt=!0;break}vt=vt.getParent()}return wt}function $t(Gt){return Gt.cfg.visible&&Gt.cfg.capture}var fe=function(Gt){(0,Mt.__extends)(It,Gt);function It(vt){var wt=Gt.call(this)||this;wt.destroyed=!1;var J=wt.getDefaultCfg();return wt.cfg=(0,ct.default)(J,vt),wt}return It.prototype.getDefaultCfg=function(){return{}},It.prototype.get=function(vt){return this.cfg[vt]},It.prototype.set=function(vt,wt){this.cfg[vt]=wt},It.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},It}(Et.default),me=fe,pe=d(43631),xe=d(31506);function Ie(Gt,It){var vt=[],wt=Gt[0],J=Gt[1],ut=Gt[2],bt=Gt[3],kt=Gt[4],Bt=Gt[5],Ht=Gt[6],ie=Gt[7],se=Gt[8],Ae=It[0],ve=It[1],de=It[2],Ke=It[3],Qe=It[4],gr=It[5],cr=It[6],$e=It[7],ze=It[8];return vt[0]=Ae*wt+ve*bt+de*Ht,vt[1]=Ae*J+ve*kt+de*ie,vt[2]=Ae*ut+ve*Bt+de*se,vt[3]=Ke*wt+Qe*bt+gr*Ht,vt[4]=Ke*J+Qe*kt+gr*ie,vt[5]=Ke*ut+Qe*Bt+gr*se,vt[6]=cr*wt+$e*bt+ze*Ht,vt[7]=cr*J+$e*kt+ze*ie,vt[8]=cr*ut+$e*Bt+ze*se,vt}function je(Gt,It){var vt=[],wt=It[0],J=It[1];return vt[0]=Gt[0]*wt+Gt[3]*J+Gt[6],vt[1]=Gt[1]*wt+Gt[4]*J+Gt[7],vt}function ur(Gt){var It=[],vt=Gt[0],wt=Gt[1],J=Gt[2],ut=Gt[3],bt=Gt[4],kt=Gt[5],Bt=Gt[6],Ht=Gt[7],ie=Gt[8],se=ie*bt-kt*Ht,Ae=-ie*ut+kt*Bt,ve=Ht*ut-bt*Bt,de=vt*se+wt*Ae+J*ve;return de?(de=1/de,It[0]=se*de,It[1]=(-ie*wt+J*Ht)*de,It[2]=(kt*wt-J*bt)*de,It[3]=Ae*de,It[4]=(ie*vt-J*Bt)*de,It[5]=(-kt*vt+J*ut)*de,It[6]=ve*de,It[7]=(-Ht*vt+wt*Bt)*de,It[8]=(bt*vt-wt*ut)*de,It):null}var Ze="matrix",Ar=["zIndex","capture","visible","type"],Jr=["repeat"],Er=":",Hr="*";function Xn(Gt){for(var It=[],vt=0;vt<Gt.length;vt++)(0,O.isArray)(Gt[vt])?It.push([].concat(Gt[vt])):It.push(Gt[vt]);return It}function Zn(Gt,It){var vt={},wt=It.attrs;for(var J in Gt)vt[J]=wt[J];return vt}function qn(Gt,It){var vt={},wt=It.attr();return(0,O.each)(Gt,function(J,ut){Jr.indexOf(ut)===-1&&!(0,O.isEqual)(wt[ut],J)&&(vt[ut]=J)}),vt}function Pn(Gt,It){if(It.onFrame)return Gt;var vt=It.startTime,wt=It.delay,J=It.duration,ut=Object.prototype.hasOwnProperty;return(0,O.each)(Gt,function(bt){vt+wt<bt.startTime+bt.delay+bt.duration&&J>bt.delay&&(0,O.each)(It.toAttrs,function(kt,Bt){ut.call(bt.toAttrs,Bt)&&(delete bt.toAttrs[Bt],delete bt.fromAttrs[Bt])})}),Gt}var Kt=function(Gt){(0,Mt.__extends)(It,Gt);function It(vt){var wt=Gt.call(this,vt)||this;wt.attrs={};var J=wt.getDefaultAttrs();return(0,O.mix)(J,vt.attrs),wt.attrs=J,wt.initAttrs(J),wt.initAnimate(),wt}return It.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},It.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},It.prototype.onCanvasChange=function(vt){},It.prototype.initAttrs=function(vt){},It.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},It.prototype.isGroup=function(){return!1},It.prototype.getParent=function(){return this.get("parent")},It.prototype.getCanvas=function(){return this.get("canvas")},It.prototype.attr=function(){for(var vt,wt=[],J=0;J<arguments.length;J++)wt[J]=arguments[J];var ut=wt[0],bt=wt[1];if(!ut)return this.attrs;if((0,O.isObject)(ut)){for(var kt in ut)this.setAttr(kt,ut[kt]);return this.afterAttrsChange(ut),this}return wt.length===2?(this.setAttr(ut,bt),this.afterAttrsChange((vt={},vt[ut]=bt,vt)),this):this.attrs[ut]},It.prototype.isClipped=function(vt,wt){var J=this.getClip();return J&&!J.isHit(vt,wt)},It.prototype.setAttr=function(vt,wt){var J=this.attrs[vt];J!==wt&&(this.attrs[vt]=wt,this.onAttrChange(vt,wt,J))},It.prototype.onAttrChange=function(vt,wt,J){vt==="matrix"&&this.set("totalMatrix",null)},It.prototype.afterAttrsChange=function(vt){this.onCanvasChange("attr")},It.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},It.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},It.prototype.setZIndex=function(vt){this.set("zIndex",vt);var wt=this.getParent();return wt&&wt.sort(),this},It.prototype.toFront=function(){var vt=this.getParent();if(!!vt){var wt=vt.getChildren(),J=this.get("el"),ut=wt.indexOf(this);wt.splice(ut,1),wt.push(this),this.onCanvasChange("zIndex")}},It.prototype.toBack=function(){var vt=this.getParent();if(!!vt){var wt=vt.getChildren(),J=this.get("el"),ut=wt.indexOf(this);wt.splice(ut,1),wt.unshift(this),this.onCanvasChange("zIndex")}},It.prototype.remove=function(vt){vt===void 0&&(vt=!0);var wt=this.getParent();wt?(dt(wt.getChildren(),this),wt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),vt&&this.destroy()},It.prototype.resetMatrix=function(){this.attr(Ze,this.getDefaultMatrix()),this.onCanvasChange("matrix")},It.prototype.getMatrix=function(){return this.attr(Ze)},It.prototype.setMatrix=function(vt){this.attr(Ze,vt),this.onCanvasChange("matrix")},It.prototype.getTotalMatrix=function(){var vt=this.get("totalMatrix");if(!vt){var wt=this.attr("matrix"),J=this.get("parentMatrix");J&&wt?vt=Ie(J,wt):vt=wt||J,this.set("totalMatrix",vt)}return vt},It.prototype.applyMatrix=function(vt){var wt=this.attr("matrix"),J=null;vt&&wt?J=Ie(vt,wt):J=wt||vt,this.set("totalMatrix",J),this.set("parentMatrix",vt)},It.prototype.getDefaultMatrix=function(){return null},It.prototype.applyToMatrix=function(vt){var wt=this.attr("matrix");return wt?je(wt,vt):vt},It.prototype.invertFromMatrix=function(vt){var wt=this.attr("matrix");if(wt){var J=ur(wt);if(J)return je(J,vt)}return vt},It.prototype.setClip=function(vt){var wt=this.getCanvas(),J=null;if(vt){var ut=this.getShapeBase(),bt=(0,O.upperFirst)(vt.type),kt=ut[bt];kt&&(J=new kt({type:vt.type,isClipShape:!0,attrs:vt.attrs,canvas:wt}))}return this.set("clipShape",J),this.onCanvasChange("clip"),J},It.prototype.getClip=function(){var vt=this.cfg.clipShape;return vt||null},It.prototype.clone=function(){var vt=this,wt=this.attrs,J={};(0,O.each)(wt,function(kt,Bt){(0,O.isArray)(wt[Bt])?J[Bt]=Xn(wt[Bt]):J[Bt]=wt[Bt]});var ut=this.constructor,bt=new ut({attrs:J});return(0,O.each)(Ar,function(kt){bt.set(kt,vt.get(kt))}),bt},It.prototype.destroy=function(){var vt=this.destroyed;vt||(this.attrs={},Gt.prototype.destroy.call(this))},It.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},It.prototype.animate=function(){for(var vt=[],wt=0;wt<arguments.length;wt++)vt[wt]=arguments[wt];this.set("animating",!0);var J=this.get("timeline");J||(J=this.get("canvas").get("timeline"),this.set("timeline",J));var ut=this.get("animations")||[];J.timer||J.initTimer();var bt=vt[0],kt=vt[1],Bt=vt[2],Ht=Bt===void 0?"easeLinear":Bt,ie=vt[3],se=ie===void 0?O.noop:ie,Ae=vt[4],ve=Ae===void 0?0:Ae,de,Ke,Qe,gr,cr;(0,O.isFunction)(bt)?(de=bt,bt={}):(0,O.isObject)(bt)&&bt.onFrame&&(de=bt.onFrame,Ke=bt.repeat),(0,O.isObject)(kt)?(cr=kt,kt=cr.duration,Ht=cr.easing||"easeLinear",ve=cr.delay||0,Ke=cr.repeat||Ke||!1,se=cr.callback||O.noop,Qe=cr.pauseCallback||O.noop,gr=cr.resumeCallback||O.noop):((0,O.isNumber)(se)&&(ve=se,se=null),(0,O.isFunction)(Ht)?(se=Ht,Ht="easeLinear"):Ht=Ht||"easeLinear");var $e=qn(bt,this),ze={fromAttrs:Zn($e,this),toAttrs:$e,duration:kt,easing:Ht,repeat:Ke,callback:se,pauseCallback:Qe,resumeCallback:gr,delay:ve,startTime:J.getTime(),id:(0,O.uniqueId)(),onFrame:de,pathFormatted:!1};ut.length>0?ut=Pn(ut,ze):J.addAnimator(this),ut.push(ze),this.set("animations",ut),this.set("_pause",{isPaused:!1})},It.prototype.stopAnimate=function(vt){var wt=this;vt===void 0&&(vt=!0);var J=this.get("animations");(0,O.each)(J,function(ut){vt&&(ut.onFrame?wt.attr(ut.onFrame(1)):wt.attr(ut.toAttrs)),ut.callback&&ut.callback()}),this.set("animating",!1),this.set("animations",[])},It.prototype.pauseAnimate=function(){var vt=this.get("timeline"),wt=this.get("animations"),J=vt.getTime();return(0,O.each)(wt,function(ut){ut._paused=!0,ut._pauseTime=J,ut.pauseCallback&&ut.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:J}),this},It.prototype.resumeAnimate=function(){var vt=this.get("timeline"),wt=vt.getTime(),J=this.get("animations"),ut=this.get("_pause").pauseTime;return(0,O.each)(J,function(bt){bt.startTime=bt.startTime+(wt-ut),bt._paused=!1,bt._pauseTime=null,bt.resumeCallback&&bt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",J),this},It.prototype.emitDelegation=function(vt,wt){var J=this,ut=wt.propagationPath,bt=this.getEvents(),kt;vt==="mouseenter"?kt=wt.fromShape:vt==="mouseleave"&&(kt=wt.toShape);for(var Bt=function(Ae){var ve=ut[Ae],de=ve.get("name");if(de){if((ve.isGroup()||ve.isCanvas&&ve.isCanvas())&&kt&&Xt(ve,kt))return"break";(0,O.isArray)(de)?(0,O.each)(de,function(Ke){J.emitDelegateEvent(ve,Ke,wt)}):Ht.emitDelegateEvent(ve,de,wt)}},Ht=this,ie=0;ie<ut.length;ie++){var se=Bt(ie);if(se==="break")break}},It.prototype.emitDelegateEvent=function(vt,wt,J){var ut=this.getEvents(),bt=wt+Er+J.type;(ut[bt]||ut[Hr])&&(J.name=bt,J.currentTarget=vt,J.delegateTarget=this,J.delegateObject=vt.get("delegateObject"),this.emit(bt,J))},It.prototype.translate=function(vt,wt){vt===void 0&&(vt=0),wt===void 0&&(wt=0);var J=this.getMatrix(),ut=xe.transform(J,[["t",vt,wt]]);return this.setMatrix(ut),this},It.prototype.move=function(vt,wt){var J=this.attr("x")||0,ut=this.attr("y")||0;return this.translate(vt-J,wt-ut),this},It.prototype.moveTo=function(vt,wt){return this.move(vt,wt)},It.prototype.scale=function(vt,wt){var J=this.getMatrix(),ut=xe.transform(J,[["s",vt,wt||vt]]);return this.setMatrix(ut),this},It.prototype.rotate=function(vt){var wt=this.getMatrix(),J=xe.transform(wt,[["r",vt]]);return this.setMatrix(J),this},It.prototype.rotateAtStart=function(vt){var wt=this.attr(),J=wt.x,ut=wt.y,bt=this.getMatrix(),kt=xe.transform(bt,[["t",-J,-ut],["r",vt],["t",J,ut]]);return this.setMatrix(kt),this},It.prototype.rotateAtPoint=function(vt,wt,J){var ut=this.getMatrix(),bt=xe.transform(ut,[["t",-vt,-wt],["r",J],["t",vt,wt]]);return this.setMatrix(bt),this},It}(me),Jt=Kt,re={},oe="_INDEX";function ge(Gt){Gt.isGroup()?(Gt.isEntityGroup()||Gt.get("children").length)&&Gt.onCanvasChange("add"):Gt.onCanvasChange("add")}function be(Gt,It){if(Gt.set("canvas",It),Gt.isGroup()){var vt=Gt.get("children");vt.length&&vt.forEach(function(wt){be(wt,It)})}}function Ce(Gt,It){if(Gt.set("timeline",It),Gt.isGroup()){var vt=Gt.get("children");vt.length&&vt.forEach(function(wt){Ce(wt,It)})}}function Me(Gt,It){var vt=Gt.getChildren();return vt.indexOf(It)>=0}function he(Gt,It,vt){vt===void 0&&(vt=!0),vt?It.destroy():(It.set("parent",null),It.set("canvas",null)),dt(Gt.getChildren(),It)}function Ge(Gt){return function(It,vt){var wt=Gt(It,vt);return wt===0?It[oe]-vt[oe]:wt}}var Le=function(Gt){(0,Mt.__extends)(It,Gt);function It(){return Gt!==null&&Gt.apply(this,arguments)||this}return It.prototype.isCanvas=function(){return!1},It.prototype.getBBox=function(){var vt=Infinity,wt=-Infinity,J=Infinity,ut=-Infinity,bt=[],kt=[],Bt=this.getChildren().filter(function(ie){return ie.get("visible")&&(!ie.isGroup()||ie.isGroup()&&ie.getChildren().length>0)});Bt.length>0?((0,tt.default)(Bt,function(ie){var se=ie.getBBox();bt.push(se.minX,se.maxX),kt.push(se.minY,se.maxY)}),vt=Math.min.apply(null,bt),wt=Math.max.apply(null,bt),J=Math.min.apply(null,kt),ut=Math.max.apply(null,kt)):(vt=0,wt=0,J=0,ut=0);var Ht={x:vt,y:J,minX:vt,minY:J,maxX:wt,maxY:ut,width:wt-vt,height:ut-J};return Ht},It.prototype.getCanvasBBox=function(){var vt=Infinity,wt=-Infinity,J=Infinity,ut=-Infinity,bt=[],kt=[],Bt=this.getChildren().filter(function(ie){return ie.get("visible")&&(!ie.isGroup()||ie.isGroup()&&ie.getChildren().length>0)});Bt.length>0?((0,tt.default)(Bt,function(ie){var se=ie.getCanvasBBox();bt.push(se.minX,se.maxX),kt.push(se.minY,se.maxY)}),vt=Math.min.apply(null,bt),wt=Math.max.apply(null,bt),J=Math.min.apply(null,kt),ut=Math.max.apply(null,kt)):(vt=0,wt=0,J=0,ut=0);var Ht={x:vt,y:J,minX:vt,minY:J,maxX:wt,maxY:ut,width:wt-vt,height:ut-J};return Ht},It.prototype.getDefaultCfg=function(){var vt=Gt.prototype.getDefaultCfg.call(this);return vt.children=[],vt},It.prototype.onAttrChange=function(vt,wt,J){if(Gt.prototype.onAttrChange.call(this,vt,wt,J),vt==="matrix"){var ut=this.getTotalMatrix();this._applyChildrenMarix(ut)}},It.prototype.applyMatrix=function(vt){var wt=this.getTotalMatrix();Gt.prototype.applyMatrix.call(this,vt);var J=this.getTotalMatrix();J!==wt&&this._applyChildrenMarix(J)},It.prototype._applyChildrenMarix=function(vt){var wt=this.getChildren();(0,tt.default)(wt,function(J){J.applyMatrix(vt)})},It.prototype.addShape=function(){for(var vt=[],wt=0;wt<arguments.length;wt++)vt[wt]=arguments[wt];var J=vt[0],ut=vt[1];(0,Q.default)(J)?ut=J:ut.type=J;var bt=re[ut.type];bt||(bt=(0,et.default)(ut.type),re[ut.type]=bt);var kt=this.getShapeBase(),Bt=new kt[bt](ut);return this.add(Bt),Bt},It.prototype.addGroup=function(){for(var vt=[],wt=0;wt<arguments.length;wt++)vt[wt]=arguments[wt];var J=vt[0],ut=vt[1],bt;if((0,gt.default)(J))ut?bt=new J(ut):bt=new J({parent:this});else{var kt=J||{},Bt=this.getGroupBase();bt=new Bt(kt)}return this.add(bt),bt},It.prototype.getCanvas=function(){var vt;return this.isCanvas()?vt=this:vt=this.get("canvas"),vt},It.prototype.getShape=function(vt,wt,J){if(!$t(this))return null;var ut=this.getChildren(),bt;if(this.isCanvas())bt=this._findShape(ut,vt,wt,J);else{var kt=[vt,wt,1];kt=this.invertFromMatrix(kt),this.isClipped(kt[0],kt[1])||(bt=this._findShape(ut,kt[0],kt[1],J))}return bt},It.prototype._findShape=function(vt,wt,J,ut){for(var bt=null,kt=vt.length-1;kt>=0;kt--){var Bt=vt[kt];if($t(Bt)&&(Bt.isGroup()?bt=Bt.getShape(wt,J,ut):Bt.isHit(wt,J)&&(bt=Bt)),bt)break}return bt},It.prototype.add=function(vt){var wt=this.getCanvas(),J=this.getChildren(),ut=this.get("timeline"),bt=vt.getParent();bt&&he(bt,vt,!1),vt.set("parent",this),wt&&be(vt,wt),ut&&Ce(vt,ut),J.push(vt),ge(vt),this._applyElementMatrix(vt)},It.prototype._applyElementMatrix=function(vt){var wt=this.getTotalMatrix();wt&&vt.applyMatrix(wt)},It.prototype.getChildren=function(){return this.get("children")},It.prototype.sort=function(){var vt=this.getChildren();(0,tt.default)(vt,function(wt,J){return wt[oe]=J,wt}),vt.sort(Ge(function(wt,J){return wt.get("zIndex")-J.get("zIndex")})),this.onCanvasChange("sort")},It.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var vt=this.getChildren(),wt=vt.length-1;wt>=0;wt--)vt[wt].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},It.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Gt.prototype.destroy.call(this))},It.prototype.getFirst=function(){return this.getChildByIndex(0)},It.prototype.getLast=function(){var vt=this.getChildren();return this.getChildByIndex(vt.length-1)},It.prototype.getChildByIndex=function(vt){var wt=this.getChildren();return wt[vt]},It.prototype.getCount=function(){var vt=this.getChildren();return vt.length},It.prototype.contain=function(vt){var wt=this.getChildren();return wt.indexOf(vt)>-1},It.prototype.removeChild=function(vt,wt){wt===void 0&&(wt=!0),this.contain(vt)&&vt.remove(wt)},It.prototype.findAll=function(vt){var wt=[],J=this.getChildren();return(0,tt.default)(J,function(ut){vt(ut)&&wt.push(ut),ut.isGroup()&&(wt=wt.concat(ut.findAll(vt)))}),wt},It.prototype.find=function(vt){var wt=null,J=this.getChildren();return(0,tt.default)(J,function(ut){if(vt(ut)?wt=ut:ut.isGroup()&&(wt=ut.find(vt)),wt)return!1}),wt},It.prototype.findById=function(vt){return this.find(function(wt){return wt.get("id")===vt})},It.prototype.findByClassName=function(vt){return this.find(function(wt){return wt.get("className")===vt})},It.prototype.findAllByName=function(vt){return this.findAll(function(wt){return wt.get("name")===vt})},It}(Jt),He=Le,er=d(35374),Ue=d(13681),nr=d(26257),qe=d(88122),fr=function(Gt){return["fill","stroke","fillStyle","strokeStyle"].includes(Gt)},We=function(Gt){return/^[r,R,L,l]{1}[\s]*\(/.test(Gt)},vr=[1,0,0,0,1,0,0,0,1];function Pr(Gt,It,vt){var wt={},J=It.fromAttrs,ut=It.toAttrs;if(!Gt.destroyed){var bt;for(var kt in ut)if(!(0,O.isEqual)(J[kt],ut[kt]))if(kt==="path"){var Bt=ut[kt],Ht=J[kt];Bt.length>Ht.length?(Bt=_(ut[kt]),Ht=_(J[kt]),Ht=f(Ht,Bt),Ht=ot(Ht,Bt),It.fromAttrs.path=Ht,It.toAttrs.path=Bt):It.pathFormatted||(Bt=_(ut[kt]),Ht=_(J[kt]),Ht=ot(Ht,Bt),It.fromAttrs.path=Ht,It.toAttrs.path=Bt,It.pathFormatted=!0),wt[kt]=[];for(var ie=0;ie<Bt.length;ie++){for(var se=Bt[ie],Ae=Ht[ie],ve=[],de=0;de<se.length;de++)(0,O.isNumber)(se[de])&&Ae&&(0,O.isNumber)(Ae[de])?(bt=(0,nr.Z)(Ae[de],se[de]),ve.push(bt(vt))):ve.push(se[de]);wt[kt].push(ve)}}else if(kt==="matrix"){var Ke=(0,qe.Z)(J[kt]||vr,ut[kt]||vr),Qe=Ke(vt);wt[kt]=Qe}else fr(kt)&&We(ut[kt])?wt[kt]=ut[kt]:(0,O.isFunction)(ut[kt])||(bt=(0,nr.Z)(J[kt],ut[kt]),wt[kt]=bt(vt));Gt.attr(wt)}}function wr(Gt,It,vt){var wt=It.startTime,J=It.delay;if(vt<wt+J||It._paused)return!1;var ut,bt=It.duration,kt=It.easing;if(vt=vt-wt-It.delay,It.repeat)ut=vt%bt/bt,ut=Ue[kt](ut);else if(ut=vt/bt,ut<1)ut=Ue[kt](ut);else return It.onFrame?Gt.attr(It.onFrame(1)):Gt.attr(It.toAttrs),!0;if(It.onFrame){var Bt=It.onFrame(ut);Gt.attr(Bt)}else Pr(Gt,It,ut);return!1}var _r=function(){function Gt(It){this.animators=[],this.current=0,this.timer=null,this.canvas=It}return Gt.prototype.initTimer=function(){var It=this,vt=!1,wt,J,ut;this.timer=er.HT(function(bt){if(It.current=bt,It.animators.length>0){for(var kt=It.animators.length-1;kt>=0;kt--){if(wt=It.animators[kt],wt.destroyed){It.removeAnimator(kt);continue}if(!wt.isAnimatePaused()){J=wt.get("animations");for(var Bt=J.length-1;Bt>=0;Bt--)ut=J[Bt],vt=wr(wt,ut,bt),vt&&(J.splice(Bt,1),vt=!1,ut.callback&&ut.callback())}J.length===0&&It.removeAnimator(kt)}var Ht=It.canvas.get("autoDraw");Ht||It.canvas.draw()}})},Gt.prototype.addAnimator=function(It){this.animators.push(It)},Gt.prototype.removeAnimator=function(It){this.animators.splice(It,1)},Gt.prototype.isAnimating=function(){return!!this.animators.length},Gt.prototype.stop=function(){this.timer&&this.timer.stop()},Gt.prototype.stopAllAnimations=function(It){It===void 0&&(It=!0),this.animators.forEach(function(vt){vt.stopAnimate(It)}),this.animators=[],this.canvas.draw()},Gt.prototype.getTime=function(){return this.current},Gt}(),Yr=_r,kr=40,mn=0,Ur=":",In=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Kn(Gt,It){for(var vt in Gt)if(Gt.hasOwnProperty(vt)&&vt.indexOf(Ur+It)>=0)return!0;return!1}function Wn(Gt,It,vt){vt.name=It,vt.target=Gt,vt.currentTarget=Gt,vt.delegateTarget=Gt,Gt.emit(It,vt)}function Ti(Gt,It,vt){if(vt.bubbles){var wt=void 0,J=!1;if(It==="mouseenter"?(wt=vt.fromShape,J=!0):It==="mouseleave"&&(J=!0,wt=vt.toShape),Gt.isCanvas()&&J)return;if(wt&&Xt(Gt,wt)){vt.bubbles=!1;return}vt.name=It,vt.currentTarget=Gt,vt.delegateTarget=Gt,Gt.emit(It,vt)}}var Bi=function(){function Gt(It){var vt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(wt){var J=wt.type;vt._triggerEvent(J,wt)},this._onDocumentMove=function(wt){var J=vt.canvas,ut=J.get("el");if(ut!==wt.target&&(vt.dragging||vt.currentShape)){var bt=vt._getPointInfo(wt);vt.dragging&&vt._emitEvent("drag",wt,bt,vt.draggingShape)}},this._onDocumentMouseUp=function(wt){var J=vt.canvas,ut=J.get("el");if(ut!==wt.target&&vt.dragging){var bt=vt._getPointInfo(wt);vt.draggingShape&&vt._emitEvent("drop",wt,bt,null),vt._emitEvent("dragend",wt,bt,vt.draggingShape),vt._afterDrag(vt.draggingShape,bt,wt)}},this.canvas=It.canvas}return Gt.prototype.init=function(){this._bindEvents()},Gt.prototype._bindEvents=function(){var It=this,vt=this.canvas.get("el");(0,tt.default)(In,function(wt){vt.addEventListener(wt,It._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Gt.prototype._clearEvents=function(){var It=this,vt=this.canvas.get("el");(0,tt.default)(In,function(wt){vt.removeEventListener(wt,It._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Gt.prototype._getEventObj=function(It,vt,wt,J,ut,bt){var kt=new xt(It,vt);return kt.fromShape=ut,kt.toShape=bt,kt.x=wt.x,kt.y=wt.y,kt.clientX=wt.clientX,kt.clientY=wt.clientY,kt.propagationPath.push(J),kt},Gt.prototype._getShape=function(It,vt){return this.canvas.getShape(It.x,It.y,vt)},Gt.prototype._getPointInfo=function(It){var vt=this.canvas,wt=vt.getClientByEvent(It),J=vt.getPointByEvent(It);return{x:J.x,y:J.y,clientX:wt.x,clientY:wt.y}},Gt.prototype._triggerEvent=function(It,vt){var wt=this._getPointInfo(vt),J=this._getShape(wt,vt),ut=this["_on"+It],bt=!1;if(ut)ut.call(this,wt,J,vt);else{var kt=this.currentShape;It==="mouseenter"||It==="dragenter"||It==="mouseover"?(this._emitEvent(It,vt,wt,null,null,J),J&&this._emitEvent(It,vt,wt,J,null,J),It==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",vt,wt,null)):It==="mouseleave"||It==="dragleave"||It==="mouseout"?(bt=!0,kt&&this._emitEvent(It,vt,wt,kt,kt,null),this._emitEvent(It,vt,wt,null,kt,null),It==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",vt,wt,null)):this._emitEvent(It,vt,wt,J,null,null)}if(bt||(this.currentShape=J),J&&!J.get("destroyed")){var Bt=this.canvas,Ht=Bt.get("el");Ht.style.cursor=J.attr("cursor")||Bt.get("cursor")}},Gt.prototype._onmousedown=function(It,vt,wt){wt.button===mn&&(this.mousedownShape=vt,this.mousedownPoint=It,this.mousedownTimeStamp=wt.timeStamp),this._emitEvent("mousedown",wt,It,vt,null,null)},Gt.prototype._emitMouseoverEvents=function(It,vt,wt,J){var ut=this.canvas.get("el");wt!==J&&(wt&&(this._emitEvent("mouseout",It,vt,wt,wt,J),this._emitEvent("mouseleave",It,vt,wt,wt,J),(!J||J.get("destroyed"))&&(ut.style.cursor=this.canvas.get("cursor"))),J&&(this._emitEvent("mouseover",It,vt,J,wt,J),this._emitEvent("mouseenter",It,vt,J,wt,J)))},Gt.prototype._emitDragoverEvents=function(It,vt,wt,J,ut){J?(J!==wt&&(wt&&this._emitEvent("dragleave",It,vt,wt,wt,J),this._emitEvent("dragenter",It,vt,J,wt,J)),ut||this._emitEvent("dragover",It,vt,J)):wt&&this._emitEvent("dragleave",It,vt,wt,wt,J),ut&&this._emitEvent("dragover",It,vt,J)},Gt.prototype._afterDrag=function(It,vt,wt){It&&(It.set("capture",!0),this.draggingShape=null),this.dragging=!1;var J=this._getShape(vt,wt);J!==It&&this._emitMouseoverEvents(wt,vt,It,J),this.currentShape=J},Gt.prototype._onmouseup=function(It,vt,wt){if(wt.button===mn){var J=this.draggingShape;this.dragging?(J&&this._emitEvent("drop",wt,It,vt),this._emitEvent("dragend",wt,It,J),this._afterDrag(J,It,wt)):(this._emitEvent("mouseup",wt,It,vt),vt===this.mousedownShape&&this._emitEvent("click",wt,It,vt),this.mousedownShape=null,this.mousedownPoint=null)}},Gt.prototype._ondragover=function(It,vt,wt){wt.preventDefault();var J=this.currentShape;this._emitDragoverEvents(wt,It,J,vt,!0)},Gt.prototype._onmousemove=function(It,vt,wt){var J=this.canvas,ut=this.currentShape,bt=this.draggingShape;if(this.dragging)bt&&this._emitDragoverEvents(wt,It,ut,vt,!1),this._emitEvent("drag",wt,It,bt);else{var kt=this.mousedownPoint;if(kt){var Bt=this.mousedownShape,Ht=wt.timeStamp,ie=Ht-this.mousedownTimeStamp,se=kt.clientX-It.clientX,Ae=kt.clientY-It.clientY,ve=se*se+Ae*Ae;ie>120||ve>kr?Bt&&Bt.get("draggable")?(bt=this.mousedownShape,bt.set("capture",!1),this.draggingShape=bt,this.dragging=!0,this._emitEvent("dragstart",wt,It,bt),this.mousedownShape=null,this.mousedownPoint=null):!Bt&&J.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",wt,It,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(wt,It,ut,vt),this._emitEvent("mousemove",wt,It,vt)):(this._emitMouseoverEvents(wt,It,ut,vt),this._emitEvent("mousemove",wt,It,vt))}else this._emitMouseoverEvents(wt,It,ut,vt),this._emitEvent("mousemove",wt,It,vt)}},Gt.prototype._emitEvent=function(It,vt,wt,J,ut,bt){var kt=this._getEventObj(It,vt,wt,J,ut,bt);if(J){kt.shape=J,Wn(J,It,kt);for(var Bt=J.getParent();Bt;)Bt.emitDelegation(It,kt),kt.propagationStopped||Ti(Bt,It,kt),kt.propagationPath.push(Bt),Bt=Bt.getParent()}else{var Ht=this.canvas;Wn(Ht,It,kt)}},Gt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Gt}(),Sr=Bi,hi="px",bi=(0,pe.detect)(),ti=bi&&bi.name==="firefox",cn=function(Gt){(0,Mt.__extends)(It,Gt);function It(vt){var wt=Gt.call(this,vt)||this;return wt.initContainer(),wt.initDom(),wt.initEvents(),wt.initTimeline(),wt}return It.prototype.getDefaultCfg=function(){var vt=Gt.prototype.getDefaultCfg.call(this);return vt.cursor="default",vt.supportCSSTransform=!1,vt},It.prototype.initContainer=function(){var vt=this.get("container");(0,it.default)(vt)&&(vt=document.getElementById(vt),this.set("container",vt))},It.prototype.initDom=function(){var vt=this.createDom();this.set("el",vt);var wt=this.get("container");wt.appendChild(vt),this.setDOMSize(this.get("width"),this.get("height"))},It.prototype.initEvents=function(){var vt=new Sr({canvas:this});vt.init(),this.set("eventController",vt)},It.prototype.initTimeline=function(){var vt=new Yr(this);this.set("timeline",vt)},It.prototype.setDOMSize=function(vt,wt){var J=this.get("el");Lt&&(J.style.width=vt+hi,J.style.height=wt+hi)},It.prototype.changeSize=function(vt,wt){this.setDOMSize(vt,wt),this.set("width",vt),this.set("height",wt),this.onCanvasChange("changeSize")},It.prototype.getRenderer=function(){return this.get("renderer")},It.prototype.getCursor=function(){return this.get("cursor")},It.prototype.setCursor=function(vt){this.set("cursor",vt);var wt=this.get("el");Lt&&wt&&(wt.style.cursor=vt)},It.prototype.getPointByEvent=function(vt){var wt=this.get("supportCSSTransform");if(wt){if(ti&&!(0,Tt.default)(vt.layerX)&&vt.layerX!==vt.offsetX)return{x:vt.layerX,y:vt.layerY};if(!(0,Tt.default)(vt.offsetX))return{x:vt.offsetX,y:vt.offsetY}}var J=this.getClientByEvent(vt),ut=J.x,bt=J.y;return this.getPointByClient(ut,bt)},It.prototype.getClientByEvent=function(vt){var wt=vt;return vt.touches&&(vt.type==="touchend"?wt=vt.changedTouches[0]:wt=vt.touches[0]),{x:wt.clientX,y:wt.clientY}},It.prototype.getPointByClient=function(vt,wt){var J=this.get("el"),ut=J.getBoundingClientRect();return{x:vt-ut.left,y:wt-ut.top}},It.prototype.getClientByPoint=function(vt,wt){var J=this.get("el"),ut=J.getBoundingClientRect();return{x:vt+ut.left,y:wt+ut.top}},It.prototype.draw=function(){},It.prototype.removeDom=function(){var vt=this.get("el");vt.parentNode.removeChild(vt)},It.prototype.clearEvents=function(){var vt=this.get("eventController");vt.destroy()},It.prototype.isCanvas=function(){return!0},It.prototype.getParent=function(){return null},It.prototype.destroy=function(){var vt=this.get("timeline");this.get("destroyed")||(this.clear(),vt&&vt.stop(),this.clearEvents(),this.removeDom(),Gt.prototype.destroy.call(this))},It}(He),ei=cn,Vi=function(Gt){(0,Mt.__extends)(It,Gt);function It(){return Gt!==null&&Gt.apply(this,arguments)||this}return It.prototype.isGroup=function(){return!0},It.prototype.isEntityGroup=function(){return!1},It.prototype.clone=function(){for(var vt=Gt.prototype.clone.call(this),wt=this.getChildren(),J=0;J<wt.length;J++){var ut=wt[J];vt.add(ut.clone())}return vt},It}(He),ri=Vi,Pi=function(Gt){(0,Mt.__extends)(It,Gt);function It(vt){return Gt.call(this,vt)||this}return It.prototype._isInBBox=function(vt,wt){var J=this.getBBox();return J.minX<=vt&&J.maxX>=vt&&J.minY<=wt&&J.maxY>=wt},It.prototype.afterAttrsChange=function(vt){Gt.prototype.afterAttrsChange.call(this,vt),this.clearCacheBBox()},It.prototype.getBBox=function(){var vt=this.get("bbox");return vt||(vt=this.calculateBBox(),this.set("bbox",vt)),vt},It.prototype.getCanvasBBox=function(){var vt=this.get("canvasBox");return vt||(vt=this.calculateCanvasBBox(),this.set("canvasBox",vt)),vt},It.prototype.applyMatrix=function(vt){Gt.prototype.applyMatrix.call(this,vt),this.set("canvasBox",null)},It.prototype.calculateCanvasBBox=function(){var vt=this.getBBox(),wt=this.getTotalMatrix(),J=vt.minX,ut=vt.minY,bt=vt.maxX,kt=vt.maxY;if(wt){var Bt=je(wt,[vt.minX,vt.minY]),Ht=je(wt,[vt.maxX,vt.minY]),ie=je(wt,[vt.minX,vt.maxY]),se=je(wt,[vt.maxX,vt.maxY]);J=Math.min(Bt[0],Ht[0],ie[0],se[0]),bt=Math.max(Bt[0],Ht[0],ie[0],se[0]),ut=Math.min(Bt[1],Ht[1],ie[1],se[1]),kt=Math.max(Bt[1],Ht[1],ie[1],se[1])}var Ae=this.attrs;if(Ae.shadowColor){var ve=Ae.shadowBlur,de=ve===void 0?0:ve,Ke=Ae.shadowOffsetX,Qe=Ke===void 0?0:Ke,gr=Ae.shadowOffsetY,cr=gr===void 0?0:gr,$e=J-de+Qe,ze=bt+de+Qe,Or=ut-de+cr,Zr=kt+de+cr;J=Math.min(J,$e),bt=Math.max(bt,ze),ut=Math.min(ut,Or),kt=Math.max(kt,Zr)}return{x:J,y:ut,minX:J,minY:ut,maxX:bt,maxY:kt,width:bt-J,height:kt-ut}},It.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},It.prototype.isClipShape=function(){return this.get("isClipShape")},It.prototype.isInShape=function(vt,wt){return!1},It.prototype.isOnlyHitBox=function(){return!1},It.prototype.isHit=function(vt,wt){var J=this.get("startArrowShape"),ut=this.get("endArrowShape"),bt=[vt,wt,1];bt=this.invertFromMatrix(bt);var kt=bt[0],Bt=bt[1],Ht=this._isInBBox(kt,Bt);return this.isOnlyHitBox()?Ht:!!(Ht&&!this.isClipped(kt,Bt)&&(this.isInShape(kt,Bt)||J&&J.isHit(kt,Bt)||ut&&ut.isHit(kt,Bt)))},It}(Jt),Dn=Pi,Qi=d(76062),ua=Qi.version},40455:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var O=m.attr(),I=O.x,L=O.y,P=O.r;return{x:I-P,y:L-P,width:P*2,height:P*2}}S.default=d},27633:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var O=m.attr(),I=O.x,L=O.y,P=O.rx,_=O.ry;return{x:I-P,y:L-_,width:P*2,height:_*2}}S.default=d},41056:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(28648);S.b=O.getMethod;var I=d(3541),L=d(40455),P=d(10687),_=d(19914),E=d(92933),C=d(89372),p=d(74461),b=d(27633);O.register("rect",I.default),O.register("image",I.default),O.register("circle",L.default),O.register("marker",L.default),O.register("polyline",P.default),O.register("polygon",_.default),O.register("text",E.default),O.register("path",C.default),O.register("line",p.default),O.register("ellipse",b.default)},74461:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(3406);function O(I){var L=I.attr(),P=L.x1,_=L.y1,E=L.x2,C=L.y2,p=Math.min(P,E),b=Math.max(P,E),x=Math.min(_,C),w=Math.max(_,C),y={minX:p,maxX:b,minY:x,maxY:w};return y=m.mergeArrowBBox(I,y),{x:y.minX,y:y.minY,width:y.maxX-y.minX,height:y.maxY-y.minY}}S.default=O},89372:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(2879),O=d(15730),I=d(33418),L=d(49274),P=d(39984),_=d(3406);function E(b,x){for(var w=[],y=[],M=[],T=0;T<b.length;T++){var B=b[T],D=B.currentPoint,X=B.params,$=B.prePoint,H=void 0;switch(B.command){case"Q":H=m.default.box($[0],$[1],X[1],X[2],X[3],X[4]);break;case"C":H=O.default.box($[0],$[1],X[1],X[2],X[3],X[4],X[5],X[6]);break;case"A":var nt=B.arcParams;H=I.default.box(nt.cx,nt.cy,nt.rx,nt.ry,nt.xRotation,nt.startAngle,nt.endAngle);break;default:w.push(D[0]),y.push(D[1]);break}H&&(B.box=H,w.push(H.x,H.x+H.width),y.push(H.y,H.y+H.height)),x&&(B.command==="L"||B.command==="M")&&B.prePoint&&B.nextPoint&&M.push(B)}w=w.filter(function(V){return!Number.isNaN(V)}),y=y.filter(function(V){return!Number.isNaN(V)});var ht=Math.min.apply(null,w),at=Math.min.apply(null,y),Ot=Math.max.apply(null,w),Ft=Math.max.apply(null,y);if(M.length===0)return{x:ht,y:at,width:Ot-ht,height:Ft-at};for(var T=0;T<M.length;T++){var B=M[T],D=B.currentPoint,Dt=void 0;D[0]===ht?(Dt=C(B,x),ht=ht-Dt.xExtra):D[0]===Ot&&(Dt=C(B,x),Ot=Ot+Dt.xExtra),D[1]===at?(Dt=C(B,x),at=at-Dt.yExtra):D[1]===Ft&&(Dt=C(B,x),Ft=Ft+Dt.yExtra)}return{x:ht,y:at,width:Ot-ht,height:Ft-at}}function C(b,x){var w=b.prePoint,y=b.currentPoint,M=b.nextPoint,T=Math.pow(y[0]-w[0],2)+Math.pow(y[1]-w[1],2),B=Math.pow(y[0]-M[0],2)+Math.pow(y[1]-M[1],2),D=Math.pow(w[0]-M[0],2)+Math.pow(w[1]-M[1],2),X=Math.acos((T+B-D)/(2*Math.sqrt(T)*Math.sqrt(B)));if(!X||Math.sin(X)===0||P.default(X,0))return{xExtra:0,yExtra:0};var $=Math.abs(Math.atan2(M[1]-y[1],M[0]-y[0])),H=Math.abs(Math.atan2(M[0]-y[0],M[1]-y[1]));$=$>Math.PI/2?Math.PI-$:$,H=H>Math.PI/2?Math.PI-H:H;var nt={xExtra:Math.cos(X/2-$)*(x/2*(1/Math.sin(X/2)))-x/2||0,yExtra:Math.cos(H-X/2)*(x/2*(1/Math.sin(X/2)))-x/2||0};return nt}function p(b){var x=b.attr(),w=x.path,y=x.stroke,M=y?x.lineWidth:0,T=b.get("segments")||L.default(w),B=E(T,M),D=B.x,X=B.y,$=B.width,H=B.height,nt={minX:D,minY:X,maxX:D+$,maxY:X+H};return nt=_.mergeArrowBBox(b,nt),{x:nt.minX,y:nt.minY,width:nt.maxX-nt.minX,height:nt.maxY-nt.minY}}S.default=p},19914:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256);function O(I){for(var L=I.attr(),P=L.points,_=[],E=[],C=0;C<P.length;C++){var p=P[C];_.push(p[0]),E.push(p[1])}return m.getBBoxByArray(_,E)}S.default=O},10687:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),O=d(3406);function I(L){for(var P=L.attr(),_=P.points,E=[],C=[],p=0;p<_.length;p++){var b=_[p];E.push(b[0]),C.push(b[1])}var x=m.getBBoxByArray(E,C),w=x.x,y=x.y,M=x.width,T=x.height,B={minX:w,minY:y,maxX:w+M,maxY:y+T};return B=O.mergeArrowBBox(L,B),{x:B.minX,y:B.minY,width:B.maxX-B.minX,height:B.maxY-B.minY}}S.default=I},3541:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var O=m.attr(),I=O.x,L=O.y,P=O.width,_=O.height;return{x:I,y:L,width:P,height:_}}S.default=d},28648:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=new Map;function m(I,L){d.set(I,L)}S.register=m;function O(I){return d.get(I)}S.getMethod=O},92933:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(8914);function O(I){var L=I.attr(),P=L.x,_=L.y,E=L.text,C=L.fontSize,p=L.lineHeight,b=L.font;b||(b=m.assembleFont(L));var x=m.getTextWidth(E,b),w;if(!x)w={x:P,y:_,width:0,height:0};else{var y=L.textAlign,M=L.textBaseline,T=m.getTextHeight(E,C,p),B={x:P,y:_-T};y&&(y==="end"||y==="right"?B.x-=x:y==="center"&&(B.x-=x/2)),M&&(M==="top"?B.y+=T:M==="middle"&&(B.y+=T/2)),w={x:B.x,y:B.y,width:x,height:T}}return w}S.default=O},3406:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(O,I){return!O||!I?O||I:{minX:Math.min(O.minX,I.minX),minY:Math.min(O.minY,I.minY),maxX:Math.max(O.maxX,I.maxX),maxY:Math.max(O.maxY,I.maxY)}}S.mergeBBox=d;function m(O,I){var L=O.get("startArrowShape"),P=O.get("endArrowShape"),_=null,E=null;return L&&(_=L.getCanvasBBox(),I=d(I,_)),P&&(E=P.getCanvasBBox(),I=d(I,E)),I}S.mergeArrowBBox=m},66192:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(O,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=I,this.timeStamp=I.timeStamp}return m.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},m.prototype.stopPropagation=function(){this.propagationStopped=!0},m.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},m.prototype.save=function(){},m.prototype.restore=function(){},m}();S.default=d},85424:function(_t,S){"use strict";var d;d={value:!0}},4555:function(_t,S){"use strict";Object.defineProperty(S,"X",{value:!0})},6052:function(_t,S){"use strict";var d;d={value:!0};function m(L,P){var _=[],E=L[0],C=L[1],p=L[2],b=L[3],x=L[4],w=L[5],y=L[6],M=L[7],T=L[8],B=P[0],D=P[1],X=P[2],$=P[3],H=P[4],nt=P[5],ht=P[6],at=P[7],Ot=P[8];return _[0]=B*E+D*b+X*y,_[1]=B*C+D*x+X*M,_[2]=B*p+D*w+X*T,_[3]=$*E+H*b+nt*y,_[4]=$*C+H*x+nt*M,_[5]=$*p+H*w+nt*T,_[6]=ht*E+at*b+Ot*y,_[7]=ht*C+at*x+Ot*M,_[8]=ht*p+at*w+Ot*T,_}d=m;function O(L,P){var _=[],E=P[0],C=P[1];return _[0]=L[0]*E+L[3]*C+L[6],_[1]=L[1]*E+L[4]*C+L[7],_}S.rG=O;function I(L){var P=[],_=L[0],E=L[1],C=L[2],p=L[3],b=L[4],x=L[5],w=L[6],y=L[7],M=L[8],T=M*b-x*y,B=-M*p+x*w,D=y*p-b*w,X=_*T+E*B+C*D;return X?(X=1/X,P[0]=T*X,P[1]=(-M*E+C*y)*X,P[2]=(x*E-C*b)*X,P[3]=B*X,P[4]=(M*_-C*w)*X,P[5]=(-x*_+C*p)*X,P[6]=D*X,P[7]=(-y*_+E*w)*X,P[8]=(b*_-E*p)*X,P):null}S.U_=I},26632:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=null;function m(){if(!d){var O=document.createElement("canvas");O.width=1,O.height=1,d=O.getContext("2d")}return d}S.getOffScreenContext=m},8914:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(22487),O=d(26632);function I(E,C,p){var b=1;if(m.isString(E)&&(b=E.split(`
`).length),b>1){var x=L(C,p);return C*b+x*(b-1)}return C}S.getTextHeight=I;function L(E,C){return C?C-E:E*.14}S.getLineSpaceing=L;function P(E,C){var p=O.getOffScreenContext(),b=0;if(m.isNil(E)||E==="")return b;if(p.save(),p.font=C,m.isString(E)&&E.includes(`
`)){var x=E.split(`
`);m.each(x,function(w){var y=p.measureText(w).width;b<y&&(b=y)})}else b=p.measureText(E).width;return p.restore(),b}S.getTextWidth=P;function _(E){var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,x=E.fontStyle,w=E.fontVariant;return[x,w,b,C+"px",p].join(" ").trim()}S.assembleFont=_},22487:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function m(w,y){var M=w.indexOf(y);M!==-1&&w.splice(M,1)}S.removeFromArray=m,S.isBrowser=typeof window!="undefined"&&typeof window.document!="undefined";var O=d(73890);S.isNil=O.default;var I=d(46812);S.isFunction=I.default;var L=d(21830);S.isString=L.default;var P=d(33643);S.isObject=P.default;var _=d(66631);S.isArray=_.default;var E=d(66974);S.mix=E.default;var C=d(27154);S.each=C.default;var p=d(85260);S.upperFirst=p.default;function b(w,y){if(w.isCanvas())return!0;for(var M=y.getParent(),T=!1;M;){if(M===w){T=!0;break}M=M.getParent()}return T}S.isParent=b;function x(w){return w.cfg.visible&&w.cfg.capture}S.isAllowCapture=x},76062:function(_t){"use strict";_t.exports=JSON.parse('{"__npminstall_done":false,"_from":"@antv/g-base@~0.4.0","_id":"@antv/g-base@0.4.7","_inBundle":false,"_integrity":"sha512-wKSpS3/M1slU92iOgi2QV4MCd82J1d2PyPcQArqSFRUZU0KnVMIl95v79dG0Be4YvFaZ3bVrT6Ns1Czr8oplhA==","_location":"/@antv/g-base","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@antv/g-base@~0.4.0","name":"@antv/g-base","escapedName":"@antv%2fg-base","scope":"@antv","rawSpec":"~0.4.0","saveSpec":null,"fetchSpec":"~0.4.0"},"_requiredBy":["/@antv/component","/@antv/g-canvas","/@antv/g-svg","/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-base/-/g-base-0.4.7.tgz","_shasum":"7698fc4c8cb381f2b789a30fbeb26b1e88c48196","_spec":"@antv/g-base@~0.4.0","_where":"C:\\\\Projects\\\\feature-flags.co\\\\Code\\\\antdesignpro-react\\\\my-app\\\\node_modules\\\\@antv\\\\g2plot","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/util/issues"},"bundleDependencies":false,"dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"deprecated":false,"description":"A common util collection for antv projects","devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"files":["package.json","esm","lib","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/util#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-base","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","clean":"rm -rf esm lib","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc"},"types":"lib/index.d.ts","version":"0.4.7"}')},84909:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(48465);function I(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function L(E,C){return I(E)*I(C)?(E[0]*C[0]+E[1]*C[1])/(I(E)*I(C)):1}function P(E,C){return(E[0]*C[1]<E[1]*C[0]?-1:1)*Math.acos(L(E,C))}function _(E,C){var p=C[1],b=C[2],x=O.mod(O.toRadian(C[3]),Math.PI*2),w=C[4],y=C[5],M=E[0],T=E[1],B=C[6],D=C[7],X=Math.cos(x)*(M-B)/2+Math.sin(x)*(T-D)/2,$=-1*Math.sin(x)*(M-B)/2+Math.cos(x)*(T-D)/2,H=X*X/(p*p)+$*$/(b*b);H>1&&(p*=Math.sqrt(H),b*=Math.sqrt(H));var nt=p*p*($*$)+b*b*(X*X),ht=nt?Math.sqrt((p*p*(b*b)-nt)/nt):1;w===y&&(ht*=-1),isNaN(ht)&&(ht=0);var at=b?ht*p*$/b:0,Ot=p?ht*-b*X/p:0,Ft=(M+B)/2+Math.cos(x)*at-Math.sin(x)*Ot,Dt=(T+D)/2+Math.sin(x)*at+Math.cos(x)*Ot,V=[(X-at)/p,($-Ot)/b],q=[(-1*X-at)/p,(-1*$-Ot)/b],K=P([1,0],V),Z=P(V,q);return L(V,q)<=-1&&(Z=Math.PI),L(V,q)>=1&&(Z=0),y===0&&Z>0&&(Z=Z-2*Math.PI),y===1&&Z<0&&(Z=Z+2*Math.PI),{cx:Ft,cy:Dt,rx:O.isSamePoint(E,[B,D])?0:p,ry:O.isSamePoint(E,[B,D])?0:b,startAngle:K,endAngle:K+Z,xRotation:x,arcFlag:w,sweepFlag:y}}S.Z=_},48465:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function m(){return window?window.devicePixelRatio:1}S.getPixelRatio=m;function O(D,X,$,H){var nt=D-$,ht=X-H;return Math.sqrt(nt*nt+ht*ht)}S.distance=O;function I(D,X,$,H,nt,ht){return nt>=D&&nt<=D+$&&ht>=X&&ht<=X+H}S.inBox=I;function L(D,X){return!(X.minX>D.maxX||X.maxX<D.minX||X.minY>D.maxY||X.maxY<D.minY)}S.intersectRect=L;function P(D,X){return!D||!X?D||X:{minX:Math.min(D.minX,X.minX),minY:Math.min(D.minY,X.minY),maxX:Math.max(D.maxX,X.maxX),maxY:Math.max(D.maxY,X.maxY)}}S.mergeRegion=P;function _(D,X){return D[0]===X[0]&&D[1]===X[1]}S.isSamePoint=_;var E=d(73890);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return E.default}});var C=d(21830);Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return C.default}});var p=d(46812);Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return p.default}});var b=d(66631);Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return b.default}});var x=d(27154);Object.defineProperty(S,"each",{enumerable:!0,get:function(){return x.default}});var w=d(9217);Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return w.default}});var y=d(5253);Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return y.default}});var M=d(39984);Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return M.default}});var T=d(98229);Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return T.default}});var B=d(35755);Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return B.default}})},71270:function(_t){"use strict";_t.exports=JSON.parse('{"__npminstall_done":false,"_from":"@antv/g-canvas@~0.4.0","_id":"@antv/g-canvas@0.4.15","_inBundle":false,"_integrity":"sha512-+Du37T7dhU1F8GiaWu+EMtBDHoYOg8UzCoVBFD+cUEs/joLaOVkup3drvGC/6MSyLiI32y/ZHuuc08pZIP7PzA==","_location":"/@antv/g-canvas","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@antv/g-canvas@~0.4.0","name":"@antv/g-canvas","escapedName":"@antv%2fg-canvas","scope":"@antv","rawSpec":"~0.4.0","saveSpec":null,"fetchSpec":"~0.4.0"},"_requiredBy":["/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-canvas/-/g-canvas-0.4.15.tgz","_shasum":"81ac1be269d96280202ffefa02a39f060b1a8c07","_spec":"@antv/g-canvas@~0.4.0","_where":"C:\\\\Projects\\\\feature-flags.co\\\\Code\\\\antdesignpro-react\\\\my-app\\\\node_modules\\\\@antv\\\\g2plot","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"bundleDependencies":false,"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"deprecated":false,"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"9092384bf6b7efd6ec71bbcdec1b801a0079c403","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-canvas","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","dist":"webpack --config webpack.config.js --mode production","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.15"}')},89838:function(_t,S,d){"use strict";d.r(S),d.d(S,{Arc:function(){return pt},Cubic:function(){return Ft},Line:function(){return b},Polygon:function(){return gt},Polyline:function(){return Et},Quad:function(){return $},Util:function(){return m}});var m={};d.r(m),d.d(m,{distance:function(){return L},getBBoxByArray:function(){return _},getBBoxRange:function(){return E},isNumberEqual:function(){return P},piMod:function(){return C}});function O(it){return Math.min.apply(null,it)}function I(it){return Math.max.apply(null,it)}function L(it,Q,U,ct){var tt=it-U,et=Q-ct;return Math.sqrt(tt*tt+et*et)}function P(it,Q){return Math.abs(it-Q)<.001}function _(it,Q){var U=O(it),ct=O(Q),tt=I(it),et=I(Q);return{x:U,y:ct,width:tt-U,height:et-ct}}function E(it,Q,U,ct){return{minX:O([it,U]),maxX:I([it,U]),minY:O([Q,ct]),maxY:I([Q,ct])}}function C(it){return(it+Math.PI*2)%(Math.PI*2)}var p=d(31437),b={box:function(it,Q,U,ct){return _([it,U],[Q,ct])},length:function(it,Q,U,ct){return L(it,Q,U,ct)},pointAt:function(it,Q,U,ct,tt){return{x:(1-tt)*it+tt*U,y:(1-tt)*Q+tt*ct}},pointDistance:function(it,Q,U,ct,tt,et){var dt=(U-it)*(tt-it)+(ct-Q)*(et-Q);if(dt<0)return L(it,Q,tt,et);var Lt=(U-it)*(U-it)+(ct-Q)*(ct-Q);return dt>Lt?L(U,ct,tt,et):this.pointToLine(it,Q,U,ct,tt,et)},pointToLine:function(it,Q,U,ct,tt,et){var dt=[U-it,ct-Q];if(p.exactEquals(dt,[0,0]))return Math.sqrt((tt-it)*(tt-it)+(et-Q)*(et-Q));var Lt=[-dt[1],dt[0]];p.normalize(Lt,Lt);var Xt=[tt-it,et-Q];return Math.abs(p.dot(Xt,Lt))},tangentAngle:function(it,Q,U,ct){return Math.atan2(ct-Q,U-it)}},x=1e-4;function w(it,Q,U,ct,tt,et){var dt,Lt=Infinity,Xt=[U,ct],$t=20;et&&et>200&&($t=et/10);for(var fe=1/$t,me=fe/10,pe=0;pe<=$t;pe++){var xe=pe*fe,Ie=[tt.apply(null,it.concat([xe])),tt.apply(null,Q.concat([xe]))],je=L(Xt[0],Xt[1],Ie[0],Ie[1]);je<Lt&&(dt=xe,Lt=je)}if(dt===0)return{x:it[0],y:Q[0]};if(dt===1){var ur=it.length;return{x:it[ur-1],y:Q[ur-1]}}Lt=Infinity;for(var pe=0;pe<32&&!(me<x);pe++){var Ze=dt-me,Ar=dt+me,Ie=[tt.apply(null,it.concat([Ze])),tt.apply(null,Q.concat([Ze]))],je=L(Xt[0],Xt[1],Ie[0],Ie[1]);if(Ze>=0&&je<Lt)dt=Ze,Lt=je;else{var Jr=[tt.apply(null,it.concat([Ar])),tt.apply(null,Q.concat([Ar]))],Er=L(Xt[0],Xt[1],Jr[0],Jr[1]);Ar<=1&&Er<Lt?(dt=Ar,Lt=Er):me*=.5}}return{x:tt.apply(null,it.concat([dt])),y:tt.apply(null,Q.concat([dt]))}}function y(it,Q){for(var U=0,ct=it.length,tt=0;tt<ct;tt++){var et=it[tt],dt=Q[tt],Lt=it[(tt+1)%ct],Xt=Q[(tt+1)%ct];U+=L(et,dt,Lt,Xt)}return U/2}function M(it,Q,U,ct){var tt=1-ct;return tt*tt*it+2*ct*tt*Q+ct*ct*U}function T(it,Q,U){var ct=it+U-2*Q;if(P(ct,0))return[.5];var tt=(it-Q)/ct;return tt<=1&&tt>=0?[tt]:[]}function B(it,Q,U,ct){return 2*(1-ct)*(Q-it)+2*ct*(U-Q)}function D(it,Q,U,ct,tt,et,dt){var Lt=M(it,U,tt,dt),Xt=M(Q,ct,et,dt),$t=b.pointAt(it,Q,U,ct,dt),fe=b.pointAt(U,ct,tt,et,dt);return[[it,Q,$t.x,$t.y,Lt,Xt],[Lt,Xt,fe.x,fe.y,tt,et]]}function X(it,Q,U,ct,tt,et,dt){if(dt===0)return(L(it,Q,U,ct)+L(U,ct,tt,et)+L(it,Q,tt,et))/2;var Lt=D(it,Q,U,ct,tt,et,.5),Xt=Lt[0],$t=Lt[1];return Xt.push(dt-1),$t.push(dt-1),X.apply(null,Xt)+X.apply(null,$t)}var $={box:function(it,Q,U,ct,tt,et){var dt=T(it,U,tt)[0],Lt=T(Q,ct,et)[0],Xt=[it,tt],$t=[Q,et];return dt!==void 0&&Xt.push(M(it,U,tt,dt)),Lt!==void 0&&$t.push(M(Q,ct,et,Lt)),_(Xt,$t)},length:function(it,Q,U,ct,tt,et){return X(it,Q,U,ct,tt,et,3)},nearestPoint:function(it,Q,U,ct,tt,et,dt,Lt){return w([it,U,tt],[Q,ct,et],dt,Lt,M)},pointDistance:function(it,Q,U,ct,tt,et,dt,Lt){var Xt=this.nearestPoint(it,Q,U,ct,tt,et,dt,Lt);return L(Xt.x,Xt.y,dt,Lt)},interpolationAt:M,pointAt:function(it,Q,U,ct,tt,et,dt){return{x:M(it,U,tt,dt),y:M(Q,ct,et,dt)}},divide:function(it,Q,U,ct,tt,et,dt){return D(it,Q,U,ct,tt,et,dt)},tangentAngle:function(it,Q,U,ct,tt,et,dt){var Lt=B(it,U,tt,dt),Xt=B(Q,ct,et,dt),$t=Math.atan2(Xt,Lt);return C($t)}};function H(it,Q,U,ct,tt){var et=1-tt;return et*et*et*it+3*Q*tt*et*et+3*U*tt*tt*et+ct*tt*tt*tt}function nt(it,Q,U,ct,tt){var et=1-tt;return 3*(et*et*(Q-it)+2*et*tt*(U-Q)+tt*tt*(ct-U))}function ht(it,Q,U,ct){var tt=-3*it+9*Q-9*U+3*ct,et=6*it-12*Q+6*U,dt=3*Q-3*it,Lt=[],Xt,$t,fe;if(P(tt,0))P(et,0)||(Xt=-dt/et,Xt>=0&&Xt<=1&&Lt.push(Xt));else{var me=et*et-4*tt*dt;P(me,0)?Lt.push(-et/(2*tt)):me>0&&(fe=Math.sqrt(me),Xt=(-et+fe)/(2*tt),$t=(-et-fe)/(2*tt),Xt>=0&&Xt<=1&&Lt.push(Xt),$t>=0&&$t<=1&&Lt.push($t))}return Lt}function at(it,Q,U,ct,tt,et,dt,Lt,Xt){var $t=H(it,U,tt,dt,Xt),fe=H(Q,ct,et,Lt,Xt),me=b.pointAt(it,Q,U,ct,Xt),pe=b.pointAt(U,ct,tt,et,Xt),xe=b.pointAt(tt,et,dt,Lt,Xt),Ie=b.pointAt(me.x,me.y,pe.x,pe.y,Xt),je=b.pointAt(pe.x,pe.y,xe.x,xe.y,Xt);return[[it,Q,me.x,me.y,Ie.x,Ie.y,$t,fe],[$t,fe,je.x,je.y,xe.x,xe.y,dt,Lt]]}function Ot(it,Q,U,ct,tt,et,dt,Lt,Xt){if(Xt===0)return y([it,U,tt,dt],[Q,ct,et,Lt]);var $t=at(it,Q,U,ct,tt,et,dt,Lt,.5),fe=$t[0],me=$t[1];return fe.push(Xt-1),me.push(Xt-1),Ot.apply(null,fe)+Ot.apply(null,me)}var Ft={extrema:ht,box:function(it,Q,U,ct,tt,et,dt,Lt){for(var Xt=[it,dt],$t=[Q,Lt],fe=ht(it,U,tt,dt),me=ht(Q,ct,et,Lt),pe=0;pe<fe.length;pe++)Xt.push(H(it,U,tt,dt,fe[pe]));for(var pe=0;pe<me.length;pe++)$t.push(H(Q,ct,et,Lt,me[pe]));return _(Xt,$t)},length:function(it,Q,U,ct,tt,et,dt,Lt){return Ot(it,Q,U,ct,tt,et,dt,Lt,3)},nearestPoint:function(it,Q,U,ct,tt,et,dt,Lt,Xt,$t,fe){return w([it,U,tt,dt],[Q,ct,et,Lt],Xt,$t,H,fe)},pointDistance:function(it,Q,U,ct,tt,et,dt,Lt,Xt,$t,fe){var me=this.nearestPoint(it,Q,U,ct,tt,et,dt,Lt,Xt,$t,fe);return L(me.x,me.y,Xt,$t)},interpolationAt:H,pointAt:function(it,Q,U,ct,tt,et,dt,Lt,Xt){return{x:H(it,U,tt,dt,Xt),y:H(Q,ct,et,Lt,Xt)}},divide:function(it,Q,U,ct,tt,et,dt,Lt,Xt){return at(it,Q,U,ct,tt,et,dt,Lt,Xt)},tangentAngle:function(it,Q,U,ct,tt,et,dt,Lt,Xt){var $t=nt(it,U,tt,dt,Xt),fe=nt(Q,ct,et,Lt,Xt);return C(Math.atan2(fe,$t))}};function Dt(it,Q){var U=Math.abs(it);return Q>0?U:U*-1}var V={box:function(it,Q,U,ct){return{x:it-U,y:Q-ct,width:U*2,height:ct*2}},length:function(it,Q,U,ct){return Math.PI*(3*(U+ct)-Math.sqrt((3*U+ct)*(U+3*ct)))},nearestPoint:function(it,Q,U,ct,tt,et){var dt=U,Lt=ct;if(dt===0||Lt===0)return{x:it,y:Q};for(var Xt=tt-it,$t=et-Q,fe=Math.abs(Xt),me=Math.abs($t),pe=dt*dt,xe=Lt*Lt,Ie=Math.PI/4,je,ur,Ze=0;Ze<4;Ze++){je=dt*Math.cos(Ie),ur=Lt*Math.sin(Ie);var Ar=(pe-xe)*Math.pow(Math.cos(Ie),3)/dt,Jr=(xe-pe)*Math.pow(Math.sin(Ie),3)/Lt,Er=je-Ar,Hr=ur-Jr,Xn=fe-Ar,Zn=me-Jr,qn=Math.hypot(Hr,Er),Pn=Math.hypot(Zn,Xn),Kt=qn*Math.asin((Er*Zn-Hr*Xn)/(qn*Pn)),Jt=Kt/Math.sqrt(pe+xe-je*je-ur*ur);Ie+=Jt,Ie=Math.min(Math.PI/2,Math.max(0,Ie))}return{x:it+Dt(je,Xt),y:Q+Dt(ur,$t)}},pointDistance:function(it,Q,U,ct,tt,et){var dt=this.nearestPoint(it,Q,U,ct,tt,et);return L(dt.x,dt.y,tt,et)},pointAt:function(it,Q,U,ct,tt){var et=2*Math.PI*tt;return{x:it+U*Math.cos(et),y:Q+ct*Math.sin(et)}},tangentAngle:function(it,Q,U,ct,tt){var et=2*Math.PI*tt,dt=Math.atan2(ct*Math.cos(et),-U*Math.sin(et));return C(dt)}};function q(it,Q,U,ct,tt,et,dt,Lt){return-1*U*Math.cos(tt)*Math.sin(Lt)-ct*Math.sin(tt)*Math.cos(Lt)}function K(it,Q,U,ct,tt,et,dt,Lt){return-1*U*Math.sin(tt)*Math.sin(Lt)+ct*Math.cos(tt)*Math.cos(Lt)}function Z(it,Q,U){return Math.atan(-Q/it*Math.tan(U))}function mt(it,Q,U){return Math.atan(Q/(it*Math.tan(U)))}function rt(it,Q,U,ct,tt,et){return U*Math.cos(tt)*Math.cos(et)-ct*Math.sin(tt)*Math.sin(et)+it}function W(it,Q,U,ct,tt,et){return U*Math.sin(tt)*Math.cos(et)+ct*Math.cos(tt)*Math.sin(et)+Q}function z(it,Q,U,ct){var tt=Math.atan2(ct*it,U*Q);return(tt+Math.PI*2)%(Math.PI*2)}function G(it,Q,U){return{x:it*Math.cos(U),y:Q*Math.sin(U)}}function f(it,Q,U){var ct=Math.cos(U),tt=Math.sin(U);return[it*ct-Q*tt,it*tt+Q*ct]}var pt={box:function(it,Q,U,ct,tt,et,dt){for(var Lt=Z(U,ct,tt),Xt=Infinity,$t=-Infinity,fe=[et,dt],me=-Math.PI*2;me<=Math.PI*2;me+=Math.PI){var pe=Lt+me;et<dt?et<pe&&pe<dt&&fe.push(pe):dt<pe&&pe<et&&fe.push(pe)}for(var me=0;me<fe.length;me++){var xe=rt(it,Q,U,ct,tt,fe[me]);xe<Xt&&(Xt=xe),xe>$t&&($t=xe)}for(var Ie=mt(U,ct,tt),je=Infinity,ur=-Infinity,Ze=[et,dt],me=-Math.PI*2;me<=Math.PI*2;me+=Math.PI){var Ar=Ie+me;et<dt?et<Ar&&Ar<dt&&Ze.push(Ar):dt<Ar&&Ar<et&&Ze.push(Ar)}for(var me=0;me<Ze.length;me++){var Jr=W(it,Q,U,ct,tt,Ze[me]);Jr<je&&(je=Jr),Jr>ur&&(ur=Jr)}return{x:Xt,y:je,width:$t-Xt,height:ur-je}},length:function(it,Q,U,ct,tt,et,dt){},nearestPoint:function(it,Q,U,ct,tt,et,dt,Lt,Xt){var $t=f(Lt-it,Xt-Q,-tt),fe=$t[0],me=$t[1],pe=V.nearestPoint(0,0,U,ct,fe,me),xe=z(U,ct,pe.x,pe.y);xe<et?pe=G(U,ct,et):xe>dt&&(pe=G(U,ct,dt));var Ie=f(pe.x,pe.y,tt);return{x:Ie[0]+it,y:Ie[1]+Q}},pointDistance:function(it,Q,U,ct,tt,et,dt,Lt,Xt){var $t=this.nearestPoint(it,Q,U,ct,Lt,Xt);return L($t.x,$t.y,Lt,Xt)},pointAt:function(it,Q,U,ct,tt,et,dt,Lt){var Xt=(dt-et)*Lt+et;return{x:rt(it,Q,U,ct,tt,Xt),y:W(it,Q,U,ct,tt,Xt)}},tangentAngle:function(it,Q,U,ct,tt,et,dt,Lt){var Xt=(dt-et)*Lt+et,$t=q(it,Q,U,ct,tt,et,dt,Xt),fe=K(it,Q,U,ct,tt,et,dt,Xt);return C(Math.atan2(fe,$t))}};function Ct(it){for(var Q=0,U=[],ct=0;ct<it.length-1;ct++){var tt=it[ct],et=it[ct+1],dt=L(tt[0],tt[1],et[0],et[1]),Lt={from:tt,to:et,length:dt};U.push(Lt),Q+=dt}return{segments:U,totalLength:Q}}function ot(it){if(it.length<2)return 0;for(var Q=0,U=0;U<it.length-1;U++){var ct=it[U],tt=it[U+1];Q+=L(ct[0],ct[1],tt[0],tt[1])}return Q}function St(it,Q){if(Q>1||Q<0||it.length<2)return null;var U=Ct(it),ct=U.segments,tt=U.totalLength;if(tt===0)return{x:it[0][0],y:it[0][1]};for(var et=0,dt=null,Lt=0;Lt<ct.length;Lt++){var Xt=ct[Lt],$t=Xt.from,fe=Xt.to,me=Xt.length/tt;if(Q>=et&&Q<=et+me){var pe=(Q-et)/me;dt=b.pointAt($t[0],$t[1],fe[0],fe[1],pe);break}et+=me}return dt}function xt(it,Q){if(Q>1||Q<0||it.length<2)return 0;for(var U=Ct(it),ct=U.segments,tt=U.totalLength,et=0,dt=0,Lt=0;Lt<ct.length;Lt++){var Xt=ct[Lt],$t=Xt.from,fe=Xt.to,me=Xt.length/tt;if(Q>=et&&Q<=et+me){dt=Math.atan2(fe[1]-$t[1],fe[0]-$t[0]);break}et+=me}return dt}function Mt(it,Q,U){for(var ct=Infinity,tt=0;tt<it.length-1;tt++){var et=it[tt],dt=it[tt+1],Lt=b.pointDistance(et[0],et[1],dt[0],dt[1],Q,U);Lt<ct&&(ct=Lt)}return ct}var Et={box:function(it){for(var Q=[],U=[],ct=0;ct<it.length;ct++){var tt=it[ct];Q.push(tt[0]),U.push(tt[1])}return _(Q,U)},length:function(it){return ot(it)},pointAt:function(it,Q){return St(it,Q)},pointDistance:function(it,Q,U){return Mt(it,Q,U)},tangentAngle:function(it,Q){return xt(it,Q)}};function Tt(it){var Q=it.slice(0);return it.length&&Q.push(it[0]),Q}var gt={box:function(it){return Et.box(it)},length:function(it){return ot(Tt(it))},pointAt:function(it,Q){return St(Tt(it),Q)},pointDistance:function(it,Q,U){return Mt(Tt(it),Q,U)},tangentAngle:function(it,Q){return xt(Tt(it),Q)}}},33418:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),O=d(55397);function I(w,y,M,T,B,D,X,$){return-1*M*Math.cos(B)*Math.sin($)-T*Math.sin(B)*Math.cos($)}function L(w,y,M,T,B,D,X,$){return-1*M*Math.sin(B)*Math.sin($)+T*Math.cos(B)*Math.cos($)}function P(w,y,M){return Math.atan(-y/w*Math.tan(M))}function _(w,y,M){return Math.atan(y/(w*Math.tan(M)))}function E(w,y,M,T,B,D){return M*Math.cos(B)*Math.cos(D)-T*Math.sin(B)*Math.sin(D)+w}function C(w,y,M,T,B,D){return M*Math.sin(B)*Math.cos(D)+T*Math.cos(B)*Math.sin(D)+y}function p(w,y,M,T){var B=Math.atan2(T*w,M*y);return(B+Math.PI*2)%(Math.PI*2)}function b(w,y,M){return{x:w*Math.cos(M),y:y*Math.sin(M)}}function x(w,y,M){var T=Math.cos(M),B=Math.sin(M);return[w*T-y*B,w*B+y*T]}S.default={box:function(w,y,M,T,B,D,X){for(var $=P(M,T,B),H=Infinity,nt=-Infinity,ht=[D,X],at=-Math.PI*2;at<=Math.PI*2;at+=Math.PI){var Ot=$+at;D<X?D<Ot&&Ot<X&&ht.push(Ot):X<Ot&&Ot<D&&ht.push(Ot)}for(var at=0;at<ht.length;at++){var Ft=E(w,y,M,T,B,ht[at]);Ft<H&&(H=Ft),Ft>nt&&(nt=Ft)}for(var Dt=_(M,T,B),V=Infinity,q=-Infinity,K=[D,X],at=-Math.PI*2;at<=Math.PI*2;at+=Math.PI){var Z=Dt+at;D<X?D<Z&&Z<X&&K.push(Z):X<Z&&Z<D&&K.push(Z)}for(var at=0;at<K.length;at++){var mt=C(w,y,M,T,B,K[at]);mt<V&&(V=mt),mt>q&&(q=mt)}return{x:H,y:V,width:nt-H,height:q-V}},length:function(w,y,M,T,B,D,X){},nearestPoint:function(w,y,M,T,B,D,X,$,H){var nt=x($-w,H-y,-B),ht=nt[0],at=nt[1],Ot=O.default.nearestPoint(0,0,M,T,ht,at),Ft=p(M,T,Ot.x,Ot.y);Ft<D?Ot=b(M,T,D):Ft>X&&(Ot=b(M,T,X));var Dt=x(Ot.x,Ot.y,B);return{x:Dt[0]+w,y:Dt[1]+y}},pointDistance:function(w,y,M,T,B,D,X,$,H){var nt=this.nearestPoint(w,y,M,T,$,H);return m.distance(nt.x,nt.y,$,H)},pointAt:function(w,y,M,T,B,D,X,$){var H=(X-D)*$+D;return{x:E(w,y,M,T,B,H),y:C(w,y,M,T,B,H)}},tangentAngle:function(w,y,M,T,B,D,X,$){var H=(X-D)*$+D,nt=I(w,y,M,T,B,D,X,H),ht=L(w,y,M,T,B,D,X,H);return m.piMod(Math.atan2(ht,nt))}}},87335:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.snapLength=S.nearestPoint=void 0;var m=d(76256),O=1e-4;function I(P,_,E,C,p,b){var x,w=Infinity,y=[E,C],M=20;b&&b>200&&(M=b/10);for(var T=1/M,B=T/10,D=0;D<=M;D++){var X=D*T,$=[p.apply(null,P.concat([X])),p.apply(null,_.concat([X]))],H=m.distance(y[0],y[1],$[0],$[1]);H<w&&(x=X,w=H)}if(x===0)return{x:P[0],y:_[0]};if(x===1){var nt=P.length;return{x:P[nt-1],y:_[nt-1]}}w=Infinity;for(var D=0;D<32&&!(B<O);D++){var ht=x-B,at=x+B,$=[p.apply(null,P.concat([ht])),p.apply(null,_.concat([ht]))],H=m.distance(y[0],y[1],$[0],$[1]);if(ht>=0&&H<w)x=ht,w=H;else{var Ot=[p.apply(null,P.concat([at])),p.apply(null,_.concat([at]))],Ft=m.distance(y[0],y[1],Ot[0],Ot[1]);at<=1&&Ft<w?(x=at,w=Ft):B*=.5}}return{x:p.apply(null,P.concat([x])),y:p.apply(null,_.concat([x]))}}S.nearestPoint=I;function L(P,_){for(var E=0,C=P.length,p=0;p<C;p++){var b=P[p],x=_[p],w=P[(p+1)%C],y=_[(p+1)%C];E+=m.distance(b,x,w,y)}return E/2}S.snapLength=L},15730:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),O=d(23646),I=d(87335);function L(p,b,x,w,y){var M=1-y;return M*M*M*p+3*b*y*M*M+3*x*y*y*M+w*y*y*y}function P(p,b,x,w,y){var M=1-y;return 3*(M*M*(b-p)+2*M*y*(x-b)+y*y*(w-x))}function _(p,b,x,w){var y=-3*p+9*b-9*x+3*w,M=6*p-12*b+6*x,T=3*b-3*p,B=[],D,X,$;if(m.isNumberEqual(y,0))m.isNumberEqual(M,0)||(D=-T/M,D>=0&&D<=1&&B.push(D));else{var H=M*M-4*y*T;m.isNumberEqual(H,0)?B.push(-M/(2*y)):H>0&&($=Math.sqrt(H),D=(-M+$)/(2*y),X=(-M-$)/(2*y),D>=0&&D<=1&&B.push(D),X>=0&&X<=1&&B.push(X))}return B}function E(p,b,x,w,y,M,T,B,D){var X=L(p,x,y,T,D),$=L(b,w,M,B,D),H=O.default.pointAt(p,b,x,w,D),nt=O.default.pointAt(x,w,y,M,D),ht=O.default.pointAt(y,M,T,B,D),at=O.default.pointAt(H.x,H.y,nt.x,nt.y,D),Ot=O.default.pointAt(nt.x,nt.y,ht.x,ht.y,D);return[[p,b,H.x,H.y,at.x,at.y,X,$],[X,$,Ot.x,Ot.y,ht.x,ht.y,T,B]]}function C(p,b,x,w,y,M,T,B,D){if(D===0)return I.snapLength([p,x,y,T],[b,w,M,B]);var X=E(p,b,x,w,y,M,T,B,.5),$=X[0],H=X[1];return $.push(D-1),H.push(D-1),C.apply(null,$)+C.apply(null,H)}S.default={extrema:_,box:function(p,b,x,w,y,M,T,B){for(var D=[p,T],X=[b,B],$=_(p,x,y,T),H=_(b,w,M,B),nt=0;nt<$.length;nt++)D.push(L(p,x,y,T,$[nt]));for(var nt=0;nt<H.length;nt++)X.push(L(b,w,M,B,H[nt]));return m.getBBoxByArray(D,X)},length:function(p,b,x,w,y,M,T,B){return C(p,b,x,w,y,M,T,B,3)},nearestPoint:function(p,b,x,w,y,M,T,B,D,X,$){return I.nearestPoint([p,x,y,T],[b,w,M,B],D,X,L,$)},pointDistance:function(p,b,x,w,y,M,T,B,D,X,$){var H=this.nearestPoint(p,b,x,w,y,M,T,B,D,X,$);return m.distance(H.x,H.y,D,X)},interpolationAt:L,pointAt:function(p,b,x,w,y,M,T,B,D){return{x:L(p,x,y,T,D),y:L(b,w,M,B,D)}},divide:function(p,b,x,w,y,M,T,B,D){return E(p,b,x,w,y,M,T,B,D)},tangentAngle:function(p,b,x,w,y,M,T,B,D){var X=P(p,x,y,T,D),$=P(b,w,M,B,D);return m.piMod(Math.atan2($,X))}}},55397:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256);function O(I,L){var P=Math.abs(I);return L>0?P:P*-1}S.default={box:function(I,L,P,_){return{x:I-P,y:L-_,width:P*2,height:_*2}},length:function(I,L,P,_){return Math.PI*(3*(P+_)-Math.sqrt((3*P+_)*(P+3*_)))},nearestPoint:function(I,L,P,_,E,C){var p=P,b=_;if(p===0||b===0)return{x:I,y:L};for(var x=E-I,w=C-L,y=Math.abs(x),M=Math.abs(w),T=p*p,B=b*b,D=Math.PI/4,X,$,H=0;H<4;H++){X=p*Math.cos(D),$=b*Math.sin(D);var nt=(T-B)*Math.pow(Math.cos(D),3)/p,ht=(B-T)*Math.pow(Math.sin(D),3)/b,at=X-nt,Ot=$-ht,Ft=y-nt,Dt=M-ht,V=Math.hypot(Ot,at),q=Math.hypot(Dt,Ft),K=V*Math.asin((at*Dt-Ot*Ft)/(V*q)),Z=K/Math.sqrt(T+B-X*X-$*$);D+=Z,D=Math.min(Math.PI/2,Math.max(0,D))}return{x:I+O(X,x),y:L+O($,w)}},pointDistance:function(I,L,P,_,E,C){var p=this.nearestPoint(I,L,P,_,E,C);return m.distance(p.x,p.y,E,C)},pointAt:function(I,L,P,_,E){var C=2*Math.PI*E;return{x:I+P*Math.cos(C),y:L+_*Math.sin(C)}},tangentAngle:function(I,L,P,_,E){var C=2*Math.PI*E,p=Math.atan2(_*Math.cos(C),-P*Math.sin(C));return m.piMod(p)}}},23646:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76256),O=d(31437);S.default={box:function(I,L,P,_){return m.getBBoxByArray([I,P],[L,_])},length:function(I,L,P,_){return m.distance(I,L,P,_)},pointAt:function(I,L,P,_,E){return{x:(1-E)*I+E*P,y:(1-E)*L+E*_}},pointDistance:function(I,L,P,_,E,C){var p=(P-I)*(E-I)+(_-L)*(C-L);if(p<0)return m.distance(I,L,E,C);var b=(P-I)*(P-I)+(_-L)*(_-L);return p>b?m.distance(P,_,E,C):this.pointToLine(I,L,P,_,E,C)},pointToLine:function(I,L,P,_,E,C){var p=[P-I,_-L];if(O.exactEquals(p,[0,0]))return Math.sqrt((E-I)*(E-I)+(C-L)*(C-L));var b=[-p[1],p[0]];O.normalize(b,b);var x=[E-I,C-L];return Math.abs(O.dot(x,b))},tangentAngle:function(I,L,P,_){return Math.atan2(_-L,P-I)}}},65386:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(28171),I=d(76256);S.Z={box:function(L){for(var P=[],_=[],E=0;E<L.length;E++){var C=L[E];P.push(C[0]),_.push(C[1])}return I.getBBoxByArray(P,_)},length:function(L){return O.lengthOfSegment(L)},pointAt:function(L,P){return O.pointAtSegments(L,P)},pointDistance:function(L,P,_){return O.distanceAtSegment(L,P,_)},tangentAngle:function(L,P){return O.angleAtSegments(L,P)}}},2879:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(23646),O=d(76256),I=d(87335);function L(p,b,x,w){var y=1-w;return y*y*p+2*w*y*b+w*w*x}function P(p,b,x){var w=p+x-2*b;if(O.isNumberEqual(w,0))return[.5];var y=(p-b)/w;return y<=1&&y>=0?[y]:[]}function _(p,b,x,w){return 2*(1-w)*(b-p)+2*w*(x-b)}function E(p,b,x,w,y,M,T){var B=L(p,x,y,T),D=L(b,w,M,T),X=m.default.pointAt(p,b,x,w,T),$=m.default.pointAt(x,w,y,M,T);return[[p,b,X.x,X.y,B,D],[B,D,$.x,$.y,y,M]]}function C(p,b,x,w,y,M,T){if(T===0)return(O.distance(p,b,x,w)+O.distance(x,w,y,M)+O.distance(p,b,y,M))/2;var B=E(p,b,x,w,y,M,.5),D=B[0],X=B[1];return D.push(T-1),X.push(T-1),C.apply(null,D)+C.apply(null,X)}S.default={box:function(p,b,x,w,y,M){var T=P(p,x,y)[0],B=P(b,w,M)[0],D=[p,y],X=[b,M];return T!==void 0&&D.push(L(p,x,y,T)),B!==void 0&&X.push(L(b,w,M,B)),O.getBBoxByArray(D,X)},length:function(p,b,x,w,y,M){return C(p,b,x,w,y,M,3)},nearestPoint:function(p,b,x,w,y,M,T,B){return I.nearestPoint([p,x,y],[b,w,M],T,B,L)},pointDistance:function(p,b,x,w,y,M,T,B){var D=this.nearestPoint(p,b,x,w,y,M,T,B);return O.distance(D.x,D.y,T,B)},interpolationAt:L,pointAt:function(p,b,x,w,y,M,T){return{x:L(p,x,y,T),y:L(b,w,M,T)}},divide:function(p,b,x,w,y,M,T){return E(p,b,x,w,y,M,T)},tangentAngle:function(p,b,x,w,y,M,T){var B=_(p,x,y,T),D=_(b,w,M,T),X=Math.atan2(D,B);return O.piMod(X)}}},28171:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.distanceAtSegment=S.angleAtSegments=S.pointAtSegments=S.lengthOfSegment=void 0;var m=d(23646),O=d(76256);function I(C){for(var p=0,b=[],x=0;x<C.length-1;x++){var w=C[x],y=C[x+1],M=O.distance(w[0],w[1],y[0],y[1]),T={from:w,to:y,length:M};b.push(T),p+=M}return{segments:b,totalLength:p}}function L(C){if(C.length<2)return 0;for(var p=0,b=0;b<C.length-1;b++){var x=C[b],w=C[b+1];p+=O.distance(x[0],x[1],w[0],w[1])}return p}S.lengthOfSegment=L;function P(C,p){if(p>1||p<0||C.length<2)return null;var b=I(C),x=b.segments,w=b.totalLength;if(w===0)return{x:C[0][0],y:C[0][1]};for(var y=0,M=null,T=0;T<x.length;T++){var B=x[T],D=B.from,X=B.to,$=B.length/w;if(p>=y&&p<=y+$){var H=(p-y)/$;M=m.default.pointAt(D[0],D[1],X[0],X[1],H);break}y+=$}return M}S.pointAtSegments=P;function _(C,p){if(p>1||p<0||C.length<2)return 0;for(var b=I(C),x=b.segments,w=b.totalLength,y=0,M=0,T=0;T<x.length;T++){var B=x[T],D=B.from,X=B.to,$=B.length/w;if(p>=y&&p<=y+$){M=Math.atan2(X[1]-D[1],X[0]-D[0]);break}y+=$}return M}S.angleAtSegments=_;function E(C,p,b){for(var x=Infinity,w=0;w<C.length-1;w++){var y=C[w],M=C[w+1],T=m.default.pointDistance(y[0],y[1],M[0],M[1],p,b);T<x&&(x=T)}return x}S.distanceAtSegment=E},76256:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.piMod=S.getBBoxRange=S.getBBoxByArray=S.isNumberEqual=S.distance=void 0;function d(E){return Math.min.apply(null,E)}function m(E){return Math.max.apply(null,E)}function O(E,C,p,b){var x=E-p,w=C-b;return Math.sqrt(x*x+w*w)}S.distance=O;function I(E,C){return Math.abs(E-C)<.001}S.isNumberEqual=I;function L(E,C){var p=d(E),b=d(C),x=m(E),w=m(C);return{x:p,y:b,width:x-p,height:w-b}}S.getBBoxByArray=L;function P(E,C,p,b){return{minX:d([E,p]),maxX:m([E,p]),minY:d([C,b]),maxY:m([C,b])}}S.getBBoxRange=P;function _(E){return(E+Math.PI*2)%(Math.PI*2)}S.piMod=_},56463:function(_t,S,d){"use strict";var m=d(34155),O=this&&this.__spreadArrays||function(){for(var B=0,D=0,X=arguments.length;D<X;D++)B+=arguments[D].length;for(var $=Array(B),H=0,D=0;D<X;D++)for(var nt=arguments[D],ht=0,at=nt.length;ht<at;ht++,H++)$[H]=nt[ht];return $};Object.defineProperty(S,"__esModule",{value:!0});var I=function(){function B(D,X,$){this.name=D,this.version=X,this.os=$}return B}();S.BrowserInfo=I;var L=function(){function B(D){this.version=D,this.name="node",this.os=m.platform}return B}();S.NodeInfo=L;var P=function(){function B(){this.bot=!0,this.name="bot",this.version=null,this.os=null}return B}();S.BotInfo=P;var _=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,E=/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/,C=3,p=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",_]],b=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",E]];function x(B){return B?w(B):typeof navigator!="undefined"?w(navigator.userAgent):M()}S.detect=x;function w(B){var D=B!==""&&p.reduce(function(nt,ht){var at=ht[0],Ot=ht[1];if(nt)return nt;var Ft=Ot.exec(B);return!!Ft&&[at,Ft]},!1);if(!D)return null;var X=D[0],$=D[1];if(X==="searchbot")return new P;var H=$[1]&&$[1].split(/[._]/).slice(0,3);return H?H.length<C&&(H=O(H,T(C-H.length))):H=[],new I(X,H.join("."),y(B))}S.parseUserAgent=w;function y(B){for(var D=0,X=b.length;D<X;D++){var $=b[D],H=$[0],nt=$[1],ht=nt.test(B);if(ht)return H}return null}S.detectOS=y;function M(){var B=typeof m!="undefined"&&m.version;return B?new L(m.version.slice(1)):null}S.getNodeVersion=M;function T(B){for(var D=[],X=0;X<B;X++)D.push("0");return D}},23231:function(_t){"use strict";_t.exports=JSON.parse('{"__npminstall_done":false,"_from":"@antv/g-svg@~0.4.0","_id":"@antv/g-svg@0.4.7","_inBundle":false,"_integrity":"sha512-+lqlBK+qylP4t/vyUgEaPthp1XmTiImfkPl/ZmRp3L1knH64OI9XTfOGGuBUFAt3JBt7VHKf6t0L/MCf0BR88Q==","_location":"/@antv/g-svg","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"@antv/g-svg@~0.4.0","name":"@antv/g-svg","escapedName":"@antv%2fg-svg","scope":"@antv","rawSpec":"~0.4.0","saveSpec":null,"fetchSpec":"~0.4.0"},"_requiredBy":["/@antv/g2","/@antv/g2plot"],"_resolved":"https://registry.npmjs.org/@antv/g-svg/-/g-svg-0.4.7.tgz","_shasum":"0d65e1db34e6dfe609aadb3eddf4748db02f0b01","_spec":"@antv/g-svg@~0.4.0","_where":"C:\\\\Projects\\\\feature-flags.co\\\\Code\\\\antdesignpro-react\\\\my-app\\\\node_modules\\\\@antv\\\\g2plot","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"bundleDependencies":false,"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"deprecated":false,"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-svg","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.7"}')},66002:function(){},92762:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.registerAnimation=S.getAnimation=void 0;var d={};function m(I){return d[I.toLowerCase()]}S.getAnimation=m;function O(I,L){d[I.toLowerCase()]=L}S.registerAnimation=O},27978:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.doGroupAppearAnimate=S.doAnimate=S.getDefaultAnimateCfg=S.DEFAULT_ANIMATE_CFG=void 0;var m=d(60517),O=d(49242),I=d(29583),L=d(92762);S.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var P={interval:function(x){return{enter:{animation:x.isRect?x.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:x.isPolar&&x.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},_={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(x){var w;return x.isRect?w=x.isTransposed?"grow-in-x":"grow-in-y":(w="grow-in-xy",x.isPolar&&x.isTransposed&&(w="wave-in")),{animation:w}},schema:function(x){var w;return x.isRect?w=x.isTransposed?"grow-in-x":"grow-in-y":w="grow-in-xy",{animation:w}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function E(x,w){return{delay:O.isFunction(x.delay)?x.delay(w):x.delay,easing:O.isFunction(x.easing)?x.easing(w):x.easing,duration:O.isFunction(x.duration)?x.duration(w):x.duration,callback:x.callback}}function C(x,w,y){var M=P[x];return M&&(O.isFunction(M)&&(M=M(w)),M=O.deepMix({},S.DEFAULT_ANIMATE_CFG,M),y)?M[y]:M}S.getDefaultAnimateCfg=C;function p(x,w,y){var M=O.get(x.get("origin"),"data",I.FIELD_ORIGIN),T=w.animation,B=E(w,M);if(T){var D=L.getAnimation(T);D&&D(x,B,y)}else x.animate(y.toAttrs,B)}S.doAnimate=p;function b(x,w,y,M,T){if(_[y]){var B=_[y](M),D=L.getAnimation(O.get(B,"animation",""));if(D){var X=m.__assign(m.__assign(m.__assign({},S.DEFAULT_ANIMATE_CFG.appear),B),w);x.stopAnimate(),D(x,X,{coordinate:M,minYPoint:T,toAttrs:null})}}}S.doGroupAppearAnimate=b},29515:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60517),O=m.__importDefault(d(90494)),I=function(L){m.__extends(P,L);function P(_){var E=L.call(this)||this;E.destroyed=!1;var C=_.visible,p=C===void 0?!0:C;return E.visible=p,E}return P.prototype.show=function(){var _=this.visible;_||this.changeVisible(!0)},P.prototype.hide=function(){var _=this.visible;_&&this.changeVisible(!1)},P.prototype.destroy=function(){this.off(),this.destroyed=!0},P.prototype.changeVisible=function(_){this.visible!==_&&(this.visible=_)},P}(O.default);S.default=I},17916:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Controller=void 0;var m=d(49242),O=function(){function I(L){this.visible=!0,this.components=[],this.view=L}return I.prototype.clear=function(){m.each(this.components,function(L){L.component.destroy()}),this.components=[]},I.prototype.destroy=function(){this.clear()},I.prototype.getComponents=function(){return this.components},I.prototype.changeVisible=function(L){this.visible!==L&&(this.components.forEach(function(P){L?P.component.show():P.component.hide()}),this.visible=L)},I}();S.Controller=O},45687:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(60517),I=d(17916),L=250,P=function(b,x){var w=x.x-b.x,y=x.y-b.y;return Math.abs(w)>Math.abs(y)?w>0?"right":"left":y>0?"down":"up"},_=function(b,x){var w=Math.abs(x.x-b.x),y=Math.abs(x.y-b.y);return Math.sqrt(w*w+y*y)},E=function(b,x){var w=(b.x+x.x)/2,y=(b.y+x.y)/2;return{x:w,y}},C=function(b,x){if(!!b){for(var w=[],y=b.length,M=0;M<y;M++){var T=b[M],B=T.clientX,D=T.clientY,X=x.getPointByClient(B,D);w.push(X)}return w}},p=function(b){O.__extends(x,b);function x(w){var y=b.call(this,w)||this;return y.processEvent={},y.touchStart=function(M){var T=C(M.originalEvent.touches,y.canvas);!T||(M.points=T,y.reset(),y.startTime=Date.now(),y.startPoints=T,T.length>1?(y.startDistance=_(T[0],T[1]),y.center=E(T[0],T[1])):y.pressTimeout=setTimeout(function(){var B="press";M.direction="none",y.emitStart(B,M),y.emitEvent(B,M),y.eventType=B},L))},y.touchMove=function(M){var T=C(M.originalEvent.touches,y.canvas);if(!!T){y.clearPressTimeout(),M.points=T;var B=y.startPoints;if(!!B)if(T.length>1){var D=y.startDistance,X=_(T[0],T[1]);M.zoom=X/D,M.center=y.center,y.emitStart("pinch",M),y.emitEvent("pinch",M)}else{var $=T[0].x-B[0].x,H=T[0].y-B[0].y,nt=y.direction||P(B[0],T[0]);y.direction=nt;var ht=y.getEventType(T);M.direction=nt,M.deltaX=$,M.deltaY=H,y.emitStart(ht,M),y.emitEvent(ht,M);var at=y.lastMoveTime,Ot=Date.now();Ot-at>0&&(y.prevMoveTime=at,y.prevMovePoints=y.lastMovePoints,y.lastMoveTime=Ot,y.lastMovePoints=T)}}},y.touchEnd=function(M){y.emitEnd(M);var T=y.lastMoveTime,B=Date.now();if(B-T<100){var D=y.prevMoveTime||y.startTime,X=T-D;if(X>0){var $=y.prevMovePoints||y.startPoints,H=y.lastMovePoints,nt=_($[0],H[0])/X;nt>.3&&(M.velocity=nt,M.direction=P($[0],H[0]),y.emitEvent("swipe",M))}}y.reset();var ht=M.touches;ht&&ht.length>0&&y.touchStart(M)},y.canvas=w.getCanvas(),y.delegateEvent(),y.processEvent={},y}return Object.defineProperty(x.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),x.prototype.init=function(){},x.prototype.render=function(){},x.prototype.layout=function(){},x.prototype.update=function(){},x.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},x.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},x.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},x.prototype.emitEvent=function(w,y){var M=this.view;M.emit(w,y)},x.prototype.emitStart=function(w,y){this.isProcess(w)||(this.enable(w),this.emitEvent(w+"start",y))},x.prototype.emitEnd=function(w){var y=this,M=this.processEvent;Object.keys(M).forEach(function(T){y.emitEvent(T+"end",w),delete M[T]})},x.prototype.enable=function(w){this.processEvent[w]=!0},x.prototype.isProcess=function(w){return this.processEvent[w]},x.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},x.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},x.prototype.getEventType=function(w){var y=this,M=y.eventType,T=y.view,B=y.startTime,D=y.startPoints;if(M)return M;var X,$=T.getEvents().pan;if(!$||!$.length)X="press";else{var H=Date.now();H-B>L&&_(D[0],w[0])<10?X="press":X="pan"}return this.eventType=X,X},x}(I.Controller);S.Z=p},64815:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(60517),I=d(49242),L=d(57029),P=d(22514),_=d(42770),E=d(99677),C=d(17916);function p(x){for(var w=[],y=function(T){var B=x[T],D=I.find(w,function(X){return X.color===B.color&&X.name===B.name&&X.value===B.value&&X.title===B.title});D||w.push(B)},M=0;M<x.length;M++)y(M);return w}var b=function(x){O.__extends(w,x);function w(){var y=x!==null&&x.apply(this,arguments)||this;return y.isLocked=!1,y}return Object.defineProperty(w.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),w.prototype.init=function(){},w.prototype.isVisible=function(){var y=this.view.getOptions().tooltip;return y!==!1},w.prototype.render=function(){},w.prototype.showTooltip=function(y){if(this.point=y,!!this.isVisible()){var M=this.view,T=this.getTooltipItems(y);if(!T.length){this.hideTooltip();return}var B=this.getTitle(T),D={x:T[0].x,y:T[0].y};M.emit("tooltip:show",O.__assign({items:T,title:B},y));var X=this.getTooltipCfg(),$=X.follow,H=X.showMarkers,nt=X.showCrosshairs,ht=X.showContent,at=X.marker,Ot=this.items,Ft=this.title;if(!I.isEqual(Ft,B)||!I.isEqual(Ot,T)?(M.emit("tooltip:change",O.__assign({items:T,title:B},y)),ht&&(this.tooltip||this.renderTooltip(),this.tooltip.update(I.mix({},X,{items:T,title:B},$?y:{})),this.tooltip.show()),H&&this.renderTooltipMarkers(T,at)):(this.tooltip&&$&&(this.tooltip.update(y),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=T,this.title=B,nt){var Dt=I.get(X,["crosshairs","follow"],!1);this.renderCrosshairs(Dt?y:D,X)}}},w.prototype.hideTooltip=function(){var y=this.getTooltipCfg().follow;if(!y){this.point=null;return}var M=this.tooltipMarkersGroup;M&&M.hide();var T=this.xCrosshair,B=this.yCrosshair;T&&T.hide(),B&&B.hide();var D=this.tooltip;D&&D.hide(),this.view.emit("tooltip:hide",{}),this.point=null},w.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},w.prototype.unlockTooltip=function(){this.isLocked=!1;var y=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(y.capture)},w.prototype.isTooltipLocked=function(){return this.isLocked},w.prototype.clear=function(){var y=this,M=y.tooltip,T=y.xCrosshair,B=y.yCrosshair,D=y.tooltipMarkersGroup;M&&(M.hide(),M.clear()),T&&T.clear(),B&&B.clear(),D&&D.clear()},w.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},w.prototype.changeVisible=function(y){if(this.visible!==y){var M=this,T=M.tooltip,B=M.tooltipMarkersGroup,D=M.xCrosshair,X=M.yCrosshair;y?(T&&T.show(),B&&B.show(),D&&D.show(),X&&X.show()):(T&&T.hide(),B&&B.hide(),D&&D.hide(),X&&X.hide()),this.visible=y}},w.prototype.getTooltipItems=function(y){var M=this.findItemsFromView(this.view,y);if(M.length){M=I.flatten(M);for(var T=0,B=M;T<B.length;T++)for(var D=B[T],X=0,$=D;X<$.length;X++){var H=$[X],nt=H.mappingData,ht=nt.x,at=nt.y;H.x=I.isArray(ht)?ht[ht.length-1]:ht,H.y=I.isArray(at)?at[at.length-1]:at}var Ot=this.getTooltipCfg().shared;if(Ot===!1&&M.length>1){for(var Ft=M[0],Dt=Math.abs(y.y-Ft[0].y),V=0,q=M;V<q.length;V++){var K=q[V],Z=Math.abs(y.y-K[0].y);Z<=Dt&&(Ft=K,Dt=Z)}M=[Ft]}return p(I.flatten(M))}return[]},w.prototype.layout=function(){},w.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var y=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:y.get("width"),y:y.get("height")}})}},w.prototype.getTooltipCfg=function(){var y=this.view,M=y.getOptions().tooltip,T=y.getTheme(),B=I.get(T,["components","tooltip"],{}),D=I.isUndefined(I.get(M,"enterable"))?B.enterable:I.get(M,"enterable");return I.deepMix({},B,M,{capture:!!(D||this.isLocked)})},w.prototype.getTitle=function(y){var M=y[0].title||y[0].name;return this.title=M,M},w.prototype.renderTooltip=function(){var y=this.view.getCanvas(),M={start:{x:0,y:0},end:{x:y.get("width"),y:y.get("height")}},T=this.getTooltipCfg(),B=new L.HtmlTooltip(O.__assign(O.__assign({parent:y.get("el").parentNode,region:M},T),{visible:!1,crosshairs:null}));B.init(),this.tooltip=B},w.prototype.renderTooltipMarkers=function(y,M){for(var T=this.getTooltipMarkersGroup(),B=0,D=y;B<D.length;B++){var X=D[B],$=X.x,H=X.y,nt=O.__assign(O.__assign({fill:X.color,symbol:"circle",shadowColor:X.color},M),{x:$,y:H});T.addShape("marker",{attrs:nt})}},w.prototype.renderCrosshairs=function(y,M){var T=I.get(M,["crosshairs","type"],"x");T==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(y,M)):T==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(y,M)):T==="xy"&&(this.renderXCrosshairs(y,M),this.renderYCrosshairs(y,M))},w.prototype.renderXCrosshairs=function(y,M){var T=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(T,y)){var B,D;if(T.isRect)T.isTransposed?(B={x:T.start.x,y:y.y},D={x:T.end.x,y:y.y}):(B={x:y.x,y:T.end.y},D={x:y.x,y:T.start.y});else{var X=P.getAngleByPoint(T,y),$=T.getCenter(),H=T.getRadius();D=_.polarToCartesian($.x,$.y,H,X),B=$}var nt=I.deepMix({start:B,end:D,container:this.getTooltipCrosshairsGroup()},I.get(M,"crosshairs",{}),this.getCrosshairsText("x",y,M));delete nt.type;var ht=this.xCrosshair;ht?ht.update(nt):(ht=new L.Crosshair.Line(nt),ht.init()),ht.render(),ht.show(),this.xCrosshair=ht}},w.prototype.renderYCrosshairs=function(y,M){var T=this.getViewWithGeometry(this.view).getCoordinate();if(!!P.isPointInCoordinate(T,y)){var B,D;if(T.isRect){var X=void 0,$=void 0;T.isTransposed?(X={x:y.x,y:T.end.y},$={x:y.x,y:T.start.y}):(X={x:T.start.x,y:y.y},$={x:T.end.x,y:y.y}),B={start:X,end:$},D="Line"}else B={center:T.getCenter(),radius:P.getDistanceToCenter(T,y),startAngle:T.startAngle,endAngle:T.endAngle},D="Circle";B=I.deepMix({container:this.getTooltipCrosshairsGroup()},B,I.get(M,"crosshairs",{}),this.getCrosshairsText("y",y,M)),delete B.type;var H=this.yCrosshair;H?T.isRect&&H.get("type")==="circle"||!T.isRect&&H.get("type")==="line"?(H=new L.Crosshair[D](B),H.init()):H.update(B):(H=new L.Crosshair[D](B),H.init()),H.render(),H.show(),this.yCrosshair=H}},w.prototype.getCrosshairsText=function(y,M,T){var B=I.get(T,["crosshairs","text"]),D=I.get(T,["crosshairs","follow"]),X=this.items;if(B){var $=this.getViewWithGeometry(this.view),H=X[0],nt=$.getXScale(),ht=$.getYScales()[0],at=void 0,Ot=void 0;if(D){var Ft=this.view.getCoordinate().invert(M);at=nt.invert(Ft.x),Ot=ht.invert(Ft.y)}else at=H.data[nt.field],Ot=H.data[ht.field];var Dt=y==="x"?at:Ot;return I.isFunction(B)?B=B(y,Dt,X,M):B.content=Dt,{text:B}}},w.prototype.getGuideGroup=function(){if(!this.guideGroup){var y=this.view.foregroundGroup;this.guideGroup=y.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},w.prototype.getTooltipMarkersGroup=function(){var y=this.tooltipMarkersGroup;return y&&!y.destroyed?(y.clear(),y.show()):(y=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),y.toFront(),this.tooltipMarkersGroup=y),y},w.prototype.getTooltipCrosshairsGroup=function(){var y=this.tooltipCrosshairsGroup;return y||(y=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),y.toBack(),this.tooltipCrosshairsGroup=y),y},w.prototype.getTooltipItemsByHitShape=function(y,M,T){var B=[],D=y.container,X=D.getShape(M.x,M.y);if(X&&X.get("visible")&&X.get("origin")){var $=X.get("origin").mappingData,H=E.getTooltipItems($,y,T);H.length&&B.push(H)}return B},w.prototype.getTooltipItemsByFindData=function(y,M,T){var B=[],D=y.dataArray;y.sort(D);for(var X=0,$=D;X<$.length;X++){var H=$[X],nt=E.findDataByPoint(M,H,y);if(nt){var ht=y.getElementId(nt),at=y.elementsMap[ht];if(y.type==="heatmap"||at.visible){var Ot=E.getTooltipItems(nt,y,T);Ot.length&&B.push(Ot)}}}return B},w.prototype.findItemsFromView=function(y,M){if(y.getOptions().tooltip===!1)return[];for(var T=[],B=y.geometries,D=this.getTooltipCfg(),X=D.shared,$=D.title,H=0,nt=B;H<nt.length;H++){var ht=nt[H];if(ht.visible&&ht.tooltipOption!==!1){var at=ht.type,Ot=void 0;["point","edge","polygon"].includes(at)?Ot=this.getTooltipItemsByHitShape(ht,M,$):["area","line","path","heatmap"].includes(at)?Ot=this.getTooltipItemsByFindData(ht,M,$):X!==!1?Ot=this.getTooltipItemsByFindData(ht,M,$):Ot=this.getTooltipItemsByHitShape(ht,M,$),Ot.length&&T.push(Ot)}}for(var Ft=0,Dt=y.views;Ft<Dt.length;Ft++){var V=Dt[Ft];T=T.concat(this.findItemsFromView(V,M))}return T},w.prototype.getViewWithGeometry=function(y){var M=this;return y.geometries.length?y:I.find(y.views,function(T){return M.getViewWithGeometry(T)})},w}(C.Controller);S.Z=b},29583:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.COMPONENT_MAX_VIEW_PERCENTAGE=S.MIN_CHART_HEIGHT=S.MIN_CHART_WIDTH=S.FIELD_ORIGIN=S.GROUP_ATTRS=S.ELEMENT_STATE=S.PLOT_EVENTS=S.VIEW_LIFE_CIRCLE=S.GROUP_Z_INDEX=S.COMPONENT_TYPE=S.DIRECTION=S.LAYER=void 0;var d;(function(_){_.FORE="fore",_.MID="mid",_.BG="bg"})(d=S.LAYER||(S.LAYER={}));var m;(function(_){_.TOP="top",_.TOP_LEFT="top-left",_.TOP_RIGHT="top-right",_.RIGHT="right",_.RIGHT_TOP="right-top",_.RIGHT_BOTTOM="right-bottom",_.LEFT="left",_.LEFT_TOP="left-top",_.LEFT_BOTTOM="left-bottom",_.BOTTOM="bottom",_.BOTTOM_LEFT="bottom-left",_.BOTTOM_RIGHT="bottom-right",_.RADIUS="radius",_.CIRCLE="circle",_.NONE="none"})(m=S.DIRECTION||(S.DIRECTION={}));var O;(function(_){_.AXIS="axis",_.GRID="grid",_.LEGEND="legend",_.TOOLTIP="tooltip",_.ANNOTATION="annotation",_.OTHER="other"})(O=S.COMPONENT_TYPE||(S.COMPONENT_TYPE={})),S.GROUP_Z_INDEX={FORE:3,MID:2,BG:1};var I;(function(_){_.BEFORE_RENDER="beforerender",_.AFTER_RENDER="afterrender",_.BEFORE_PAINT="beforepaint",_.AFTER_PAINT="afterpaint",_.BEFORE_CHANGE_DATA="beforechangedata",_.AFTER_CHANGE_DATA="afterchangedata",_.BEFORE_CLEAR="beforeclear",_.AFTER_CLEAR="afterclear",_.BEFORE_DESTROY="beforedestroy"})(I=S.VIEW_LIFE_CIRCLE||(S.VIEW_LIFE_CIRCLE={}));var L;(function(_){_.MOUSE_ENTER="plot:mouseenter",_.MOUSE_DOWN="plot:mousedown",_.MOUSE_MOVE="plot:mousemove",_.MOUSE_UP="plot:mouseup",_.MOUSE_LEAVE="plot:mouseleave",_.TOUCH_START="plot:touchstart",_.TOUCH_MOVE="plot:touchmove",_.TOUCH_END="plot:touchend",_.TOUCH_CANCEL="plot:touchcancel",_.CLICK="plot:click",_.DBLCLICK="plot:dblclick",_.CONTEXTMENU="plot:contextmenu",_.LEAVE="plot:leave",_.ENTER="plot:enter"})(L=S.PLOT_EVENTS||(S.PLOT_EVENTS={}));var P;(function(_){_.ACTIVE="active",_.INACTIVE="inactive",_.SELECTED="selected",_.DEFAULT="default"})(P=S.ELEMENT_STATE||(S.ELEMENT_STATE={})),S.GROUP_ATTRS=["color","shape","size"],S.FIELD_ORIGIN="_origin",S.MIN_CHART_WIDTH=1,S.MIN_CHART_HEIGHT=1,S.COMPONENT_MAX_VIEW_PERCENTAGE=.25},57029:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Slider=S.HtmlTooltip=S.ContinuousLegend=S.CategoryLegend=S.CircleGrid=S.LineGrid=S.CircleAxis=S.LineAxis=S.Annotation=S.Crosshair=S.Component=S.GroupComponent=S.HtmlComponent=void 0;var m=d(39014);Object.defineProperty(S,"Event",{enumerable:!0,get:function(){return m.Event}}),Object.defineProperty(S,"AbstractGroup",{enumerable:!0,get:function(){return m.AbstractGroup}}),Object.defineProperty(S,"AbstractShape",{enumerable:!0,get:function(){return m.AbstractShape}});var O=d(28014);Object.defineProperty(S,"registerAdjust",{enumerable:!0,get:function(){return O.registerAdjust}}),Object.defineProperty(S,"getAdjust",{enumerable:!0,get:function(){return O.getAdjust}}),Object.defineProperty(S,"Adjust",{enumerable:!0,get:function(){return O.Adjust}});var I=d(24796);Object.defineProperty(S,"getAttribute",{enumerable:!0,get:function(){return I.getAttribute}}),Object.defineProperty(S,"Attribute",{enumerable:!0,get:function(){return I.Attribute}});var L=d(21392);Object.defineProperty(S,"Color",{enumerable:!0,get:function(){return L.Color}});var P=d(50782);Object.defineProperty(S,"getCoordinate",{enumerable:!0,get:function(){return P.getCoordinate}}),Object.defineProperty(S,"registerCoordinate",{enumerable:!0,get:function(){return P.registerCoordinate}}),Object.defineProperty(S,"Coordinate",{enumerable:!0,get:function(){return P.Coordinate}});var _=d(2443);Object.defineProperty(S,"getScale",{enumerable:!0,get:function(){return _.getScale}}),Object.defineProperty(S,"registerScale",{enumerable:!0,get:function(){return _.registerScale}}),Object.defineProperty(S,"Scale",{enumerable:!0,get:function(){return _.Scale}});var E=d(51441);Object.defineProperty(S,"Annotation",{enumerable:!0,get:function(){return E.Annotation}}),Object.defineProperty(S,"Component",{enumerable:!0,get:function(){return E.Component}}),Object.defineProperty(S,"Crosshair",{enumerable:!0,get:function(){return E.Crosshair}}),Object.defineProperty(S,"GroupComponent",{enumerable:!0,get:function(){return E.GroupComponent}}),Object.defineProperty(S,"HtmlComponent",{enumerable:!0,get:function(){return E.HtmlComponent}}),Object.defineProperty(S,"Slider",{enumerable:!0,get:function(){return E.Slider}});var C=E.Axis.Line,p=E.Axis.Circle;S.LineAxis=C,S.CircleAxis=p;var b=E.Grid.Line,x=E.Grid.Circle;S.LineGrid=b,S.CircleGrid=x;var w=E.Legend.Category,y=E.Legend.Continuous;S.CategoryLegend=w,S.ContinuousLegend=y;var M=E.Tooltip.Html;S.HtmlTooltip=M},38700:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(60517),I=d(49242),L=d(27978),P=O.__importDefault(d(29515)),_=d(42770),E=d(31207),C=function(p){O.__extends(b,p);function b(x){var w=p.call(this,x)||this;w.states=[];var y=x.shapeFactory,M=x.container,T=x.offscreenGroup,B=x.visible,D=B===void 0?!0:B;return w.shapeFactory=y,w.container=M,w.offscreenGroup=T,w.visible=D,w}return b.prototype.draw=function(x,w){w===void 0&&(w=!1),this.model=x,this.data=x.data,this.shapeType=this.getShapeType(x),this.drawShape(x,w),this.visible===!1&&this.changeVisible(!1)},b.prototype.update=function(x){var w=this,y=w.shapeFactory,M=w.shape;if(!!M){this.model=x,this.data=x.data,this.shapeType=this.getShapeType(x),this.setShapeInfo(M,x);var T=this.getOffscreenGroup(),B=y.drawShape(this.shapeType,x,T);B.cfg.data=this.data,B.cfg.origin=x,this.syncShapeStyle(M,B,"",this.getAnimateCfg("update"))}},b.prototype.destroy=function(){var x=this,w=x.shapeFactory,y=x.shape;if(y){var M=this.getAnimateCfg("leave");M?L.doAnimate(y,M,{coordinate:w.coordinate,toAttrs:O.__assign({},y.attr())}):y.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,p.prototype.destroy.call(this)},b.prototype.changeVisible=function(x){p.prototype.changeVisible.call(this,x),x?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(w){w.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(w){w.hide()}))},b.prototype.setState=function(x,w){var y=this,M=this,T=M.states,B=M.shapeFactory,D=M.model,X=M.shape,$=M.shapeType,H=T.indexOf(x);if(w){if(H>-1)return;T.push(x),(x==="active"||x==="selected")&&X.toFront()}else{if(H===-1)return;T.splice(H,1),(x==="active"||x==="selected")&&X.toBack()}var nt=B.drawShape($,D,this.getOffscreenGroup());T.length?T.forEach(function(at){y.syncShapeStyle(X,nt,at,null)}):this.syncShapeStyle(X,nt,"reset",null),nt.remove(!0);var ht={state:x,stateStatus:w,element:this,target:this.container};this.container.emit("statechange",ht),E.propagationDelegate(this.shape,"statechange",ht)},b.prototype.clearStates=function(){var x=this,w=this.states;I.each(w,function(y){x.setState(y,!1)}),this.states=[]},b.prototype.hasState=function(x){return this.states.includes(x)},b.prototype.getStates=function(){return this.states},b.prototype.getData=function(){return this.data},b.prototype.getModel=function(){return this.model},b.prototype.getBBox=function(){var x=this,w=x.shape,y=x.labelShape,M={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return w&&(M=w.getCanvasBBox()),y&&y.forEach(function(T){var B=T.getCanvasBBox();M.x=Math.min(B.x,M.x),M.y=Math.min(B.y,M.y),M.minX=Math.min(B.minX,M.minX),M.minY=Math.min(B.minY,M.minY),M.maxX=Math.max(B.maxX,M.maxX),M.maxY=Math.max(B.maxY,M.maxY)}),M.width=M.maxX-M.minX,M.height=M.maxY-M.minY,M},b.prototype.getStatesStyle=function(){if(!this.statesStyle){var x=this,w=x.shapeType,y=x.geometry,M=x.shapeFactory,T=y.stateOption,B=M.defaultShapeType,D=M.theme[w]||M.theme[B];this.statesStyle=I.deepMix({},D,T)}return this.statesStyle},b.prototype.getStateStyle=function(x,w){var y=this.getStatesStyle(),M=I.get(y,[x,"style"],{}),T=M[w]||M;return I.isFunction(T)?T(this):T},b.prototype.getAnimateCfg=function(x){var w=this.animate;return w?w[x]:null},b.prototype.drawShape=function(x,w){w===void 0&&(w=!1);var y=this,M=y.shapeFactory,T=y.container,B=y.shapeType;if(this.shape=M.drawShape(B,x,T),this.shape){this.setShapeInfo(this.shape,x);var D=this.shape.cfg.name;D?I.isString(D)&&(this.shape.cfg.name=["element",D]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var X=w?"enter":"appear",$=this.getAnimateCfg(X);$&&L.doAnimate(this.shape,$,{coordinate:M.coordinate,toAttrs:O.__assign({},this.shape.attr())})}},b.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var x=this.container.getGroupBase();this.offscreenGroup=new x({})}return this.offscreenGroup},b.prototype.setShapeInfo=function(x,w){var y=this;if(x.cfg.origin=w,x.cfg.element=this,x.isGroup()){var M=x.get("children");M.forEach(function(T){y.setShapeInfo(T,w)})}},b.prototype.syncShapeStyle=function(x,w,y,M,T){if(y===void 0&&(y=""),T===void 0&&(T=0),x.isGroup())for(var B=x.get("children"),D=w.get("children"),X=0;X<B.length;X++)this.syncShapeStyle(B[X],D[X],y,M,T+X);else{if(y&&y!=="reset"){var $=x.get("name");I.isArray($)&&($=$[1]);var H=this.getStateStyle(y,$||T);w.attr(H)}var nt=_.getReplaceAttrs(x,w);this.animate?M?L.doAnimate(x,M,{coordinate:this.shapeFactory.coordinate,toAttrs:nt,shapeModel:this.model}):y?(x.stopAnimate(),x.animate(nt,{duration:300})):x.attr(nt):x.attr(nt)}},b.prototype.getShapeType=function(x){var w=I.get(x,"shape");return I.isArray(w)?w[0]:w},b}(P.default);m=C},75564:function(_t,S,d){"use strict";var m;m={value:!0},S.iV=m=m=void 0;var O=d(60517),I=d(6750),L=d(26485);m=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],m=["cross","tick","plus","hyphen","line"];function P(_,E,C,p,b){var x=L.getStyle(E,b,!b,"r"),w=_.parsePoints(E.points),y=w[0];if(E.isStack)y=w[1];else if(w.length>1){for(var M=C.addGroup(),T=0,B=w;T<B.length;T++){var D=B[T];M.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},x),{symbol:I.MarkerSymbols[p]||p}),D)})}return M}return C.addShape({type:"marker",attrs:O.__assign(O.__assign(O.__assign({},x),{symbol:I.MarkerSymbols[p]||p}),y)})}S.iV=P},26485:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getStyle=void 0;var m=d(60517),O=d(49242);function I(L,P,_,E){E===void 0&&(E="");var C=L.style,p=C===void 0?{}:C,b=L.defaultStyle,x=L.color,w=L.size,y=m.__assign(m.__assign({},b),p);return x&&(P&&(p.stroke||(y.stroke=x)),_&&(p.fill||(y.fill=x))),E&&O.isNil(p[E])&&!O.isNil(w)&&(y[E]=w),y}S.getStyle=I},36758:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.convertPolarPath=S.convertNormalPath=S.getSplinePath=S.getLinePath=S.catmullRom2bezier=S.smoothBezier=void 0;var m=d(43567),O=d(49242),I=d(22514);function L(y,M){var T=[];if(y.length){T.push(["M",y[0].x,y[0].y]);for(var B=1,D=y.length;B<D;B+=1){var X=y[B];T.push(["L",X.x,X.y])}M&&T.push(["Z"])}return T}function P(y,M){for(var T=[y[0]],B=1,D=y.length;B<D;B=B+2){var X=M.convert({x:y[B],y:y[B+1]});T.push(X.x,X.y)}return T}function _(y,M,T){var B=T.isTransposed,D=T.startAngle,X=T.endAngle,$={x:y[1],y:y[2]},H={x:M[1],y:M[2]},nt=[],ht=B?"y":"x",at=Math.abs(H[ht]-$[ht])*(X-D),Ot=H[ht]>=$[ht]?1:0,Ft=at>Math.PI?1:0,Dt=T.convert(H),V=I.getDistanceToCenter(T,Dt);if(V>=.5)if(at===Math.PI*2){var q={x:(H.x+$.x)/2,y:(H.y+$.y)/2},K=T.convert(q);nt.push(["A",V,V,0,Ft,Ot,K.x,K.y]),nt.push(["A",V,V,0,Ft,Ot,Dt.x,Dt.y])}else nt.push(["A",V,V,0,Ft,Ot,Dt.x,Dt.y]);return nt}function E(y){O.each(y,function(M,T){var B=M;if(B[0].toLowerCase()==="a"){var D=y[T-1],X=y[T+1];X&&X[0].toLowerCase()==="a"?D&&D[0].toLowerCase()==="l"&&(D[0]="M"):D&&D[0].toLowerCase()==="a"&&X&&X[0].toLowerCase()==="l"&&(X[0]="M")}})}S.smoothBezier=function(y,M,T,B){var D=[],X,$,H=!!B,nt,ht;if(H){nt=[Infinity,Infinity],ht=[-Infinity,-Infinity];for(var at=0,Ot=y.length;at<Ot;at++){var Ft=y[at];nt=m.vec2.min([0,0],nt,Ft),ht=m.vec2.max([0,0],ht,Ft)}nt=m.vec2.min([0,0],nt,B[0]),ht=m.vec2.max([0,0],ht,B[1])}for(var at=0,Dt=y.length;at<Dt;at++){var Ft=y[at];if(T)X=y[at?at-1:Dt-1],$=y[(at+1)%Dt];else if(at===0||at===Dt-1){D.push(Ft);continue}else X=y[at-1],$=y[at+1];var V=[0,0];V=m.vec2.sub(V,$,X),V=m.vec2.scale(V,V,M);var q=m.vec2.distance(Ft,X),K=m.vec2.distance(Ft,$),Z=q+K;Z!==0&&(q/=Z,K/=Z);var mt=m.vec2.scale([0,0],V,-q),rt=m.vec2.scale([0,0],V,K),W=m.vec2.add([0,0],Ft,mt),z=m.vec2.add([0,0],Ft,rt);H&&(W=m.vec2.max([0,0],W,nt),W=m.vec2.min([0,0],W,ht),z=m.vec2.max([0,0],z,nt),z=m.vec2.min([0,0],z,ht)),D.push(W),D.push(z)}return T&&D.push(D.shift()),D};function C(y,M,T){for(var B=!!M,D=[],X=0,$=y.length;X<$;X+=2)D.push([y[X],y[X+1]]);for(var H=S.smoothBezier(D,.4,B,T),nt=D.length,ht=[],at,Ot,Ft,X=0;X<nt-1;X++)at=H[X*2],Ot=H[X*2+1],Ft=D[X+1],ht.push(["C",at[0],at[1],Ot[0],Ot[1],Ft[0],Ft[1]]);return B&&(at=H[nt],Ot=H[nt+1],Ft=D[0],ht.push(["C",at[0],at[1],Ot[0],Ot[1],Ft[0],Ft[1]])),ht}S.catmullRom2bezier=C;function p(y,M){return L(y,M)}S.getLinePath=p;function b(y,M,T){var B=[],D=y[0],X=null;if(y.length<=2)return p(y,M);for(var $=0,H=y.length;$<H;$++){var nt=y[$];(!X||!(X.x===nt.x&&X.y===nt.y))&&(B.push(nt.x),B.push(nt.y),X=nt)}var ht=T||[[0,0],[1,1]],at=C(B,M,ht);return at.unshift(["M",D.x,D.y]),at}S.getSplinePath=b;function x(y,M){var T=[];return O.each(M,function(B){var D=B[0];switch(D.toLowerCase()){case"m":case"l":case"c":T.push(P(B,y));break;case"z":default:T.push(B);break}}),T}S.convertNormalPath=x;function w(y,M){var T=[],B,D,X,$;return O.each(M,function(H,nt){var ht=H[0];switch(ht.toLowerCase()){case"m":case"c":case"q":T.push(P(H,y));break;case"l":B=M[nt-1],D=H,X=y.isTransposed,$=X?B[B.length-2]===D[1]:B[B.length-1]===D[2],$?T=T.concat(_(B,D,y)):T.push(P(H,y));break;case"z":default:T.push(H);break}}),E(T),T}S.convertPolarPath=w},33242:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=function(){function I(L,P){this.context=L,this.cfg=P,L.addAction(this)}return I.prototype.applyCfg=function(L){m.assign(this,L)},I.prototype.init=function(){this.applyCfg(this.cfg)},I.prototype.destroy=function(){this.context.removeAction(this),this.context=null},I}();S.default=O},68842:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(60517),O=m.__importDefault(d(33242)),I=function(L){m.__extends(P,L);function P(){return L!==null&&L.apply(this,arguments)||this}return P.prototype.execute=function(){this.callback&&this.callback(this.context)},P.prototype.destroy=function(){L.prototype.destroy.call(this),this.callback=null},P}(O.default);S.default=I},93359:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.createCallbackAction=S.unregisterAction=S.registerAction=S.getActionClass=S.createAction=void 0;var m=d(60517),O=m.__importDefault(d(68842)),I=d(49242),L={};function P(b,x){var w=L[b],y=null;if(w){var M=w.ActionClass,T=w.cfg;y=new M(x,T),y.name=b,y.init()}return y}S.createAction=P;function _(b){var x=L[b];return I.get(x,"ActionClass")}S.getActionClass=_;function E(b,x,w){L[b]={ActionClass:x,cfg:w}}S.registerAction=E;function C(b){delete L[b]}S.unregisterAction=C;function p(b,x){var w=new O.default(x);return w.callback=b,w.name="callback",w}S.createCallbackAction=p},31882:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getScaleByField=S.isInRecords=S.getSiblingPoint=S.getSilbings=S.isInBox=S.getSpline=S.distance=S.getComponents=S.getElementsByPath=S.getIntersectElements=S.intersectRect=S.getElementValue=S.getElementsByState=S.getElementsByField=S.getElements=S.getSiblingMaskElements=S.getMaskedElements=S.isMask=S.isSlider=S.isList=S.isElementChange=S.getDelegationObject=S.getCurrentElement=void 0;var m=d(60517),O=d(49242),I=d(36758),L=d(85800),P=m.__importDefault(d(70146));function _(W,z){var G=W.event,f=G.target,pt=f.getCanvasBBox();return pt.width>=z||pt.height>=z?pt:null}function E(W,z){var G=W.event,f=G.target,pt=f.getCanvasBBox();return pt.width>=z||pt.height>=z?f.attr("path"):null}function C(W){var z=W.event,G,f=z.target;return f&&(G=f.get("element")),G}S.getCurrentElement=C;function p(W){var z=W.event,G=z.target,f;return G&&(f=G.get("delegateObject")),f}S.getDelegationObject=p;function b(W){var z=W.event.gEvent;return!(z&&z.fromShape&&z.toShape&&z.fromShape.get("element")===z.toShape.get("element"))}S.isElementChange=b;function x(W){return W&&W.component&&W.component.isList()}S.isList=x;function w(W){return W&&W.component&&W.component.isSlider()}S.isSlider=w;function y(W){var z=W.event,G=z.target;return G&&G.get("name")==="mask"}S.isMask=y;function M(W,z){var G=W.event.target;if(G.get("type")==="path"){var f=E(W,z);return f?at(W.view,f):void 0}var pt=_(W,z);return pt?nt(W.view,pt):null}S.getMaskedElements=M;function T(W,z,G){var f=_(W,G);if(!f)return null;var pt=W.view,Ct=Z(pt,z,{x:f.x,y:f.y}),ot=Z(pt,z,{x:f.maxX,y:f.maxY}),St={minX:Ct.x,minY:Ct.y,maxX:ot.x,maxY:ot.y};return nt(z,St)}S.getSiblingMaskElements=T;function B(W){var z=W.geometries,G=[];return O.each(z,function(f){var pt=f.elements;G=G.concat(pt)}),W.views&&W.views.length&&O.each(W.views,function(f){G=G.concat(B(f))}),G}S.getElements=B;function D(W,z,G){var f=B(W);return f.filter(function(pt){return $(pt,z)===G})}S.getElementsByField=D;function X(W,z){var G=W.geometries,f=[];return O.each(G,function(pt){var Ct=pt.getElementsBy(function(ot){return ot.hasState(z)});f=f.concat(Ct)}),f}S.getElementsByState=X;function $(W,z){var G=W.getModel(),f=G.data,pt;return O.isArray(f)?pt=f[0][z]:pt=f[z],pt}S.getElementValue=$;function H(W,z){return!(z.minX>W.maxX||z.maxX<W.minX||z.minY>W.maxY||z.maxY<W.minY)}S.intersectRect=H;function nt(W,z){var G=B(W),f=[];return O.each(G,function(pt){var Ct=pt.shape,ot=Ct.getCanvasBBox();H(z,ot)&&f.push(pt)}),f}S.getIntersectElements=nt;function ht(W){var z=[];return O.each(W,function(G){var f=G[0];if(f!=="A")for(var pt=1;pt<G.length;pt=pt+2)z.push([G[pt],G[pt+1]]);else{var Ct=G.length;z.push([G[Ct-2],G[Ct-1]])}}),z}function at(W,z){var G=B(W),f=ht(z),pt=G.filter(function(Ct){var ot=Ct.shape,St;if(ot.get("type")==="path")St=ht(ot.attr("path"));else{var xt=ot.getCanvasBBox();St=L.toPoints(xt)}return P.default(f,St)});return pt}S.getElementsByPath=at;function Ot(W){return W.getComponents().map(function(z){return z.component})}S.getComponents=Ot;function Ft(W,z){var G=z.x-W.x,f=z.y-W.y;return Math.sqrt(G*G+f*f)}S.distance=Ft;function Dt(W,z){if(W.length<=2)return I.getLinePath(W,!1);var G=W[0],f=[];O.each(W,function(Ct){f.push(Ct.x),f.push(Ct.y)});var pt=I.catmullRom2bezier(f,z,null);return pt.unshift(["M",G.x,G.y]),pt}S.getSpline=Dt;function V(W,z){return W.x<=z.x&&W.maxX>=z.x&&W.y<=z.y&&W.maxY>z.y}S.isInBox=V;function q(W){var z=W.parent,G=null;return z&&(G=z.views.filter(function(f){return f!==W})),G}S.getSilbings=q;function K(W,z){var G=W.getCoordinate();return G.invert(z)}function Z(W,z,G){var f=K(W,G);return z.getCoordinate().convert(f)}S.getSiblingPoint=Z;function mt(W,z,G,f){var pt=!1;return O.each(W,function(Ct){if(Ct[G]===z[G]&&Ct[f]===z[f])return pt=!0,!1}),pt}S.isInRecords=mt;function rt(W,z){var G=W.getScaleByField(z);return!G&&W.views&&O.each(W.views,function(f){if(G=rt(f,z),G)return!1}),G}S.getScaleByField=rt},43273:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(31882),I=function(){function L(P){this.actions=[],this.event=null,this.cacheMap={},this.view=P}return L.prototype.cache=function(){for(var P=[],_=0;_<arguments.length;_++)P[_]=arguments[_];if(P.length===1)return this.cacheMap[P[0]];P.length===2&&(this.cacheMap[P[0]]=P[1])},L.prototype.getAction=function(P){return this.actions.find(function(_){return _.name===P})},L.prototype.addAction=function(P){this.actions.push(P)},L.prototype.removeAction=function(P){var _=this.actions,E=this.actions.indexOf(P);E>=0&&_.splice(E,1)},L.prototype.getCurrentPoint=function(){var P=this.event;if(P)if(P.target instanceof HTMLElement){var _=this.view.getCanvas(),E=_.getPointByClient(P.clientX,P.clientY);return E}else return{x:P.x,y:P.y};return null},L.prototype.getCurrentShape=function(){return m.get(this.event,["gEvent","shape"])},L.prototype.isInPlot=function(){var P=this.getCurrentPoint();return P?this.view.isPointInPlot(P):!1},L.prototype.isInShape=function(P){var _=this.getCurrentShape();return _?_.get("name")===P:!1},L.prototype.isInComponent=function(P){var _=O.getComponents(this.view),E=this.getCurrentPoint();return E?!!_.find(function(C){var p=C.getBBox();return P?C.get("name")===P&&O.isInBox(p,E):O.isInBox(p,E)}):!1},L.prototype.destroy=function(){this.view=null,this.event=null,m.each(this.actions.slice(),function(P){P.destroy()}),this.actions=null,this.cacheMap=null},L}();S.default=I},61058:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(60517),I=d(49242),L=d(93359),P=O.__importDefault(d(43273)),_=O.__importDefault(d(91513));function E(x,w){var y=x.split(":"),M=y[0],T=w.getAction(M)||L.createAction(M,w);if(!T)throw new Error("There is no action named "+M);var B=y[1];return{action:T,methodName:B}}function C(x){var w=x.action,y=x.methodName;if(w[y])w[y]();else throw new Error("Action("+w.name+") doesn't have a method called "+y)}var p={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},b=function(x){O.__extends(w,x);function w(y,M){var T=x.call(this,y,M)||this;return T.callbackCaches={},T.emitCaches={},T.steps=M,T}return w.prototype.init=function(){this.initContext(),x.prototype.init.call(this)},w.prototype.destroy=function(){x.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},w.prototype.initEvents=function(){var y=this;I.each(this.steps,function(M,T){I.each(M,function(B){var D=y.getActionCallback(T,B);D&&y.bindEvent(B.trigger,D)})})},w.prototype.clearEvents=function(){var y=this;I.each(this.steps,function(M,T){I.each(M,function(B){var D=y.getActionCallback(T,B);D&&y.offEvent(B.trigger,D)})})},w.prototype.initContext=function(){var y=this.view,M=new P.default(y);this.context=M;var T=this.steps;I.each(T,function(B){I.each(B,function(D){if(I.isFunction(D.action))D.actionObject={action:L.createCallbackAction(D.action,M),methodName:"execute"};else if(I.isString(D.action))D.actionObject=E(D.action,M);else if(I.isArray(D.action)){var X=D.action;D.actionObject=[],I.each(X,function($){D.actionObject.push(E($,M))})}})})},w.prototype.isAllowStep=function(y){var M=this.currentStepName,T=this.steps;if(M===y||y===p.SHOW_ENABLE)return!0;if(y===p.PROCESSING)return M===p.START;if(y===p.START)return M!==p.PROCESSING;if(y===p.END)return M===p.PROCESSING||M===p.START;if(y===p.ROLLBACK){if(T[p.END])return M===p.END;if(M===p.START)return!0}return!1},w.prototype.isAllowExcute=function(y,M){if(this.isAllowStep(y)){var T=this.getKey(y,M);return M.once&&this.emitCaches[T]?!1:M.isEnable?M.isEnable(this.context):!0}return!1},w.prototype.enterStep=function(y){this.currentStepName=y,this.emitCaches={}},w.prototype.afterExecute=function(y,M){y!==p.SHOW_ENABLE&&this.currentStepName!==y&&this.enterStep(y);var T=this.getKey(y,M);this.emitCaches[T]=!0},w.prototype.getKey=function(y,M){return y+M.trigger+M.action},w.prototype.getActionCallback=function(y,M){var T=this,B=this.context,D=this.callbackCaches,X=M.actionObject;if(M.action&&X){var $=this.getKey(y,M);if(!D[$]){var H=function(nt){B.event=nt,T.isAllowExcute(y,M)?(I.isArray(X)?I.each(X,function(ht){B.event=nt,C(ht)}):(B.event=nt,C(X)),T.afterExecute(y,M),M.callback&&(B.event=nt,M.callback(B))):B.event=null};M.debounce?D[$]=I.debounce(H,M.debounce.wait,M.debounce.immediate):M.throttle?D[$]=I.throttle(H,M.throttle.wait,{leading:M.throttle.leading,trailing:M.throttle.trailing}):D[$]=H}return D[$]}return null},w.prototype.bindEvent=function(y,M){var T=y.split(":");T[0]==="window"?window.addEventListener(T[1],M):T[0]==="document"?document.addEventListener(T[1],M):this.view.on(y,M)},w.prototype.offEvent=function(y,M){var T=y.split(":");T[0]==="window"?window.removeEventListener(T[1],M):T[0]==="document"?document.removeEventListener(T[1],M):this.view.off(y,M)},w}(_.default);m=b},91513:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(O,I){this.view=O,this.cfg=I}return m.prototype.init=function(){this.initEvents()},m.prototype.initEvents=function(){},m.prototype.clearEvents=function(){},m.prototype.destroy=function(){this.clearEvents()},m}();S.default=d},85800:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.toPoints=S.getRegionBBox=S.BBox=void 0;var m=d(49242),O=d(29583),I=function(){function P(_,E,C,p){_===void 0&&(_=0),E===void 0&&(E=0),C===void 0&&(C=0),p===void 0&&(p=0),this.x=_,this.y=E,this.height=p,this.width=C}return P.fromRange=function(_,E,C,p){return new P(_,E,C-_,p-E)},Object.defineProperty(P.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),P.prototype.isEqual=function(_){return this.x===_.x&&this.y===_.y&&this.width===_.width&&this.height===_.height},P.prototype.clone=function(){return new P(this.x,this.y,this.width,this.height)},P.prototype.add=function(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];var C=this.clone();return m.each(_,function(p){C.x=Math.min(p.x,C.x),C.y=Math.min(p.y,C.y),C.width=Math.max(p.maxX,C.maxX)-C.x,C.height=Math.max(p.maxY,C.maxY)-C.y}),C},P.prototype.merge=function(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];var C=this.clone();return m.each(_,function(p){C.x=Math.max(p.x,C.x),C.y=Math.max(p.y,C.y),C.width=Math.min(p.maxX,C.maxX)-C.x,C.height=Math.min(p.maxY,C.maxY)-C.y}),C},P.prototype.cut=function(_,E){var C=_.width,p=_.height;switch(E){case O.DIRECTION.TOP:case O.DIRECTION.TOP_LEFT:case O.DIRECTION.TOP_RIGHT:return P.fromRange(this.minX,this.minY+p,this.maxX,this.maxY);case O.DIRECTION.RIGHT:case O.DIRECTION.RIGHT_TOP:case O.DIRECTION.RIGHT_BOTTOM:return P.fromRange(this.minX,this.minY,this.maxX-C,this.maxY);case O.DIRECTION.BOTTOM:case O.DIRECTION.BOTTOM_LEFT:case O.DIRECTION.BOTTOM_RIGHT:return P.fromRange(this.minX,this.minY,this.maxX,this.maxY-p);case O.DIRECTION.LEFT:case O.DIRECTION.LEFT_TOP:case O.DIRECTION.LEFT_BOTTOM:return P.fromRange(this.minX+C,this.minY,this.maxX,this.maxY);default:return this}},P.prototype.shrink=function(_){var E=_[0],C=_[1],p=_[2],b=_[3];return new P(this.x+b,this.y+E,this.width-b-C,this.height-E-p)},P.prototype.exceed=function(_){return[Math.max(-this.minY+_.minY,0),Math.max(this.maxX-_.maxX,0),Math.max(this.maxY-_.maxY,0),Math.max(-this.minX+_.minX,0)]},P.prototype.size=function(){return this.width*this.height},P}();S.BBox=I,S.getRegionBBox=function(P,_){var E=_.start,C=_.end;return new I(P.x+P.width*E.x,P.y+P.height*E.y,P.width*Math.abs(C.x-E.x),P.height*Math.abs(C.y-E.y))};function L(P){return[[P.minX,P.minY],[P.maxX,P.minY],[P.maxX,P.maxY],[P.minX,P.maxY]]}S.toPoints=L},22514:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getCoordinateClipCfg=S.getAngleByPoint=S.isPointInCoordinate=S.getDistanceToCenter=S.isFullCircle=S.getXDimensionLength=void 0;var m=d(42770),O=d(86630);function I(p){if(p.isPolar&&!p.isTransposed)return(p.endAngle-p.startAngle)*p.getRadius();var b=p.convert({x:0,y:0}),x=p.convert({x:1,y:0});return Math.sqrt(Math.pow(x.x-b.x,2)+Math.pow(x.y-b.y,2))}S.getXDimensionLength=I;function L(p){if(p.isPolar){var b=p.startAngle,x=p.endAngle;return x-b==Math.PI*2}return!1}S.isFullCircle=L;function P(p,b){var x=p.getCenter();return Math.sqrt(Math.pow(b.x-x.x,2)+Math.pow(b.y-x.y,2))}S.getDistanceToCenter=P;function _(p,b){var x=!1;if(p)if(p.type==="theta"){var w=p.start,y=p.end;x=O.isBetween(b.x,w.x,y.x)&&O.isBetween(b.y,w.y,y.y)}else{var M=p.invert(b);x=O.isBetween(M.x,0,1)&&O.isBetween(M.y,0,1)}return x}S.isPointInCoordinate=_;function E(p,b){var x=p.getCenter();return Math.atan2(b.y-x.y,b.x-x.x)}S.getAngleByPoint=E;function C(p,b){b===void 0&&(b=0);var x=p.start,w=p.end,y=p.getWidth(),M=p.getHeight();if(p.isPolar){var T=p.startAngle,B=p.endAngle,D=p.getCenter(),X=p.getRadius();return{type:"path",startState:{path:m.getSectorPath(D.x,D.y,X+b,T,T)},endState:function(H){var nt=(B-T)*H+T,ht=m.getSectorPath(D.x,D.y,X+b,T,nt);return{path:ht}},attrs:{path:m.getSectorPath(D.x,D.y,X+b,T,B)}}}var $;return p.isTransposed?$={height:M+b*2}:$={width:y+b*2},{type:"rect",startState:{x:x.x-b,y:w.y-b,width:p.isTransposed?y+b*2:0,height:p.isTransposed?0:M+b*2},endState:$,attrs:{x:x.x-b,y:w.y-b,width:y+b*2,height:M+b*2}}}S.getCoordinateClipCfg=C},42770:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getReplaceAttrs=S.getPolygonCentroid=S.getAngle=S.getArcPath=S.getSectorPath=S.polarToCartesian=void 0;var m=d(49242);function O(p){if(m.isEmpty(p))return null;var b=p[0].x,x=p[0].x,w=p[0].y,y=p[0].y;return m.each(p,function(M){b=b>M.x?M.x:b,x=x<M.x?M.x:x,w=w>M.y?M.y:w,y=y<M.y?M.y:y}),{minX:b,maxX:x,minY:w,maxY:y,centerX:(b+x)/2,centerY:(w+y)/2}}function I(p,b,x,w){return{x:p+x*Math.cos(w),y:b+x*Math.sin(w)}}S.polarToCartesian=I;function L(p,b,x,w,y,M){M===void 0&&(M=0);var T=I(p,b,x,w),B=I(p,b,x,y),D=I(p,b,M,w),X=I(p,b,M,y);if(y-w==Math.PI*2){var $=I(p,b,x,w+Math.PI),H=I(p,b,M,w+Math.PI),nt=[["M",T.x,T.y],["A",x,x,0,1,1,$.x,$.y],["A",x,x,0,1,1,B.x,B.y],["M",D.x,D.y]];return M&&(nt.push(["A",M,M,0,1,0,H.x,H.y]),nt.push(["A",M,M,0,1,0,X.x,X.y])),nt.push(["M",T.x,T.y]),nt.push(["Z"]),nt}var ht=y-w<=Math.PI?0:1,at=[["M",T.x,T.y],["A",x,x,0,ht,1,B.x,B.y],["L",X.x,X.y]];return M&&at.push(["A",M,M,0,ht,0,D.x,D.y]),at.push(["L",T.x,T.y]),at.push(["Z"]),at}S.getSectorPath=L;function P(p,b,x,w,y){var M=I(p,b,x,w),T=I(p,b,x,y);if(m.isNumberEqual(y-w,Math.PI*2)){var B=I(p,b,x,w+Math.PI);return[["M",M.x,M.y],["A",x,x,0,1,1,B.x,B.y],["A",x,x,0,1,1,M.x,M.y],["A",x,x,0,1,0,B.x,B.y],["A",x,x,0,1,0,M.x,M.y],["Z"]]}var D=y-w<=Math.PI?0:1;return[["M",M.x,M.y],["A",x,x,0,D,1,T.x,T.y]]}S.getArcPath=P;function _(p,b){var x=p.points,w=O(x),y,M,T=b.startAngle,B=b.endAngle,D=B-T;return b.isTransposed?(y=w.maxY*D,M=w.minY*D):(y=w.maxX*D,M=w.minX*D),y+=T,M+=T,{startAngle:M,endAngle:y}}S.getAngle=_;function E(p,b){if(m.isNumber(p)&&m.isNumber(b))return[p,b];for(var x=-1,w=0,y=0,M,T=p.length-1,B,D=0;++x<p.length;)M=T,T=x,D+=B=p[M]*b[T]-p[T]*b[M],w+=(p[M]+p[T])*B,y+=(b[M]+b[T])*B;return D*=3,[w/D,y/D]}S.getPolygonCentroid=E;function C(p,b){var x=p.attr(),w=b.attr();return m.each(x,function(y,M){w[M]===void 0&&(w[M]=void 0)}),w}S.getReplaceAttrs=C},86630:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.uniq=S.omit=S.padEnd=S.isBetween=void 0;var m=d(49242);function O(_,E,C){var p=Math.min(E,C),b=Math.max(E,C);return _>=p&&_<=b}S.isBetween=O;function I(_,E,C){if(m.isString(_))return _.padEnd(E,C);if(m.isArray(_)){var p=_.length;if(p<E)for(var b=E-p,x=0;x<b;x++)_.push(C)}return _}S.padEnd=I;function L(_,E){return E.forEach(function(C){delete _[C]}),_}S.omit=L;function P(_,E,C){E===void 0&&(E=[]),C===void 0&&(C={});for(var p=0,b=_;p<b.length;p++){var x=b[p];C[x]||(E.push(x),C[x]=!0)}return E}S.uniq=P},6750:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.MarkerSymbols=void 0,S.MarkerSymbols={hexagon:function(d,m,O){var I=O/2*Math.sqrt(3);return[["M",d,m-O],["L",d+I,m-O/2],["L",d+I,m+O/2],["L",d,m+O],["L",d-I,m+O/2],["L",d-I,m-O/2],["Z"]]},bowtie:function(d,m,O){var I=O-1.5;return[["M",d-O,m-I],["L",d+O,m+I],["L",d+O,m-I],["L",d-O,m+I],["Z"]]},cross:function(d,m,O){return[["M",d-O,m-O],["L",d+O,m+O],["M",d+O,m-O],["L",d-O,m+O]]},tick:function(d,m,O){return[["M",d-O/2,m-O],["L",d+O/2,m-O],["M",d,m-O],["L",d,m+O],["M",d-O/2,m+O],["L",d+O/2,m+O]]},plus:function(d,m,O){return[["M",d-O,m],["L",d+O,m],["M",d,m-O],["L",d,m+O]]},hyphen:function(d,m,O){return[["M",d-O,m],["L",d+O,m]]},line:function(d,m,O){return[["M",d,m-O],["L",d,m+O]]}}},16854:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getName=S.syncScale=S.createScaleByField=void 0;var m=d(60517),O=d(49242),I=d(57029),L=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function P(p){var b="linear";return L.test(p)?b="time":O.isString(p)&&(b="cat"),b}function _(p,b,x){var w=b||[];if(O.isNumber(p)||O.isNil(O.firstValue(w,p))&&O.isEmpty(x)){var y=I.getScale("identity");return new y({field:p.toString(),values:[p]})}var M=O.valuesOfKey(w,p),T=O.get(x,"type",P(M[0])),B=I.getScale(T);return new B(m.__assign({field:p,values:M},x))}S.createScaleByField=_;function E(p,b){if(p.type!=="identity"&&b.type!=="identity"){var x={};for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(x[w]=b[w]);p.change(x)}}S.syncScale=E;function C(p){return p.alias||p.field}S.getName=C},99677:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getTooltipItems=S.findDataByPoint=void 0;var m=d(60517),O=d(49242),I=d(29583),L=d(16854);function P(B,D,X){var $=X.translate(B),H=X.translate(D);return O.isNumberEqual($,H)}function _(B,D){var X=D.coordinate,$=D.getXScale(),H=$.range,nt=H[H.length-1],ht=H[0],at=X.invert(B),Ot=at.x;return X.isPolar&&Ot>(1+nt)/2&&(Ot=ht),$.translate($.invert(Ot))}function E(B,D,X){var $=X.coordinate,H=X.getYScale(),nt=H.field,ht=$.invert(D),at=H.invert(ht.y),Ot=O.find(B,function(Ft){var Dt=Ft[I.FIELD_ORIGIN];return Dt[nt][0]<=at&&Dt[nt][1]>=at});return Ot||B[B.length-1]}var C=O.memoize(function(B){if(B.isCategory)return 1;for(var D=B.values,X=D.length,$=B.translate(D[0]),H=$,nt=0;nt<X;nt++){var ht=D[nt],at=B.translate(ht);at<$&&($=at),at>H&&(H=at)}return(H-$)/(X-1)});function p(B,D,X){var $=X;if(!X){var H=D.getAttribute("position"),nt=H.getFields();$=nt[0]}var ht=D.scales;return ht[$]?ht[$].getText(B[$]):O.hasKey(B,$)?B[$]:$}function b(B){var D=O.values(B.attributes);return O.filter(D,function(X){return O.contains(I.GROUP_ATTRS,X.type)})}function x(B){for(var D=b(B),X,$=0,H=D;$<H.length;$++){var nt=H[$],ht=nt.getScale(nt.type);if(ht&&ht.isLinear){X=ht;break}}var at=B.getXScale(),Ot=B.getYScale();return X||Ot||at}function w(B,D){var X=D.field,$=B[X];if(O.isArray($)){var H=$.map(function(nt){return D.getText(nt)});return H.join("-")}return D.getText($)}function y(B,D){var X,$=D.getGroupScales();if($.length&&(X=$[0]),X){var H=X.field;return X.getText(B[H])}var nt=x(D);return L.getName(nt)}function M(B,D,X){if(D.length===0)return null;var $=X.type,H=X.getXScale(),nt=X.getYScale(),ht=H.field,at=nt.field,Ot=null;if($==="heatmap"||$==="point"){for(var Ft=X.coordinate,Dt=Ft.invert(B),V=H.invert(Dt.x),q=nt.invert(Dt.y),K=Infinity,Z=0;Z<D.length;Z++){var mt=D[Z],rt=mt[I.FIELD_ORIGIN],W=Math.pow(rt[ht]-V,2)+Math.pow(rt[at]-q,2);W<K&&(K=W,Ot=mt)}return Ot}var z=D[0],G=D[D.length-1],f=_(B,X),pt=z[I.FIELD_ORIGIN][ht],Ct=z[I.FIELD_ORIGIN][at],ot=G[I.FIELD_ORIGIN][ht],St=nt.isLinear&&O.isArray(Ct);if(O.isArray(pt)){for(var Z=0;Z<D.length;Z++){var xt=D[Z],rt=xt[I.FIELD_ORIGIN];if(H.translate(rt[ht][0])<=f&&H.translate(rt[ht][1])>=f)if(St)O.isArray(Ot)||(Ot=[]),Ot.push(xt);else{Ot=xt;break}}O.isArray(Ot)&&(Ot=E(Ot,B,X))}else{var Mt=void 0;if(!H.isLinear&&H.type!=="timeCat"){for(var Z=0;Z<D.length;Z++){var xt=D[Z],rt=xt[I.FIELD_ORIGIN];if(P(rt[ht],f,H))if(St)O.isArray(Ot)||(Ot=[]),Ot.push(xt);else{Ot=xt;break}else H.translate(rt[ht])<=f&&(G=xt,Mt=D[Z+1])}O.isArray(Ot)&&(Ot=E(Ot,B,X))}else{if((f>H.translate(ot)||f<H.translate(pt))&&(f>H.max||f<H.min))return null;for(var Et=0,Tt=D.length-1,gt=void 0;Et<=Tt;){gt=Math.floor((Et+Tt)/2);var it=D[gt][I.FIELD_ORIGIN][ht];if(P(it,f,H))return D[gt];H.translate(it)<=H.translate(f)?(Et=gt+1,G=D[gt],Mt=D[gt+1]):(Tt===0&&(G=D[0]),Tt=gt-1)}}G&&Mt&&Math.abs(H.translate(G[I.FIELD_ORIGIN][ht])-f)>Math.abs(H.translate(Mt[I.FIELD_ORIGIN][ht])-f)&&(G=Mt)}var Q=C(X.getXScale());return!Ot&&Math.abs(H.translate(G[I.FIELD_ORIGIN][ht])-f)<=Q/2&&(Ot=G),Ot}S.findDataByPoint=M;function T(B,D,X){X===void 0&&(X="");var $=B[I.FIELD_ORIGIN],H=p($,D,X),nt=D.tooltipOption,ht=D.theme.defaultColor,at=[],Ot,Ft;function Dt(Ct,ot){if(!O.isNil(ot)&&ot!==""){var St={title:H,data:$,mappingData:B,name:Ct,value:ot,color:B.color||ht,marker:!0};at.push(St)}}if(O.isObject(nt)){var V=nt.fields,q=nt.callback;if(q){var K=V.map(function(Ct){return B[I.FIELD_ORIGIN][Ct]}),Z=q.apply(void 0,K),mt=m.__assign({data:B[I.FIELD_ORIGIN],mappingData:B,title:H,color:B.color||ht,marker:!0},Z);at.push(mt)}else for(var rt=D.scales,W=0,z=V;W<z.length;W++){var G=z[W];if(!O.isNil($[G])){var f=rt[G];Ot=L.getName(f),Ft=f.getText($[G]),Dt(Ot,Ft)}}}else{var pt=x(D);O.isNil($[pt.field])||(Ft=w($,pt),Ot=y($,D),Dt(Ot,Ft))}return at}S.getTooltipItems=T},60517:function(_t,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return _},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return y},__spread:function(){return M},__spreadArrays:function(){return T},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return X},__asyncDelegator:function(){return $},__asyncValues:function(){return H},__makeTemplateObject:function(){return nt},__importStar:function(){return at},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return Ft},__classPrivateFieldSet:function(){return Dt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(V,q){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,Z){K.__proto__=Z}||function(K,Z){for(var mt in Z)Object.prototype.hasOwnProperty.call(Z,mt)&&(K[mt]=Z[mt])},m(V,q)};function O(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");m(V,q);function K(){this.constructor=V}V.prototype=q===null?Object.create(q):(K.prototype=q.prototype,new K)}var I=function(){return I=Object.assign||function(q){for(var K,Z=1,mt=arguments.length;Z<mt;Z++){K=arguments[Z];for(var rt in K)Object.prototype.hasOwnProperty.call(K,rt)&&(q[rt]=K[rt])}return q},I.apply(this,arguments)};function L(V,q){var K={};for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&q.indexOf(Z)<0&&(K[Z]=V[Z]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mt=0,Z=Object.getOwnPropertySymbols(V);mt<Z.length;mt++)q.indexOf(Z[mt])<0&&Object.prototype.propertyIsEnumerable.call(V,Z[mt])&&(K[Z[mt]]=V[Z[mt]]);return K}function P(V,q,K,Z){var mt=arguments.length,rt=mt<3?q:Z===null?Z=Object.getOwnPropertyDescriptor(q,K):Z,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(V,q,K,Z);else for(var z=V.length-1;z>=0;z--)(W=V[z])&&(rt=(mt<3?W(rt):mt>3?W(q,K,rt):W(q,K))||rt);return mt>3&&rt&&Object.defineProperty(q,K,rt),rt}function _(V,q){return function(K,Z){q(K,Z,V)}}function E(V,q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(V,q)}function C(V,q,K,Z){function mt(rt){return rt instanceof K?rt:new K(function(W){W(rt)})}return new(K||(K=Promise))(function(rt,W){function z(pt){try{f(Z.next(pt))}catch(Ct){W(Ct)}}function G(pt){try{f(Z.throw(pt))}catch(Ct){W(Ct)}}function f(pt){pt.done?rt(pt.value):mt(pt.value).then(z,G)}f((Z=Z.apply(V,q||[])).next())})}function p(V,q){var K={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},Z,mt,rt,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(f){return function(pt){return G([f,pt])}}function G(f){if(Z)throw new TypeError("Generator is already executing.");for(;K;)try{if(Z=1,mt&&(rt=f[0]&2?mt.return:f[0]?mt.throw||((rt=mt.return)&&rt.call(mt),0):mt.next)&&!(rt=rt.call(mt,f[1])).done)return rt;switch(mt=0,rt&&(f=[f[0]&2,rt.value]),f[0]){case 0:case 1:rt=f;break;case 4:return K.label++,{value:f[1],done:!1};case 5:K.label++,mt=f[1],f=[0];continue;case 7:f=K.ops.pop(),K.trys.pop();continue;default:if(rt=K.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(f[0]===6||f[0]===2)){K=0;continue}if(f[0]===3&&(!rt||f[1]>rt[0]&&f[1]<rt[3])){K.label=f[1];break}if(f[0]===6&&K.label<rt[1]){K.label=rt[1],rt=f;break}if(rt&&K.label<rt[2]){K.label=rt[2],K.ops.push(f);break}rt[2]&&K.ops.pop(),K.trys.pop();continue}f=q.call(V,K)}catch(pt){f=[6,pt],mt=0}finally{Z=rt=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(V,q,K,Z){Z===void 0&&(Z=K),Object.defineProperty(V,Z,{enumerable:!0,get:function(){return q[K]}})}:function(V,q,K,Z){Z===void 0&&(Z=K),V[Z]=q[K]};function x(V,q){for(var K in V)K!=="default"&&!Object.prototype.hasOwnProperty.call(q,K)&&b(q,V,K)}function w(V){var q=typeof Symbol=="function"&&Symbol.iterator,K=q&&V[q],Z=0;if(K)return K.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&Z>=V.length&&(V=void 0),{value:V&&V[Z++],done:!V}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(V,q){var K=typeof Symbol=="function"&&V[Symbol.iterator];if(!K)return V;var Z=K.call(V),mt,rt=[],W;try{for(;(q===void 0||q-- >0)&&!(mt=Z.next()).done;)rt.push(mt.value)}catch(z){W={error:z}}finally{try{mt&&!mt.done&&(K=Z.return)&&K.call(Z)}finally{if(W)throw W.error}}return rt}function M(){for(var V=[],q=0;q<arguments.length;q++)V=V.concat(y(arguments[q]));return V}function T(){for(var V=0,q=0,K=arguments.length;q<K;q++)V+=arguments[q].length;for(var Z=Array(V),mt=0,q=0;q<K;q++)for(var rt=arguments[q],W=0,z=rt.length;W<z;W++,mt++)Z[mt]=rt[W];return Z}function B(V,q,K){if(K||arguments.length===2)for(var Z=0,mt=q.length,rt;Z<mt;Z++)(rt||!(Z in q))&&(rt||(rt=Array.prototype.slice.call(q,0,Z)),rt[Z]=q[Z]);return V.concat(rt||Array.prototype.slice.call(q))}function D(V){return this instanceof D?(this.v=V,this):new D(V)}function X(V,q,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=K.apply(V,q||[]),mt,rt=[];return mt={},W("next"),W("throw"),W("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function W(ot){Z[ot]&&(mt[ot]=function(St){return new Promise(function(xt,Mt){rt.push([ot,St,xt,Mt])>1||z(ot,St)})})}function z(ot,St){try{G(Z[ot](St))}catch(xt){Ct(rt[0][3],xt)}}function G(ot){ot.value instanceof D?Promise.resolve(ot.value.v).then(f,pt):Ct(rt[0][2],ot)}function f(ot){z("next",ot)}function pt(ot){z("throw",ot)}function Ct(ot,St){ot(St),rt.shift(),rt.length&&z(rt[0][0],rt[0][1])}}function $(V){var q,K;return q={},Z("next"),Z("throw",function(mt){throw mt}),Z("return"),q[Symbol.iterator]=function(){return this},q;function Z(mt,rt){q[mt]=V[mt]?function(W){return(K=!K)?{value:D(V[mt](W)),done:mt==="return"}:rt?rt(W):W}:rt}}function H(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=V[Symbol.asyncIterator],K;return q?q.call(V):(V=typeof w=="function"?w(V):V[Symbol.iterator](),K={},Z("next"),Z("throw"),Z("return"),K[Symbol.asyncIterator]=function(){return this},K);function Z(rt){K[rt]=V[rt]&&function(W){return new Promise(function(z,G){W=V[rt](W),mt(z,G,W.done,W.value)})}}function mt(rt,W,z,G){Promise.resolve(G).then(function(f){rt({value:f,done:z})},W)}}function nt(V,q){return Object.defineProperty?Object.defineProperty(V,"raw",{value:q}):V.raw=q,V}var ht=Object.create?function(V,q){Object.defineProperty(V,"default",{enumerable:!0,value:q})}:function(V,q){V.default=q};function at(V){if(V&&V.__esModule)return V;var q={};if(V!=null)for(var K in V)K!=="default"&&Object.prototype.hasOwnProperty.call(V,K)&&b(q,V,K);return ht(q,V),q}function Ot(V){return V&&V.__esModule?V:{default:V}}function Ft(V,q,K,Z){if(K==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof q=="function"?V!==q||!Z:!q.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return K==="m"?Z:K==="a"?Z.call(V):Z?Z.value:q.get(V)}function Dt(V,q,K,Z,mt){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!mt)throw new TypeError("Private accessor was defined without a setter");if(typeof q=="function"?V!==q||!mt:!q.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?mt.call(V,K):mt?mt.value=K:q.set(V,K),K}},95365:function(_t,S,d){"use strict";var m=d(86031),O=d(90494),I=d(30219),L=function(P){(0,m.__extends)(_,P);function _(E){var C=P.call(this)||this;C.destroyed=!1;var p=C.getDefaultCfg();return C.cfg=(0,I.CD)(p,E),C}return _.prototype.getDefaultCfg=function(){return{}},_.prototype.get=function(E){return this.cfg[E]},_.prototype.set=function(E,C){this.cfg[E]=C},_.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},_}(O.default);S.Z=L},13658:function(_t,S,d){"use strict";d.d(S,{Z:function(){return rt}});var m=d(86031),O=d(43631),I=d(29598),L=d(30219),P=d(49242),_=d(35374),E=d(13681),C=d(26257),p=d(88122),b=d(24699),x=function(W){return["fill","stroke","fillStyle","strokeStyle"].includes(W)},w=function(W){return/^[r,R,L,l]{1}[\s]*\(/.test(W)},y=[1,0,0,0,1,0,0,0,1];function M(W,z,G){var f={},pt=z.fromAttrs,Ct=z.toAttrs;if(!W.destroyed){var ot;for(var St in Ct)if(!(0,P.isEqual)(pt[St],Ct[St]))if(St==="path"){var xt=Ct[St],Mt=pt[St];xt.length>Mt.length?(xt=b.parsePathString(Ct[St]),Mt=b.parsePathString(pt[St]),Mt=b.fillPathByDiff(Mt,xt),Mt=b.formatPath(Mt,xt),z.fromAttrs.path=Mt,z.toAttrs.path=xt):z.pathFormatted||(xt=b.parsePathString(Ct[St]),Mt=b.parsePathString(pt[St]),Mt=b.formatPath(Mt,xt),z.fromAttrs.path=Mt,z.toAttrs.path=xt,z.pathFormatted=!0),f[St]=[];for(var Et=0;Et<xt.length;Et++){for(var Tt=xt[Et],gt=Mt[Et],it=[],Q=0;Q<Tt.length;Q++)(0,P.isNumber)(Tt[Q])&&gt&&(0,P.isNumber)(gt[Q])?(ot=(0,C.Z)(gt[Q],Tt[Q]),it.push(ot(G))):it.push(Tt[Q]);f[St].push(it)}}else if(St==="matrix"){var U=(0,p.Z)(pt[St]||y,Ct[St]||y),ct=U(G);f[St]=ct}else x(St)&&w(Ct[St])?f[St]=Ct[St]:(0,P.isFunction)(Ct[St])||(ot=(0,C.Z)(pt[St],Ct[St]),f[St]=ot(G));W.attr(f)}}function T(W,z,G){var f=z.startTime,pt=z.delay;if(G<f+pt||z._paused)return!1;var Ct,ot=z.duration,St=z.easing;if(G=G-f-z.delay,z.repeat)Ct=G%ot/ot,Ct=E[St](Ct);else if(Ct=G/ot,Ct<1)Ct=E[St](Ct);else return z.onFrame?W.attr(z.onFrame(1)):W.attr(z.toAttrs),!0;if(z.onFrame){var xt=z.onFrame(Ct);W.attr(xt)}else M(W,z,Ct);return!1}var B=function(){function W(z){this.animators=[],this.current=0,this.timer=null,this.canvas=z}return W.prototype.initTimer=function(){var z=this,G=!1,f,pt,Ct;this.timer=_.HT(function(ot){if(z.current=ot,z.animators.length>0){for(var St=z.animators.length-1;St>=0;St--){if(f=z.animators[St],f.destroyed){z.removeAnimator(St);continue}if(!f.isAnimatePaused()){pt=f.get("animations");for(var xt=pt.length-1;xt>=0;xt--)Ct=pt[xt],G=T(f,Ct,ot),G&&(pt.splice(xt,1),G=!1,Ct.callback&&Ct.callback())}pt.length===0&&z.removeAnimator(St)}var Mt=z.canvas.get("autoDraw");Mt||z.canvas.draw()}})},W.prototype.addAnimator=function(z){this.animators.push(z)},W.prototype.removeAnimator=function(z){this.animators.splice(z,1)},W.prototype.isAnimating=function(){return!!this.animators.length},W.prototype.stop=function(){this.timer&&this.timer.stop()},W.prototype.stopAllAnimations=function(z){z===void 0&&(z=!0),this.animators.forEach(function(G){G.stopAnimate(z)}),this.animators=[],this.canvas.draw()},W.prototype.getTime=function(){return this.current},W}(),D=B,X=d(76615),$=40,H=0,nt=":",ht=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function at(W,z){for(var G in W)if(W.hasOwnProperty(G)&&G.indexOf(nt+z)>=0)return!0;return!1}function Ot(W,z,G){G.name=z,G.target=W,G.currentTarget=W,G.delegateTarget=W,W.emit(z,G)}function Ft(W,z,G){if(G.bubbles){var f=void 0,pt=!1;if(z==="mouseenter"?(f=G.fromShape,pt=!0):z==="mouseleave"&&(pt=!0,f=G.toShape),W.isCanvas()&&pt)return;if(f&&(0,L.UY)(W,f)){G.bubbles=!1;return}G.name=z,G.currentTarget=W,G.delegateTarget=W,W.emit(z,G)}}var Dt=function(){function W(z){var G=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(f){var pt=f.type;G._triggerEvent(pt,f)},this._onDocumentMove=function(f){var pt=G.canvas,Ct=pt.get("el");if(Ct!==f.target&&(G.dragging||G.currentShape)){var ot=G._getPointInfo(f);G.dragging&&G._emitEvent("drag",f,ot,G.draggingShape)}},this._onDocumentMouseUp=function(f){var pt=G.canvas,Ct=pt.get("el");if(Ct!==f.target&&G.dragging){var ot=G._getPointInfo(f);G.draggingShape&&G._emitEvent("drop",f,ot,null),G._emitEvent("dragend",f,ot,G.draggingShape),G._afterDrag(G.draggingShape,ot,f)}},this.canvas=z.canvas}return W.prototype.init=function(){this._bindEvents()},W.prototype._bindEvents=function(){var z=this,G=this.canvas.get("el");(0,L.S6)(ht,function(f){G.addEventListener(f,z._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},W.prototype._clearEvents=function(){var z=this,G=this.canvas.get("el");(0,L.S6)(ht,function(f){G.removeEventListener(f,z._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},W.prototype._getEventObj=function(z,G,f,pt,Ct,ot){var St=new X.Z(z,G);return St.fromShape=Ct,St.toShape=ot,St.x=f.x,St.y=f.y,St.clientX=f.clientX,St.clientY=f.clientY,St.propagationPath.push(pt),St},W.prototype._getShape=function(z,G){return this.canvas.getShape(z.x,z.y,G)},W.prototype._getPointInfo=function(z){var G=this.canvas,f=G.getClientByEvent(z),pt=G.getPointByEvent(z);return{x:pt.x,y:pt.y,clientX:f.x,clientY:f.y}},W.prototype._triggerEvent=function(z,G){var f=this._getPointInfo(G),pt=this._getShape(f,G),Ct=this["_on"+z],ot=!1;if(Ct)Ct.call(this,f,pt,G);else{var St=this.currentShape;z==="mouseenter"||z==="dragenter"||z==="mouseover"?(this._emitEvent(z,G,f,null,null,pt),pt&&this._emitEvent(z,G,f,pt,null,pt),z==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",G,f,null)):z==="mouseleave"||z==="dragleave"||z==="mouseout"?(ot=!0,St&&this._emitEvent(z,G,f,St,St,null),this._emitEvent(z,G,f,null,St,null),z==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",G,f,null)):this._emitEvent(z,G,f,pt,null,null)}if(ot||(this.currentShape=pt),pt&&!pt.get("destroyed")){var xt=this.canvas,Mt=xt.get("el");Mt.style.cursor=pt.attr("cursor")||xt.get("cursor")}},W.prototype._onmousedown=function(z,G,f){f.button===H&&(this.mousedownShape=G,this.mousedownPoint=z,this.mousedownTimeStamp=f.timeStamp),this._emitEvent("mousedown",f,z,G,null,null)},W.prototype._emitMouseoverEvents=function(z,G,f,pt){var Ct=this.canvas.get("el");f!==pt&&(f&&(this._emitEvent("mouseout",z,G,f,f,pt),this._emitEvent("mouseleave",z,G,f,f,pt),(!pt||pt.get("destroyed"))&&(Ct.style.cursor=this.canvas.get("cursor"))),pt&&(this._emitEvent("mouseover",z,G,pt,f,pt),this._emitEvent("mouseenter",z,G,pt,f,pt)))},W.prototype._emitDragoverEvents=function(z,G,f,pt,Ct){pt?(pt!==f&&(f&&this._emitEvent("dragleave",z,G,f,f,pt),this._emitEvent("dragenter",z,G,pt,f,pt)),Ct||this._emitEvent("dragover",z,G,pt)):f&&this._emitEvent("dragleave",z,G,f,f,pt),Ct&&this._emitEvent("dragover",z,G,pt)},W.prototype._afterDrag=function(z,G,f){z&&(z.set("capture",!0),this.draggingShape=null),this.dragging=!1;var pt=this._getShape(G,f);pt!==z&&this._emitMouseoverEvents(f,G,z,pt),this.currentShape=pt},W.prototype._onmouseup=function(z,G,f){if(f.button===H){var pt=this.draggingShape;this.dragging?(pt&&this._emitEvent("drop",f,z,G),this._emitEvent("dragend",f,z,pt),this._afterDrag(pt,z,f)):(this._emitEvent("mouseup",f,z,G),G===this.mousedownShape&&this._emitEvent("click",f,z,G),this.mousedownShape=null,this.mousedownPoint=null)}},W.prototype._ondragover=function(z,G,f){f.preventDefault();var pt=this.currentShape;this._emitDragoverEvents(f,z,pt,G,!0)},W.prototype._onmousemove=function(z,G,f){var pt=this.canvas,Ct=this.currentShape,ot=this.draggingShape;if(this.dragging)ot&&this._emitDragoverEvents(f,z,Ct,G,!1),this._emitEvent("drag",f,z,ot);else{var St=this.mousedownPoint;if(St){var xt=this.mousedownShape,Mt=f.timeStamp,Et=Mt-this.mousedownTimeStamp,Tt=St.clientX-z.clientX,gt=St.clientY-z.clientY,it=Tt*Tt+gt*gt;Et>120||it>$?xt&&xt.get("draggable")?(ot=this.mousedownShape,ot.set("capture",!1),this.draggingShape=ot,this.dragging=!0,this._emitEvent("dragstart",f,z,ot),this.mousedownShape=null,this.mousedownPoint=null):!xt&&pt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",f,z,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(f,z,Ct,G),this._emitEvent("mousemove",f,z,G)):(this._emitMouseoverEvents(f,z,Ct,G),this._emitEvent("mousemove",f,z,G))}else this._emitMouseoverEvents(f,z,Ct,G),this._emitEvent("mousemove",f,z,G)}},W.prototype._emitEvent=function(z,G,f,pt,Ct,ot){var St=this._getEventObj(z,G,f,pt,Ct,ot);if(pt){St.shape=pt,Ot(pt,z,St);for(var xt=pt.getParent();xt;)xt.emitDelegation(z,St),St.propagationStopped||Ft(xt,z,St),St.propagationPath.push(xt),xt=xt.getParent()}else{var Mt=this.canvas;Ot(Mt,z,St)}},W.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},W}(),V=Dt,q="px",K=(0,O.detect)(),Z=K&&K.name==="firefox",mt=function(W){(0,m.__extends)(z,W);function z(G){var f=W.call(this,G)||this;return f.initContainer(),f.initDom(),f.initEvents(),f.initTimeline(),f}return z.prototype.getDefaultCfg=function(){var G=W.prototype.getDefaultCfg.call(this);return G.cursor="default",G.supportCSSTransform=!1,G},z.prototype.initContainer=function(){var G=this.get("container");(0,L.HD)(G)&&(G=document.getElementById(G),this.set("container",G))},z.prototype.initDom=function(){var G=this.createDom();this.set("el",G);var f=this.get("container");f.appendChild(G),this.setDOMSize(this.get("width"),this.get("height"))},z.prototype.initEvents=function(){var G=new V({canvas:this});G.init(),this.set("eventController",G)},z.prototype.initTimeline=function(){var G=new D(this);this.set("timeline",G)},z.prototype.setDOMSize=function(G,f){var pt=this.get("el");L.jU&&(pt.style.width=G+q,pt.style.height=f+q)},z.prototype.changeSize=function(G,f){this.setDOMSize(G,f),this.set("width",G),this.set("height",f),this.onCanvasChange("changeSize")},z.prototype.getRenderer=function(){return this.get("renderer")},z.prototype.getCursor=function(){return this.get("cursor")},z.prototype.setCursor=function(G){this.set("cursor",G);var f=this.get("el");L.jU&&f&&(f.style.cursor=G)},z.prototype.getPointByEvent=function(G){var f=this.get("supportCSSTransform");if(f){if(Z&&!(0,L.kK)(G.layerX)&&G.layerX!==G.offsetX)return{x:G.layerX,y:G.layerY};if(!(0,L.kK)(G.offsetX))return{x:G.offsetX,y:G.offsetY}}var pt=this.getClientByEvent(G),Ct=pt.x,ot=pt.y;return this.getPointByClient(Ct,ot)},z.prototype.getClientByEvent=function(G){var f=G;return G.touches&&(G.type==="touchend"?f=G.changedTouches[0]:f=G.touches[0]),{x:f.clientX,y:f.clientY}},z.prototype.getPointByClient=function(G,f){var pt=this.get("el"),Ct=pt.getBoundingClientRect();return{x:G-Ct.left,y:f-Ct.top}},z.prototype.getClientByPoint=function(G,f){var pt=this.get("el"),Ct=pt.getBoundingClientRect();return{x:G+Ct.left,y:f+Ct.top}},z.prototype.draw=function(){},z.prototype.removeDom=function(){var G=this.get("el");G.parentNode.removeChild(G)},z.prototype.clearEvents=function(){var G=this.get("eventController");G.destroy()},z.prototype.isCanvas=function(){return!0},z.prototype.getParent=function(){return null},z.prototype.destroy=function(){var G=this.get("timeline");this.get("destroyed")||(this.clear(),G&&G.stop(),this.clearEvents(),this.removeDom(),W.prototype.destroy.call(this))},z}(I.Z),rt=mt},29598:function(_t,S,d){"use strict";var m=d(86031),O=d(49242),I=d(67229),L=d(30219),P={},_="_INDEX";function E(y,M){if(y.set("canvas",M),y.isGroup()){var T=y.get("children");T.length&&T.forEach(function(B){E(B,M)})}}function C(y,M){if(y.set("timeline",M),y.isGroup()){var T=y.get("children");T.length&&T.forEach(function(B){C(B,M)})}}function p(y,M){var T=y.getChildren();return T.indexOf(M)>=0}function b(y,M,T){T===void 0&&(T=!0),T?M.destroy():(M.set("parent",null),M.set("canvas",null)),(0,L.As)(y.getChildren(),M)}function x(y){return function(M,T){var B=y(M,T);return B===0?M[_]-T[_]:B}}var w=function(y){(0,m.__extends)(M,y);function M(){return y!==null&&y.apply(this,arguments)||this}return M.prototype.isCanvas=function(){return!1},M.prototype.getBBox=function(){var T=Infinity,B=-Infinity,D=Infinity,X=-Infinity,$=[],H=[],nt=this.getChildren().filter(function(at){return at.get("visible")&&(!at.isGroup()||at.isGroup()&&at.getChildren().length>0)});nt.length>0?((0,L.S6)(nt,function(at){var Ot=at.getBBox();$.push(Ot.minX,Ot.maxX),H.push(Ot.minY,Ot.maxY)}),T=(0,O.min)($),B=(0,O.max)($),D=(0,O.min)(H),X=(0,O.max)(H)):(T=0,B=0,D=0,X=0);var ht={x:T,y:D,minX:T,minY:D,maxX:B,maxY:X,width:B-T,height:X-D};return ht},M.prototype.getCanvasBBox=function(){var T=Infinity,B=-Infinity,D=Infinity,X=-Infinity,$=[],H=[],nt=this.getChildren().filter(function(at){return at.get("visible")&&(!at.isGroup()||at.isGroup()&&at.getChildren().length>0)});nt.length>0?((0,L.S6)(nt,function(at){var Ot=at.getCanvasBBox();$.push(Ot.minX,Ot.maxX),H.push(Ot.minY,Ot.maxY)}),T=(0,O.min)($),B=(0,O.max)($),D=(0,O.min)(H),X=(0,O.max)(H)):(T=0,B=0,D=0,X=0);var ht={x:T,y:D,minX:T,minY:D,maxX:B,maxY:X,width:B-T,height:X-D};return ht},M.prototype.getDefaultCfg=function(){var T=y.prototype.getDefaultCfg.call(this);return T.children=[],T},M.prototype.onAttrChange=function(T,B,D){if(y.prototype.onAttrChange.call(this,T,B,D),T==="matrix"){var X=this.getTotalMatrix();this._applyChildrenMarix(X)}},M.prototype.applyMatrix=function(T){var B=this.getTotalMatrix();y.prototype.applyMatrix.call(this,T);var D=this.getTotalMatrix();D!==B&&this._applyChildrenMarix(D)},M.prototype._applyChildrenMarix=function(T){var B=this.getChildren();(0,L.S6)(B,function(D){D.applyMatrix(T)})},M.prototype.addShape=function(){for(var T=[],B=0;B<arguments.length;B++)T[B]=arguments[B];var D=T[0],X=T[1];(0,L.Kn)(D)?X=D:X.type=D;var $=P[X.type];$||($=(0,L.jC)(X.type),P[X.type]=$);var H=this.getShapeBase(),nt=new H[$](X);return this.add(nt),nt},M.prototype.addGroup=function(){for(var T=[],B=0;B<arguments.length;B++)T[B]=arguments[B];var D=T[0],X=T[1],$;if((0,L.mf)(D))X?$=new D(X):$=new D({parent:this});else{var H=D||{},nt=this.getGroupBase();$=new nt(H)}return this.add($),$},M.prototype.getCanvas=function(){var T;return this.isCanvas()?T=this:T=this.get("canvas"),T},M.prototype.getShape=function(T,B,D){if(!(0,L.pP)(this))return null;var X=this.getChildren(),$;if(this.isCanvas())$=this._findShape(X,T,B,D);else{var H=[T,B,1];H=this.invertFromMatrix(H),this.isClipped(H[0],H[1])||($=this._findShape(X,H[0],H[1],D))}return $},M.prototype._findShape=function(T,B,D,X){for(var $=null,H=T.length-1;H>=0;H--){var nt=T[H];if((0,L.pP)(nt)&&(nt.isGroup()?$=nt.getShape(B,D,X):nt.isHit(B,D)&&($=nt)),$)break}return $},M.prototype.add=function(T){var B=this.getCanvas(),D=this.getChildren(),X=this.get("timeline"),$=T.getParent();$&&b($,T,!1),T.set("parent",this),B&&E(T,B),X&&C(T,X),D.push(T),T.onCanvasChange("add"),this._applyElementMatrix(T)},M.prototype._applyElementMatrix=function(T){var B=this.getTotalMatrix();B&&T.applyMatrix(B)},M.prototype.getChildren=function(){return this.get("children")},M.prototype.sort=function(){var T=this.getChildren();(0,L.S6)(T,function(B,D){return B[_]=D,B}),T.sort(x(function(B,D){return B.get("zIndex")-D.get("zIndex")})),this.onCanvasChange("sort")},M.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var T=this.getChildren(),B=T.length-1;B>=0;B--)T[B].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},M.prototype.destroy=function(){this.get("destroyed")||(this.clear(),y.prototype.destroy.call(this))},M.prototype.getFirst=function(){return this.getChildByIndex(0)},M.prototype.getLast=function(){var T=this.getChildren();return this.getChildByIndex(T.length-1)},M.prototype.getChildByIndex=function(T){var B=this.getChildren();return B[T]},M.prototype.getCount=function(){var T=this.getChildren();return T.length},M.prototype.contain=function(T){var B=this.getChildren();return B.indexOf(T)>-1},M.prototype.removeChild=function(T,B){B===void 0&&(B=!0),this.contain(T)&&T.remove(B)},M.prototype.findAll=function(T){var B=[],D=this.getChildren();return(0,L.S6)(D,function(X){T(X)&&B.push(X),X.isGroup()&&(B=B.concat(X.findAll(T)))}),B},M.prototype.find=function(T){var B=null,D=this.getChildren();return(0,L.S6)(D,function(X){if(T(X)?B=X:X.isGroup()&&(B=X.find(T)),B)return!1}),B},M.prototype.findById=function(T){return this.find(function(B){return B.get("id")===T})},M.prototype.findByClassName=function(T){return this.find(function(B){return B.get("className")===T})},M.prototype.findAllByName=function(T){return this.findAll(function(B){return B.get("name")===T})},M}(I.Z);S.Z=w},67229:function(_t,S,d){"use strict";d.d(S,{Z:function(){return Dt}});var m=d(86031),O=d(49242),I=d(35600);function L(V,q,K){var Z=[0,0,0,0,0,0,0,0,0];return I.fromTranslation(Z,K),I.multiply(V,Z,q)}function P(V,q,K){var Z=[0,0,0,0,0,0,0,0,0];return I.fromRotation(Z,K),I.multiply(V,Z,q)}function _(V,q,K){var Z=[0,0,0,0,0,0,0,0,0];return I.fromScaling(Z,K),I.multiply(V,Z,q)}function E(V,q,K){return I.multiply(V,K,q)}function C(V,q){for(var K=V?[].concat(V):[1,0,0,0,1,0,0,0,1],Z=0,mt=q.length;Z<mt;Z++){var rt=q[Z];switch(rt[0]){case"t":L(K,K,[rt[1],rt[2]]);break;case"s":_(K,K,[rt[1],rt[2]]);break;case"r":P(K,K,rt[1]);break;case"m":E(K,K,rt[1]);break;default:break}}return K}function p(V,q){return V[0]*q[1]-q[0]*V[1]}function b(V,q,K){var Z=vec2.angle(V,q),mt=p(V,q)>=0;return K?mt?Math.PI*2-Z:Z:mt?Z:Math.PI*2-Z}function x(V,q,K){return K?(V[0]=q[1],V[1]=-1*q[0]):(V[0]=-1*q[1],V[1]=q[0]),V}var w=d(30219),y=d(87109),M=d(95365),T=C,B="matrix",D=["zIndex","capture","visible","type"],X=["repeat"],$=":",H="*";function nt(V){for(var q=[],K=0;K<V.length;K++)(0,O.isArray)(V[K])?q.push([].concat(V[K])):q.push(V[K]);return q}function ht(V,q){var K={},Z=q.attrs;for(var mt in V)K[mt]=Z[mt];return K}function at(V,q){var K={},Z=q.attr();return(0,O.each)(V,function(mt,rt){X.indexOf(rt)===-1&&!(0,O.isEqual)(Z[rt],mt)&&(K[rt]=mt)}),K}function Ot(V,q){if(q.onFrame)return V;var K=q.startTime,Z=q.delay,mt=q.duration,rt=Object.prototype.hasOwnProperty;return(0,O.each)(V,function(W){K+Z<W.startTime+W.delay+W.duration&&mt>W.delay&&(0,O.each)(q.toAttrs,function(z,G){rt.call(W.toAttrs,G)&&(delete W.toAttrs[G],delete W.fromAttrs[G])})}),V}var Ft=function(V){(0,m.__extends)(q,V);function q(K){var Z=V.call(this,K)||this;Z.attrs={};var mt=Z.getDefaultAttrs();return(0,O.mix)(mt,K.attrs),Z.attrs=mt,Z.initAttrs(mt),Z.initAnimate(),Z}return q.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},q.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},q.prototype.onCanvasChange=function(K){},q.prototype.initAttrs=function(K){},q.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},q.prototype.isGroup=function(){return!1},q.prototype.getParent=function(){return this.get("parent")},q.prototype.getCanvas=function(){return this.get("canvas")},q.prototype.attr=function(){for(var K,Z=[],mt=0;mt<arguments.length;mt++)Z[mt]=arguments[mt];var rt=Z[0],W=Z[1];if(!rt)return this.attrs;if((0,O.isObject)(rt)){for(var z in rt)this.setAttr(z,rt[z]);return this.afterAttrsChange(rt),this}return Z.length===2?(this.setAttr(rt,W),this.afterAttrsChange((K={},K[rt]=W,K)),this):this.attrs[rt]},q.prototype.isClipped=function(K,Z){var mt=this.getClip();return mt&&!mt.isHit(K,Z)},q.prototype.setAttr=function(K,Z){var mt=this.attrs[K];mt!==Z&&(this.attrs[K]=Z,this.onAttrChange(K,Z,mt))},q.prototype.onAttrChange=function(K,Z,mt){K==="matrix"&&this.set("totalMatrix",null)},q.prototype.afterAttrsChange=function(K){if(this.cfg.isClipShape){var Z=this.cfg.applyTo;Z&&Z.onCanvasChange("clip")}else this.onCanvasChange("attr")},q.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},q.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},q.prototype.setZIndex=function(K){this.set("zIndex",K);var Z=this.getParent();return Z&&Z.sort(),this},q.prototype.toFront=function(){var K=this.getParent();if(!!K){var Z=K.getChildren(),mt=this.get("el"),rt=Z.indexOf(this);Z.splice(rt,1),Z.push(this),this.onCanvasChange("zIndex")}},q.prototype.toBack=function(){var K=this.getParent();if(!!K){var Z=K.getChildren(),mt=this.get("el"),rt=Z.indexOf(this);Z.splice(rt,1),Z.unshift(this),this.onCanvasChange("zIndex")}},q.prototype.remove=function(K){K===void 0&&(K=!0);var Z=this.getParent();Z?((0,w.As)(Z.getChildren(),this),Z.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),K&&this.destroy()},q.prototype.resetMatrix=function(){this.attr(B,this.getDefaultMatrix()),this.onCanvasChange("matrix")},q.prototype.getMatrix=function(){return this.attr(B)},q.prototype.setMatrix=function(K){this.attr(B,K),this.onCanvasChange("matrix")},q.prototype.getTotalMatrix=function(){var K=this.cfg.totalMatrix;if(!K){var Z=this.attr("matrix"),mt=this.cfg.parentMatrix;mt&&Z?K=(0,y.xq)(mt,Z):K=Z||mt,this.set("totalMatrix",K)}return K},q.prototype.applyMatrix=function(K){var Z=this.attr("matrix"),mt=null;K&&Z?mt=(0,y.xq)(K,Z):mt=Z||K,this.set("totalMatrix",mt),this.set("parentMatrix",K)},q.prototype.getDefaultMatrix=function(){return null},q.prototype.applyToMatrix=function(K){var Z=this.attr("matrix");return Z?(0,y.rG)(Z,K):K},q.prototype.invertFromMatrix=function(K){var Z=this.attr("matrix");if(Z){var mt=(0,y.U_)(Z);if(mt)return(0,y.rG)(mt,K)}return K},q.prototype.setClip=function(K){var Z=this.getCanvas(),mt=null;if(K){var rt=this.getShapeBase(),W=(0,O.upperFirst)(K.type),z=rt[W];z&&(mt=new z({type:K.type,isClipShape:!0,applyTo:this,attrs:K.attrs,canvas:Z}))}return this.set("clipShape",mt),this.onCanvasChange("clip"),mt},q.prototype.getClip=function(){var K=this.cfg.clipShape;return K||null},q.prototype.clone=function(){var K=this,Z=this.attrs,mt={};(0,O.each)(Z,function(z,G){(0,O.isArray)(Z[G])?mt[G]=nt(Z[G]):mt[G]=Z[G]});var rt=this.constructor,W=new rt({attrs:mt});return(0,O.each)(D,function(z){W.set(z,K.get(z))}),W},q.prototype.destroy=function(){var K=this.destroyed;K||(this.attrs={},V.prototype.destroy.call(this))},q.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},q.prototype.animate=function(){for(var K=[],Z=0;Z<arguments.length;Z++)K[Z]=arguments[Z];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var mt=this.get("timeline");mt||(mt=this.get("canvas").get("timeline"),this.set("timeline",mt));var rt=this.get("animations")||[];mt.timer||mt.initTimer();var W=K[0],z=K[1],G=K[2],f=G===void 0?"easeLinear":G,pt=K[3],Ct=pt===void 0?O.noop:pt,ot=K[4],St=ot===void 0?0:ot,xt,Mt,Et,Tt,gt;(0,O.isFunction)(W)?(xt=W,W={}):(0,O.isObject)(W)&&W.onFrame&&(xt=W.onFrame,Mt=W.repeat),(0,O.isObject)(z)?(gt=z,z=gt.duration,f=gt.easing||"easeLinear",St=gt.delay||0,Mt=gt.repeat||Mt||!1,Ct=gt.callback||O.noop,Et=gt.pauseCallback||O.noop,Tt=gt.resumeCallback||O.noop):((0,O.isNumber)(Ct)&&(St=Ct,Ct=null),(0,O.isFunction)(f)?(Ct=f,f="easeLinear"):f=f||"easeLinear");var it=at(W,this),Q={fromAttrs:ht(it,this),toAttrs:it,duration:z,easing:f,repeat:Mt,callback:Ct,pauseCallback:Et,resumeCallback:Tt,delay:St,startTime:mt.getTime(),id:(0,O.uniqueId)(),onFrame:xt,pathFormatted:!1};rt.length>0?rt=Ot(rt,Q):mt.addAnimator(this),rt.push(Q),this.set("animations",rt),this.set("_pause",{isPaused:!1})}},q.prototype.stopAnimate=function(K){var Z=this;K===void 0&&(K=!0);var mt=this.get("animations");(0,O.each)(mt,function(rt){K&&(rt.onFrame?Z.attr(rt.onFrame(1)):Z.attr(rt.toAttrs)),rt.callback&&rt.callback()}),this.set("animating",!1),this.set("animations",[])},q.prototype.pauseAnimate=function(){var K=this.get("timeline"),Z=this.get("animations"),mt=K.getTime();return(0,O.each)(Z,function(rt){rt._paused=!0,rt._pauseTime=mt,rt.pauseCallback&&rt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:mt}),this},q.prototype.resumeAnimate=function(){var K=this.get("timeline"),Z=K.getTime(),mt=this.get("animations"),rt=this.get("_pause").pauseTime;return(0,O.each)(mt,function(W){W.startTime=W.startTime+(Z-rt),W._paused=!1,W._pauseTime=null,W.resumeCallback&&W.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",mt),this},q.prototype.emitDelegation=function(K,Z){var mt=this,rt=Z.propagationPath,W=this.getEvents(),z;K==="mouseenter"?z=Z.fromShape:K==="mouseleave"&&(z=Z.toShape);for(var G=function(ot){var St=rt[ot],xt=St.get("name");if(xt){if((St.isGroup()||St.isCanvas&&St.isCanvas())&&z&&(0,w.UY)(St,z))return"break";(0,O.isArray)(xt)?(0,O.each)(xt,function(Mt){mt.emitDelegateEvent(St,Mt,Z)}):f.emitDelegateEvent(St,xt,Z)}},f=this,pt=0;pt<rt.length;pt++){var Ct=G(pt);if(Ct==="break")break}},q.prototype.emitDelegateEvent=function(K,Z,mt){var rt=this.getEvents(),W=Z+$+mt.type;(rt[W]||rt[H])&&(mt.name=W,mt.currentTarget=K,mt.delegateTarget=this,mt.delegateObject=K.get("delegateObject"),this.emit(W,mt))},q.prototype.translate=function(K,Z){K===void 0&&(K=0),Z===void 0&&(Z=0);var mt=this.getMatrix(),rt=T(mt,[["t",K,Z]]);return this.setMatrix(rt),this},q.prototype.move=function(K,Z){var mt=this.attr("x")||0,rt=this.attr("y")||0;return this.translate(K-mt,Z-rt),this},q.prototype.moveTo=function(K,Z){return this.move(K,Z)},q.prototype.scale=function(K,Z){var mt=this.getMatrix(),rt=T(mt,[["s",K,Z||K]]);return this.setMatrix(rt),this},q.prototype.rotate=function(K){var Z=this.getMatrix(),mt=T(Z,[["r",K]]);return this.setMatrix(mt),this},q.prototype.rotateAtStart=function(K){var Z=this.attr(),mt=Z.x,rt=Z.y,W=this.getMatrix(),z=T(W,[["t",-mt,-rt],["r",K],["t",mt,rt]]);return this.setMatrix(z),this},q.prototype.rotateAtPoint=function(K,Z,mt){var rt=this.getMatrix(),W=T(rt,[["t",-K,-Z],["r",mt],["t",K,Z]]);return this.setMatrix(W),this},q}(M.Z),Dt=Ft},12352:function(_t,S,d){"use strict";var m=d(86031),O=d(29598),I=function(L){(0,m.__extends)(P,L);function P(){return L!==null&&L.apply(this,arguments)||this}return P.prototype.isGroup=function(){return!0},P.prototype.isEntityGroup=function(){return!1},P.prototype.clone=function(){for(var _=L.prototype.clone.call(this),E=this.getChildren(),C=0;C<E.length;C++){var p=E[C];_.add(p.clone())}return _},P}(O.Z);S.Z=I},86544:function(_t,S,d){"use strict";var m=d(86031),O=d(67229),I=d(87109),L=function(P){(0,m.__extends)(_,P);function _(E){return P.call(this,E)||this}return _.prototype._isInBBox=function(E,C){var p=this.getBBox();return p.minX<=E&&p.maxX>=E&&p.minY<=C&&p.maxY>=C},_.prototype.afterAttrsChange=function(E){P.prototype.afterAttrsChange.call(this,E),this.clearCacheBBox()},_.prototype.getBBox=function(){var E=this.cfg.bbox;return E||(E=this.calculateBBox(),this.set("bbox",E)),E},_.prototype.getCanvasBBox=function(){var E=this.cfg.canvasBBox;return E||(E=this.calculateCanvasBBox(),this.set("canvasBBox",E)),E},_.prototype.applyMatrix=function(E){P.prototype.applyMatrix.call(this,E),this.set("canvasBBox",null)},_.prototype.calculateCanvasBBox=function(){var E=this.getBBox(),C=this.getTotalMatrix(),p=E.minX,b=E.minY,x=E.maxX,w=E.maxY;if(C){var y=(0,I.rG)(C,[E.minX,E.minY]),M=(0,I.rG)(C,[E.maxX,E.minY]),T=(0,I.rG)(C,[E.minX,E.maxY]),B=(0,I.rG)(C,[E.maxX,E.maxY]);p=Math.min(y[0],M[0],T[0],B[0]),x=Math.max(y[0],M[0],T[0],B[0]),b=Math.min(y[1],M[1],T[1],B[1]),w=Math.max(y[1],M[1],T[1],B[1])}var D=this.attrs;if(D.shadowColor){var X=D.shadowBlur,$=X===void 0?0:X,H=D.shadowOffsetX,nt=H===void 0?0:H,ht=D.shadowOffsetY,at=ht===void 0?0:ht,Ot=p-$+nt,Ft=x+$+nt,Dt=b-$+at,V=w+$+at;p=Math.min(p,Ot),x=Math.max(x,Ft),b=Math.min(b,Dt),w=Math.max(w,V)}return{x:p,y:b,minX:p,minY:b,maxX:x,maxY:w,width:x-p,height:w-b}},_.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},_.prototype.isClipShape=function(){return this.get("isClipShape")},_.prototype.isInShape=function(E,C){return!1},_.prototype.isOnlyHitBox=function(){return!1},_.prototype.isHit=function(E,C){var p=this.get("startArrowShape"),b=this.get("endArrowShape"),x=[E,C,1];x=this.invertFromMatrix(x);var w=x[0],y=x[1],M=this._isInBBox(w,y);return this.isOnlyHitBox()?M:!!(M&&!this.isClipped(w,y)&&(this.isInShape(w,y)||p&&p.isHit(w,y)||b&&b.isHit(w,y)))},_}(O.Z);S.Z=L},92146:function(_t,S,d){"use strict";d.d(S,{b:function(){return I}});var m=new Map;function O(H,nt){m.set(H,nt)}function I(H){return m.get(H)}function L(H){var nt=H.attr(),ht=nt.x,at=nt.y,Ot=nt.width,Ft=nt.height;return{x:ht,y:at,width:Ot,height:Ft}}function P(H){var nt=H.attr(),ht=nt.x,at=nt.y,Ot=nt.r;return{x:ht-Ot,y:at-Ot,width:Ot*2,height:Ot*2}}var _=d(89838);function E(H,nt){return!H||!nt?H||nt:{minX:Math.min(H.minX,nt.minX),minY:Math.min(H.minY,nt.minY),maxX:Math.max(H.maxX,nt.maxX),maxY:Math.max(H.maxY,nt.maxY)}}function C(H,nt){var ht=H.get("startArrowShape"),at=H.get("endArrowShape"),Ot=null,Ft=null;return ht&&(Ot=ht.getCanvasBBox(),nt=E(nt,Ot)),at&&(Ft=at.getCanvasBBox(),nt=E(nt,Ft)),nt}function p(H){for(var nt=H.attr(),ht=nt.points,at=[],Ot=[],Ft=0;Ft<ht.length;Ft++){var Dt=ht[Ft];at.push(Dt[0]),Ot.push(Dt[1])}var V=_.Util.getBBoxByArray(at,Ot),q=V.x,K=V.y,Z=V.width,mt=V.height,rt={minX:q,minY:K,maxX:q+Z,maxY:K+mt};return rt=C(H,rt),{x:rt.minX,y:rt.minY,width:rt.maxX-rt.minX,height:rt.maxY-rt.minY}}function b(H){for(var nt=H.attr(),ht=nt.points,at=[],Ot=[],Ft=0;Ft<ht.length;Ft++){var Dt=ht[Ft];at.push(Dt[0]),Ot.push(Dt[1])}return _.Util.getBBoxByArray(at,Ot)}var x=d(84723);function w(H){var nt=H.attr(),ht=nt.x,at=nt.y,Ot=nt.text,Ft=nt.fontSize,Dt=nt.lineHeight,V=nt.font;V||(V=(0,x.$O)(nt));var q=(0,x.mY)(Ot,V),K;if(!q)K={x:ht,y:at,width:0,height:0};else{var Z=nt.textAlign,mt=nt.textBaseline,rt=(0,x.FE)(Ot,Ft,Dt),W={x:ht,y:at-rt};Z&&(Z==="end"||Z==="right"?W.x-=q:Z==="center"&&(W.x-=q/2)),mt&&(mt==="top"?W.y+=rt:mt==="middle"&&(W.y+=rt/2)),K={x:W.x,y:W.y,width:q,height:rt}}return K}var y=d(57350),M=d(49242);function T(H,nt){for(var ht=[],at=[],Ot=[],Ft=0;Ft<H.length;Ft++){var Dt=H[Ft],V=Dt.currentPoint,q=Dt.params,K=Dt.prePoint,Z=void 0;switch(Dt.command){case"Q":Z=_.Quad.box(K[0],K[1],q[1],q[2],q[3],q[4]);break;case"C":Z=_.Cubic.box(K[0],K[1],q[1],q[2],q[3],q[4],q[5],q[6]);break;case"A":var mt=Dt.arcParams;Z=_.Arc.box(mt.cx,mt.cy,mt.rx,mt.ry,mt.xRotation,mt.startAngle,mt.endAngle);break;default:ht.push(V[0]),at.push(V[1]);break}Z&&(Dt.box=Z,ht.push(Z.x,Z.x+Z.width),at.push(Z.y,Z.y+Z.height)),nt&&(Dt.command==="L"||Dt.command==="M")&&Dt.prePoint&&Dt.nextPoint&&Ot.push(Dt)}ht=ht.filter(function(pt){return!Number.isNaN(pt)}),at=at.filter(function(pt){return!Number.isNaN(pt)});var rt=(0,M.min)(ht),W=(0,M.min)(at),z=(0,M.max)(ht),G=(0,M.max)(at);if(Ot.length===0)return{x:rt,y:W,width:z-rt,height:G-W};for(var Ft=0;Ft<Ot.length;Ft++){var Dt=Ot[Ft],V=Dt.currentPoint,f=void 0;V[0]===rt?(f=B(Dt,nt),rt=rt-f.xExtra):V[0]===z&&(f=B(Dt,nt),z=z+f.xExtra),V[1]===W?(f=B(Dt,nt),W=W-f.yExtra):V[1]===G&&(f=B(Dt,nt),G=G+f.yExtra)}return{x:rt,y:W,width:z-rt,height:G-W}}function B(H,nt){var ht=H.prePoint,at=H.currentPoint,Ot=H.nextPoint,Ft=Math.pow(at[0]-ht[0],2)+Math.pow(at[1]-ht[1],2),Dt=Math.pow(at[0]-Ot[0],2)+Math.pow(at[1]-Ot[1],2),V=Math.pow(ht[0]-Ot[0],2)+Math.pow(ht[1]-Ot[1],2),q=Math.acos((Ft+Dt-V)/(2*Math.sqrt(Ft)*Math.sqrt(Dt)));if(!q||Math.sin(q)===0||(0,M.isNumberEqual)(q,0))return{xExtra:0,yExtra:0};var K=Math.abs(Math.atan2(Ot[1]-at[1],Ot[0]-at[0])),Z=Math.abs(Math.atan2(Ot[0]-at[0],Ot[1]-at[1]));K=K>Math.PI/2?Math.PI-K:K,Z=Z>Math.PI/2?Math.PI-Z:Z;var mt={xExtra:Math.cos(q/2-K)*(nt/2*(1/Math.sin(q/2)))-nt/2||0,yExtra:Math.cos(Z-q/2)*(nt/2*(1/Math.sin(q/2)))-nt/2||0};return mt}function D(H){var nt=H.attr(),ht=nt.path,at=nt.stroke,Ot=at?nt.lineWidth:0,Ft=H.get("segments")||(0,y.path2Segments)(ht),Dt=T(Ft,Ot),V=Dt.x,q=Dt.y,K=Dt.width,Z=Dt.height,mt={minX:V,minY:q,maxX:V+K,maxY:q+Z};return mt=C(H,mt),{x:mt.minX,y:mt.minY,width:mt.maxX-mt.minX,height:mt.maxY-mt.minY}}function X(H){var nt=H.attr(),ht=nt.x1,at=nt.y1,Ot=nt.x2,Ft=nt.y2,Dt=Math.min(ht,Ot),V=Math.max(ht,Ot),q=Math.min(at,Ft),K=Math.max(at,Ft),Z={minX:Dt,maxX:V,minY:q,maxY:K};return Z=C(H,Z),{x:Z.minX,y:Z.minY,width:Z.maxX-Z.minX,height:Z.maxY-Z.minY}}function $(H){var nt=H.attr(),ht=nt.x,at=nt.y,Ot=nt.rx,Ft=nt.ry;return{x:ht-Ot,y:at-Ft,width:Ot*2,height:Ft*2}}O("rect",L),O("image",L),O("circle",P),O("marker",P),O("polyline",p),O("polygon",b),O("text",w),O("path",D),O("line",X),O("ellipse",$)},76615:function(_t,S){"use strict";var d=function(){function m(O,I){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=O,this.name=O,this.originalEvent=I,this.timeStamp=I.timeStamp}return m.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},m.prototype.stopPropagation=function(){this.propagationStopped=!0},m.prototype.toString=function(){var O=this.type;return"[Event (type="+O+")]"},m.prototype.save=function(){},m.prototype.restore=function(){},m}();S.Z=d},96533:function(_t,S,d){"use strict";d.r(S),d.d(S,{Event:function(){return C.Z},Base:function(){return p.Z},AbstractCanvas:function(){return b.Z},AbstractGroup:function(){return x.Z},AbstractShape:function(){return w.Z},PathUtil:function(){return m},getBBoxMethod:function(){return y.b},getTextHeight:function(){return M.FE},assembleFont:function(){return M.$O},isAllowCapture:function(){return T.pP},multiplyVec2:function(){return B.rG},invert:function(){return B.U_},getOffScreenContext:function(){return D.L},version:function(){return X}});var m=d(24699),O=d(36438),I=d.n(O),L={};for(var P in O)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(P)<0&&(L[P]=function($){return O[$]}.bind(0,P));d.d(S,L);var _=d(25946),E=d.n(_),L={};for(var P in _)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(P)<0&&(L[P]=function(H){return _[H]}.bind(0,P));d.d(S,L);var C=d(76615),p=d(95365),b=d(13658),x=d(12352),w=d(86544),y=d(92146),M=d(84723),T=d(30219),B=d(87109),D=d(71319),X="0.5.6"},25946:function(){},36438:function(){},87109:function(_t,S,d){"use strict";d.d(S,{xq:function(){return m},rG:function(){return O},U_:function(){return I}});function m(L,P){var _=[],E=L[0],C=L[1],p=L[2],b=L[3],x=L[4],w=L[5],y=L[6],M=L[7],T=L[8],B=P[0],D=P[1],X=P[2],$=P[3],H=P[4],nt=P[5],ht=P[6],at=P[7],Ot=P[8];return _[0]=B*E+D*b+X*y,_[1]=B*C+D*x+X*M,_[2]=B*p+D*w+X*T,_[3]=$*E+H*b+nt*y,_[4]=$*C+H*x+nt*M,_[5]=$*p+H*w+nt*T,_[6]=ht*E+at*b+Ot*y,_[7]=ht*C+at*x+Ot*M,_[8]=ht*p+at*w+Ot*T,_}function O(L,P){var _=[],E=P[0],C=P[1];return _[0]=L[0]*E+L[3]*C+L[6],_[1]=L[1]*E+L[4]*C+L[7],_}function I(L){var P=[],_=L[0],E=L[1],C=L[2],p=L[3],b=L[4],x=L[5],w=L[6],y=L[7],M=L[8],T=M*b-x*y,B=-M*p+x*w,D=y*p-b*w,X=_*T+E*B+C*D;return X?(X=1/X,P[0]=T*X,P[1]=(-M*E+C*y)*X,P[2]=(x*E-C*b)*X,P[3]=B*X,P[4]=(M*_-C*w)*X,P[5]=(-x*_+C*p)*X,P[6]=D*X,P[7]=(-y*_+E*w)*X,P[8]=(b*_-E*p)*X,P):null}},71319:function(_t,S,d){"use strict";d.d(S,{L:function(){return O}});var m=null;function O(){if(!m){var I=document.createElement("canvas");I.width=1,I.height=1,m=I.getContext("2d")}return m}},24699:function(_t,S,d){"use strict";d.r(S),d.d(S,{catmullRomToBezier:function(){return _},fillPath:function(){return mt},fillPathByDiff:function(){return G},formatPath:function(){return Ct},intersection:function(){return V},parsePathArray:function(){return M},parsePathString:function(){return P},pathToAbsolute:function(){return C},pathToCurve:function(){return w},rectPath:function(){return H}});var m=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig"),P=function(ot){if(!ot)return null;if((0,m.isArray)(ot))return ot;var St={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},xt=[];return String(ot).replace(I,function(Mt,Et,Tt){var gt=[],it=Et.toLowerCase();if(Tt.replace(L,function(Q,U){U&&gt.push(+U)}),it==="m"&&gt.length>2&&(xt.push([Et].concat(gt.splice(0,2))),it="l",Et=Et==="m"?"l":"L"),it==="o"&&gt.length===1&&xt.push([Et,gt[0]]),it==="r")xt.push([Et].concat(gt));else for(;gt.length>=St[it]&&(xt.push([Et].concat(gt.splice(0,St[it]))),!!St[it]););return ot}),xt},_=function(ot,St){for(var xt=[],Mt=0,Et=ot.length;Et-2*!St>Mt;Mt+=2){var Tt=[{x:+ot[Mt-2],y:+ot[Mt-1]},{x:+ot[Mt],y:+ot[Mt+1]},{x:+ot[Mt+2],y:+ot[Mt+3]},{x:+ot[Mt+4],y:+ot[Mt+5]}];St?Mt?Et-4===Mt?Tt[3]={x:+ot[0],y:+ot[1]}:Et-2===Mt&&(Tt[2]={x:+ot[0],y:+ot[1]},Tt[3]={x:+ot[2],y:+ot[3]}):Tt[0]={x:+ot[Et-2],y:+ot[Et-1]}:Et-4===Mt?Tt[3]=Tt[2]:Mt||(Tt[0]={x:+ot[Mt],y:+ot[Mt+1]}),xt.push(["C",(-Tt[0].x+6*Tt[1].x+Tt[2].x)/6,(-Tt[0].y+6*Tt[1].y+Tt[2].y)/6,(Tt[1].x+6*Tt[2].x-Tt[3].x)/6,(Tt[1].y+6*Tt[2].y-Tt[3].y)/6,Tt[2].x,Tt[2].y])}return xt},E=function(ot,St,xt,Mt,Et){var Tt=[];if(Et===null&&Mt===null&&(Mt=xt),ot=+ot,St=+St,xt=+xt,Mt=+Mt,Et!==null){var gt=Math.PI/180,it=ot+xt*Math.cos(-Mt*gt),Q=ot+xt*Math.cos(-Et*gt),U=St+xt*Math.sin(-Mt*gt),ct=St+xt*Math.sin(-Et*gt);Tt=[["M",it,U],["A",xt,xt,0,+(Et-Mt>180),0,Q,ct]]}else Tt=[["M",ot,St],["m",0,-Mt],["a",xt,Mt,0,1,1,0,2*Mt],["a",xt,Mt,0,1,1,0,-2*Mt],["z"]];return Tt},C=function(ot){if(ot=P(ot),!ot||!ot.length)return[["M",0,0]];var St=[],xt=0,Mt=0,Et=0,Tt=0,gt=0,it,Q;ot[0][0]==="M"&&(xt=+ot[0][1],Mt=+ot[0][2],Et=xt,Tt=Mt,gt++,St[0]=["M",xt,Mt]);for(var U=ot.length===3&&ot[0][0]==="M"&&ot[1][0].toUpperCase()==="R"&&ot[2][0].toUpperCase()==="Z",ct=void 0,tt=void 0,et=gt,dt=ot.length;et<dt;et++){if(St.push(ct=[]),tt=ot[et],it=tt[0],it!==it.toUpperCase())switch(ct[0]=it.toUpperCase(),ct[0]){case"A":ct[1]=tt[1],ct[2]=tt[2],ct[3]=tt[3],ct[4]=tt[4],ct[5]=tt[5],ct[6]=+tt[6]+xt,ct[7]=+tt[7]+Mt;break;case"V":ct[1]=+tt[1]+Mt;break;case"H":ct[1]=+tt[1]+xt;break;case"R":Q=[xt,Mt].concat(tt.slice(1));for(var Lt=2,Xt=Q.length;Lt<Xt;Lt++)Q[Lt]=+Q[Lt]+xt,Q[++Lt]=+Q[Lt]+Mt;St.pop(),St=St.concat(_(Q,U));break;case"O":St.pop(),Q=E(xt,Mt,tt[1],tt[2]),Q.push(Q[0]),St=St.concat(Q);break;case"U":St.pop(),St=St.concat(E(xt,Mt,tt[1],tt[2],tt[3])),ct=["U"].concat(St[St.length-1].slice(-2));break;case"M":Et=+tt[1]+xt,Tt=+tt[2]+Mt;break;default:for(var Lt=1,Xt=tt.length;Lt<Xt;Lt++)ct[Lt]=+tt[Lt]+(Lt%2?xt:Mt)}else if(it==="R")Q=[xt,Mt].concat(tt.slice(1)),St.pop(),St=St.concat(_(Q,U)),ct=["R"].concat(tt.slice(-2));else if(it==="O")St.pop(),Q=E(xt,Mt,tt[1],tt[2]),Q.push(Q[0]),St=St.concat(Q);else if(it==="U")St.pop(),St=St.concat(E(xt,Mt,tt[1],tt[2],tt[3])),ct=["U"].concat(St[St.length-1].slice(-2));else for(var $t=0,fe=tt.length;$t<fe;$t++)ct[$t]=tt[$t];if(it=it.toUpperCase(),it!=="O")switch(ct[0]){case"Z":xt=+Et,Mt=+Tt;break;case"H":xt=ct[1];break;case"V":Mt=ct[1];break;case"M":Et=ct[ct.length-2],Tt=ct[ct.length-1];break;default:xt=ct[ct.length-2],Mt=ct[ct.length-1]}}return St},p=function(ot,St,xt,Mt){return[ot,St,xt,Mt,xt,Mt]},b=function(ot,St,xt,Mt,Et,Tt){var gt=1/3,it=2/3;return[gt*ot+it*xt,gt*St+it*Mt,gt*Et+it*xt,gt*Tt+it*Mt,Et,Tt]},x=function(ot,St,xt,Mt,Et,Tt,gt,it,Q,U){xt===Mt&&(xt+=1);var ct=Math.PI*120/180,tt=Math.PI/180*(+Et||0),et=[],dt,Lt,Xt,$t,fe,me=function(Le,He,er){var Ue=Le*Math.cos(er)-He*Math.sin(er),nr=Le*Math.sin(er)+He*Math.cos(er);return{x:Ue,y:nr}};if(U)Lt=U[0],Xt=U[1],$t=U[2],fe=U[3];else{dt=me(ot,St,-tt),ot=dt.x,St=dt.y,dt=me(it,Q,-tt),it=dt.x,Q=dt.y,ot===it&&St===Q&&(it+=1,Q+=1);var pe=(ot-it)/2,xe=(St-Q)/2,Ie=pe*pe/(xt*xt)+xe*xe/(Mt*Mt);Ie>1&&(Ie=Math.sqrt(Ie),xt=Ie*xt,Mt=Ie*Mt);var je=xt*xt,ur=Mt*Mt,Ze=(Tt===gt?-1:1)*Math.sqrt(Math.abs((je*ur-je*xe*xe-ur*pe*pe)/(je*xe*xe+ur*pe*pe)));$t=Ze*xt*xe/Mt+(ot+it)/2,fe=Ze*-Mt*pe/xt+(St+Q)/2,Lt=Math.asin(((St-fe)/Mt).toFixed(9)),Xt=Math.asin(((Q-fe)/Mt).toFixed(9)),Lt=ot<$t?Math.PI-Lt:Lt,Xt=it<$t?Math.PI-Xt:Xt,Lt<0&&(Lt=Math.PI*2+Lt),Xt<0&&(Xt=Math.PI*2+Xt),gt&&Lt>Xt&&(Lt=Lt-Math.PI*2),!gt&&Xt>Lt&&(Xt=Xt-Math.PI*2)}var Ar=Xt-Lt;if(Math.abs(Ar)>ct){var Jr=Xt,Er=it,Hr=Q;Xt=Lt+ct*(gt&&Xt>Lt?1:-1),it=$t+xt*Math.cos(Xt),Q=fe+Mt*Math.sin(Xt),et=x(it,Q,xt,Mt,Et,0,gt,Er,Hr,[Xt,Jr,$t,fe])}Ar=Xt-Lt;var Xn=Math.cos(Lt),Zn=Math.sin(Lt),qn=Math.cos(Xt),Pn=Math.sin(Xt),Kt=Math.tan(Ar/4),Jt=4/3*xt*Kt,re=4/3*Mt*Kt,oe=[ot,St],ge=[ot+Jt*Zn,St-re*Xn],be=[it+Jt*Pn,Q-re*qn],Ce=[it,Q];if(ge[0]=2*oe[0]-ge[0],ge[1]=2*oe[1]-ge[1],U)return[ge,be,Ce].concat(et);et=[ge,be,Ce].concat(et).join().split(",");for(var Me=[],he=0,Ge=et.length;he<Ge;he++)Me[he]=he%2?me(et[he-1],et[he],tt).y:me(et[he],et[he+1],tt).x;return Me},w=function(ot,St){var xt=C(ot),Mt=St&&C(St),Et={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Tt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},gt=[],it=[],Q="",U="",ct,tt=function(pe,xe,Ie){var je,ur;if(!pe)return["C",xe.x,xe.y,xe.x,xe.y,xe.x,xe.y];switch(!(pe[0]in{T:1,Q:1})&&(xe.qx=xe.qy=null),pe[0]){case"M":xe.X=pe[1],xe.Y=pe[2];break;case"A":pe=["C"].concat(x.apply(0,[xe.x,xe.y].concat(pe.slice(1))));break;case"S":Ie==="C"||Ie==="S"?(je=xe.x*2-xe.bx,ur=xe.y*2-xe.by):(je=xe.x,ur=xe.y),pe=["C",je,ur].concat(pe.slice(1));break;case"T":Ie==="Q"||Ie==="T"?(xe.qx=xe.x*2-xe.qx,xe.qy=xe.y*2-xe.qy):(xe.qx=xe.x,xe.qy=xe.y),pe=["C"].concat(b(xe.x,xe.y,xe.qx,xe.qy,pe[1],pe[2]));break;case"Q":xe.qx=pe[1],xe.qy=pe[2],pe=["C"].concat(b(xe.x,xe.y,pe[1],pe[2],pe[3],pe[4]));break;case"L":pe=["C"].concat(p(xe.x,xe.y,pe[1],pe[2]));break;case"H":pe=["C"].concat(p(xe.x,xe.y,pe[1],xe.y));break;case"V":pe=["C"].concat(p(xe.x,xe.y,xe.x,pe[1]));break;case"Z":pe=["C"].concat(p(xe.x,xe.y,xe.X,xe.Y));break;default:break}return pe},et=function(pe,xe){if(pe[xe].length>7){pe[xe].shift();for(var Ie=pe[xe];Ie.length;)gt[xe]="A",Mt&&(it[xe]="A"),pe.splice(xe++,0,["C"].concat(Ie.splice(0,6)));pe.splice(xe,1),ct=Math.max(xt.length,Mt&&Mt.length||0)}},dt=function(pe,xe,Ie,je,ur){pe&&xe&&pe[ur][0]==="M"&&xe[ur][0]!=="M"&&(xe.splice(ur,0,["M",je.x,je.y]),Ie.bx=0,Ie.by=0,Ie.x=pe[ur][1],Ie.y=pe[ur][2],ct=Math.max(xt.length,Mt&&Mt.length||0))};ct=Math.max(xt.length,Mt&&Mt.length||0);for(var Lt=0;Lt<ct;Lt++){xt[Lt]&&(Q=xt[Lt][0]),Q!=="C"&&(gt[Lt]=Q,Lt&&(U=gt[Lt-1])),xt[Lt]=tt(xt[Lt],Et,U),gt[Lt]!=="A"&&Q==="C"&&(gt[Lt]="C"),et(xt,Lt),Mt&&(Mt[Lt]&&(Q=Mt[Lt][0]),Q!=="C"&&(it[Lt]=Q,Lt&&(U=it[Lt-1])),Mt[Lt]=tt(Mt[Lt],Tt,U),it[Lt]!=="A"&&Q==="C"&&(it[Lt]="C"),et(Mt,Lt)),dt(xt,Mt,Et,Tt,Lt),dt(Mt,xt,Tt,Et,Lt);var Xt=xt[Lt],$t=Mt&&Mt[Lt],fe=Xt.length,me=Mt&&$t.length;Et.x=Xt[fe-2],Et.y=Xt[fe-1],Et.bx=parseFloat(Xt[fe-4])||Et.x,Et.by=parseFloat(Xt[fe-3])||Et.y,Tt.bx=Mt&&(parseFloat($t[me-4])||Tt.x),Tt.by=Mt&&(parseFloat($t[me-3])||Tt.y),Tt.x=Mt&&$t[me-2],Tt.y=Mt&&$t[me-1]}return Mt?[xt,Mt]:xt},y=/,?([a-z]),?/gi,M=function(ot){return ot.join(",").replace(y,"$1")},T=function(ot,St,xt,Mt,Et){var Tt=-3*St+9*xt-9*Mt+3*Et,gt=ot*Tt+6*St-12*xt+6*Mt;return ot*gt-3*St+3*xt},B=function(ot,St,xt,Mt,Et,Tt,gt,it,Q){Q===null&&(Q=1),Q=Q>1?1:Q<0?0:Q;for(var U=Q/2,ct=12,tt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],et=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],dt=0,Lt=0;Lt<ct;Lt++){var Xt=U*tt[Lt]+U,$t=T(Xt,ot,xt,Et,gt),fe=T(Xt,St,Mt,Tt,it),me=$t*$t+fe*fe;dt+=et[Lt]*Math.sqrt(me)}return U*dt},D=function(ot,St,xt,Mt,Et,Tt,gt,it){for(var Q=[],U=[[],[]],ct,tt,et,dt,Lt=0;Lt<2;++Lt){if(Lt===0?(tt=6*ot-12*xt+6*Et,ct=-3*ot+9*xt-9*Et+3*gt,et=3*xt-3*ot):(tt=6*St-12*Mt+6*Tt,ct=-3*St+9*Mt-9*Tt+3*it,et=3*Mt-3*St),Math.abs(ct)<1e-12){if(Math.abs(tt)<1e-12)continue;dt=-et/tt,dt>0&&dt<1&&Q.push(dt);continue}var Xt=tt*tt-4*et*ct,$t=Math.sqrt(Xt);if(!(Xt<0)){var fe=(-tt+$t)/(2*ct);fe>0&&fe<1&&Q.push(fe);var me=(-tt-$t)/(2*ct);me>0&&me<1&&Q.push(me)}}for(var pe=Q.length,xe=pe,Ie;pe--;)dt=Q[pe],Ie=1-dt,U[0][pe]=Ie*Ie*Ie*ot+3*Ie*Ie*dt*xt+3*Ie*dt*dt*Et+dt*dt*dt*gt,U[1][pe]=Ie*Ie*Ie*St+3*Ie*Ie*dt*Mt+3*Ie*dt*dt*Tt+dt*dt*dt*it;return U[0][xe]=ot,U[1][xe]=St,U[0][xe+1]=gt,U[1][xe+1]=it,U[0].length=U[1].length=xe+2,{min:{x:Math.min.apply(0,U[0]),y:Math.min.apply(0,U[1])},max:{x:Math.max.apply(0,U[0]),y:Math.max.apply(0,U[1])}}},X=function(ot,St,xt,Mt,Et,Tt,gt,it){if(!(Math.max(ot,xt)<Math.min(Et,gt)||Math.min(ot,xt)>Math.max(Et,gt)||Math.max(St,Mt)<Math.min(Tt,it)||Math.min(St,Mt)>Math.max(Tt,it))){var Q=(ot*Mt-St*xt)*(Et-gt)-(ot-xt)*(Et*it-Tt*gt),U=(ot*Mt-St*xt)*(Tt-it)-(St-Mt)*(Et*it-Tt*gt),ct=(ot-xt)*(Tt-it)-(St-Mt)*(Et-gt);if(!!ct){var tt=Q/ct,et=U/ct,dt=+tt.toFixed(2),Lt=+et.toFixed(2);if(!(dt<+Math.min(ot,xt).toFixed(2)||dt>+Math.max(ot,xt).toFixed(2)||dt<+Math.min(Et,gt).toFixed(2)||dt>+Math.max(Et,gt).toFixed(2)||Lt<+Math.min(St,Mt).toFixed(2)||Lt>+Math.max(St,Mt).toFixed(2)||Lt<+Math.min(Tt,it).toFixed(2)||Lt>+Math.max(Tt,it).toFixed(2)))return{x:tt,y:et}}}},$=function(ot,St,xt){return St>=ot.x&&St<=ot.x+ot.width&&xt>=ot.y&&xt<=ot.y+ot.height},H=function(ot,St,xt,Mt,Et){if(Et)return[["M",+ot+ +Et,St],["l",xt-Et*2,0],["a",Et,Et,0,0,1,Et,Et],["l",0,Mt-Et*2],["a",Et,Et,0,0,1,-Et,Et],["l",Et*2-xt,0],["a",Et,Et,0,0,1,-Et,-Et],["l",0,Et*2-Mt],["a",Et,Et,0,0,1,Et,-Et],["z"]];var Tt=[["M",ot,St],["l",xt,0],["l",0,Mt],["l",-xt,0],["z"]];return Tt.parsePathArray=M,Tt},nt=function(ot,St,xt,Mt){return ot===null&&(ot=St=xt=Mt=0),St===null&&(St=ot.y,xt=ot.width,Mt=ot.height,ot=ot.x),{x:ot,y:St,width:xt,w:xt,height:Mt,h:Mt,x2:ot+xt,y2:St+Mt,cx:ot+xt/2,cy:St+Mt/2,r1:Math.min(xt,Mt)/2,r2:Math.max(xt,Mt)/2,r0:Math.sqrt(xt*xt+Mt*Mt)/2,path:H(ot,St,xt,Mt),vb:[ot,St,xt,Mt].join(" ")}},ht=function(ot,St){return ot=nt(ot),St=nt(St),$(St,ot.x,ot.y)||$(St,ot.x2,ot.y)||$(St,ot.x,ot.y2)||$(St,ot.x2,ot.y2)||$(ot,St.x,St.y)||$(ot,St.x2,St.y)||$(ot,St.x,St.y2)||$(ot,St.x2,St.y2)||(ot.x<St.x2&&ot.x>St.x||St.x<ot.x2&&St.x>ot.x)&&(ot.y<St.y2&&ot.y>St.y||St.y<ot.y2&&St.y>ot.y)},at=function(ot,St,xt,Mt,Et,Tt,gt,it){(0,m.isArray)(ot)||(ot=[ot,St,xt,Mt,Et,Tt,gt,it]);var Q=D.apply(null,ot);return nt(Q.min.x,Q.min.y,Q.max.x-Q.min.x,Q.max.y-Q.min.y)},Ot=function(ot,St,xt,Mt,Et,Tt,gt,it,Q){var U=1-Q,ct=Math.pow(U,3),tt=Math.pow(U,2),et=Q*Q,dt=et*Q,Lt=ct*ot+tt*3*Q*xt+U*3*Q*Q*Et+dt*gt,Xt=ct*St+tt*3*Q*Mt+U*3*Q*Q*Tt+dt*it,$t=ot+2*Q*(xt-ot)+et*(Et-2*xt+ot),fe=St+2*Q*(Mt-St)+et*(Tt-2*Mt+St),me=xt+2*Q*(Et-xt)+et*(gt-2*Et+xt),pe=Mt+2*Q*(Tt-Mt)+et*(it-2*Tt+Mt),xe=U*ot+Q*xt,Ie=U*St+Q*Mt,je=U*Et+Q*gt,ur=U*Tt+Q*it,Ze=90-Math.atan2($t-me,fe-pe)*180/Math.PI;return{x:Lt,y:Xt,m:{x:$t,y:fe},n:{x:me,y:pe},start:{x:xe,y:Ie},end:{x:je,y:ur},alpha:Ze}},Ft=function(ot,St,xt){var Mt=at(ot),Et=at(St);if(!ht(Mt,Et))return xt?0:[];for(var Tt=B.apply(0,ot),gt=B.apply(0,St),it=~~(Tt/8),Q=~~(gt/8),U=[],ct=[],tt={},et=xt?0:[],dt=0;dt<it+1;dt++){var Lt=Ot.apply(0,ot.concat(dt/it));U.push({x:Lt.x,y:Lt.y,t:dt/it})}for(var dt=0;dt<Q+1;dt++){var Lt=Ot.apply(0,St.concat(dt/Q));ct.push({x:Lt.x,y:Lt.y,t:dt/Q})}for(var dt=0;dt<it;dt++)for(var Xt=0;Xt<Q;Xt++){var $t=U[dt],fe=U[dt+1],me=ct[Xt],pe=ct[Xt+1],xe=Math.abs(fe.x-$t.x)<.001?"y":"x",Ie=Math.abs(pe.x-me.x)<.001?"y":"x",je=X($t.x,$t.y,fe.x,fe.y,me.x,me.y,pe.x,pe.y);if(je){if(tt[je.x.toFixed(4)]===je.y.toFixed(4))continue;tt[je.x.toFixed(4)]=je.y.toFixed(4);var ur=$t.t+Math.abs((je[xe]-$t[xe])/(fe[xe]-$t[xe]))*(fe.t-$t.t),Ze=me.t+Math.abs((je[Ie]-me[Ie])/(pe[Ie]-me[Ie]))*(pe.t-me.t);ur>=0&&ur<=1&&Ze>=0&&Ze<=1&&(xt?et+=1:et.push({x:je.x,y:je.y,t1:ur,t2:Ze}))}}return et},Dt=function(ot,St,xt){ot=w(ot),St=w(St);for(var Mt,Et,Tt,gt,it,Q,U,ct,tt,et,dt=xt?0:[],Lt=0,Xt=ot.length;Lt<Xt;Lt++){var $t=ot[Lt];if($t[0]==="M")Mt=it=$t[1],Et=Q=$t[2];else{$t[0]==="C"?(tt=[Mt,Et].concat($t.slice(1)),Mt=tt[6],Et=tt[7]):(tt=[Mt,Et,Mt,Et,it,Q,it,Q],Mt=it,Et=Q);for(var fe=0,me=St.length;fe<me;fe++){var pe=St[fe];if(pe[0]==="M")Tt=U=pe[1],gt=ct=pe[2];else{pe[0]==="C"?(et=[Tt,gt].concat(pe.slice(1)),Tt=et[6],gt=et[7]):(et=[Tt,gt,Tt,gt,U,ct,U,ct],Tt=U,gt=ct);var xe=Ft(tt,et,xt);if(xt)dt+=xe;else{for(var Ie=0,je=xe.length;Ie<je;Ie++)xe[Ie].segment1=Lt,xe[Ie].segment2=fe,xe[Ie].bez1=tt,xe[Ie].bez2=et;dt=dt.concat(xe)}}}}}return dt},V=function(ot,St){return Dt(ot,St)};function q(ot,St){var xt=[],Mt=[];function Et(Tt,gt){if(Tt.length===1)xt.push(Tt[0]),Mt.push(Tt[0]);else{for(var it=[],Q=0;Q<Tt.length-1;Q++)Q===0&&xt.push(Tt[0]),Q===Tt.length-2&&Mt.push(Tt[Q+1]),it[Q]=[(1-gt)*Tt[Q][0]+gt*Tt[Q+1][0],(1-gt)*Tt[Q][1]+gt*Tt[Q+1][1]];Et(it,gt)}}return ot.length&&Et(ot,St),{left:xt,right:Mt.reverse()}}function K(ot,St,xt){var Mt=[[ot[1],ot[2]]];xt=xt||2;var Et=[];St[0]==="A"?(Mt.push(St[6]),Mt.push(St[7])):St[0]==="C"?(Mt.push([St[1],St[2]]),Mt.push([St[3],St[4]]),Mt.push([St[5],St[6]])):St[0]==="S"||St[0]==="Q"?(Mt.push([St[1],St[2]]),Mt.push([St[3],St[4]])):Mt.push([St[1],St[2]]);for(var Tt=Mt,gt=1/xt,it=0;it<xt-1;it++){var Q=gt/(1-gt*it),U=q(Tt,Q);Et.push(U.left),Tt=U.right}Et.push(Tt);var ct=Et.map(function(tt){var et=[];return tt.length===4&&(et.push("C"),et=et.concat(tt[2])),tt.length>=3&&(tt.length===3&&et.push("Q"),et=et.concat(tt[1])),tt.length===2&&et.push("L"),et=et.concat(tt[tt.length-1]),et});return ct}var Z=function(ot,St,xt){if(xt===1)return[[].concat(ot)];var Mt=[];if(St[0]==="L"||St[0]==="C"||St[0]==="Q")Mt=Mt.concat(K(ot,St,xt));else{var Et=[].concat(ot);Et[0]==="M"&&(Et[0]="L");for(var Tt=0;Tt<=xt-1;Tt++)Mt.push(Et)}return Mt},mt=function(ot,St){if(ot.length===1)return ot;var xt=ot.length-1,Mt=St.length-1,Et=xt/Mt,Tt=[];if(ot.length===1&&ot[0][0]==="M"){for(var gt=0;gt<Mt-xt;gt++)ot.push(ot[0]);return ot}for(var gt=0;gt<Mt;gt++){var it=Math.floor(Et*gt);Tt[it]=(Tt[it]||0)+1}var Q=Tt.reduce(function(U,ct,tt){return tt===xt?U.concat(ot[xt]):U.concat(Z(ot[tt],ot[tt+1],ct))},[]);return Q.unshift(ot[0]),(St[Mt]==="Z"||St[Mt]==="z")&&Q.push("Z"),Q},rt=function(ot,St){if(ot.length!==St.length)return!1;var xt=!0;return(0,m.each)(ot,function(Mt,Et){if(Mt!==St[Et])return xt=!1,!1}),xt};function W(ot,St,xt){var Mt=null,Et=xt;return St<Et&&(Et=St,Mt="add"),ot<Et&&(Et=ot,Mt="del"),{type:Mt,min:Et}}var z=function(ot,St){var xt=ot.length,Mt=St.length,Et,Tt,gt=0;if(xt===0||Mt===0)return null;for(var it=[],Q=0;Q<=xt;Q++)it[Q]=[],it[Q][0]={min:Q};for(var U=0;U<=Mt;U++)it[0][U]={min:U};for(var Q=1;Q<=xt;Q++){Et=ot[Q-1];for(var U=1;U<=Mt;U++){Tt=St[U-1],rt(Et,Tt)?gt=0:gt=1;var ct=it[Q-1][U].min+1,tt=it[Q][U-1].min+1,et=it[Q-1][U-1].min+gt;it[Q][U]=W(ct,tt,et)}}return it},G=function(ot,St){var xt=z(ot,St),Mt=ot.length,Et=St.length,Tt=[],gt=1,it=1;if(xt[Mt][Et].min!==Mt){for(var Q=1;Q<=Mt;Q++){var U=xt[Q][Q].min;it=Q;for(var ct=gt;ct<=Et;ct++)xt[Q][ct].min<U&&(U=xt[Q][ct].min,it=ct);gt=it,xt[Q][gt].type&&Tt.push({index:Q-1,type:xt[Q][gt].type})}for(var Q=Tt.length-1;Q>=0;Q--)gt=Tt[Q].index,Tt[Q].type==="add"?ot.splice(gt,0,[].concat(ot[gt])):ot.splice(gt,1)}Mt=ot.length;var tt=Et-Mt;if(Mt<Et)for(var Q=0;Q<tt;Q++)ot[Mt-1][0]==="z"||ot[Mt-1][0]==="Z"?ot.splice(Mt-2,0,ot[Mt-2]):ot.push(ot[Mt-1]),Mt+=1;return ot};function f(ot,St,xt){for(var Mt=[].concat(ot),Et,Tt=1/(xt+1),gt=pt(St)[0],it=1;it<=xt;it++)Tt*=it,Et=Math.floor(ot.length*Tt),Et===0?Mt.unshift([gt[0]*Tt+ot[Et][0]*(1-Tt),gt[1]*Tt+ot[Et][1]*(1-Tt)]):Mt.splice(Et,0,[gt[0]*Tt+ot[Et][0]*(1-Tt),gt[1]*Tt+ot[Et][1]*(1-Tt)]);return Mt}function pt(ot){var St=[];switch(ot[0]){case"M":St.push([ot[1],ot[2]]);break;case"L":St.push([ot[1],ot[2]]);break;case"A":St.push([ot[6],ot[7]]);break;case"Q":St.push([ot[3],ot[4]]),St.push([ot[1],ot[2]]);break;case"T":St.push([ot[1],ot[2]]);break;case"C":St.push([ot[5],ot[6]]),St.push([ot[1],ot[2]]),St.push([ot[3],ot[4]]);break;case"S":St.push([ot[3],ot[4]]),St.push([ot[1],ot[2]]);break;case"H":St.push([ot[1],ot[1]]);break;case"V":St.push([ot[1],ot[1]]);break;default:}return St}var Ct=function(ot,St){if(ot.length<=1)return ot;for(var xt,Mt=0;Mt<St.length;Mt++)if(ot[Mt][0]!==St[Mt][0])switch(xt=pt(ot[Mt]),St[Mt][0]){case"M":ot[Mt]=["M"].concat(xt[0]);break;case"L":ot[Mt]=["L"].concat(xt[0]);break;case"A":ot[Mt]=[].concat(St[Mt]),ot[Mt][6]=xt[0][0],ot[Mt][7]=xt[0][1];break;case"Q":if(xt.length<2)if(Mt>0)xt=f(xt,ot[Mt-1],1);else{ot[Mt]=St[Mt];break}ot[Mt]=["Q"].concat(xt.reduce(function(Et,Tt){return Et.concat(Tt)},[]));break;case"T":ot[Mt]=["T"].concat(xt[0]);break;case"C":if(xt.length<3)if(Mt>0)xt=f(xt,ot[Mt-1],2);else{ot[Mt]=St[Mt];break}ot[Mt]=["C"].concat(xt.reduce(function(Et,Tt){return Et.concat(Tt)},[]));break;case"S":if(xt.length<2)if(Mt>0)xt=f(xt,ot[Mt-1],1);else{ot[Mt]=St[Mt];break}ot[Mt]=["S"].concat(xt.reduce(function(Et,Tt){return Et.concat(Tt)},[]));break;default:ot[Mt]=St[Mt]}return ot}},84723:function(_t,S,d){"use strict";d.d(S,{FE:function(){return I},mY:function(){return P},$O:function(){return _}});var m=d(30219),O=d(71319);function I(E,C,p){var b=1;if((0,m.HD)(E)&&(b=E.split(`
`).length),b>1){var x=L(C,p);return C*b+x*(b-1)}return C}function L(E,C){return C?C-E:E*.14}function P(E,C){var p=(0,O.L)(),b=0;if((0,m.kK)(E)||E==="")return b;if(p.save(),p.font=C,(0,m.HD)(E)&&E.includes(`
`)){var x=E.split(`
`);(0,m.S6)(x,function(w){var y=p.measureText(w).width;b<y&&(b=y)})}else b=p.measureText(E).width;return p.restore(),b}function _(E){var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,x=E.fontStyle,w=E.fontVariant;return[x,w,b,C+"px",p].join(" ").trim()}},30219:function(_t,S,d){"use strict";d.d(S,{As:function(){return O},jU:function(){return I},kK:function(){return m.isNil},mf:function(){return m.isFunction},HD:function(){return m.isString},Kn:function(){return m.isObject},CD:function(){return m.mix},S6:function(){return m.each},jC:function(){return m.upperFirst},UY:function(){return L},pP:function(){return P}});var m=d(49242);function O(_,E){var C=_.indexOf(E);C!==-1&&_.splice(C,1)}var I=typeof window!="undefined"&&typeof window.document!="undefined";function L(_,E){if(_.isCanvas())return!0;for(var C=E.getParent(),p=!1;C;){if(C===_){p=!0;break}C=C.getParent()}return p}function P(_){return _.cfg.visible&&_.cfg.capture}},21885:function(_t,S){"use strict";var d;d={value:!0};var m=function(){function O(I,L){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=I,this.name=I,this.originalEvent=L,this.timeStamp=L.timeStamp}return O.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},O.prototype.stopPropagation=function(){this.propagationStopped=!0},O.prototype.toString=function(){var I=this.type;return"[Event (type="+I+")]"},O.prototype.save=function(){},O.prototype.restore=function(){},O}();S.Z=m},19083:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(86031),I=d(96533),L=d(24818),P=d(15483),_=d(73074),E=d(94478),C=d(73906),p=function(b){O.__extends(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.prototype.getDefaultCfg=function(){var w=b.prototype.getDefaultCfg.call(this);return w.renderer="canvas",w.autoDraw=!0,w.localRefresh=!0,w.refreshElements=[],w.clipView=!0,w.quickHit=!1,w},x.prototype.onCanvasChange=function(w){(w==="attr"||w==="sort"||w==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},x.prototype.getShapeBase=function(){return P},x.prototype.getGroupBase=function(){return _.default},x.prototype.getPixelRatio=function(){var w=this.get("pixelRatio")||E.getPixelRatio();return w>=1?Math.ceil(w):1},x.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},x.prototype.createDom=function(){var w=document.createElement("canvas"),y=w.getContext("2d");return this.set("context",y),w},x.prototype.setDOMSize=function(w,y){b.prototype.setDOMSize.call(this,w,y);var M=this.get("context"),T=this.get("el"),B=this.getPixelRatio();T.width=B*w,T.height=B*y,B>1&&M.scale(B,B)},x.prototype.clear=function(){b.prototype.clear.call(this),this._clearFrame();var w=this.get("context"),y=this.get("el");w.clearRect(0,0,y.width,y.height)},x.prototype.getShape=function(w,y){var M;return this.get("quickHit")?M=L.getShape(this,w,y):M=b.prototype.getShape.call(this,w,y,null),M},x.prototype._getRefreshRegion=function(){var w=this.get("refreshElements"),y=this.getViewRange(),M;if(w.length&&w[0]===this)M=y;else if(M=C.getMergedRegion(w),M){M.minX=Math.floor(M.minX),M.minY=Math.floor(M.minY),M.maxX=Math.ceil(M.maxX),M.maxY=Math.ceil(M.maxY),M.maxY+=1;var T=this.get("clipView");T&&(M=C.mergeView(M,y))}return M},x.prototype.refreshElement=function(w){var y=this.get("refreshElements");y.push(w)},x.prototype._clearFrame=function(){var w=this.get("drawFrame");w&&(E.clearAnimationFrame(w),this.set("drawFrame",null),this.set("refreshElements",[]))},x.prototype.draw=function(){var w=this.get("drawFrame");this.get("autoDraw")&&w||this._startDraw()},x.prototype._drawAll=function(){var w=this.get("context"),y=this.get("el"),M=this.getChildren();w.clearRect(0,0,y.width,y.height),C.applyAttrsToContext(w,this),C.drawChildren(w,M),this.set("refreshElements",[])},x.prototype._drawRegion=function(){var w=this.get("context"),y=this.get("refreshElements"),M=this.getChildren(),T=this._getRefreshRegion();T?(w.clearRect(T.minX,T.minY,T.maxX-T.minX,T.maxY-T.minY),w.save(),w.beginPath(),w.rect(T.minX,T.minY,T.maxX-T.minX,T.maxY-T.minY),w.clip(),C.applyAttrsToContext(w,this),C.checkRefresh(this,M,T),C.drawChildren(w,M,T),w.restore()):y.length&&C.clearChanged(y),E.each(y,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},x.prototype._startDraw=function(){var w=this,y=this.get("drawFrame");y||(y=E.requestAnimationFrame(function(){w.get("localRefresh")?w._drawRegion():w._drawAll(),w.set("drawFrame",null)}),this.set("drawFrame",y))},x.prototype.skipDraw=function(){},x.prototype.removeDom=function(){var w=this.get("el");w.width=0,w.height=0,w.parentNode.removeChild(w)},x}(I.AbstractCanvas);S.Z=p},73074:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(96533),I=d(15483),L=d(73906),P=d(49242),_=d(94478),E=function(C){m.__extends(p,C);function p(){return C!==null&&C.apply(this,arguments)||this}return p.prototype.onCanvasChange=function(b){L.refreshElement(this,b)},p.prototype.getShapeBase=function(){return I},p.prototype.getGroupBase=function(){return p},p.prototype._applyClip=function(b,x){x&&(b.save(),L.applyAttrsToContext(b,x),x.createPath(b),b.restore(),b.clip(),x._afterDraw())},p.prototype.cacheCanvasBBox=function(){var b=this.cfg.children,x=[],w=[];P.each(b,function(H){var nt=H.cfg.cacheCanvasBBox;nt&&H.cfg.isInView&&(x.push(nt.minX,nt.maxX),w.push(nt.minY,nt.maxY))});var y=null;if(x.length){var M=P.min(x),T=P.max(x),B=P.min(w),D=P.max(w);y={minX:M,minY:B,x:M,y:B,maxX:T,maxY:D,width:T-M,height:D-B};var X=this.cfg.canvas;if(X){var $=X.getViewRange();this.set("isInView",_.intersectRect(y,$))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",y)},p.prototype.draw=function(b,x){var w=this.cfg.children,y=x?this.cfg.refresh:!0;w.length&&y&&(b.save(),L.applyAttrsToContext(b,this),this._applyClip(b,this.getClip()),L.drawChildren(b,w,x),b.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},p.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},p}(O.AbstractGroup);S.default=E},74460:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(96533),I=d(94478),L=d(73906),P=d(96533),_=d(15483),E=d(73074),C=function(p){m.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var x=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},x),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},b.prototype.getShapeBase=function(){return _},b.prototype.getGroupBase=function(){return E.default},b.prototype.onCanvasChange=function(x){L.refreshElement(this,x)},b.prototype.calculateBBox=function(){var x=this.get("type"),w=this.getHitLineWidth(),y=P.getBBoxMethod(x),M=y(this),T=w/2,B=M.x-T,D=M.y-T,X=M.x+M.width+T,$=M.y+M.height+T;return{x:B,minX:B,y:D,minY:D,width:M.width+w,height:M.height+w,maxX:X,maxY:$}},b.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},b.prototype.isStroke=function(){return!!this.attrs.stroke},b.prototype._applyClip=function(x,w){w&&(x.save(),L.applyAttrsToContext(x,w),w.createPath(x),x.restore(),x.clip(),w._afterDraw())},b.prototype.draw=function(x,w){var y=this.cfg.clipShape;if(w){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var M=this.getCanvasBBox();if(!I.intersectRect(w,M)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}x.save(),L.applyAttrsToContext(x,this),this._applyClip(x,y),this.drawPath(x),x.restore(),this._afterDraw()},b.prototype.getCanvasViewBox=function(){var x=this.cfg.canvas;return x?x.getViewRange():null},b.prototype.cacheCanvasBBox=function(){var x=this.getCanvasViewBox();if(x){var w=this.getCanvasBBox(),y=I.intersectRect(w,x);this.set("isInView",y),y?this.set("cacheCanvasBBox",w):this.set("cacheCanvasBBox",null)}},b.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},b.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},b.prototype.drawPath=function(x){this.createPath(x),this.strokeAndFill(x),this.afterDrawPath(x)},b.prototype.fill=function(x){x.fill()},b.prototype.stroke=function(x){x.stroke()},b.prototype.strokeAndFill=function(x){var w=this.attrs,y=w.lineWidth,M=w.opacity,T=w.strokeOpacity,B=w.fillOpacity;this.isFill()&&(!I.isNil(B)&&B!==1?(x.globalAlpha=B,this.fill(x),x.globalAlpha=M):this.fill(x)),this.isStroke()&&y>0&&(!I.isNil(T)&&T!==1&&(x.globalAlpha=T),this.stroke(x)),this.afterDrawPath(x)},b.prototype.createPath=function(x){},b.prototype.afterDrawPath=function(x){},b.prototype.isInShape=function(x,w){var y=this.isStroke(),M=this.isFill(),T=this.getHitLineWidth();return this.isInStrokeOrPath(x,w,y,M,T)},b.prototype.isInStrokeOrPath=function(x,w,y,M,T){return!1},b.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var x=this.attrs;return x.lineWidth+x.lineAppendWidth},b}(O.AbstractShape);S.default=C},66778:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(74460),I=d(94478),L=function(P){m.__extends(_,P);function _(){return P!==null&&P.apply(this,arguments)||this}return _.prototype.getDefaultAttrs=function(){var E=P.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{x:0,y:0,r:0})},_.prototype.isInStrokeOrPath=function(E,C,p,b,x){var w=this.attr(),y=w.x,M=w.y,T=w.r,B=x/2,D=I.distance(y,M,E,C);return b&&p?D<=T+B:b?D<=T:p?D>=T-B&&D<=T+B:!1},_.prototype.createPath=function(E){var C=this.attr(),p=C.x,b=C.y,x=C.r;E.beginPath(),E.arc(p,b,x,0,Math.PI*2,!1),E.closePath()},_}(O.default);S.default=L},21421:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(74460);function I(P,_,E,C){return P/(E*E)+_/(C*C)}var L=function(P){m.__extends(_,P);function _(){return P!==null&&P.apply(this,arguments)||this}return _.prototype.getDefaultAttrs=function(){var E=P.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},E),{x:0,y:0,rx:0,ry:0})},_.prototype.isInStrokeOrPath=function(E,C,p,b,x){var w=this.attr(),y=x/2,M=w.x,T=w.y,B=w.rx,D=w.ry,X=(E-M)*(E-M),$=(C-T)*(C-T);return b&&p?I(X,$,B+y,D+y)<=1:b?I(X,$,B,D)<=1:p?I(X,$,B-y,D-y)>=1&&I(X,$,B+y,D+y)<=1:!1},_.prototype.createPath=function(E){var C=this.attr(),p=C.x,b=C.y,x=C.rx,w=C.ry;if(E.beginPath(),E.ellipse)E.ellipse(p,b,x,w,0,0,Math.PI*2,!1);else{var y=x>w?x:w,M=x>w?1:x/w,T=x>w?w/x:1;E.save(),E.translate(p,b),E.scale(M,T),E.arc(0,0,y,0,Math.PI*2),E.restore(),E.closePath()}},_}(O.default);S.default=L},89473:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(74460),I=d(94478);function L(_){return _ instanceof HTMLElement&&I.isString(_.nodeName)&&_.nodeName.toUpperCase()==="CANVAS"}var P=function(_){m.__extends(E,_);function E(){return _!==null&&_.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var C=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},C),{x:0,y:0,width:0,height:0})},E.prototype.initAttrs=function(C){this._setImage(C.img)},E.prototype.isStroke=function(){return!1},E.prototype.isOnlyHitBox=function(){return!0},E.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var C=this.get("canvas");C?C.draw():this.createPath(this.get("context"))}},E.prototype._setImage=function(C){var p=this,b=this.attrs;if(I.isString(C)){var x=new Image;x.onload=function(){if(p.destroyed)return!1;p.attr("img",x),p.set("loading",!1),p._afterLoading();var w=p.get("callback");w&&w.call(p)},x.crossOrigin="Anonymous",x.src=C,this.set("loading",!0)}else C instanceof Image?(b.width||(b.width=C.width),b.height||(b.height=C.height)):L(C)&&(b.width||(b.width=Number(C.getAttribute("width"))),b.height||(b.height,Number(C.getAttribute("height"))))},E.prototype.onAttrChange=function(C,p,b){_.prototype.onAttrChange.call(this,C,p,b),C==="img"&&this._setImage(p)},E.prototype.createPath=function(C){if(this.get("loading")){this.set("toDraw",!0),this.set("context",C);return}var p=this.attr(),b=p.x,x=p.y,w=p.width,y=p.height,M=p.sx,T=p.sy,B=p.swidth,D=p.sheight,X=p.img;(X instanceof Image||L(X))&&(!I.isNil(M)&&!I.isNil(T)&&!I.isNil(B)&&!I.isNil(D)?C.drawImage(X,M,T,B,D,b,x,w,y):C.drawImage(X,b,x,w,y))},E}(O.default);S.default=P},15483:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Text=S.Rect=S.Polyline=S.Polygon=S.Path=S.Marker=S.Line=S.Image=S.Ellipse=S.Circle=S.Base=void 0;var m=d(74460);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return m.default}});var O=d(66778);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var I=d(21421);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return I.default}});var L=d(89473);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return L.default}});var P=d(32766);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return P.default}});var _=d(50796);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return _.default}});var E=d(42489);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return E.default}});var C=d(51567);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return C.default}});var p=d(54423);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return p.default}});var b=d(83095);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return b.default}});var x=d(17860);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return x.default}})},32766:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(89838),I=d(74460),L=d(63131),P=d(87200),_=function(E){m.__extends(C,E);function C(){return E!==null&&E.apply(this,arguments)||this}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},C.prototype.initAttrs=function(p){this.setArrow()},C.prototype.onAttrChange=function(p,b,x){E.prototype.onAttrChange.call(this,p,b,x),this.setArrow()},C.prototype.setArrow=function(){var p=this.attr(),b=p.x1,x=p.y1,w=p.x2,y=p.y2,M=p.startArrow,T=p.endArrow;M&&P.addStartArrow(this,p,w,y,b,x),T&&P.addEndArrow(this,p,b,x,w,y)},C.prototype.isInStrokeOrPath=function(p,b,x,w,y){if(!x||!y)return!1;var M=this.attr(),T=M.x1,B=M.y1,D=M.x2,X=M.y2;return L.default(T,B,D,X,y,p,b)},C.prototype.createPath=function(p){var b=this.attr(),x=b.x1,w=b.y1,y=b.x2,M=b.y2,T=b.startArrow,B=b.endArrow,D={dx:0,dy:0},X={dx:0,dy:0};T&&T.d&&(D=P.getShortenOffset(x,w,y,M,b.startArrow.d)),B&&B.d&&(X=P.getShortenOffset(x,w,y,M,b.endArrow.d)),p.beginPath(),p.moveTo(x+D.dx,w+D.dy),p.lineTo(y-X.dx,M-X.dy)},C.prototype.afterDrawPath=function(p){var b=this.get("startArrowShape"),x=this.get("endArrowShape");b&&b.draw(p),x&&x.draw(p)},C.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,x=p.y1,w=p.x2,y=p.y2;return O.Line.length(b,x,w,y)},C.prototype.getPoint=function(p){var b=this.attr(),x=b.x1,w=b.y1,y=b.x2,M=b.y2;return O.Line.pointAt(x,w,y,M,p)},C}(I.default);S.default=_},50796:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(57350),L=d(74460),P=d(94478),_=d(73906),E={circle:function(p,b,x){return[["M",p-x,b],["A",x,x,0,1,0,p+x,b],["A",x,x,0,1,0,p-x,b]]},square:function(p,b,x){return[["M",p-x,b-x],["L",p+x,b-x],["L",p+x,b+x],["L",p-x,b+x],["Z"]]},diamond:function(p,b,x){return[["M",p-x,b],["L",p,b-x],["L",p+x,b],["L",p,b+x],["Z"]]},triangle:function(p,b,x){var w=x*Math.sin(1/3*Math.PI);return[["M",p-x,b+w],["L",p,b-w],["L",p+x,b+w],["Z"]]},"triangle-down":function(p,b,x){var w=x*Math.sin(1/3*Math.PI);return[["M",p-x,b-w],["L",p+x,b-w],["L",p,b+w],["Z"]]}},C=function(p){m.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.initAttrs=function(x){this._resetParamsCache()},b.prototype._resetParamsCache=function(){this.set("paramsCache",{})},b.prototype.onAttrChange=function(x,w,y){p.prototype.onAttrChange.call(this,x,w,y),["symbol","x","y","r","radius"].indexOf(x)!==-1&&this._resetParamsCache()},b.prototype.isOnlyHitBox=function(){return!0},b.prototype._getR=function(x){return O.isNil(x.r)?x.radius:x.r},b.prototype._getPath=function(){var x=this.attr(),w=x.x,y=x.y,M=x.symbol||"circle",T=this._getR(x),B,D;if(P.isFunction(M))B=M,D=B(w,y,T),D=I.path2Absolute(D);else{if(B=b.Symbols[M],!B)return console.warn(M+" marker is not supported."),null;D=B(w,y,T)}return D},b.prototype.createPath=function(x){var w=this._getPath(),y=this.get("paramsCache");_.drawPath(this,x,{path:w},y)},b.Symbols=E,b}(L.default);S.default=C},42489:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(89838),I=d(49242),L=d(74460),P=d(57350),_=d(73906),E=d(55978),C=d(4043),p=d(32460),b=d(87200);function x(y,M,T){for(var B=!1,D=0;D<y.length;D++){var X=y[D];if(B=C.default(X,M,T),B)break}return B}var w=function(y){m.__extends(M,y);function M(){return y!==null&&y.apply(this,arguments)||this}return M.prototype.getDefaultAttrs=function(){var T=y.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},T),{startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(T){this._setPathArr(T.path),this.setArrow()},M.prototype.onAttrChange=function(T,B,D){y.prototype.onAttrChange.call(this,T,B,D),T==="path"&&this._setPathArr(B),this.setArrow()},M.prototype._setPathArr=function(T){this.attrs.path=P.path2Absolute(T);var B=p.default.hasArc(T);this.set("hasArc",B),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},M.prototype.getSegments=function(){var T=this.get("segements");return T||(T=P.path2Segments(this.attr("path")),this.set("segments",T)),T},M.prototype.setArrow=function(){var T=this.attr(),B=T.startArrow,D=T.endArrow;if(B){var X=this.getStartTangent();b.addStartArrow(this,T,X[0][0],X[0][1],X[1][0],X[1][1])}if(D){var X=this.getEndTangent();b.addEndArrow(this,T,X[0][0],X[0][1],X[1][0],X[1][1])}},M.prototype.isInStrokeOrPath=function(T,B,D,X,$){var H=this.getSegments(),nt=this.get("hasArc"),ht=!1;if(D){var at=this.getTotalLength();ht=p.default.isPointInStroke(H,$,T,B,at)}if(!ht&&X)if(nt)ht=E.default(this,T,B);else{var Ot=this.attr("path"),Ft=p.default.extractPolygons(Ot);ht=x(Ft.polygons,T,B)||x(Ft.polylines,T,B)}return ht},M.prototype.createPath=function(T){var B=this.attr(),D=this.get("paramsCache");_.drawPath(this,T,B,D)},M.prototype.afterDrawPath=function(T){var B=this.get("startArrowShape"),D=this.get("endArrowShape");B&&B.draw(T),D&&D.draw(T)},M.prototype.getTotalLength=function(){var T=this.get("totalLength");return I.isNil(T)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):T},M.prototype.getPoint=function(T){var B=this.get("tCache");B||(this._calculateCurve(),this._setTcache(),B=this.get("tCache"));var D,X,$=this.get("curve");if(!B||B.length===0)return $?{x:$[0][1],y:$[0][2]}:null;I.each(B,function(at,Ot){T>=at[0]&&T<=at[1]&&(D=(T-at[0])/(at[1]-at[0]),X=Ot)});var H=$[X];if(I.isNil(H)||I.isNil(X))return null;var nt=H.length,ht=$[X+1];return O.Cubic.pointAt(H[nt-2],H[nt-1],ht[1],ht[2],ht[3],ht[4],ht[5],ht[6],D)},M.prototype._calculateCurve=function(){var T=this.attr().path;this.set("curve",p.default.pathToCurve(T))},M.prototype._setTcache=function(){var T=0,B=0,D=[],X,$,H,nt,ht=this.get("curve");if(!!ht){if(I.each(ht,function(at,Ot){H=ht[Ot+1],nt=at.length,H&&(T+=O.Cubic.length(at[nt-2],at[nt-1],H[1],H[2],H[3],H[4],H[5],H[6])||0)}),this.set("totalLength",T),T===0){this.set("tCache",[]);return}I.each(ht,function(at,Ot){H=ht[Ot+1],nt=at.length,H&&(X=[],X[0]=B/T,$=O.Cubic.length(at[nt-2],at[nt-1],H[1],H[2],H[3],H[4],H[5],H[6]),B+=$||0,X[1]=B/T,D.push(X))}),this.set("tCache",D)}},M.prototype.getStartTangent=function(){var T=this.getSegments(),B;if(T.length>1){var D=T[0].currentPoint,X=T[1].currentPoint,$=T[1].startTangent;B=[],$?(B.push([D[0]-$[0],D[1]-$[1]]),B.push([D[0],D[1]])):(B.push([X[0],X[1]]),B.push([D[0],D[1]]))}return B},M.prototype.getEndTangent=function(){var T=this.getSegments(),B=T.length,D;if(B>1){var X=T[B-2].currentPoint,$=T[B-1].currentPoint,H=T[B-1].endTangent;D=[],H?(D.push([$[0]-H[0],$[1]-H[1]]),D.push([$[0],$[1]])):(D.push([X[0],X[1]]),D.push([$[0],$[1]]))}return D},M}(L.default);S.default=w},51567:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(74460),I=d(70625),L=d(4043),P=function(_){m.__extends(E,_);function E(){return _!==null&&_.apply(this,arguments)||this}return E.prototype.isInStrokeOrPath=function(C,p,b,x,w){var y=this.attr().points,M=!1;return b&&(M=I.default(y,w,C,p,!0)),!M&&x&&(M=L.default(y,C,p)),M},E.prototype.createPath=function(C){var p=this.attr(),b=p.points;if(!(b.length<2)){C.beginPath();for(var x=0;x<b.length;x++){var w=b[x];x===0?C.moveTo(w[0],w[1]):C.lineTo(w[0],w[1])}C.closePath()}},E}(O.default);S.default=P},54423:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(89838),I=d(89838),L=d(49242),P=d(74460),_=d(70625),E=d(87200),C=function(p){m.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var x=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},x),{startArrow:!1,endArrow:!1})},b.prototype.initAttrs=function(x){this.setArrow()},b.prototype.onAttrChange=function(x,w,y){p.prototype.onAttrChange.call(this,x,w,y),this.setArrow(),["points"].indexOf(x)!==-1&&this._resetCache()},b.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},b.prototype.setArrow=function(){var x=this.attr(),w=this.attrs,y=w.points,M=w.startArrow,T=w.endArrow,B=y.length,D=y[0][0],X=y[0][1],$=y[B-1][0],H=y[B-1][1];M&&E.addStartArrow(this,x,y[1][0],y[1][1],D,X),T&&E.addEndArrow(this,x,y[B-2][0],y[B-2][1],$,H)},b.prototype.isFill=function(){return!1},b.prototype.isInStrokeOrPath=function(x,w,y,M,T){if(!y||!T)return!1;var B=this.attr().points;return _.default(B,T,x,w,!1)},b.prototype.isStroke=function(){return!0},b.prototype.createPath=function(x){var w=this.attr(),y=w.points,M=w.startArrow,T=w.endArrow,B=y.length;if(!(y.length<2)){var D=y[0][0],X=y[0][1],$=y[B-1][0],H=y[B-1][1];if(M&&M.d){var nt=E.getShortenOffset(D,X,y[1][0],y[1][1],M.d);D+=nt.dx,X+=nt.dy}if(T&&T.d){var nt=E.getShortenOffset(y[B-2][0],y[B-2][1],$,H,T.d);$-=nt.dx,H-=nt.dy}x.beginPath(),x.moveTo(D,X);for(var ht=0;ht<B-1;ht++){var at=y[ht];x.lineTo(at[0],at[1])}x.lineTo($,H)}},b.prototype.afterDrawPath=function(x){var w=this.get("startArrowShape"),y=this.get("endArrowShape");w&&w.draw(x),y&&y.draw(x)},b.prototype.getTotalLength=function(){var x=this.attr().points,w=this.get("totalLength");return L.isNil(w)?(this.set("totalLength",I.Polyline.length(x)),this.get("totalLength")):w},b.prototype.getPoint=function(x){var w=this.attr().points,y=this.get("tCache");y||(this._setTcache(),y=this.get("tCache"));var M,T;return L.each(y,function(B,D){x>=B[0]&&x<=B[1]&&(M=(x-B[0])/(B[1]-B[0]),T=D)}),O.Line.pointAt(w[T][0],w[T][1],w[T+1][0],w[T+1][1],M)},b.prototype._setTcache=function(){var x=this.attr().points;if(!(!x||x.length===0)){var w=this.getTotalLength();if(!(w<=0)){var y=0,M=[],T,B;L.each(x,function(D,X){x[X+1]&&(T=[],T[0]=y/w,B=O.Line.length(D[0],D[1],x[X+1][0],x[X+1][1]),y+=B,T[1]=y/w,M.push(T))}),this.set("tCache",M)}}},b.prototype.getStartTangent=function(){var x=this.attr().points,w=[];return w.push([x[1][0],x[1][1]]),w.push([x[0][0],x[0][1]]),w},b.prototype.getEndTangent=function(){var x=this.attr().points,w=x.length-1,y=[];return y.push([x[w-1][0],x[w-1][1]]),y.push([x[w][0],x[w][1]]),y},b}(P.default);S.default=C},83095:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(74460),I=d(62948),L=d(94478),P=d(47946),_=d(19626),E=d(55978),C=function(p){m.__extends(b,p);function b(){return p!==null&&p.apply(this,arguments)||this}return b.prototype.getDefaultAttrs=function(){var x=p.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},x),{x:0,y:0,width:0,height:0,radius:0})},b.prototype.isInStrokeOrPath=function(x,w,y,M,T){var B=this.attr(),D=B.x,X=B.y,$=B.width,H=B.height,nt=B.radius;if(nt){var at=!1;return y&&(at=_.default(D,X,$,H,nt,T,x,w)),!at&&M&&(at=E.default(this,x,w)),at}else{var ht=T/2;if(M&&y)return L.inBox(D-ht,X-ht,$+ht,H+ht,x,w);if(M)return L.inBox(D,X,$,H,x,w);if(y)return P.default(D,X,$,H,T,x,w)}},b.prototype.createPath=function(x){var w=this.attr(),y=w.x,M=w.y,T=w.width,B=w.height,D=w.radius;if(x.beginPath(),D===0)x.rect(y,M,T,B);else{var X=I.parseRadius(D),$=X[0],H=X[1],nt=X[2],ht=X[3];x.moveTo(y+$,M),x.lineTo(y+T-H,M),H!==0&&x.arc(y+T-H,M+H,H,-Math.PI/2,0),x.lineTo(y+T,M+B-nt),nt!==0&&x.arc(y+T-nt,M+B-nt,nt,0,Math.PI/2),x.lineTo(y+ht,M+B),ht!==0&&x.arc(y+ht,M+B-ht,ht,Math.PI/2,Math.PI),x.lineTo(y,M+$),$!==0&&x.arc(y+$,M+$,$,Math.PI,Math.PI*1.5),x.closePath()}},b}(O.default);S.default=C},17860:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(74460),I=d(94478),L=d(96533),P=function(_){m.__extends(E,_);function E(){return _!==null&&_.apply(this,arguments)||this}return E.prototype.getDefaultAttrs=function(){var C=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},C),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},E.prototype.isOnlyHitBox=function(){return!0},E.prototype.initAttrs=function(C){this._assembleFont(),C.text&&this._setText(C.text)},E.prototype._assembleFont=function(){var C=this.attrs;C.font=L.assembleFont(C)},E.prototype._setText=function(C){var p=null;I.isString(C)&&C.indexOf(`
`)!==-1&&(p=C.split(`
`)),this.set("textArr",p)},E.prototype.onAttrChange=function(C,p,b){_.prototype.onAttrChange.call(this,C,p,b),C.startsWith("font")&&this._assembleFont(),C==="text"&&this._setText(p)},E.prototype._getSpaceingY=function(){var C=this.attrs,p=C.lineHeight,b=C.fontSize*1;return p?p-b:b*.14},E.prototype._drawTextArr=function(C,p,b){var x=this.attrs,w=x.textBaseline,y=x.x,M=x.y,T=x.fontSize*1,B=this._getSpaceingY(),D=L.getTextHeight(x.text,x.fontSize,x.lineHeight),X;I.each(p,function($,H){X=M+H*(B+T)-D+T,w==="middle"&&(X+=D-T-(D-T)/2),w==="top"&&(X+=D-T),I.isNil($)||(b?C.fillText($,y,X):C.strokeText($,y,X))})},E.prototype._drawText=function(C,p){var b=this.attr(),x=b.x,w=b.y,y=this.get("textArr");if(y)this._drawTextArr(C,y,p);else{var M=b.text;I.isNil(M)||(p?C.fillText(M,x,w):C.strokeText(M,x,w))}},E.prototype.strokeAndFill=function(C){var p=this.attrs,b=p.lineWidth,x=p.opacity,w=p.strokeOpacity,y=p.fillOpacity;this.isStroke()&&b>0&&(!I.isNil(w)&&w!==1&&(C.globalAlpha=x),this.stroke(C)),this.isFill()&&(!I.isNil(y)&&y!==1?(C.globalAlpha=y,this.fill(C),C.globalAlpha=x):this.fill(C)),this.afterDrawPath(C)},E.prototype.fill=function(C){this._drawText(C,!0)},E.prototype.stroke=function(C){this._drawText(C,!1)},E}(O.default);S.default=P},56921:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(94478);function O(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function I(_,E){return O(_)*O(E)?(_[0]*E[0]+_[1]*E[1])/(O(_)*O(E)):1}function L(_,E){return(_[0]*E[1]<_[1]*E[0]?-1:1)*Math.acos(I(_,E))}function P(_,E){var C=E[1],p=E[2],b=m.mod(m.toRadian(E[3]),Math.PI*2),x=E[4],w=E[5],y=_[0],M=_[1],T=E[6],B=E[7],D=Math.cos(b)*(y-T)/2+Math.sin(b)*(M-B)/2,X=-1*Math.sin(b)*(y-T)/2+Math.cos(b)*(M-B)/2,$=D*D/(C*C)+X*X/(p*p);$>1&&(C*=Math.sqrt($),p*=Math.sqrt($));var H=C*C*(X*X)+p*p*(D*D),nt=H?Math.sqrt((C*C*(p*p)-H)/H):1;x===w&&(nt*=-1),isNaN(nt)&&(nt=0);var ht=p?nt*C*X/p:0,at=C?nt*-p*D/C:0,Ot=(y+T)/2+Math.cos(b)*ht-Math.sin(b)*at,Ft=(M+B)/2+Math.sin(b)*ht+Math.cos(b)*at,Dt=[(D-ht)/C,(X-at)/p],V=[(-1*D-ht)/C,(-1*X-at)/p],q=L([1,0],Dt),K=L(Dt,V);return I(Dt,V)<=-1&&(K=Math.PI),I(Dt,V)>=1&&(K=0),w===0&&K>0&&(K=K-2*Math.PI),w===1&&K<0&&(K=K+2*Math.PI),{cx:Ot,cy:Ft,rx:m.isSamePoint(_,[T,B])?0:C,ry:m.isSamePoint(_,[T,B])?0:p,startAngle:q,endAngle:q+K,xRotation:b,arcFlag:x,sweepFlag:w}}S.default=P},87200:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.addEndArrow=S.addStartArrow=S.getShortenOffset=void 0;var m=d(86031),O=d(15483),I=Math.sin,L=Math.cos,P=Math.atan2,_=Math.PI;function E(w,y,M,T,B,D,X){var $=y.stroke,H=y.lineWidth,nt=M-B,ht=T-D,at=P(ht,nt),Ot=new O.Path({type:"path",canvas:w.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*L(_/6)+","+10*I(_/6)+" L0,0 L"+10*L(_/6)+",-"+10*I(_/6),stroke:$,lineWidth:H}});Ot.translate(B,D),Ot.rotateAtPoint(B,D,at),w.set(X?"startArrowShape":"endArrowShape",Ot)}function C(w,y,M,T,B,D,X){var $=y.startArrow,H=y.endArrow,nt=y.stroke,ht=y.lineWidth,at=X?$:H,Ot=at.d,Ft=at.fill,Dt=at.stroke,V=at.lineWidth,q=m.__rest(at,["d","fill","stroke","lineWidth"]),K=M-B,Z=T-D,mt=P(Z,K);Ot&&(B=B-L(mt)*Ot,D=D-I(mt)*Ot);var rt=new O.Path({type:"path",canvas:w.get("canvas"),isArrowShape:!0,attrs:m.__assign(m.__assign({},q),{stroke:Dt||nt,lineWidth:V||ht,fill:Ft})});rt.translate(B,D),rt.rotateAtPoint(B,D,mt),w.set(X?"startArrowShape":"endArrowShape",rt)}function p(w,y,M,T,B){var D=P(T-y,M-w);return{dx:L(D)*B,dy:I(D)*B}}S.getShortenOffset=p;function b(w,y,M,T,B,D){typeof y.startArrow=="object"?C(w,y,M,T,B,D,!0):y.startArrow?E(w,y,M,T,B,D,!0):w.set("startArrowShape",null)}S.addStartArrow=b;function x(w,y,M,T,B,D){typeof y.endArrow=="object"?C(w,y,M,T,B,D,!1):y.endArrow?E(w,y,M,T,B,D,!1):w.set("startArrowShape",null)}S.addEndArrow=x},73906:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.mergeView=S.getMergedRegion=S.getRefreshRegion=S.refreshElement=S.drawPath=S.clearChanged=S.checkChildrenRefresh=S.checkRefresh=S.drawChildren=S.applyAttrsToContext=void 0;var m=d(49242),O=d(62948),I=d(56921),L=d(94478),P=d(87200),_={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function E($,H){var nt=H.attr();for(var ht in nt){var at=nt[ht],Ot=_[ht]?_[ht]:ht;Ot==="matrix"&&at?$.transform(at[0],at[1],at[3],at[4],at[6],at[7]):Ot==="lineDash"&&$.setLineDash?m.isArray(at)&&$.setLineDash(at):(Ot==="strokeStyle"||Ot==="fillStyle"?at=O.parseStyle($,H,at):Ot==="globalAlpha"&&(at=at*$.globalAlpha),$[Ot]=at)}}S.applyAttrsToContext=E;function C($,H,nt){for(var ht=0;ht<H.length;ht++){var at=H[ht];at.cfg.visible?at.draw($,nt):at.skipDraw()}}S.drawChildren=C;function p($,H,nt){var ht=$.get("refreshElements");m.each(ht,function(at){if(at!==$)for(var Ot=at.cfg.parent;Ot&&Ot!==$&&!Ot.cfg.refresh;)Ot.cfg.refresh=!0,Ot=Ot.cfg.parent}),ht[0]===$?w(H,nt):b(H,nt)}S.checkRefresh=p;function b($,H){for(var nt=0;nt<$.length;nt++){var ht=$[nt];if(ht.cfg.visible)if(ht.cfg.hasChanged)ht.cfg.refresh=!0,ht.isGroup()&&w(ht.cfg.children,H);else if(ht.cfg.refresh)ht.isGroup()&&b(ht.cfg.children,H);else{var at=y(ht,H);ht.cfg.refresh=at,at&&ht.isGroup()&&b(ht.cfg.children,H)}}}S.checkChildrenRefresh=b;function x($){for(var H=0;H<$.length;H++){var nt=$[H];nt.cfg.hasChanged=!1,nt.isGroup()&&!nt.destroyed&&x(nt.cfg.children)}}S.clearChanged=x;function w($,H){for(var nt=0;nt<$.length;nt++){var ht=$[nt];ht.cfg.refresh=!0,ht.isGroup()&&w(ht.get("children"),H)}}function y($,H){var nt=$.cfg.cacheCanvasBBox,ht=$.cfg.isInView&&nt&&L.intersectRect(nt,H);return ht}function M($,H,nt,ht){var at=nt.path,Ot=nt.startArrow,Ft=nt.endArrow;if(!!at){var Dt=[0,0],V=[0,0],q={dx:0,dy:0};H.beginPath();for(var K=0;K<at.length;K++){var Z=at[K],mt=Z[0];if(K===0&&Ot&&Ot.d){var rt=$.getStartTangent();q=P.getShortenOffset(rt[0][0],rt[0][1],rt[1][0],rt[1][1],Ot.d)}else if(K===at.length-2&&at[K+1][0]==="Z"&&Ft&&Ft.d){var W=at[K+1];if(W[0]==="Z"){var rt=$.getEndTangent();q=P.getShortenOffset(rt[0][0],rt[0][1],rt[1][0],rt[1][1],Ft.d)}}else if(K===at.length-1&&Ft&&Ft.d&&at[0]!=="Z"){var rt=$.getEndTangent();q=P.getShortenOffset(rt[0][0],rt[0][1],rt[1][0],rt[1][1],Ft.d)}var z=q.dx,G=q.dy;switch(mt){case"M":H.moveTo(Z[1]-z,Z[2]-G),V=[Z[1],Z[2]];break;case"L":H.lineTo(Z[1]-z,Z[2]-G);break;case"Q":H.quadraticCurveTo(Z[1],Z[2],Z[3]-z,Z[4]-G);break;case"C":H.bezierCurveTo(Z[1],Z[2],Z[3],Z[4],Z[5]-z,Z[6]-G);break;case"A":{var f=void 0;ht?(f=ht[K],f||(f=I.default(Dt,Z),ht[K]=f)):f=I.default(Dt,Z);var pt=f.cx,Ct=f.cy,ot=f.rx,St=f.ry,xt=f.startAngle,Mt=f.endAngle,Et=f.xRotation,Tt=f.sweepFlag;if(H.ellipse)H.ellipse(pt,Ct,ot,St,Et,xt,Mt,1-Tt);else{var gt=ot>St?ot:St,it=ot>St?1:ot/St,Q=ot>St?St/ot:1;H.translate(pt,Ct),H.rotate(Et),H.scale(it,Q),H.arc(0,0,gt,xt,Mt,1-Tt),H.scale(1/it,1/Q),H.rotate(-Et),H.translate(-pt,-Ct)}break}case"Z":H.closePath();break;default:break}if(mt==="Z")Dt=V;else{var U=Z.length;Dt=[Z[U-2],Z[U-1]]}}}}S.drawPath=M;function T($,H){var nt=$.get("canvas");nt&&(H==="remove"&&($._cacheCanvasBBox=$.get("cacheCanvasBBox")),$.get("hasChanged")||($.set("hasChanged",!0),$.cfg.parent&&$.cfg.parent.get("hasChanged")||(nt.refreshElement($,H,nt),nt.get("autoDraw")&&nt.draw())))}S.refreshElement=T;function B($){var H;if($.destroyed)H=$._cacheCanvasBBox;else{var nt=$.get("cacheCanvasBBox"),ht=nt&&!!(nt.width&&nt.height),at=$.getCanvasBBox(),Ot=at&&!!(at.width&&at.height);ht&&Ot?H=L.mergeRegion(nt,at):ht?H=nt:Ot&&(H=at)}return H}S.getRefreshRegion=B;function D($){if(!$.length)return null;var H=[],nt=[],ht=[],at=[];return m.each($,function(Ot){var Ft=B(Ot);Ft&&(H.push(Ft.minX),nt.push(Ft.minY),ht.push(Ft.maxX),at.push(Ft.maxY))}),{minX:m.min(H),minY:m.min(nt),maxX:m.max(ht),maxY:m.max(at)}}S.getMergedRegion=D;function X($,H){return!$||!H||!L.intersectRect($,H)?null:{minX:Math.max($.minX,H.minX),minY:Math.max($.minY,H.minY),maxX:Math.min($.maxX,H.maxX),maxY:Math.min($.maxY,H.maxY)}}S.mergeView=X},24818:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.getShape=void 0;var m=d(96533);function O(_,E){if(E){var C=m.invert(E);return m.multiplyVec2(C,_)}return _}function I(_,E,C){var p=_.getTotalMatrix();if(p){var b=O([E,C,1],p),x=b[0],w=b[1];return[x,w]}return[E,C]}function L(_,E,C){if(_.isCanvas&&_.isCanvas())return!0;if(!m.isAllowCapture(_)||_.cfg.isInView===!1)return!1;if(_.cfg.clipShape){var p=I(_,E,C),b=p[0],x=p[1];if(_.isClipped(b,x))return!1}var w=_.cfg.cacheCanvasBBox||_.getCanvasBBox();return E>=w.minX&&E<=w.maxX&&C>=w.minY&&C<=w.maxY}function P(_,E,C){if(!L(_,E,C))return null;for(var p=null,b=_.getChildren(),x=b.length,w=x-1;w>=0;w--){var y=b[w];if(y.isGroup())p=P(y,E,C);else if(L(y,E,C)){var M=y,T=I(y,E,C),B=T[0],D=T[1];M.isInShape(B,D)&&(p=y)}if(p)break}return p}S.getShape=P},55978:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(96533);function O(I,L,P){var _=m.getOffScreenContext();return I.createPath(_),_.isPointInPath(L,P)}S.default=O},4043:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function m(L){return Math.abs(L)<d?0:L<0?-1:1}function O(L,P,_){return(_[0]-L[0])*(P[1]-L[1])==(P[0]-L[0])*(_[1]-L[1])&&Math.min(L[0],P[0])<=_[0]&&_[0]<=Math.max(L[0],P[0])&&Math.min(L[1],P[1])<=_[1]&&_[1]<=Math.max(L[1],P[1])}function I(L,P,_){var E=!1,C=L.length;if(C<=2)return!1;for(var p=0;p<C;p++){var b=L[p],x=L[(p+1)%C];if(O(b,x,[P,_]))return!0;m(b[1]-_)>0!=m(x[1]-_)>0&&m(P-(_-b[1])*(b[0]-x[0])/(b[1]-x[1])-b[0])<0&&(E=!E)}return E}S.default=I},37311:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(94478);function O(I,L,P,_,E,C,p,b){var x=(Math.atan2(b-L,p-I)+Math.PI*2)%(Math.PI*2);if(x<_||x>E)return!1;var w={x:I+P*Math.cos(x),y:L+P*Math.sin(x)};return m.distance(w.x,w.y,p,b)<=C/2}S.default=O},63131:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(89838);function O(I,L,P,_,E,C,p){var b=Math.min(I,P),x=Math.max(I,P),w=Math.min(L,_),y=Math.max(L,_),M=E/2;return C>=b-M&&C<=x+M&&p>=w-M&&p<=y+M?m.Line.pointToLine(I,L,P,_,C,p)<=E/2:!1}S.default=O},70625:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(63131);function O(I,L,P,_,E){var C=I.length;if(C<2)return!1;for(var p=0;p<C-1;p++){var b=I[p][0],x=I[p][1],w=I[p+1][0],y=I[p+1][1];if(m.default(b,x,w,y,L,P,_))return!0}if(E){var M=I[0],T=I[C-1];if(m.default(M[0],M[1],T[0],T[1],L,P,_))return!0}return!1}S.default=O},19626:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(63131),O=d(37311);function I(L,P,_,E,C,p,b,x){var w=p/2;return m.default(L+C,P,L+_-C,P,p,b,x)||m.default(L+_,P+C,L+_,P+E-C,p,b,x)||m.default(L+_-C,P+E,L+C,P+E,p,b,x)||m.default(L,P+E-C,L,P+C,p,b,x)||O.default(L+_-C,P+C,C,1.5*Math.PI,2*Math.PI,p,b,x)||O.default(L+_-C,P+E-C,C,0,.5*Math.PI,p,b,x)||O.default(L+C,P+E-C,C,.5*Math.PI,Math.PI,p,b,x)||O.default(L+C,P+C,C,Math.PI,1.5*Math.PI,p,b,x)}S.default=I},47946:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(94478);function O(I,L,P,_,E,C,p){var b=E/2;return m.inBox(I-b,L-b,P,E,C,p)||m.inBox(I+P-b,L-b,E,_,C,p)||m.inBox(I+b,L+_-b,P,E,C,p)||m.inBox(I-b,L+b,E,_,C,p)}S.default=O},62948:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parseRadius=S.parseStyle=S.parsePattern=S.parseRadialGradient=S.parseLineGradient=void 0;var m=d(94478),O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,L=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function _(w,y){var M=w.match(P);m.each(M,function(T){var B=T.split(":");y.addColorStop(B[0],B[1])})}function E(w,y,M){var T=O.exec(M),B=parseFloat(T[1])%360*(Math.PI/180),D=T[2],X=y.getBBox(),$,H;B>=0&&B<1/2*Math.PI?($={x:X.minX,y:X.minY},H={x:X.maxX,y:X.maxY}):1/2*Math.PI<=B&&B<Math.PI?($={x:X.maxX,y:X.minY},H={x:X.minX,y:X.maxY}):Math.PI<=B&&B<3/2*Math.PI?($={x:X.maxX,y:X.maxY},H={x:X.minX,y:X.minY}):($={x:X.minX,y:X.maxY},H={x:X.maxX,y:X.minY});var nt=Math.tan(B),ht=nt*nt,at=(H.x-$.x+nt*(H.y-$.y))/(ht+1)+$.x,Ot=nt*(H.x-$.x+nt*(H.y-$.y))/(ht+1)+$.y,Ft=w.createLinearGradient($.x,$.y,at,Ot);return _(D,Ft),Ft}S.parseLineGradient=E;function C(w,y,M){var T=I.exec(M),B=parseFloat(T[1]),D=parseFloat(T[2]),X=parseFloat(T[3]),$=T[4];if(X===0){var H=$.match(P);return H[H.length-1].split(":")[1]}var nt=y.getBBox(),ht=nt.maxX-nt.minX,at=nt.maxY-nt.minY,Ot=Math.sqrt(ht*ht+at*at)/2,Ft=w.createRadialGradient(nt.minX+ht*B,nt.minY+at*D,0,nt.minX+ht/2,nt.minY+at/2,X*Ot);return _($,Ft),Ft}S.parseRadialGradient=C;function p(w,y,M){if(y.get("patternSource")&&y.get("patternSource")===M)return y.get("pattern");var T,B,D=L.exec(M),X=D[1],$=D[2];function H(){T=w.createPattern(B,X),y.set("pattern",T),y.set("patternSource",M)}switch(X){case"a":X="repeat";break;case"x":X="repeat-x";break;case"y":X="repeat-y";break;case"n":X="no-repeat";break;default:X="no-repeat"}return B=new Image,$.match(/^data:/i)||(B.crossOrigin="Anonymous"),B.src=$,B.complete?H():(B.onload=H,B.src=B.src),T}S.parsePattern=p;function b(w,y,M){var T=y.getBBox();if(isNaN(T.x)||isNaN(T.y)||isNaN(T.width)||isNaN(T.height))return M;if(m.isString(M)){if(M[1]==="("||M[2]==="("){if(M[0]==="l")return E(w,y,M);if(M[0]==="r")return C(w,y,M);if(M[0]==="p")return p(w,y,M)}return M}if(M instanceof CanvasPattern)return M}S.parseStyle=b;function x(w){var y=0,M=0,T=0,B=0;return m.isArray(w)?w.length===1?y=M=T=B=w[0]:w.length===2?(y=T=w[0],M=B=w[1]):w.length===3?(y=w[0],M=B=w[1],T=w[2]):(y=w[0],M=w[1],T=w[2],B=w[3]):y=M=T=B=w,[y,M,T,B]}S.parseRadius=x},32460:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(96533),I=d(89838),L=d(89838),P=d(56379),_=d(77160),E=d(94478),C=d(63131),p=d(37311),b=P.ext.transform;function x(M){for(var T=!1,B=M.length,D=0;D<B;D++){var X=M[D],$=X[0];if($==="C"||$==="A"||$==="Q"){T=!0;break}}return T}function w(M,T,B,D,X){for(var $=!1,H=T/2,nt=0;nt<M.length;nt++){var ht=M[nt],at=ht.currentPoint,Ot=ht.params,Ft=ht.prePoint,Dt=ht.box;if(!(Dt&&!E.inBox(Dt.x-H,Dt.y-H,Dt.width+T,Dt.height+T,B,D))){switch(ht.command){case"L":case"Z":$=C.default(Ft[0],Ft[1],at[0],at[1],T,B,D);break;case"Q":var V=I.Quad.pointDistance(Ft[0],Ft[1],Ot[1],Ot[2],Ot[3],Ot[4],B,D);$=V<=T/2;break;case"C":var q=L.Cubic.pointDistance(Ft[0],Ft[1],Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6],B,D,X);$=q<=T/2;break;case"A":var K=ht.arcParams,Z=K.cx,mt=K.cy,rt=K.rx,W=K.ry,z=K.startAngle,G=K.endAngle,f=K.xRotation,pt=[B,D,1],Ct=rt>W?rt:W,ot=rt>W?1:rt/W,St=rt>W?W/rt:1,xt=b(null,[["t",-Z,-mt],["r",-f],["s",1/ot,1/St]]);_.transformMat3(pt,pt,xt),$=p.default(0,0,Ct,z,G,T,pt[0],pt[1]);break;default:break}if($)break}}return $}function y(M){for(var T=M.length,B=[],D=[],X=[],$=0;$<T;$++){var H=M[$],nt=H[0];nt==="M"?(X.length&&(D.push(X),X=[]),X.push([H[1],H[2]])):nt==="Z"?X.length&&(B.push(X),X=[]):X.push([H[1],H[2]])}return X.length>0&&D.push(X),{polygons:B,polylines:D}}S.default=m.__assign({hasArc:x,extractPolygons:y,isPointInStroke:w},O.PathUtil)},94478:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.clearAnimationFrame=S.requestAnimationFrame=S.isNumberEqual=S.mod=S.toRadian=S.each=S.isArray=S.isFunction=S.isString=S.isNil=S.isSamePoint=S.mergeRegion=S.intersectRect=S.inBox=S.distance=S.getPixelRatio=void 0;function m(){return window?window.devicePixelRatio:1}S.getPixelRatio=m;function O(C,p,b,x){var w=C-b,y=p-x;return Math.sqrt(w*w+y*y)}S.distance=O;function I(C,p,b,x,w,y){return w>=C&&w<=C+b&&y>=p&&y<=p+x}S.inBox=I;function L(C,p){return!(p.minX>C.maxX||p.maxX<C.minX||p.minY>C.maxY||p.maxY<C.minY)}S.intersectRect=L;function P(C,p){return!C||!p?C||p:{minX:Math.min(C.minX,p.minX),minY:Math.min(C.minY,p.minY),maxX:Math.max(C.maxX,p.maxX),maxY:Math.max(C.maxY,p.maxY)}}S.mergeRegion=P;function _(C,p){return C[0]===p[0]&&C[1]===p[1]}S.isSamePoint=_;var E=d(49242);Object.defineProperty(S,"isNil",{enumerable:!0,get:function(){return E.isNil}}),Object.defineProperty(S,"isString",{enumerable:!0,get:function(){return E.isString}}),Object.defineProperty(S,"isFunction",{enumerable:!0,get:function(){return E.isFunction}}),Object.defineProperty(S,"isArray",{enumerable:!0,get:function(){return E.isArray}}),Object.defineProperty(S,"each",{enumerable:!0,get:function(){return E.each}}),Object.defineProperty(S,"toRadian",{enumerable:!0,get:function(){return E.toRadian}}),Object.defineProperty(S,"mod",{enumerable:!0,get:function(){return E.mod}}),Object.defineProperty(S,"isNumberEqual",{enumerable:!0,get:function(){return E.isNumberEqual}}),Object.defineProperty(S,"requestAnimationFrame",{enumerable:!0,get:function(){return E.requestAnimationFrame}}),Object.defineProperty(S,"clearAnimationFrame",{enumerable:!0,get:function(){return E.clearAnimationFrame}})},56379:function(_t,S,d){"use strict";d.r(S),d.d(S,{ext:function(){return m},mat3:function(){return O},vec2:function(){return I},vec3:function(){return L}});var m={};d.r(m),d.d(m,{angleTo:function(){return x},direction:function(){return b},leftRotate:function(){return _},leftScale:function(){return E},leftTranslate:function(){return P},transform:function(){return p},vertical:function(){return w}});var O=d(35600),I=d(31437),L=d(77160);function P(y,M,T){var B=[0,0,0,0,0,0,0,0,0];return O.fromTranslation(B,T),O.multiply(y,B,M)}function _(y,M,T){var B=[0,0,0,0,0,0,0,0,0];return O.fromRotation(B,T),O.multiply(y,B,M)}function E(y,M,T){var B=[0,0,0,0,0,0,0,0,0];return O.fromScaling(B,T),O.multiply(y,B,M)}function C(y,M,T){return O.multiply(y,T,M)}function p(y,M){for(var T=y?[].concat(y):[1,0,0,0,1,0,0,0,1],B=0,D=M.length;B<D;B++){var X=M[B];switch(X[0]){case"t":P(T,T,[X[1],X[2]]);break;case"s":E(T,T,[X[1],X[2]]);break;case"r":_(T,T,X[1]);break;case"m":C(T,T,X[1]);break;default:break}}return T}function b(y,M){return y[0]*M[1]-M[0]*y[1]}function x(y,M,T){var B=I.angle(y,M),D=b(y,M)>=0;return T?D?Math.PI*2-B:B:D?B:Math.PI*2-B}function w(y,M,T){return T?(y[0]=M[1],y[1]=-1*M[0]):(y[0]=-1*M[1],y[1]=M[0]),y}},19270:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(86031),I=d(96533),L=d(91995),P=d(49171),_=d(84092),E=d(84745),C=d(8198),p=d(36629),b=d(88330),x=function(w){O.__extends(y,w);function y(M){return w.call(this,O.__assign(O.__assign({},M),{autoDraw:!0,renderer:"svg"}))||this}return y.prototype.getShapeBase=function(){return C},y.prototype.getGroupBase=function(){return p.default},y.prototype.getShape=function(M,T,B){var D=B.target||B.srcElement;if(!L.SHAPE_TO_TAGS[D.tagName]){for(var X=D.parentNode;X&&!L.SHAPE_TO_TAGS[X.tagName];)X=X.parentNode;D=X}return this.find(function($){return $.get("el")===D})},y.prototype.createDom=function(){var M=E.createSVGElement("svg"),T=new b.default(M);return M.setAttribute("width",""+this.get("width")),M.setAttribute("height",""+this.get("height")),this.set("context",T),M},y.prototype.onCanvasChange=function(M){var T=this.get("context"),B=this.get("el");if(M==="sort"){var D=this.get("children");D&&D.length&&E.sortDom(this,function($,H){return D.indexOf($)-D.indexOf(H)?1:0})}else if(M==="clear"){if(B){B.innerHTML="";var X=T.el;X.innerHTML="",B.appendChild(X)}}else M==="matrix"?_.setTransform(this):M==="clip"?_.setClip(this,T):M==="changeSize"&&(B.setAttribute("width",""+this.get("width")),B.setAttribute("height",""+this.get("height")))},y.prototype.draw=function(){var M=this.get("context"),T=this.getChildren();_.setClip(this,M),T.length&&P.drawChildren(M,T)},y}(I.AbstractCanvas);S.Z=x},91995:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EVENTS=S.SVG_ATTR_MAP=S.SHAPE_TO_TAGS=void 0,S.SHAPE_TO_TAGS={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},S.SVG_ATTR_MAP={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},S.EVENTS=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},14232:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(84745),I=function(){function L(P,_){this.cfg={};var E=O.createSVGElement("marker"),C=m.uniqueId("marker_");E.setAttribute("id",C);var p=O.createSVGElement("path");p.setAttribute("stroke",P.stroke||"none"),p.setAttribute("fill",P.fill||"none"),E.appendChild(p),E.setAttribute("overflow","visible"),E.setAttribute("orient","auto-start-reverse"),this.el=E,this.child=p,this.id=C;var b=P[_==="marker-start"?"startArrow":"endArrow"];return this.stroke=P.stroke||"#000",b===!0?this._setDefaultPath(_,p):(this.cfg=b,this._setMarker(P.lineWidth,p)),this}return L.prototype.match=function(){return!1},L.prototype._setDefaultPath=function(P,_){var E=this.el;_.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),E.setAttribute("refX",""+10*Math.cos(Math.PI/6)),E.setAttribute("refY",""+5)},L.prototype._setMarker=function(P,_){var E=this.el,C=this.cfg.path,p=this.cfg.d;m.isArray(C)&&(C=C.map(function(b){return b.join(" ")}).join("")),_.setAttribute("d",C),E.appendChild(_),p&&E.setAttribute("refX",""+p/P)},L.prototype.update=function(P){var _=this.child;_.attr?_.attr("fill",P):_.setAttribute("fill",P)},L}();S.default=I},32439:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(84745),I=function(){function L(P){this.type="clip",this.cfg={};var _=O.createSVGElement("clipPath");this.el=_,this.id=m.uniqueId("clip_"),_.id=this.id;var E=P.cfg.el;return _.appendChild(E),this.cfg=P,this}return L.prototype.match=function(){return!1},L.prototype.remove=function(){var P=this.el;P.parentNode.removeChild(P)},L}();S.default=I},90362:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(84745),I=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,L=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,P=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function _(b){var x=b.match(P);if(!x)return"";var w="";return x.sort(function(y,M){return y=y.split(":"),M=M.split(":"),Number(y[0])-Number(M[0])}),m.each(x,function(y){y=y.split(":"),w+='<stop offset="'+y[0]+'" stop-color="'+y[1]+'"></stop>'}),w}function E(b,x){var w=I.exec(b),y=m.mod(m.toRadian(parseFloat(w[1])),Math.PI*2),M=w[2],T,B;y>=0&&y<.5*Math.PI?(T={x:0,y:0},B={x:1,y:1}):.5*Math.PI<=y&&y<Math.PI?(T={x:1,y:0},B={x:0,y:1}):Math.PI<=y&&y<1.5*Math.PI?(T={x:1,y:1},B={x:0,y:0}):(T={x:0,y:1},B={x:1,y:0});var D=Math.tan(y),X=D*D,$=(B.x-T.x+D*(B.y-T.y))/(X+1)+T.x,H=D*(B.x-T.x+D*(B.y-T.y))/(X+1)+T.y;x.setAttribute("x1",T.x),x.setAttribute("y1",T.y),x.setAttribute("x2",$),x.setAttribute("y2",H),x.innerHTML=_(M)}function C(b,x){var w=L.exec(b),y=parseFloat(w[1]),M=parseFloat(w[2]),T=parseFloat(w[3]),B=w[4];x.setAttribute("cx",y),x.setAttribute("cy",M),x.setAttribute("r",T),x.innerHTML=_(B)}var p=function(){function b(x){this.cfg={};var w=null,y=m.uniqueId("gradient_");return x.toLowerCase()[0]==="l"?(w=O.createSVGElement("linearGradient"),E(x,w)):(w=O.createSVGElement("radialGradient"),C(x,w)),w.setAttribute("id",y),this.el=w,this.id=y,this.cfg=x,this}return b.prototype.match=function(x,w){return this.cfg===w},b}();S.default=p},88330:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(90362),I=d(50375),L=d(14232),P=d(32439),_=d(99365),E=d(84745),C=function(){function p(b){var x=E.createSVGElement("defs"),w=m.uniqueId("defs_");x.id=w,b.appendChild(x),this.children=[],this.defaultArrow={},this.el=x,this.canvas=b}return p.prototype.find=function(b,x){for(var w=this.children,y=null,M=0;M<w.length;M++)if(w[M].match(b,x)){y=w[M].id;break}return y},p.prototype.findById=function(b){for(var x=this.children,w=null,y=0;y<x.length;y++)if(x[y].id===b){w=x[y];break}return w},p.prototype.add=function(b){this.children.push(b),b.canvas=this.canvas,b.parent=this},p.prototype.getDefaultArrow=function(b,x){var w=b.stroke||b.strokeStyle;if(this.defaultArrow[w])return this.defaultArrow[w].id;var y=new L.default(b,x);return this.defaultArrow[w]=y,this.el.appendChild(y.el),this.add(y),y.id},p.prototype.addGradient=function(b){var x=new O.default(b);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addArrow=function(b,x){var w=new L.default(b,x);return this.el.appendChild(w.el),this.add(w),w.id},p.prototype.addShadow=function(b){var x=new I.default(b);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addPattern=function(b){var x=new _.default(b);return this.el.appendChild(x.el),this.add(x),x.id},p.prototype.addClip=function(b){var x=new P.default(b);return this.el.appendChild(x.el),this.add(x),x.id},p}();S.default=C},99365:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(84745),I=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,L=function(){function P(_){this.cfg={};var E=O.createSVGElement("pattern");E.setAttribute("patternUnits","userSpaceOnUse");var C=O.createSVGElement("image");E.appendChild(C);var p=m.uniqueId("pattern_");E.id=p,this.el=E,this.id=p,this.cfg=_;var b=I.exec(_),x=b[2];C.setAttribute("href",x);var w=new Image;x.match(/^data:/i)||(w.crossOrigin="Anonymous"),w.src=x;function y(){E.setAttribute("width",""+w.width),E.setAttribute("height",""+w.height)}return w.complete?y():(w.onload=y,w.src=w.src),this}return P.prototype.match=function(_,E){return this.cfg===E},P}();S.default=L},50375:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(84745),I={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},L={x:"-40%",y:"-40%",width:"200%",height:"200%"},P=function(){function _(E){this.type="filter",this.cfg={},this.type="filter";var C=O.createSVGElement("filter");return m.each(L,function(p,b){C.setAttribute(b,p)}),this.el=C,this.id=m.uniqueId("filter_"),this.el.id=this.id,this.cfg=E,this._parseShadow(E,C),this}return _.prototype.match=function(E,C){if(this.type!==E)return!1;var p=!0,b=this.cfg;return m.each(Object.keys(b),function(x){if(b[x]!==C[x])return p=!1,!1}),p},_.prototype.update=function(E,C){var p=this.cfg;return p[I[E]]=C,this._parseShadow(p,this.el),this},_.prototype._parseShadow=function(E,C){var p=`<feDropShadow
      dx="`+(E.dx||0)+`"
      dy="`+(E.dy||0)+`"
      stdDeviation="`+(E.blur?E.blur/10:0)+`"
      flood-color="`+(E.color?E.color:"#000")+`"
      flood-opacity="`+(E.opacity?E.opacity:1)+`"
      />`;C.innerHTML=p},_}();S.default=P},36629:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(96533),I=d(49242),L=d(8198),P=d(49171),_=d(84092),E=d(91995),C=d(84745),p=function(b){m.__extends(x,b);function x(){return b!==null&&b.apply(this,arguments)||this}return x.prototype.isEntityGroup=function(){return!0},x.prototype.createDom=function(){var w=C.createSVGElement("g");this.set("el",w);var y=this.getParent();if(y){var M=y.get("el");M||(M=y.createDom(),y.set("el",M)),M.appendChild(w)}return w},x.prototype.afterAttrsChange=function(w){b.prototype.afterAttrsChange.call(this,w);var y=this.get("canvas");if(y&&y.get("autoDraw")){var M=y.get("context");this.createPath(M,w)}},x.prototype.onCanvasChange=function(w){P.refreshElement(this,w)},x.prototype.getShapeBase=function(){return L},x.prototype.getGroupBase=function(){return x},x.prototype.draw=function(w){var y=this.getChildren(),M=this.get("el");this.get("destroyed")?M&&M.parentNode.removeChild(M):(M||this.createDom(),_.setClip(this,w),this.createPath(w),y.length&&P.drawChildren(w,y))},x.prototype.createPath=function(w,y){var M=this.attr(),T=this.get("el");I.each(y||M,function(B,D){E.SVG_ATTR_MAP[D]&&T.setAttribute(E.SVG_ATTR_MAP[D],B)}),_.setTransform(this)},x}(O.AbstractGroup);S.default=p},5666:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(96533),I=d(84092),L=d(84745),P=d(49171),_=d(91995),E=d(8198),C=d(36629),p=d(96533),b=function(x){m.__extends(w,x);function w(){var y=x!==null&&x.apply(this,arguments)||this;return y.type="svg",y.canFill=!1,y.canStroke=!1,y}return w.prototype.getDefaultAttrs=function(){var y=x.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},w.prototype.afterAttrsChange=function(y){x.prototype.afterAttrsChange.call(this,y);var M=this.get("canvas");if(M&&M.get("autoDraw")){var T=M.get("context");this.draw(T,y)}},w.prototype.getShapeBase=function(){return E},w.prototype.getGroupBase=function(){return C.default},w.prototype.onCanvasChange=function(y){P.refreshElement(this,y)},w.prototype.calculateBBox=function(){var y=this.get("el"),M=null;if(y)M=y.getBBox();else{var T=p.getBBoxMethod(this.get("type"));T&&(M=T(this))}if(M){var B=M.x,D=M.y,X=M.width,$=M.height,H=this.getHitLineWidth(),nt=H/2,ht=B-nt,at=D-nt,Ot=B+X+nt,Ft=D+$+nt;return{x:ht,y:at,minX:ht,minY:at,maxX:Ot,maxY:Ft,width:X+H,height:$+H}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},w.prototype.isFill=function(){var y=this.attr(),M=y.fill,T=y.fillStyle;return(M||T||this.isClipShape())&&this.canFill},w.prototype.isStroke=function(){var y=this.attr(),M=y.stroke,T=y.strokeStyle;return(M||T)&&this.canStroke},w.prototype.draw=function(y,M){var T=this.get("el");this.get("destroyed")?T&&T.parentNode.removeChild(T):(T||L.createDom(this),I.setClip(this,y),this.createPath(y,M),this.shadow(y,M),this.strokeAndFill(y,M),this.transform(M))},w.prototype.createPath=function(y,M){},w.prototype.strokeAndFill=function(y,M){var T=M||this.attr(),B=T.fill,D=T.fillStyle,X=T.stroke,$=T.strokeStyle,H=T.fillOpacity,nt=T.strokeOpacity,ht=T.lineWidth,at=this.get("el");this.canFill&&(M?"fill"in T?this._setColor(y,"fill",B):"fillStyle"in T&&this._setColor(y,"fill",D):this._setColor(y,"fill",B||D),H&&at.setAttribute(_.SVG_ATTR_MAP.fillOpacity,H)),this.canStroke&&ht>0&&(M?"stroke"in T?this._setColor(y,"stroke",X):"strokeStyle"in T&&this._setColor(y,"stroke",$):this._setColor(y,"stroke",X||$),nt&&at.setAttribute(_.SVG_ATTR_MAP.strokeOpacity,nt),ht&&at.setAttribute(_.SVG_ATTR_MAP.lineWidth,ht))},w.prototype._setColor=function(y,M,T){var B=this.get("el");if(!T){B.setAttribute(_.SVG_ATTR_MAP[M],"none");return}if(T=T.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(T)){var D=y.find("gradient",T);D||(D=y.addGradient(T)),B.setAttribute(_.SVG_ATTR_MAP[M],"url(#"+D+")")}else if(/^[p,P]{1}[\s]*\(/.test(T)){var D=y.find("pattern",T);D||(D=y.addPattern(T)),B.setAttribute(_.SVG_ATTR_MAP[M],"url(#"+D+")")}else B.setAttribute(_.SVG_ATTR_MAP[M],T)},w.prototype.shadow=function(y,M){var T=this.attr(),B=M||T,D=B.shadowOffsetX,X=B.shadowOffsetY,$=B.shadowBlur,H=B.shadowColor;(D||X||$||H)&&I.setShadow(this,y)},w.prototype.transform=function(y){var M=this.attr(),T=(y||M).matrix;T&&I.setTransform(this)},w.prototype.isInShape=function(y,M){return this.isPointInPath(y,M)},w.prototype.isPointInPath=function(y,M){var T=this.get("el"),B=this.get("canvas"),D=B.get("el").getBoundingClientRect(),X=y+D.left,$=M+D.top,H=document.elementFromPoint(X,$);return!!(H&&H.isEqualNode(T))},w.prototype.getHitLineWidth=function(){var y=this.attrs,M=y.lineWidth,T=y.lineAppendWidth;return this.isStroke()?M+T:0},w}(O.AbstractShape);S.default=b},41310:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(91995),L=d(5666),P=function(_){m.__extends(E,_);function E(){var C=_!==null&&_.apply(this,arguments)||this;return C.type="circle",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},C),{x:0,y:0,r:0})},E.prototype.createPath=function(C,p){var b=this.attr(),x=this.get("el");O.each(p||b,function(w,y){y==="x"||y==="y"?x.setAttribute("c"+y,w):I.SVG_ATTR_MAP[y]&&x.setAttribute(I.SVG_ATTR_MAP[y],w)})},E}(L.default);S.default=P},88800:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(91995),L=d(5666),P=function(_){m.__extends(E,_);function E(){var C=_!==null&&_.apply(this,arguments)||this;return C.type="dom",C.canFill=!1,C.canStroke=!1,C}return E.prototype.createPath=function(C,p){var b=this.attr(),x=this.get("el");if(O.each(p||b,function(T,B){I.SVG_ATTR_MAP[B]&&x.setAttribute(I.SVG_ATTR_MAP[B],T)}),typeof b.html=="function"){var w=b.html.call(this,b);if(w instanceof Element||w instanceof HTMLDocument){for(var y=x.childNodes,M=y.length-1;M>=0;M--)x.removeChild(y[M]);x.appendChild(w)}else x.innerHTML=w}else x.innerHTML=b.html},E}(L.default);S.default=P},62927:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(91995),L=d(5666),P=function(_){m.__extends(E,_);function E(){var C=_!==null&&_.apply(this,arguments)||this;return C.type="ellipse",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},C),{x:0,y:0,rx:0,ry:0})},E.prototype.createPath=function(C,p){var b=this.attr(),x=this.get("el");O.each(p||b,function(w,y){y==="x"||y==="y"?x.setAttribute("c"+y,w):I.SVG_ATTR_MAP[y]&&x.setAttribute(I.SVG_ATTR_MAP[y],w)})},E}(L.default);S.default=P},78076:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(91995),L=d(5666),P=function(_){m.__extends(E,_);function E(){var C=_!==null&&_.apply(this,arguments)||this;return C.type="image",C.canFill=!1,C.canStroke=!1,C}return E.prototype.getDefaultAttrs=function(){var C=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},C),{x:0,y:0,width:0,height:0})},E.prototype.createPath=function(C,p){var b=this,x=this.attr(),w=this.get("el");O.each(p||x,function(y,M){M==="img"?b._setImage(x.img):I.SVG_ATTR_MAP[M]&&w.setAttribute(I.SVG_ATTR_MAP[M],y)})},E.prototype.setAttr=function(C,p){this.attrs[C]=p,C==="img"&&this._setImage(p)},E.prototype._setImage=function(C){var p=this.attr(),b=this.get("el");if(O.isString(C))b.setAttribute("href",C);else if(C instanceof window.Image)p.width||(b.setAttribute("width",C.width),this.attr("width",C.width)),p.height||(b.setAttribute("height",C.height),this.attr("height",C.height)),b.setAttribute("href",C.src);else if(C instanceof HTMLElement&&O.isString(C.nodeName)&&C.nodeName.toUpperCase()==="CANVAS")b.setAttribute("href",C.toDataURL());else if(C instanceof ImageData){var x=document.createElement("canvas");x.setAttribute("width",""+C.width),x.setAttribute("height",""+C.height),x.getContext("2d").putImageData(C,0,0),p.width||(b.setAttribute("width",""+C.width),this.attr("width",C.width)),p.height||(b.setAttribute("height",""+C.height),this.attr("height",C.height)),b.setAttribute("href",x.toDataURL())}},E}(L.default);S.default=P},8198:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(5666);Object.defineProperty(S,"Base",{enumerable:!0,get:function(){return m.default}});var O=d(41310);Object.defineProperty(S,"Circle",{enumerable:!0,get:function(){return O.default}});var I=d(88800);Object.defineProperty(S,"Dom",{enumerable:!0,get:function(){return I.default}});var L=d(62927);Object.defineProperty(S,"Ellipse",{enumerable:!0,get:function(){return L.default}});var P=d(78076);Object.defineProperty(S,"Image",{enumerable:!0,get:function(){return P.default}});var _=d(22059);Object.defineProperty(S,"Line",{enumerable:!0,get:function(){return _.default}});var E=d(62116);Object.defineProperty(S,"Marker",{enumerable:!0,get:function(){return E.default}});var C=d(49582);Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return C.default}});var p=d(17498);Object.defineProperty(S,"Polygon",{enumerable:!0,get:function(){return p.default}});var b=d(67478);Object.defineProperty(S,"Polyline",{enumerable:!0,get:function(){return b.default}});var x=d(79705);Object.defineProperty(S,"Rect",{enumerable:!0,get:function(){return x.default}});var w=d(61622);Object.defineProperty(S,"Text",{enumerable:!0,get:function(){return w.default}})},22059:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(89838),I=d(49242),L=d(91995),P=d(5666),_=function(E){m.__extends(C,E);function C(){var p=E!==null&&E.apply(this,arguments)||this;return p.type="line",p.canFill=!1,p.canStroke=!0,p}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},C.prototype.createPath=function(p,b){var x=this.attr(),w=this.get("el");I.each(b||x,function(y,M){if(M==="startArrow"||M==="endArrow")if(y){var T=I.isObject(y)?p.addArrow(x,L.SVG_ATTR_MAP[M]):p.getDefaultArrow(x,L.SVG_ATTR_MAP[M]);w.setAttribute(L.SVG_ATTR_MAP[M],"url(#"+T+")")}else w.removeAttribute(L.SVG_ATTR_MAP[M]);else L.SVG_ATTR_MAP[M]&&w.setAttribute(L.SVG_ATTR_MAP[M],y)})},C.prototype.getTotalLength=function(){var p=this.attr(),b=p.x1,x=p.y1,w=p.x2,y=p.y2;return O.Line.length(b,x,w,y)},C.prototype.getPoint=function(p){var b=this.attr(),x=b.x1,w=b.y1,y=b.x2,M=b.y2;return O.Line.pointAt(x,w,y,M,p)},C}(P.default);S.default=_},62116:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(5666),L=d(56205),P=function(_){m.__extends(E,_);function E(){var C=_!==null&&_.apply(this,arguments)||this;return C.type="marker",C.canFill=!0,C.canStroke=!0,C}return E.prototype.createPath=function(C){var p=this.get("el");p.setAttribute("d",this._assembleMarker())},E.prototype._assembleMarker=function(){var C=this._getPath();return O.isArray(C)?C.map(function(p){return p.join(" ")}).join(""):C},E.prototype._getPath=function(){var C=this.attr(),p=C.x,b=C.y,x=C.r||C.radius,w=C.symbol||"circle",y;return O.isFunction(w)?y=w:y=L.default.get(w),y?y(p,b,x):(console.warn(y+" symbol is not exist."),null)},E.symbolsFactory=L.default,E}(I.default);S.default=P},56205:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={circle:function(m,O,I){return[["M",m,O],["m",-I,0],["a",I,I,0,1,0,I*2,0],["a",I,I,0,1,0,-I*2,0]]},square:function(m,O,I){return[["M",m-I,O-I],["L",m+I,O-I],["L",m+I,O+I],["L",m-I,O+I],["Z"]]},diamond:function(m,O,I){return[["M",m-I,O],["L",m,O-I],["L",m+I,O],["L",m,O+I],["Z"]]},triangle:function(m,O,I){var L=I*Math.sin(1/3*Math.PI);return[["M",m-I,O+L],["L",m,O-L],["L",m+I,O+L],["z"]]},triangleDown:function(m,O,I){var L=I*Math.sin(1/3*Math.PI);return[["M",m-I,O-L],["L",m+I,O-L],["L",m,O+L],["Z"]]}};S.default={get:function(m){return d[m]},register:function(m,O){d[m]=O},remove:function(m){delete d[m]},getAll:function(){return d}}},49582:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(91995),L=d(5666),P=function(_){m.__extends(E,_);function E(){var C=_!==null&&_.apply(this,arguments)||this;return C.type="path",C.canFill=!0,C.canStroke=!0,C}return E.prototype.getDefaultAttrs=function(){var C=_.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},C),{startArrow:!1,endArrow:!1})},E.prototype.createPath=function(C,p){var b=this,x=this.attr(),w=this.get("el");O.each(p||x,function(y,M){if(M==="path"&&O.isArray(y))w.setAttribute("d",b._formatPath(y));else if(M==="startArrow"||M==="endArrow")if(y){var T=O.isObject(y)?C.addArrow(x,I.SVG_ATTR_MAP[M]):C.getDefaultArrow(x,I.SVG_ATTR_MAP[M]);w.setAttribute(I.SVG_ATTR_MAP[M],"url(#"+T+")")}else w.removeAttribute(I.SVG_ATTR_MAP[M]);else I.SVG_ATTR_MAP[M]&&w.setAttribute(I.SVG_ATTR_MAP[M],y)})},E.prototype._formatPath=function(C){var p=C.map(function(b){return b.join(" ")}).join("");return~p.indexOf("NaN")?"":p},E.prototype.getTotalLength=function(){var C=this.get("el");return C?C.getTotalLength():null},E.prototype.getPoint=function(C){var p=this.get("el"),b=this.getTotalLength();if(b===0)return null;var x=p?p.getPointAtLength(C*b):null;return x?{x:x.x,y:x.y}:null},E}(L.default);S.default=P},17498:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(91995),L=d(5666),P=function(_){m.__extends(E,_);function E(){var C=_!==null&&_.apply(this,arguments)||this;return C.type="polygon",C.canFill=!0,C.canStroke=!0,C}return E.prototype.createPath=function(C,p){var b=this.attr(),x=this.get("el");O.each(p||b,function(w,y){y==="points"&&O.isArray(w)&&w.length>=2?x.setAttribute("points",w.map(function(M){return M[0]+","+M[1]}).join(" ")):I.SVG_ATTR_MAP[y]&&x.setAttribute(I.SVG_ATTR_MAP[y],w)})},E}(L.default);S.default=P},67478:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(89838),I=d(89838),L=d(49242),P=d(91995),_=d(5666),E=function(C){m.__extends(p,C);function p(){var b=C!==null&&C.apply(this,arguments)||this;return b.type="polyline",b.canFill=!0,b.canStroke=!0,b}return p.prototype.getDefaultAttrs=function(){var b=C.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},b),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(b,x,w){C.prototype.onAttrChange.call(this,b,x,w),["points"].indexOf(b)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(b,x){var w=this.attr(),y=this.get("el");L.each(x||w,function(M,T){T==="points"&&L.isArray(M)&&M.length>=2?y.setAttribute("points",M.map(function(B){return B[0]+","+B[1]}).join(" ")):P.SVG_ATTR_MAP[T]&&y.setAttribute(P.SVG_ATTR_MAP[T],M)})},p.prototype.getTotalLength=function(){var b=this.attr().points,x=this.get("totalLength");return L.isNil(x)?(this.set("totalLength",O.Polyline.length(b)),this.get("totalLength")):x},p.prototype.getPoint=function(b){var x=this.attr().points,w=this.get("tCache");w||(this._setTcache(),w=this.get("tCache"));var y,M;return L.each(w,function(T,B){b>=T[0]&&b<=T[1]&&(y=(b-T[0])/(T[1]-T[0]),M=B)}),I.Line.pointAt(x[M][0],x[M][1],x[M+1][0],x[M+1][1],y)},p.prototype._setTcache=function(){var b=this.attr().points;if(!(!b||b.length===0)){var x=this.getTotalLength();if(!(x<=0)){var w=0,y=[],M,T;L.each(b,function(B,D){b[D+1]&&(M=[],M[0]=w/x,T=I.Line.length(B[0],B[1],b[D+1][0],b[D+1][1]),w+=T,M[1]=w/x,y.push(M))}),this.set("tCache",y)}}},p.prototype.getStartTangent=function(){var b=this.attr().points,x=[];return x.push([b[1][0],b[1][1]]),x.push([b[0][0],b[0][1]]),x},p.prototype.getEndTangent=function(){var b=this.attr().points,x=b.length-1,w=[];return w.push([b[x-1][0],b[x-1][1]]),w.push([b[x][0],b[x][1]]),w},p}(_.default);S.default=E},79705:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(5666),L=d(91995),P=d(19544),_=function(E){m.__extends(C,E);function C(){var p=E!==null&&E.apply(this,arguments)||this;return p.type="rect",p.canFill=!0,p.canStroke=!0,p}return C.prototype.getDefaultAttrs=function(){var p=E.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},p),{x:0,y:0,width:0,height:0,radius:0})},C.prototype.createPath=function(p,b){var x=this,w=this.attr(),y=this.get("el"),M=!1,T=["x","y","width","height","radius"];O.each(b||w,function(B,D){T.indexOf(D)!==-1&&!M?(y.setAttribute("d",x._assembleRect(w)),M=!0):T.indexOf(D)===-1&&L.SVG_ATTR_MAP[D]&&y.setAttribute(L.SVG_ATTR_MAP[D],B)})},C.prototype._assembleRect=function(p){var b=p.x,x=p.y,w=p.width,y=p.height,M=p.radius;if(!M)return"M "+b+","+x+" l "+w+",0 l 0,"+y+" l"+-w+" 0 z";var T=P.parseRadius(M);O.isArray(M)?M.length===1?T.r1=T.r2=T.r3=T.r4=M[0]:M.length===2?(T.r1=T.r3=M[0],T.r2=T.r4=M[1]):M.length===3?(T.r1=M[0],T.r2=T.r4=M[1],T.r3=M[2]):(T.r1=M[0],T.r2=M[1],T.r3=M[2],T.r4=M[3]):T.r1=T.r2=T.r3=T.r4=M;var B=[["M "+(b+T.r1)+","+x],["l "+(w-T.r1-T.r2)+",0"],["a "+T.r2+","+T.r2+",0,0,1,"+T.r2+","+T.r2],["l 0,"+(y-T.r2-T.r3)],["a "+T.r3+","+T.r3+",0,0,1,"+-T.r3+","+T.r3],["l "+(T.r3+T.r4-w)+",0"],["a "+T.r4+","+T.r4+",0,0,1,"+-T.r4+","+-T.r4],["l 0,"+(T.r4+T.r1-y)],["a "+T.r1+","+T.r1+",0,0,1,"+T.r1+","+-T.r1],["z"]];return B.join(" ")},C}(I.default);S.default=_},61622:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(86031),O=d(49242),I=d(43631),L=d(84092),P=d(91995),_=d(5666),E=.3,C={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},p={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},b={left:"left",start:"left",center:"middle",right:"end",end:"end"},x=function(w){m.__extends(y,w);function y(){var M=w!==null&&w.apply(this,arguments)||this;return M.type="text",M.canFill=!0,M.canStroke=!0,M}return y.prototype.getDefaultAttrs=function(){var M=w.prototype.getDefaultAttrs.call(this);return m.__assign(m.__assign({},M),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},y.prototype.createPath=function(M,T){var B=this,D=this.attr(),X=this.get("el");this._setFont(),O.each(T||D,function($,H){H==="text"?B._setText(""+$):H==="matrix"&&$?L.setTransform(B):P.SVG_ATTR_MAP[H]&&X.setAttribute(P.SVG_ATTR_MAP[H],$)}),X.setAttribute("paint-order","stroke"),X.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},y.prototype._setFont=function(){var M=this.get("el"),T=this.attr(),B=T.textBaseline,D=T.textAlign,X=I.detect();X&&X.name==="firefox"?M.setAttribute("dominant-baseline",p[B]||"alphabetic"):M.setAttribute("alignment-baseline",C[B]||"baseline"),M.setAttribute("text-anchor",b[D]||"left")},y.prototype._setText=function(M){var T=this.get("el"),B=this.attr(),D=B.x,X=B.textBaseline,$=X===void 0?"bottom":X;if(!M)T.innerHTML="";else if(~M.indexOf(`
`)){var H=M.split(`
`),nt=H.length-1,ht="";O.each(H,function(at,Ot){Ot===0?$==="alphabetic"?ht+='<tspan x="'+D+'" dy="'+-nt+'em">'+at+"</tspan>":$==="top"?ht+='<tspan x="'+D+'" dy="0.9em">'+at+"</tspan>":$==="middle"?ht+='<tspan x="'+D+'" dy="'+-(nt-1)/2+'em">'+at+"</tspan>":$==="bottom"?ht+='<tspan x="'+D+'" dy="-'+(nt+E)+'em">'+at+"</tspan>":$==="hanging"&&(ht+='<tspan x="'+D+'" dy="'+(-(nt-1)-E)+'em">'+at+"</tspan>"):ht+='<tspan x="'+D+'" dy="1em">'+at+"</tspan>"}),T.innerHTML=ht}else T.innerHTML=M},y}(_.default);S.default=x},84745:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.moveTo=S.sortDom=S.createDom=S.createSVGElement=void 0;var m=d(49242),O=d(91995);function I(E){return document.createElementNS("http://www.w3.org/2000/svg",E)}S.createSVGElement=I;function L(E){var C=O.SHAPE_TO_TAGS[E.type],p=E.getParent();if(!C)throw new Error("the type "+E.type+" is not supported by svg");var b=I(C);if(E.get("id")&&(b.id=E.get("id")),E.set("el",b),E.set("attrs",{}),p){var x=p.get("el");x||(x=p.createDom(),p.set("el",x)),x.appendChild(b)}return b}S.createDom=L;function P(E,C){var p=E.get("el"),b=m.toArray(p.children).sort(C),x=document.createDocumentFragment();b.forEach(function(w){x.appendChild(w)}),p.appendChild(x)}S.sortDom=P;function _(E,C){var p=E.parentNode,b=Array.from(p.childNodes).filter(function(M){return M.nodeType===1&&M.nodeName.toLowerCase()!=="defs"}),x=b[C],w=b.indexOf(E);if(x){if(w>C)p.insertBefore(E,x);else if(w<C){var y=b[C+1];y?p.insertBefore(E,y):p.appendChild(E)}}else p.appendChild(E)}S.moveTo=_},49171:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.refreshElement=S.drawChildren=void 0;var m=d(84092),O=d(84745);function I(P,_){_.forEach(function(E){E.draw(P)})}S.drawChildren=I;function L(P,_){var E=P.get("canvas");if(E&&E.get("autoDraw")){var C=E.get("context"),p=P.getParent(),b=p?p.getChildren():[E],x=P.get("el");if(_==="remove"){var w=P.get("isClipShape");if(w){var y=x&&x.parentNode,M=y&&y.parentNode;y&&M&&M.removeChild(y)}else x&&x.parentNode&&x.parentNode.removeChild(x)}else if(_==="show")x.setAttribute("visibility","visible");else if(_==="hide")x.setAttribute("visibility","hidden");else if(_==="zIndex")O.moveTo(x,b.indexOf(P));else if(_==="sort"){var T=P.get("children");T&&T.length&&O.sortDom(P,function(B,D){return T.indexOf(B)-T.indexOf(D)?1:0})}else _==="clear"?x&&(x.innerHTML=""):_==="matrix"?m.setTransform(P):_==="clip"?m.setClip(P,C):_==="attr"||_==="add"&&P.draw(C)}}S.refreshElement=L},19544:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.parsePath=S.parseRadius=void 0;var m=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,I=/[^\s,]+/gi;function L(_){var E=0,C=0,p=0,b=0;return m.isArray(_)?_.length===1?E=C=p=b=_[0]:_.length===2?(E=p=_[0],C=b=_[1]):_.length===3?(E=_[0],C=b=_[1],p=_[2]):(E=_[0],C=_[1],p=_[2],b=_[3]):E=C=p=b=_,{r1:E,r2:C,r3:p,r4:b}}S.parseRadius=L;function P(_){if(_=_||[],m.isArray(_))return _;if(m.isString(_))return _=_.match(O),m.each(_,function(E,C){if(E=E.match(I),E[0].length>1){var p=E[0].charAt(0);E.splice(1,0,E[0].substr(1)),E[0]=p}m.each(E,function(b,x){isNaN(b)||(E[x]=+b)}),_[C]=E}),_}S.parsePath=P},84092:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setClip=S.setTransform=S.setShadow=void 0;var m=d(84745);function O(P,_){var E=P.cfg.el,C=P.attr(),p={dx:C.shadowOffsetX,dy:C.shadowOffsetY,blur:C.shadowBlur,color:C.shadowColor};if(!p.dx&&!p.dy&&!p.blur&&!p.color)E.removeAttribute("filter");else{var b=_.find("filter",p);b||(b=_.addShadow(p)),E.setAttribute("filter","url(#"+b+")")}}S.setShadow=O;function I(P){var _=P.attr().matrix;if(_){for(var E=P.cfg.el,C=[],p=0;p<9;p+=3)C.push(_[p]+","+_[p+1]);C=C.join(","),C.indexOf("NaN")===-1?E.setAttribute("transform","matrix("+C+")"):console.warn("invalid matrix:",_)}}S.setTransform=I;function L(P,_){var E=P.getClip(),C=P.get("el");if(!E)C.removeAttribute("clip-path");else if(E&&!C.hasAttribute("clip-path")){m.createDom(E),E.createPath(_);var p=_.addClip(E);C.setAttribute("clip-path","url(#"+p+")")}}S.setClip=L},27549:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(7802);S.wO=O.default;var I=d(89193);m=I.default;var L=d(98543);m=L.default;var P=d(34532);S.vs=P.default},7802:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(31502);m.translate=function(O,I,L){var P=new Array(9);return m.fromTranslation(P,L),m.multiply(O,P,I)},m.rotate=function(O,I,L){var P=new Array(9);return m.fromRotation(P,L),m.multiply(O,P,I)},m.scale=function(O,I,L){var P=new Array(9);return m.fromScaling(P,L),m.multiply(O,P,I)},m.transform=function(O,I){for(var L=[].concat(O),P=0,_=I.length;P<_;P++){var E=I[P];switch(E[0]){case"t":m.translate(L,L,[E[1],E[2]]);break;case"s":m.scale(L,L,[E[1],E[2]]);break;case"r":m.rotate(L,L,E[1]);break;default:break}}return L},S.default=m},34532:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=d(7802);S.default=function(I,L){var P=I?m.clone(I):[1,0,0,0,1,0,0,0,1];return m.each(L,function(_){switch(_[0]){case"t":O.default.translate(P,P,[_[1],_[2]]);break;case"s":O.default.scale(P,P,[_[1],_[2]]);break;case"r":O.default.rotate(P,P,_[1]);break;case"m":O.default.multiply(P,P,_[1]);break;default:return!1}}),P}},89193:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(76172),O=d(49242);m.angle=function(I,L){var P=m.dot(I,L)/(m.length(I)*m.length(L));return Math.acos(O.clamp(P,-1,1))},m.direction=function(I,L){return I[0]*L[1]-L[0]*I[1]},m.angleTo=function(I,L,P){var _=m.angle(I,L),E=m.direction(I,L)>=0;return P?E?Math.PI*2-_:_:E?_:Math.PI*2-_},m.vertical=function(I,L,P){return P?(I[0]=L[1],I[1]=-1*L[0]):(I[0]=-1*L[1],I[1]=L[0]),I},S.default=m},98543:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(88395);S.default=m},86031:function(_t,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return _},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return y},__spread:function(){return M},__spreadArrays:function(){return T},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return X},__asyncDelegator:function(){return $},__asyncValues:function(){return H},__makeTemplateObject:function(){return nt},__importStar:function(){return at},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return Ft},__classPrivateFieldSet:function(){return Dt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(V,q){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,Z){K.__proto__=Z}||function(K,Z){for(var mt in Z)Object.prototype.hasOwnProperty.call(Z,mt)&&(K[mt]=Z[mt])},m(V,q)};function O(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");m(V,q);function K(){this.constructor=V}V.prototype=q===null?Object.create(q):(K.prototype=q.prototype,new K)}var I=function(){return I=Object.assign||function(q){for(var K,Z=1,mt=arguments.length;Z<mt;Z++){K=arguments[Z];for(var rt in K)Object.prototype.hasOwnProperty.call(K,rt)&&(q[rt]=K[rt])}return q},I.apply(this,arguments)};function L(V,q){var K={};for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&q.indexOf(Z)<0&&(K[Z]=V[Z]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mt=0,Z=Object.getOwnPropertySymbols(V);mt<Z.length;mt++)q.indexOf(Z[mt])<0&&Object.prototype.propertyIsEnumerable.call(V,Z[mt])&&(K[Z[mt]]=V[Z[mt]]);return K}function P(V,q,K,Z){var mt=arguments.length,rt=mt<3?q:Z===null?Z=Object.getOwnPropertyDescriptor(q,K):Z,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(V,q,K,Z);else for(var z=V.length-1;z>=0;z--)(W=V[z])&&(rt=(mt<3?W(rt):mt>3?W(q,K,rt):W(q,K))||rt);return mt>3&&rt&&Object.defineProperty(q,K,rt),rt}function _(V,q){return function(K,Z){q(K,Z,V)}}function E(V,q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(V,q)}function C(V,q,K,Z){function mt(rt){return rt instanceof K?rt:new K(function(W){W(rt)})}return new(K||(K=Promise))(function(rt,W){function z(pt){try{f(Z.next(pt))}catch(Ct){W(Ct)}}function G(pt){try{f(Z.throw(pt))}catch(Ct){W(Ct)}}function f(pt){pt.done?rt(pt.value):mt(pt.value).then(z,G)}f((Z=Z.apply(V,q||[])).next())})}function p(V,q){var K={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},Z,mt,rt,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(f){return function(pt){return G([f,pt])}}function G(f){if(Z)throw new TypeError("Generator is already executing.");for(;K;)try{if(Z=1,mt&&(rt=f[0]&2?mt.return:f[0]?mt.throw||((rt=mt.return)&&rt.call(mt),0):mt.next)&&!(rt=rt.call(mt,f[1])).done)return rt;switch(mt=0,rt&&(f=[f[0]&2,rt.value]),f[0]){case 0:case 1:rt=f;break;case 4:return K.label++,{value:f[1],done:!1};case 5:K.label++,mt=f[1],f=[0];continue;case 7:f=K.ops.pop(),K.trys.pop();continue;default:if(rt=K.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(f[0]===6||f[0]===2)){K=0;continue}if(f[0]===3&&(!rt||f[1]>rt[0]&&f[1]<rt[3])){K.label=f[1];break}if(f[0]===6&&K.label<rt[1]){K.label=rt[1],rt=f;break}if(rt&&K.label<rt[2]){K.label=rt[2],K.ops.push(f);break}rt[2]&&K.ops.pop(),K.trys.pop();continue}f=q.call(V,K)}catch(pt){f=[6,pt],mt=0}finally{Z=rt=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(V,q,K,Z){Z===void 0&&(Z=K),Object.defineProperty(V,Z,{enumerable:!0,get:function(){return q[K]}})}:function(V,q,K,Z){Z===void 0&&(Z=K),V[Z]=q[K]};function x(V,q){for(var K in V)K!=="default"&&!Object.prototype.hasOwnProperty.call(q,K)&&b(q,V,K)}function w(V){var q=typeof Symbol=="function"&&Symbol.iterator,K=q&&V[q],Z=0;if(K)return K.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&Z>=V.length&&(V=void 0),{value:V&&V[Z++],done:!V}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(V,q){var K=typeof Symbol=="function"&&V[Symbol.iterator];if(!K)return V;var Z=K.call(V),mt,rt=[],W;try{for(;(q===void 0||q-- >0)&&!(mt=Z.next()).done;)rt.push(mt.value)}catch(z){W={error:z}}finally{try{mt&&!mt.done&&(K=Z.return)&&K.call(Z)}finally{if(W)throw W.error}}return rt}function M(){for(var V=[],q=0;q<arguments.length;q++)V=V.concat(y(arguments[q]));return V}function T(){for(var V=0,q=0,K=arguments.length;q<K;q++)V+=arguments[q].length;for(var Z=Array(V),mt=0,q=0;q<K;q++)for(var rt=arguments[q],W=0,z=rt.length;W<z;W++,mt++)Z[mt]=rt[W];return Z}function B(V,q,K){if(K||arguments.length===2)for(var Z=0,mt=q.length,rt;Z<mt;Z++)(rt||!(Z in q))&&(rt||(rt=Array.prototype.slice.call(q,0,Z)),rt[Z]=q[Z]);return V.concat(rt||Array.prototype.slice.call(q))}function D(V){return this instanceof D?(this.v=V,this):new D(V)}function X(V,q,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=K.apply(V,q||[]),mt,rt=[];return mt={},W("next"),W("throw"),W("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function W(ot){Z[ot]&&(mt[ot]=function(St){return new Promise(function(xt,Mt){rt.push([ot,St,xt,Mt])>1||z(ot,St)})})}function z(ot,St){try{G(Z[ot](St))}catch(xt){Ct(rt[0][3],xt)}}function G(ot){ot.value instanceof D?Promise.resolve(ot.value.v).then(f,pt):Ct(rt[0][2],ot)}function f(ot){z("next",ot)}function pt(ot){z("throw",ot)}function Ct(ot,St){ot(St),rt.shift(),rt.length&&z(rt[0][0],rt[0][1])}}function $(V){var q,K;return q={},Z("next"),Z("throw",function(mt){throw mt}),Z("return"),q[Symbol.iterator]=function(){return this},q;function Z(mt,rt){q[mt]=V[mt]?function(W){return(K=!K)?{value:D(V[mt](W)),done:mt==="return"}:rt?rt(W):W}:rt}}function H(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=V[Symbol.asyncIterator],K;return q?q.call(V):(V=typeof w=="function"?w(V):V[Symbol.iterator](),K={},Z("next"),Z("throw"),Z("return"),K[Symbol.asyncIterator]=function(){return this},K);function Z(rt){K[rt]=V[rt]&&function(W){return new Promise(function(z,G){W=V[rt](W),mt(z,G,W.done,W.value)})}}function mt(rt,W,z,G){Promise.resolve(G).then(function(f){rt({value:f,done:z})},W)}}function nt(V,q){return Object.defineProperty?Object.defineProperty(V,"raw",{value:q}):V.raw=q,V}var ht=Object.create?function(V,q){Object.defineProperty(V,"default",{enumerable:!0,value:q})}:function(V,q){V.default=q};function at(V){if(V&&V.__esModule)return V;var q={};if(V!=null)for(var K in V)K!=="default"&&Object.prototype.hasOwnProperty.call(V,K)&&b(q,V,K);return ht(q,V),q}function Ot(V){return V&&V.__esModule?V:{default:V}}function Ft(V,q,K,Z){if(K==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof q=="function"?V!==q||!Z:!q.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return K==="m"?Z:K==="a"?Z.call(V):Z?Z.value:q.get(V)}function Dt(V,q,K,Z,mt){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!mt)throw new TypeError("Private accessor was defined without a setter");if(typeof q=="function"?V!==q||!mt:!q.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?mt.call(V,K):mt?mt.value=K:q.set(V,K),K}},74988:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.setMatrixArrayType=I,S.toRadian=P,S.equals=_;var d=S.EPSILON=1e-6,m=S.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,O=S.RANDOM=Math.random;function I(E){S.ARRAY_TYPE=m=E}var L=Math.PI/180;function P(E){return E*L}function _(E,C){return Math.abs(E-C)<=d*Math.max(1,Math.abs(E),Math.abs(C))}},31502:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.sub=S.mul=void 0,S.create=L,S.fromMat4=P,S.clone=_,S.copy=E,S.fromValues=C,S.set=p,S.identity=b,S.transpose=x,S.invert=w,S.adjoint=y,S.determinant=M,S.multiply=T,S.translate=B,S.rotate=D,S.scale=X,S.fromTranslation=$,S.fromRotation=H,S.fromScaling=nt,S.fromMat2d=ht,S.fromQuat=at,S.normalFromMat4=Ot,S.projection=Ft,S.str=Dt,S.frob=V,S.add=q,S.subtract=K,S.multiplyScalar=Z,S.multiplyScalarAndAdd=mt,S.exactEquals=rt,S.equals=W;var m=d(74988),O=I(m);function I(f){if(f&&f.__esModule)return f;var pt={};if(f!=null)for(var Ct in f)Object.prototype.hasOwnProperty.call(f,Ct)&&(pt[Ct]=f[Ct]);return pt.default=f,pt}function L(){var f=new O.ARRAY_TYPE(9);return O.ARRAY_TYPE!=Float32Array&&(f[1]=0,f[2]=0,f[3]=0,f[5]=0,f[6]=0,f[7]=0),f[0]=1,f[4]=1,f[8]=1,f}function P(f,pt){return f[0]=pt[0],f[1]=pt[1],f[2]=pt[2],f[3]=pt[4],f[4]=pt[5],f[5]=pt[6],f[6]=pt[8],f[7]=pt[9],f[8]=pt[10],f}function _(f){var pt=new O.ARRAY_TYPE(9);return pt[0]=f[0],pt[1]=f[1],pt[2]=f[2],pt[3]=f[3],pt[4]=f[4],pt[5]=f[5],pt[6]=f[6],pt[7]=f[7],pt[8]=f[8],pt}function E(f,pt){return f[0]=pt[0],f[1]=pt[1],f[2]=pt[2],f[3]=pt[3],f[4]=pt[4],f[5]=pt[5],f[6]=pt[6],f[7]=pt[7],f[8]=pt[8],f}function C(f,pt,Ct,ot,St,xt,Mt,Et,Tt){var gt=new O.ARRAY_TYPE(9);return gt[0]=f,gt[1]=pt,gt[2]=Ct,gt[3]=ot,gt[4]=St,gt[5]=xt,gt[6]=Mt,gt[7]=Et,gt[8]=Tt,gt}function p(f,pt,Ct,ot,St,xt,Mt,Et,Tt,gt){return f[0]=pt,f[1]=Ct,f[2]=ot,f[3]=St,f[4]=xt,f[5]=Mt,f[6]=Et,f[7]=Tt,f[8]=gt,f}function b(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function x(f,pt){if(f===pt){var Ct=pt[1],ot=pt[2],St=pt[5];f[1]=pt[3],f[2]=pt[6],f[3]=Ct,f[5]=pt[7],f[6]=ot,f[7]=St}else f[0]=pt[0],f[1]=pt[3],f[2]=pt[6],f[3]=pt[1],f[4]=pt[4],f[5]=pt[7],f[6]=pt[2],f[7]=pt[5],f[8]=pt[8];return f}function w(f,pt){var Ct=pt[0],ot=pt[1],St=pt[2],xt=pt[3],Mt=pt[4],Et=pt[5],Tt=pt[6],gt=pt[7],it=pt[8],Q=it*Mt-Et*gt,U=-it*xt+Et*Tt,ct=gt*xt-Mt*Tt,tt=Ct*Q+ot*U+St*ct;return tt?(tt=1/tt,f[0]=Q*tt,f[1]=(-it*ot+St*gt)*tt,f[2]=(Et*ot-St*Mt)*tt,f[3]=U*tt,f[4]=(it*Ct-St*Tt)*tt,f[5]=(-Et*Ct+St*xt)*tt,f[6]=ct*tt,f[7]=(-gt*Ct+ot*Tt)*tt,f[8]=(Mt*Ct-ot*xt)*tt,f):null}function y(f,pt){var Ct=pt[0],ot=pt[1],St=pt[2],xt=pt[3],Mt=pt[4],Et=pt[5],Tt=pt[6],gt=pt[7],it=pt[8];return f[0]=Mt*it-Et*gt,f[1]=St*gt-ot*it,f[2]=ot*Et-St*Mt,f[3]=Et*Tt-xt*it,f[4]=Ct*it-St*Tt,f[5]=St*xt-Ct*Et,f[6]=xt*gt-Mt*Tt,f[7]=ot*Tt-Ct*gt,f[8]=Ct*Mt-ot*xt,f}function M(f){var pt=f[0],Ct=f[1],ot=f[2],St=f[3],xt=f[4],Mt=f[5],Et=f[6],Tt=f[7],gt=f[8];return pt*(gt*xt-Mt*Tt)+Ct*(-gt*St+Mt*Et)+ot*(Tt*St-xt*Et)}function T(f,pt,Ct){var ot=pt[0],St=pt[1],xt=pt[2],Mt=pt[3],Et=pt[4],Tt=pt[5],gt=pt[6],it=pt[7],Q=pt[8],U=Ct[0],ct=Ct[1],tt=Ct[2],et=Ct[3],dt=Ct[4],Lt=Ct[5],Xt=Ct[6],$t=Ct[7],fe=Ct[8];return f[0]=U*ot+ct*Mt+tt*gt,f[1]=U*St+ct*Et+tt*it,f[2]=U*xt+ct*Tt+tt*Q,f[3]=et*ot+dt*Mt+Lt*gt,f[4]=et*St+dt*Et+Lt*it,f[5]=et*xt+dt*Tt+Lt*Q,f[6]=Xt*ot+$t*Mt+fe*gt,f[7]=Xt*St+$t*Et+fe*it,f[8]=Xt*xt+$t*Tt+fe*Q,f}function B(f,pt,Ct){var ot=pt[0],St=pt[1],xt=pt[2],Mt=pt[3],Et=pt[4],Tt=pt[5],gt=pt[6],it=pt[7],Q=pt[8],U=Ct[0],ct=Ct[1];return f[0]=ot,f[1]=St,f[2]=xt,f[3]=Mt,f[4]=Et,f[5]=Tt,f[6]=U*ot+ct*Mt+gt,f[7]=U*St+ct*Et+it,f[8]=U*xt+ct*Tt+Q,f}function D(f,pt,Ct){var ot=pt[0],St=pt[1],xt=pt[2],Mt=pt[3],Et=pt[4],Tt=pt[5],gt=pt[6],it=pt[7],Q=pt[8],U=Math.sin(Ct),ct=Math.cos(Ct);return f[0]=ct*ot+U*Mt,f[1]=ct*St+U*Et,f[2]=ct*xt+U*Tt,f[3]=ct*Mt-U*ot,f[4]=ct*Et-U*St,f[5]=ct*Tt-U*xt,f[6]=gt,f[7]=it,f[8]=Q,f}function X(f,pt,Ct){var ot=Ct[0],St=Ct[1];return f[0]=ot*pt[0],f[1]=ot*pt[1],f[2]=ot*pt[2],f[3]=St*pt[3],f[4]=St*pt[4],f[5]=St*pt[5],f[6]=pt[6],f[7]=pt[7],f[8]=pt[8],f}function $(f,pt){return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=pt[0],f[7]=pt[1],f[8]=1,f}function H(f,pt){var Ct=Math.sin(pt),ot=Math.cos(pt);return f[0]=ot,f[1]=Ct,f[2]=0,f[3]=-Ct,f[4]=ot,f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function nt(f,pt){return f[0]=pt[0],f[1]=0,f[2]=0,f[3]=0,f[4]=pt[1],f[5]=0,f[6]=0,f[7]=0,f[8]=1,f}function ht(f,pt){return f[0]=pt[0],f[1]=pt[1],f[2]=0,f[3]=pt[2],f[4]=pt[3],f[5]=0,f[6]=pt[4],f[7]=pt[5],f[8]=1,f}function at(f,pt){var Ct=pt[0],ot=pt[1],St=pt[2],xt=pt[3],Mt=Ct+Ct,Et=ot+ot,Tt=St+St,gt=Ct*Mt,it=ot*Mt,Q=ot*Et,U=St*Mt,ct=St*Et,tt=St*Tt,et=xt*Mt,dt=xt*Et,Lt=xt*Tt;return f[0]=1-Q-tt,f[3]=it-Lt,f[6]=U+dt,f[1]=it+Lt,f[4]=1-gt-tt,f[7]=ct-et,f[2]=U-dt,f[5]=ct+et,f[8]=1-gt-Q,f}function Ot(f,pt){var Ct=pt[0],ot=pt[1],St=pt[2],xt=pt[3],Mt=pt[4],Et=pt[5],Tt=pt[6],gt=pt[7],it=pt[8],Q=pt[9],U=pt[10],ct=pt[11],tt=pt[12],et=pt[13],dt=pt[14],Lt=pt[15],Xt=Ct*Et-ot*Mt,$t=Ct*Tt-St*Mt,fe=Ct*gt-xt*Mt,me=ot*Tt-St*Et,pe=ot*gt-xt*Et,xe=St*gt-xt*Tt,Ie=it*et-Q*tt,je=it*dt-U*tt,ur=it*Lt-ct*tt,Ze=Q*dt-U*et,Ar=Q*Lt-ct*et,Jr=U*Lt-ct*dt,Er=Xt*Jr-$t*Ar+fe*Ze+me*ur-pe*je+xe*Ie;return Er?(Er=1/Er,f[0]=(Et*Jr-Tt*Ar+gt*Ze)*Er,f[1]=(Tt*ur-Mt*Jr-gt*je)*Er,f[2]=(Mt*Ar-Et*ur+gt*Ie)*Er,f[3]=(St*Ar-ot*Jr-xt*Ze)*Er,f[4]=(Ct*Jr-St*ur+xt*je)*Er,f[5]=(ot*ur-Ct*Ar-xt*Ie)*Er,f[6]=(et*xe-dt*pe+Lt*me)*Er,f[7]=(dt*fe-tt*xe-Lt*$t)*Er,f[8]=(tt*pe-et*fe+Lt*Xt)*Er,f):null}function Ft(f,pt,Ct){return f[0]=2/pt,f[1]=0,f[2]=0,f[3]=0,f[4]=-2/Ct,f[5]=0,f[6]=-1,f[7]=1,f[8]=1,f}function Dt(f){return"mat3("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+", "+f[4]+", "+f[5]+", "+f[6]+", "+f[7]+", "+f[8]+")"}function V(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2)+Math.pow(f[4],2)+Math.pow(f[5],2)+Math.pow(f[6],2)+Math.pow(f[7],2)+Math.pow(f[8],2))}function q(f,pt,Ct){return f[0]=pt[0]+Ct[0],f[1]=pt[1]+Ct[1],f[2]=pt[2]+Ct[2],f[3]=pt[3]+Ct[3],f[4]=pt[4]+Ct[4],f[5]=pt[5]+Ct[5],f[6]=pt[6]+Ct[6],f[7]=pt[7]+Ct[7],f[8]=pt[8]+Ct[8],f}function K(f,pt,Ct){return f[0]=pt[0]-Ct[0],f[1]=pt[1]-Ct[1],f[2]=pt[2]-Ct[2],f[3]=pt[3]-Ct[3],f[4]=pt[4]-Ct[4],f[5]=pt[5]-Ct[5],f[6]=pt[6]-Ct[6],f[7]=pt[7]-Ct[7],f[8]=pt[8]-Ct[8],f}function Z(f,pt,Ct){return f[0]=pt[0]*Ct,f[1]=pt[1]*Ct,f[2]=pt[2]*Ct,f[3]=pt[3]*Ct,f[4]=pt[4]*Ct,f[5]=pt[5]*Ct,f[6]=pt[6]*Ct,f[7]=pt[7]*Ct,f[8]=pt[8]*Ct,f}function mt(f,pt,Ct,ot){return f[0]=pt[0]+Ct[0]*ot,f[1]=pt[1]+Ct[1]*ot,f[2]=pt[2]+Ct[2]*ot,f[3]=pt[3]+Ct[3]*ot,f[4]=pt[4]+Ct[4]*ot,f[5]=pt[5]+Ct[5]*ot,f[6]=pt[6]+Ct[6]*ot,f[7]=pt[7]+Ct[7]*ot,f[8]=pt[8]+Ct[8]*ot,f}function rt(f,pt){return f[0]===pt[0]&&f[1]===pt[1]&&f[2]===pt[2]&&f[3]===pt[3]&&f[4]===pt[4]&&f[5]===pt[5]&&f[6]===pt[6]&&f[7]===pt[7]&&f[8]===pt[8]}function W(f,pt){var Ct=f[0],ot=f[1],St=f[2],xt=f[3],Mt=f[4],Et=f[5],Tt=f[6],gt=f[7],it=f[8],Q=pt[0],U=pt[1],ct=pt[2],tt=pt[3],et=pt[4],dt=pt[5],Lt=pt[6],Xt=pt[7],$t=pt[8];return Math.abs(Ct-Q)<=O.EPSILON*Math.max(1,Math.abs(Ct),Math.abs(Q))&&Math.abs(ot-U)<=O.EPSILON*Math.max(1,Math.abs(ot),Math.abs(U))&&Math.abs(St-ct)<=O.EPSILON*Math.max(1,Math.abs(St),Math.abs(ct))&&Math.abs(xt-tt)<=O.EPSILON*Math.max(1,Math.abs(xt),Math.abs(tt))&&Math.abs(Mt-et)<=O.EPSILON*Math.max(1,Math.abs(Mt),Math.abs(et))&&Math.abs(Et-dt)<=O.EPSILON*Math.max(1,Math.abs(Et),Math.abs(dt))&&Math.abs(Tt-Lt)<=O.EPSILON*Math.max(1,Math.abs(Tt),Math.abs(Lt))&&Math.abs(gt-Xt)<=O.EPSILON*Math.max(1,Math.abs(gt),Math.abs(Xt))&&Math.abs(it-$t)<=O.EPSILON*Math.max(1,Math.abs(it),Math.abs($t))}var z=S.mul=T,G=S.sub=K},76172:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.sqrDist=S.dist=S.div=S.mul=S.sub=S.len=void 0,S.create=L,S.clone=P,S.fromValues=_,S.copy=E,S.set=C,S.add=p,S.subtract=b,S.multiply=x,S.divide=w,S.ceil=y,S.floor=M,S.min=T,S.max=B,S.round=D,S.scale=X,S.scaleAndAdd=$,S.distance=H,S.squaredDistance=nt,S.length=ht,S.squaredLength=at,S.negate=Ot,S.inverse=Ft,S.normalize=Dt,S.dot=V,S.cross=q,S.lerp=K,S.random=Z,S.transformMat2=mt,S.transformMat2d=rt,S.transformMat3=W,S.transformMat4=z,S.rotate=G,S.angle=f,S.str=pt,S.exactEquals=Ct,S.equals=ot;var m=d(74988),O=I(m);function I(U){if(U&&U.__esModule)return U;var ct={};if(U!=null)for(var tt in U)Object.prototype.hasOwnProperty.call(U,tt)&&(ct[tt]=U[tt]);return ct.default=U,ct}function L(){var U=new O.ARRAY_TYPE(2);return O.ARRAY_TYPE!=Float32Array&&(U[0]=0,U[1]=0),U}function P(U){var ct=new O.ARRAY_TYPE(2);return ct[0]=U[0],ct[1]=U[1],ct}function _(U,ct){var tt=new O.ARRAY_TYPE(2);return tt[0]=U,tt[1]=ct,tt}function E(U,ct){return U[0]=ct[0],U[1]=ct[1],U}function C(U,ct,tt){return U[0]=ct,U[1]=tt,U}function p(U,ct,tt){return U[0]=ct[0]+tt[0],U[1]=ct[1]+tt[1],U}function b(U,ct,tt){return U[0]=ct[0]-tt[0],U[1]=ct[1]-tt[1],U}function x(U,ct,tt){return U[0]=ct[0]*tt[0],U[1]=ct[1]*tt[1],U}function w(U,ct,tt){return U[0]=ct[0]/tt[0],U[1]=ct[1]/tt[1],U}function y(U,ct){return U[0]=Math.ceil(ct[0]),U[1]=Math.ceil(ct[1]),U}function M(U,ct){return U[0]=Math.floor(ct[0]),U[1]=Math.floor(ct[1]),U}function T(U,ct,tt){return U[0]=Math.min(ct[0],tt[0]),U[1]=Math.min(ct[1],tt[1]),U}function B(U,ct,tt){return U[0]=Math.max(ct[0],tt[0]),U[1]=Math.max(ct[1],tt[1]),U}function D(U,ct){return U[0]=Math.round(ct[0]),U[1]=Math.round(ct[1]),U}function X(U,ct,tt){return U[0]=ct[0]*tt,U[1]=ct[1]*tt,U}function $(U,ct,tt,et){return U[0]=ct[0]+tt[0]*et,U[1]=ct[1]+tt[1]*et,U}function H(U,ct){var tt=ct[0]-U[0],et=ct[1]-U[1];return Math.sqrt(tt*tt+et*et)}function nt(U,ct){var tt=ct[0]-U[0],et=ct[1]-U[1];return tt*tt+et*et}function ht(U){var ct=U[0],tt=U[1];return Math.sqrt(ct*ct+tt*tt)}function at(U){var ct=U[0],tt=U[1];return ct*ct+tt*tt}function Ot(U,ct){return U[0]=-ct[0],U[1]=-ct[1],U}function Ft(U,ct){return U[0]=1/ct[0],U[1]=1/ct[1],U}function Dt(U,ct){var tt=ct[0],et=ct[1],dt=tt*tt+et*et;return dt>0&&(dt=1/Math.sqrt(dt),U[0]=ct[0]*dt,U[1]=ct[1]*dt),U}function V(U,ct){return U[0]*ct[0]+U[1]*ct[1]}function q(U,ct,tt){var et=ct[0]*tt[1]-ct[1]*tt[0];return U[0]=U[1]=0,U[2]=et,U}function K(U,ct,tt,et){var dt=ct[0],Lt=ct[1];return U[0]=dt+et*(tt[0]-dt),U[1]=Lt+et*(tt[1]-Lt),U}function Z(U,ct){ct=ct||1;var tt=O.RANDOM()*2*Math.PI;return U[0]=Math.cos(tt)*ct,U[1]=Math.sin(tt)*ct,U}function mt(U,ct,tt){var et=ct[0],dt=ct[1];return U[0]=tt[0]*et+tt[2]*dt,U[1]=tt[1]*et+tt[3]*dt,U}function rt(U,ct,tt){var et=ct[0],dt=ct[1];return U[0]=tt[0]*et+tt[2]*dt+tt[4],U[1]=tt[1]*et+tt[3]*dt+tt[5],U}function W(U,ct,tt){var et=ct[0],dt=ct[1];return U[0]=tt[0]*et+tt[3]*dt+tt[6],U[1]=tt[1]*et+tt[4]*dt+tt[7],U}function z(U,ct,tt){var et=ct[0],dt=ct[1];return U[0]=tt[0]*et+tt[4]*dt+tt[12],U[1]=tt[1]*et+tt[5]*dt+tt[13],U}function G(U,ct,tt,et){var dt=ct[0]-tt[0],Lt=ct[1]-tt[1],Xt=Math.sin(et),$t=Math.cos(et);return U[0]=dt*$t-Lt*Xt+tt[0],U[1]=dt*Xt+Lt*$t+tt[1],U}function f(U,ct){var tt=U[0],et=U[1],dt=ct[0],Lt=ct[1],Xt=tt*tt+et*et;Xt>0&&(Xt=1/Math.sqrt(Xt));var $t=dt*dt+Lt*Lt;$t>0&&($t=1/Math.sqrt($t));var fe=(tt*dt+et*Lt)*Xt*$t;return fe>1?0:fe<-1?Math.PI:Math.acos(fe)}function pt(U){return"vec2("+U[0]+", "+U[1]+")"}function Ct(U,ct){return U[0]===ct[0]&&U[1]===ct[1]}function ot(U,ct){var tt=U[0],et=U[1],dt=ct[0],Lt=ct[1];return Math.abs(tt-dt)<=O.EPSILON*Math.max(1,Math.abs(tt),Math.abs(dt))&&Math.abs(et-Lt)<=O.EPSILON*Math.max(1,Math.abs(et),Math.abs(Lt))}var St=S.len=ht,xt=S.sub=b,Mt=S.mul=x,Et=S.div=w,Tt=S.dist=H,gt=S.sqrDist=nt,it=S.sqrLen=at,Q=S.forEach=function(){var U=L();return function(ct,tt,et,dt,Lt,Xt){var $t=void 0,fe=void 0;for(tt||(tt=2),et||(et=0),dt?fe=Math.min(dt*tt+et,ct.length):fe=ct.length,$t=et;$t<fe;$t+=tt)U[0]=ct[$t],U[1]=ct[$t+1],Lt(U,U,Xt),ct[$t]=U[0],ct[$t+1]=U[1];return ct}}()},88395:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.forEach=S.sqrLen=S.len=S.sqrDist=S.dist=S.div=S.mul=S.sub=void 0,S.create=L,S.clone=P,S.length=_,S.fromValues=E,S.copy=C,S.set=p,S.add=b,S.subtract=x,S.multiply=w,S.divide=y,S.ceil=M,S.floor=T,S.min=B,S.max=D,S.round=X,S.scale=$,S.scaleAndAdd=H,S.distance=nt,S.squaredDistance=ht,S.squaredLength=at,S.negate=Ot,S.inverse=Ft,S.normalize=Dt,S.dot=V,S.cross=q,S.lerp=K,S.hermite=Z,S.bezier=mt,S.random=rt,S.transformMat4=W,S.transformMat3=z,S.transformQuat=G,S.rotateX=f,S.rotateY=pt,S.rotateZ=Ct,S.angle=ot,S.str=St,S.exactEquals=xt,S.equals=Mt;var m=d(74988),O=I(m);function I(et){if(et&&et.__esModule)return et;var dt={};if(et!=null)for(var Lt in et)Object.prototype.hasOwnProperty.call(et,Lt)&&(dt[Lt]=et[Lt]);return dt.default=et,dt}function L(){var et=new O.ARRAY_TYPE(3);return O.ARRAY_TYPE!=Float32Array&&(et[0]=0,et[1]=0,et[2]=0),et}function P(et){var dt=new O.ARRAY_TYPE(3);return dt[0]=et[0],dt[1]=et[1],dt[2]=et[2],dt}function _(et){var dt=et[0],Lt=et[1],Xt=et[2];return Math.sqrt(dt*dt+Lt*Lt+Xt*Xt)}function E(et,dt,Lt){var Xt=new O.ARRAY_TYPE(3);return Xt[0]=et,Xt[1]=dt,Xt[2]=Lt,Xt}function C(et,dt){return et[0]=dt[0],et[1]=dt[1],et[2]=dt[2],et}function p(et,dt,Lt,Xt){return et[0]=dt,et[1]=Lt,et[2]=Xt,et}function b(et,dt,Lt){return et[0]=dt[0]+Lt[0],et[1]=dt[1]+Lt[1],et[2]=dt[2]+Lt[2],et}function x(et,dt,Lt){return et[0]=dt[0]-Lt[0],et[1]=dt[1]-Lt[1],et[2]=dt[2]-Lt[2],et}function w(et,dt,Lt){return et[0]=dt[0]*Lt[0],et[1]=dt[1]*Lt[1],et[2]=dt[2]*Lt[2],et}function y(et,dt,Lt){return et[0]=dt[0]/Lt[0],et[1]=dt[1]/Lt[1],et[2]=dt[2]/Lt[2],et}function M(et,dt){return et[0]=Math.ceil(dt[0]),et[1]=Math.ceil(dt[1]),et[2]=Math.ceil(dt[2]),et}function T(et,dt){return et[0]=Math.floor(dt[0]),et[1]=Math.floor(dt[1]),et[2]=Math.floor(dt[2]),et}function B(et,dt,Lt){return et[0]=Math.min(dt[0],Lt[0]),et[1]=Math.min(dt[1],Lt[1]),et[2]=Math.min(dt[2],Lt[2]),et}function D(et,dt,Lt){return et[0]=Math.max(dt[0],Lt[0]),et[1]=Math.max(dt[1],Lt[1]),et[2]=Math.max(dt[2],Lt[2]),et}function X(et,dt){return et[0]=Math.round(dt[0]),et[1]=Math.round(dt[1]),et[2]=Math.round(dt[2]),et}function $(et,dt,Lt){return et[0]=dt[0]*Lt,et[1]=dt[1]*Lt,et[2]=dt[2]*Lt,et}function H(et,dt,Lt,Xt){return et[0]=dt[0]+Lt[0]*Xt,et[1]=dt[1]+Lt[1]*Xt,et[2]=dt[2]+Lt[2]*Xt,et}function nt(et,dt){var Lt=dt[0]-et[0],Xt=dt[1]-et[1],$t=dt[2]-et[2];return Math.sqrt(Lt*Lt+Xt*Xt+$t*$t)}function ht(et,dt){var Lt=dt[0]-et[0],Xt=dt[1]-et[1],$t=dt[2]-et[2];return Lt*Lt+Xt*Xt+$t*$t}function at(et){var dt=et[0],Lt=et[1],Xt=et[2];return dt*dt+Lt*Lt+Xt*Xt}function Ot(et,dt){return et[0]=-dt[0],et[1]=-dt[1],et[2]=-dt[2],et}function Ft(et,dt){return et[0]=1/dt[0],et[1]=1/dt[1],et[2]=1/dt[2],et}function Dt(et,dt){var Lt=dt[0],Xt=dt[1],$t=dt[2],fe=Lt*Lt+Xt*Xt+$t*$t;return fe>0&&(fe=1/Math.sqrt(fe),et[0]=dt[0]*fe,et[1]=dt[1]*fe,et[2]=dt[2]*fe),et}function V(et,dt){return et[0]*dt[0]+et[1]*dt[1]+et[2]*dt[2]}function q(et,dt,Lt){var Xt=dt[0],$t=dt[1],fe=dt[2],me=Lt[0],pe=Lt[1],xe=Lt[2];return et[0]=$t*xe-fe*pe,et[1]=fe*me-Xt*xe,et[2]=Xt*pe-$t*me,et}function K(et,dt,Lt,Xt){var $t=dt[0],fe=dt[1],me=dt[2];return et[0]=$t+Xt*(Lt[0]-$t),et[1]=fe+Xt*(Lt[1]-fe),et[2]=me+Xt*(Lt[2]-me),et}function Z(et,dt,Lt,Xt,$t,fe){var me=fe*fe,pe=me*(2*fe-3)+1,xe=me*(fe-2)+fe,Ie=me*(fe-1),je=me*(3-2*fe);return et[0]=dt[0]*pe+Lt[0]*xe+Xt[0]*Ie+$t[0]*je,et[1]=dt[1]*pe+Lt[1]*xe+Xt[1]*Ie+$t[1]*je,et[2]=dt[2]*pe+Lt[2]*xe+Xt[2]*Ie+$t[2]*je,et}function mt(et,dt,Lt,Xt,$t,fe){var me=1-fe,pe=me*me,xe=fe*fe,Ie=pe*me,je=3*fe*pe,ur=3*xe*me,Ze=xe*fe;return et[0]=dt[0]*Ie+Lt[0]*je+Xt[0]*ur+$t[0]*Ze,et[1]=dt[1]*Ie+Lt[1]*je+Xt[1]*ur+$t[1]*Ze,et[2]=dt[2]*Ie+Lt[2]*je+Xt[2]*ur+$t[2]*Ze,et}function rt(et,dt){dt=dt||1;var Lt=O.RANDOM()*2*Math.PI,Xt=O.RANDOM()*2-1,$t=Math.sqrt(1-Xt*Xt)*dt;return et[0]=Math.cos(Lt)*$t,et[1]=Math.sin(Lt)*$t,et[2]=Xt*dt,et}function W(et,dt,Lt){var Xt=dt[0],$t=dt[1],fe=dt[2],me=Lt[3]*Xt+Lt[7]*$t+Lt[11]*fe+Lt[15];return me=me||1,et[0]=(Lt[0]*Xt+Lt[4]*$t+Lt[8]*fe+Lt[12])/me,et[1]=(Lt[1]*Xt+Lt[5]*$t+Lt[9]*fe+Lt[13])/me,et[2]=(Lt[2]*Xt+Lt[6]*$t+Lt[10]*fe+Lt[14])/me,et}function z(et,dt,Lt){var Xt=dt[0],$t=dt[1],fe=dt[2];return et[0]=Xt*Lt[0]+$t*Lt[3]+fe*Lt[6],et[1]=Xt*Lt[1]+$t*Lt[4]+fe*Lt[7],et[2]=Xt*Lt[2]+$t*Lt[5]+fe*Lt[8],et}function G(et,dt,Lt){var Xt=Lt[0],$t=Lt[1],fe=Lt[2],me=Lt[3],pe=dt[0],xe=dt[1],Ie=dt[2],je=$t*Ie-fe*xe,ur=fe*pe-Xt*Ie,Ze=Xt*xe-$t*pe,Ar=$t*Ze-fe*ur,Jr=fe*je-Xt*Ze,Er=Xt*ur-$t*je,Hr=me*2;return je*=Hr,ur*=Hr,Ze*=Hr,Ar*=2,Jr*=2,Er*=2,et[0]=pe+je+Ar,et[1]=xe+ur+Jr,et[2]=Ie+Ze+Er,et}function f(et,dt,Lt,Xt){var $t=[],fe=[];return $t[0]=dt[0]-Lt[0],$t[1]=dt[1]-Lt[1],$t[2]=dt[2]-Lt[2],fe[0]=$t[0],fe[1]=$t[1]*Math.cos(Xt)-$t[2]*Math.sin(Xt),fe[2]=$t[1]*Math.sin(Xt)+$t[2]*Math.cos(Xt),et[0]=fe[0]+Lt[0],et[1]=fe[1]+Lt[1],et[2]=fe[2]+Lt[2],et}function pt(et,dt,Lt,Xt){var $t=[],fe=[];return $t[0]=dt[0]-Lt[0],$t[1]=dt[1]-Lt[1],$t[2]=dt[2]-Lt[2],fe[0]=$t[2]*Math.sin(Xt)+$t[0]*Math.cos(Xt),fe[1]=$t[1],fe[2]=$t[2]*Math.cos(Xt)-$t[0]*Math.sin(Xt),et[0]=fe[0]+Lt[0],et[1]=fe[1]+Lt[1],et[2]=fe[2]+Lt[2],et}function Ct(et,dt,Lt,Xt){var $t=[],fe=[];return $t[0]=dt[0]-Lt[0],$t[1]=dt[1]-Lt[1],$t[2]=dt[2]-Lt[2],fe[0]=$t[0]*Math.cos(Xt)-$t[1]*Math.sin(Xt),fe[1]=$t[0]*Math.sin(Xt)+$t[1]*Math.cos(Xt),fe[2]=$t[2],et[0]=fe[0]+Lt[0],et[1]=fe[1]+Lt[1],et[2]=fe[2]+Lt[2],et}function ot(et,dt){var Lt=E(et[0],et[1],et[2]),Xt=E(dt[0],dt[1],dt[2]);Dt(Lt,Lt),Dt(Xt,Xt);var $t=V(Lt,Xt);return $t>1?0:$t<-1?Math.PI:Math.acos($t)}function St(et){return"vec3("+et[0]+", "+et[1]+", "+et[2]+")"}function xt(et,dt){return et[0]===dt[0]&&et[1]===dt[1]&&et[2]===dt[2]}function Mt(et,dt){var Lt=et[0],Xt=et[1],$t=et[2],fe=dt[0],me=dt[1],pe=dt[2];return Math.abs(Lt-fe)<=O.EPSILON*Math.max(1,Math.abs(Lt),Math.abs(fe))&&Math.abs(Xt-me)<=O.EPSILON*Math.max(1,Math.abs(Xt),Math.abs(me))&&Math.abs($t-pe)<=O.EPSILON*Math.max(1,Math.abs($t),Math.abs(pe))}var Et=S.sub=x,Tt=S.mul=w,gt=S.div=y,it=S.dist=nt,Q=S.sqrDist=ht,U=S.len=_,ct=S.sqrLen=at,tt=S.forEach=function(){var et=L();return function(dt,Lt,Xt,$t,fe,me){var pe=void 0,xe=void 0;for(Lt||(Lt=3),Xt||(Xt=0),$t?xe=Math.min($t*Lt+Xt,dt.length):xe=dt.length,pe=Xt;pe<xe;pe+=Lt)et[0]=dt[pe],et[1]=dt[pe+1],et[2]=dt[pe+2],fe(et,et,me),dt[pe]=et[0],dt[pe+1]=et[1],dt[pe+2]=et[2];return dt}}()},92640:function(_t,S,d){function m(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=d(4905),I=d(90390),L=d(30130),P=d(22965),_=function(p){m(b,p);function b(){return p.apply(this,arguments)||this}var x=b.prototype;return x.execute=function(){var y=this;return L(y.rootNode,y.options,I)},b}(O),E={};function C(p,b){return b=P.assign({},E,b),new _(p,b).execute()}_t.exports=C},34542:function(_t,S,d){function m(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=d(4905),I=d(37133),L=d(30130),P=d(22965),_=function(p){m(b,p);function b(){return p.apply(this,arguments)||this}var x=b.prototype;return x.execute=function(){var y=this;return y.rootNode.width=0,L(y.rootNode,y.options,I)},b}(O),E={};function C(p,b){return b=P.assign({},E,b),new _(p,b).execute()}_t.exports=C},57088:function(_t,S,d){function m(x,w){x.prototype=Object.create(w.prototype),x.prototype.constructor=x,x.__proto__=w}var O=d(4905),I=d(10568),L=d(59286),P=d(22965),_=["LR","RL","H"],E=_[0],C=function(x){m(w,x);function w(){return x.apply(this,arguments)||this}var y=w.prototype;return y.execute=function(){var T=this,B=T.options,D=T.rootNode;B.isHorizontal=!0;var X=B.indent,$=X===void 0?20:X,H=B.dropCap,nt=H===void 0?!0:H,ht=B.direction||E;if(ht&&_.indexOf(ht)===-1)throw new TypeError("Invalid direction: "+ht);if(ht===_[0])I(D,$,nt);else if(ht===_[1])I(D,$,nt),D.right2left();else if(ht===_[2]){var at=L(D,B),Ot=at.left,Ft=at.right;I(Ot,$,nt),Ot.right2left(),I(Ft,$,nt);var Dt=Ot.getBoundingBox();Ft.translate(Dt.width,0),D.x=Ft.x-D.width/2}return D},w}(O),p={};function b(x,w){return w=P.assign({},p,w),new C(x,w).execute()}_t.exports=b},77201:function(_t,S,d){var m={compactBox:d(92640),dendrogram:d(34542),indented:d(57088),mindmap:d(1355)};_t.exports=m},4905:function(_t,S,d){var m=d(27249),O=function(){function I(P,_){_===void 0&&(_={});var E=this;E.options=_,E.rootNode=m(P,_)}var L=I.prototype;return L.execute=function(){throw new Error("please override this method")},I}();_t.exports=O},37133:function(_t,S,d){var m=d(22965);function O(P,_){P===void 0&&(P=0),_===void 0&&(_=[]);var E=this;E.x=E.y=0,E.leftChild=E.rightChild=null,E.height=0,E.children=_}var I={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function L(P,_,E){E?(_.x=P.x,_.y=P.y):(_.x=P.y,_.y=P.x),P.children.forEach(function(C,p){L(C,_.children[p],E)})}_t.exports=function(P,_){_===void 0&&(_={}),_=m.assign({},I,_);var E=0;function C(y){if(!y)return null;y.width=0,y.depth&&y.depth>E&&(E=y.depth);var M=y.children,T=M.length,B=new O(y.height,[]);return M.forEach(function(D,X){var $=C(D);B.children.push($),X===0&&(B.leftChild=$),X===T-1&&(B.rightChild=$)}),B.originNode=y,B.isLeaf=y.isLeaf(),B}function p(y){if(y.isLeaf||y.children.length===0)y.drawingDepth=E;else{var M=y.children.map(function(B){return p(B)}),T=Math.min.apply(null,M);y.drawingDepth=T-1}return y.drawingDepth}var b;function x(y){y.x=y.drawingDepth*_.rankSep,y.isLeaf?(y.y=0,b&&(y.y=b.y+b.height+_.nodeSep,y.originNode.parent!==b.originNode.parent&&(y.y+=_.subTreeSep)),b=y):(y.children.forEach(function(M){x(M)}),y.y=(y.leftChild.y+y.rightChild.y)/2)}var w=C(P);return p(w),x(w),L(w,P,_.isHorizontal),P}},30130:function(_t,S,d){var m=d(59286),O=["LR","RL","TB","BT","H","V"],I=["LR","RL","H"],L=function(E){return I.indexOf(E)>-1},P=O[0];_t.exports=function(_,E,C){var p=E.direction||P;if(E.isHorizontal=L(p),p&&O.indexOf(p)===-1)throw new TypeError("Invalid direction: "+p);if(p===O[0])C(_,E);else if(p===O[1])C(_,E),_.right2left();else if(p===O[2])C(_,E);else if(p===O[3])C(_,E),_.bottom2top();else if(p===O[4]||p===O[5]){var b=m(_,E),x=b.left,w=b.right;C(x,E),C(w,E),E.isHorizontal?x.right2left():x.bottom2top(),w.translate(x.x-w.x,x.y-w.y),_.x=x.x,_.y=w.y;var y=_.getBoundingBox();E.isHorizontal?y.top<0&&_.translate(0,-y.top):y.left<0&&_.translate(-y.left,0)}var M=E.fixedRoot;return M===void 0&&(M=!0),M&&_.translate(-(_.x+_.width/2+_.hgap),-(_.y+_.height/2+_.vgap)),_}},27249:function(_t,S,d){var m=d(22965),O=18,I=O*2,L=O,P={getId:function(p){return p.id||p.name},getPreH:function(p){return p.preH||0},getPreV:function(p){return p.preV||0},getHGap:function(p){return p.hgap||L},getVGap:function(p){return p.vgap||L},getChildren:function(p){return p.children},getHeight:function(p){return p.height||I},getWidth:function(p){var b=p.label||" ";return p.width||b.split("").length*O}};function _(C,p){var b=this;if(b.vgap=b.hgap=0,C instanceof _)return C;b.data=C;var x=p.getHGap(C),w=p.getVGap(C);return b.preH=p.getPreH(C),b.preV=p.getPreV(C),b.width=p.getWidth(C),b.height=p.getHeight(C),b.width+=b.preH,b.height+=b.preV,b.id=p.getId(C),b.x=b.y=0,b.depth=0,b.children||(b.children=[]),b.addGap(x,w),b}m.assign(_.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(p,b){var x=this;x.hgap+=p,x.vgap+=b,x.width+=2*p,x.height+=2*b},eachNode:function(p){for(var b=this,x=[b],w;w=x.shift();)p(w),x=w.children.concat(x)},DFTraverse:function(p){this.eachNode(p)},BFTraverse:function(p){for(var b=this,x=[b],w;w=x.shift();)p(w),x=x.concat(w.children)},getBoundingBox:function(){var p={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(b){p.left=Math.min(p.left,b.x),p.top=Math.min(p.top,b.y),p.width=Math.max(p.width,b.x+b.width),p.height=Math.max(p.height,b.y+b.height)}),p},translate:function(p,b){p===void 0&&(p=0),b===void 0&&(b=0),this.eachNode(function(x){x.x+=p,x.y+=b,x.x+=x.preH,x.y+=x.preV})},right2left:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(x){x.x=x.x-(x.x-b.left)*2-x.width}),p.translate(b.width,0)},bottom2top:function(){var p=this,b=p.getBoundingBox();p.eachNode(function(x){x.y=x.y-(x.y-b.top)*2-x.height}),p.translate(0,b.height)}});function E(C,p,b){p===void 0&&(p={}),p=m.assign({},P,p);var x=new _(C,p),w=[x],y;if(!b&&!C.collapsed){for(;y=w.shift();)if(!y.data.collapsed){var M=p.getChildren(y.data),T=M?M.length:0;if(y.children=new Array(T),M&&T)for(var B=0;B<T;B++){var D=new _(M[B],p);y.children[B]=D,w.push(D),D.parent=y,D.depth=y.depth+1}}}return x}_t.exports=E},10568:function(_t){function S(d,m,O,I){var L=typeof O=="function"?O(d):O*d.depth;if(!I)try{if(d.id===d.parent.children[0].id){d.x+=L,d.y=m?m.y:0;return}}catch(P){}d.x+=L,d.y=m?m.y+m.height:0}_t.exports=function(d,m,O){var I=null;d.eachNode(function(L){S(L,I,m,O),I=L})}},24461:function(_t,S,d){var m=d(22965);function O(P,_){var E=0;return P.children.length?P.children.forEach(function(C){E+=O(C,_)}):E=P.height,P._subTreeSep=_.getSubTreeSep(P.data),P.totalHeight=Math.max(P.height,E)+2*P._subTreeSep,P.totalHeight}function I(P){var _=P.children,E=_.length;if(E){_.forEach(function(y){I(y)});var C=_[0],p=_[E-1],b=p.y-C.y+p.height,x=0;if(_.forEach(function(y){x+=y.totalHeight}),b>P.height)P.y=C.y+b/2-P.height/2;else if(_.length!==1||P.height>x){var w=P.y+(P.height-b)/2-C.y;_.forEach(function(y){y.translate(0,w)})}else P.y=(C.y+C.height/2+p.y+p.height/2)/2-P.height/2}}var L={getSubTreeSep:function(){return 0}};_t.exports=function(P,_){_===void 0&&(_={}),_=m.assign({},L,_),P.parent={x:0,width:0,height:0,y:0},P.BFTraverse(function(E){E.x=E.parent.x+E.parent.width}),P.parent=null,O(P,_),P.startY=0,P.y=P.totalHeight/2-P.height/2,P.eachNode(function(E){var C=E.children,p=C.length;if(p){var b=C[0];if(b.startY=E.startY+E._subTreeSep,p===1)b.y=E.y+E.height/2-b.height/2;else{b.y=b.startY+b.totalHeight/2-b.height/2;for(var x=1;x<p;x++){var w=C[x];w.startY=C[x-1].startY+C[x-1].totalHeight,w.y=w.startY+w.totalHeight/2-w.height/2}}}}),I(P)}},90390:function(_t){function S(P,_,E,C){C===void 0&&(C=[]);var p=this;p.w=P||0,p.h=_||0,p.y=E||0,p.x=0,p.c=C||[],p.cs=C.length,p.prelim=0,p.mod=0,p.shift=0,p.change=0,p.tl=null,p.tr=null,p.el=null,p.er=null,p.msel=0,p.mser=0}S.fromNode=function(P,_){if(!P)return null;var E=[];return P.children.forEach(function(C){E.push(S.fromNode(C,_))}),_?new S(P.height,P.width,P.x,E):new S(P.width,P.height,P.y,E)};function d(P,_,E){E?P.y+=_:P.x+=_,P.children.forEach(function(C){d(C,_,E)})}function m(P,_){var E=_?P.y:P.x;return P.children.forEach(function(C){E=Math.min(m(C,_),E)}),E}function O(P,_){var E=m(P,_);d(P,-E,_)}function I(P,_,E){E?_.y=P.x:_.x=P.x,P.c.forEach(function(C,p){I(C,_.children[p],E)})}function L(P,_,E){E===void 0&&(E=0),_?(P.x=E,E+=P.width):(P.y=E,E+=P.height),P.children.forEach(function(C){L(C,_,E)})}_t.exports=function(P,_){_===void 0&&(_={});var E=_.isHorizontal;function C(at){if(at.cs===0){p(at);return}C(at.c[0]);for(var Ot=nt(M(at.c[0].el),0,null),Ft=1;Ft<at.cs;++Ft){C(at.c[Ft]);var Dt=M(at.c[Ft].er);b(at,Ft,Ot),Ot=nt(Dt,Ft,Ot)}D(at),p(at)}function p(at){at.cs===0?(at.el=at,at.er=at,at.msel=at.mser=0):(at.el=at.c[0].el,at.msel=at.c[0].msel,at.er=at.c[at.cs-1].er,at.mser=at.c[at.cs-1].mser)}function b(at,Ot,Ft){for(var Dt=at.c[Ot-1],V=Dt.mod,q=at.c[Ot],K=q.mod;Dt!==null&&q!==null;){M(Dt)>Ft.low&&(Ft=Ft.nxt);var Z=V+Dt.prelim+Dt.w-(K+q.prelim);Z>0&&(K+=Z,x(at,Ot,Ft.index,Z));var mt=M(Dt),rt=M(q);mt<=rt&&(Dt=y(Dt),Dt!==null&&(V+=Dt.mod)),mt>=rt&&(q=w(q),q!==null&&(K+=q.mod))}!Dt&&!!q?T(at,Ot,q,K):!!Dt&&!q&&B(at,Ot,Dt,V)}function x(at,Ot,Ft,Dt){at.c[Ot].mod+=Dt,at.c[Ot].msel+=Dt,at.c[Ot].mser+=Dt,$(at,Ot,Ft,Dt)}function w(at){return at.cs===0?at.tl:at.c[0]}function y(at){return at.cs===0?at.tr:at.c[at.cs-1]}function M(at){return at.y+at.h}function T(at,Ot,Ft,Dt){var V=at.c[0].el;V.tl=Ft;var q=Dt-Ft.mod-at.c[0].msel;V.mod+=q,V.prelim-=q,at.c[0].el=at.c[Ot].el,at.c[0].msel=at.c[Ot].msel}function B(at,Ot,Ft,Dt){var V=at.c[Ot].er;V.tr=Ft;var q=Dt-Ft.mod-at.c[Ot].mser;V.mod+=q,V.prelim-=q,at.c[Ot].er=at.c[Ot-1].er,at.c[Ot].mser=at.c[Ot-1].mser}function D(at){at.prelim=(at.c[0].prelim+at.c[0].mod+at.c[at.cs-1].mod+at.c[at.cs-1].prelim+at.c[at.cs-1].w)/2-at.w/2}function X(at,Ot){Ot+=at.mod,at.x=at.prelim+Ot,H(at);for(var Ft=0;Ft<at.cs;Ft++)X(at.c[Ft],Ot)}function $(at,Ot,Ft,Dt){if(Ft!==Ot-1){var V=Ot-Ft;at.c[Ft+1].shift+=Dt/V,at.c[Ot].shift-=Dt/V,at.c[Ot].change-=Dt-Dt/V}}function H(at){for(var Ot=0,Ft=0,Dt=0;Dt<at.cs;Dt++)Ot+=at.c[Dt].shift,Ft+=Ot+at.c[Dt].change,at.c[Dt].mod+=Ft}function nt(at,Ot,Ft){for(;Ft!==null&&at>=Ft.low;)Ft=Ft.nxt;return{low:at,index:Ot,nxt:Ft}}L(P,E);var ht=S.fromNode(P,E);return C(ht),X(ht,0),I(ht,P,E),O(P,E),P}},59286:function(_t,S,d){var m=d(27249);_t.exports=function(O,I){for(var L=m(O.data,I,!0),P=m(O.data,I,!0),_=O.children.length,E=Math.round(_/2),C=I.getSide||function(w,y){return y<E?"right":"left"},p=0;p<_;p++){var b=O.children[p],x=C(b,p);x==="right"?P.children.push(b):L.children.push(b)}return L.eachNode(function(w){w.isRoot()||(w.side="left")}),P.eachNode(function(w){w.isRoot()||(w.side="right")}),{left:L,right:P}}},1355:function(_t,S,d){function m(p,b){p.prototype=Object.create(b.prototype),p.prototype.constructor=p,p.__proto__=b}var O=d(4905),I=d(24461),L=d(30130),P=d(22965),_=function(p){m(b,p);function b(){return p.apply(this,arguments)||this}var x=b.prototype;return x.execute=function(){var y=this;return L(y.rootNode,y.options,I)},b}(O),E={};function C(p,b){return b=P.assign({},E,b),new _(p,b).execute()}_t.exports=C},22965:function(_t,S,d){var m=d(49242),O=m.mix;_t.exports={assign:O}},31506:function(_t,S,d){"use strict";d.r(S),d.d(S,{leftTranslate:function(){return I},leftRotate:function(){return L},leftScale:function(){return P},transform:function(){return E},direction:function(){return C},angleTo:function(){return p},vertical:function(){return b}});var m=d(35600),O=d(31437);function I(x,w,y){var M=[0,0,0,0,0,0,0,0,0];return m.fromTranslation(M,y),m.multiply(x,M,w)}function L(x,w,y){var M=[0,0,0,0,0,0,0,0,0];return m.fromRotation(M,y),m.multiply(x,M,w)}function P(x,w,y){var M=[0,0,0,0,0,0,0,0,0];return m.fromScaling(M,y),m.multiply(x,M,w)}function _(x,w,y){return m.multiply(x,y,w)}function E(x,w){for(var y=x?[].concat(x):[1,0,0,0,1,0,0,0,1],M=0,T=w.length;M<T;M++){var B=w[M];switch(B[0]){case"t":I(y,y,[B[1],B[2]]);break;case"s":P(y,y,[B[1],B[2]]);break;case"r":L(y,y,B[1]);break;case"m":_(y,y,B[1]);break;default:break}}return y}function C(x,w){return x[0]*w[1]-w[0]*x[1]}function p(x,w,y){var M=O.angle(x,w),T=C(x,w)>=0;return y?T?Math.PI*2-M:M:T?M:Math.PI*2-M}function b(x,w,y){return y?(x[0]=w[1],x[1]=-1*w[0]):(x[0]=-1*w[1],x[1]=w[0]),x}},43567:function(_t,S,d){"use strict";d.r(S),d.d(S,{mat3:function(){return m},vec2:function(){return O},vec3:function(){return I},ext:function(){return L}});var m=d(35600),O=d(31437),I=d(77160),L=d(31506)},57350:function(_t,S,d){"use strict";d.r(S),d.d(S,{catmullRom2Bezier:function(){return p},fillPath:function(){return y},fillPathByDiff:function(){return B},formatPath:function(){return $},getArcParams:function(){return pe},getLineIntersect:function(){return ur},isPointInPolygon:function(){return Er},isPolygonsIntersect:function(){return Pn},parsePath:function(){return P},parsePathArray:function(){return Lt},parsePathString:function(){return Ot},path2Absolute:function(){return V},path2Curve:function(){return Ct},path2Segments:function(){return Ie},pathIntersection:function(){return et},reactPath:function(){return H}});var m=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function L(Kt){var Jt=Kt||[];if((0,m.isArray)(Jt))return Jt;if((0,m.isString)(Jt))return Jt=Jt.match(O),(0,m.each)(Jt,function(re,oe){if(re=re.match(I),re[0].length>1){var ge=re[0].charAt(0);re.splice(1,0,re[0].substr(1)),re[0]=ge}(0,m.each)(re,function(be,Ce){isNaN(be)||(re[Ce]=+be)}),Jt[oe]=re}),Jt}var P=L,_=d(31437);function E(Kt,Jt,re,oe){var ge=[],be=!!oe,Ce,Me,he,Ge,Le,He,er;if(be){he=oe[0],Ge=oe[1];for(var Ue=0,nr=Kt.length;Ue<nr;Ue+=1){var qe=Kt[Ue];he=_.min([0,0],he,qe),Ge=_.max([0,0],Ge,qe)}}for(var Ue=0,fr=Kt.length;Ue<fr;Ue+=1){var qe=Kt[Ue];if(Ue===0&&!re)er=qe;else if(Ue===fr-1&&!re)He=qe,ge.push(er),ge.push(He);else{var We=[Ue?Ue-1:fr-1,Ue-1][re?0:1];Ce=Kt[We],Me=Kt[re?(Ue+1)%fr:Ue+1];var vr=[0,0];vr=_.sub(vr,Me,Ce),vr=_.scale(vr,vr,Jt);var Pr=_.distance(qe,Ce),wr=_.distance(qe,Me),_r=Pr+wr;_r!==0&&(Pr/=_r,wr/=_r);var Yr=_.scale([0,0],vr,-Pr),kr=_.scale([0,0],vr,wr);He=_.add([0,0],qe,Yr),Le=_.add([0,0],qe,kr),Le=_.min([0,0],Le,_.max([0,0],Me,qe)),Le=_.max([0,0],Le,_.min([0,0],Me,qe)),Yr=_.sub([0,0],Le,qe),Yr=_.scale([0,0],Yr,-Pr/wr),He=_.add([0,0],qe,Yr),He=_.min([0,0],He,_.max([0,0],Ce,qe)),He=_.max([0,0],He,_.min([0,0],Ce,qe)),kr=_.sub([0,0],qe,He),kr=_.scale([0,0],kr,wr/Pr),Le=_.add([0,0],qe,kr),be&&(He=_.max([0,0],He,he),He=_.min([0,0],He,Ge),Le=_.max([0,0],Le,he),Le=_.min([0,0],Le,Ge)),ge.push(er),ge.push(He),er=Le}}return re&&ge.push(ge.shift()),ge}function C(Kt,Jt,re){Jt===void 0&&(Jt=!1),re===void 0&&(re=[[0,0],[1,1]]);for(var oe=!!Jt,ge=[],be=0,Ce=Kt.length;be<Ce;be+=2)ge.push([Kt[be],Kt[be+1]]);for(var Me=E(ge,.4,oe,re),he=ge.length,Ge=[],Le,He,er,be=0;be<he-1;be+=1)Le=Me[be*2],He=Me[be*2+1],er=ge[be+1],Ge.push(["C",Le[0],Le[1],He[0],He[1],er[0],er[1]]);return oe&&(Le=Me[he],He=Me[he+1],er=ge[0],Ge.push(["C",Le[0],Le[1],He[0],He[1],er[0],er[1]])),Ge}var p=C;function b(Kt,Jt){var re=[],oe=[];function ge(be,Ce){if(be.length===1)re.push(be[0]),oe.push(be[0]);else{for(var Me=[],he=0;he<be.length-1;he++)he===0&&re.push(be[0]),he===be.length-2&&oe.push(be[he+1]),Me[he]=[(1-Ce)*be[he][0]+Ce*be[he+1][0],(1-Ce)*be[he][1]+Ce*be[he+1][1]];ge(Me,Ce)}}return Kt.length&&ge(Kt,Jt),{left:re,right:oe.reverse()}}function x(Kt,Jt,re){var oe=[[Kt[1],Kt[2]]];re=re||2;var ge=[];Jt[0]==="A"?(oe.push(Jt[6]),oe.push(Jt[7])):Jt[0]==="C"?(oe.push([Jt[1],Jt[2]]),oe.push([Jt[3],Jt[4]]),oe.push([Jt[5],Jt[6]])):Jt[0]==="S"||Jt[0]==="Q"?(oe.push([Jt[1],Jt[2]]),oe.push([Jt[3],Jt[4]])):oe.push([Jt[1],Jt[2]]);for(var be=oe,Ce=1/re,Me=0;Me<re-1;Me++){var he=Ce/(1-Ce*Me),Ge=b(be,he);ge.push(Ge.left),be=Ge.right}ge.push(be);var Le=ge.map(function(He){var er=[];return He.length===4&&(er.push("C"),er=er.concat(He[2])),He.length>=3&&(He.length===3&&er.push("Q"),er=er.concat(He[1])),He.length===2&&er.push("L"),er=er.concat(He[He.length-1]),er});return Le}function w(Kt,Jt,re){if(re===1)return[[].concat(Kt)];var oe=[];if(Jt[0]==="L"||Jt[0]==="C"||Jt[0]==="Q")oe=oe.concat(x(Kt,Jt,re));else{var ge=[].concat(Kt);ge[0]==="M"&&(ge[0]="L");for(var be=0;be<=re-1;be++)oe.push(ge)}return oe}function y(Kt,Jt){if(Kt.length===1)return Kt;var re=Kt.length-1,oe=Jt.length-1,ge=re/oe,be=[];if(Kt.length===1&&Kt[0][0]==="M"){for(var Ce=0;Ce<oe-re;Ce++)Kt.push(Kt[0]);return Kt}for(var Ce=0;Ce<oe;Ce++){var Me=Math.floor(ge*Ce);be[Me]=(be[Me]||0)+1}var he=be.reduce(function(Ge,Le,He){return He===re?Ge.concat(Kt[re]):Ge.concat(w(Kt[He],Kt[He+1],Le))},[]);return he.unshift(Kt[0]),(Jt[oe]==="Z"||Jt[oe]==="z")&&he.push("Z"),he}function M(Kt,Jt,re){var oe=null,ge=re;return Jt<ge&&(ge=Jt,oe="add"),Kt<ge&&(ge=Kt,oe="del"),{type:oe,min:ge}}var T=function(Kt,Jt){var re=Kt.length,oe=Jt.length,ge,be,Ce=0;if(re===0||oe===0)return null;for(var Me=[],he=0;he<=re;he++)Me[he]=[],Me[he][0]={min:he};for(var Ge=0;Ge<=oe;Ge++)Me[0][Ge]={min:Ge};for(var he=1;he<=re;he++){ge=Kt[he-1];for(var Ge=1;Ge<=oe;Ge++){be=Jt[Ge-1],(0,m.isEqual)(ge,be)?Ce=0:Ce=1;var Le=Me[he-1][Ge].min+1,He=Me[he][Ge-1].min+1,er=Me[he-1][Ge-1].min+Ce;Me[he][Ge]=M(Le,He,er)}}return Me};function B(Kt,Jt){var re=T(Kt,Jt),oe=Kt.length,ge=Jt.length,be=[],Ce=1,Me=1;if(re[oe][ge]!==oe){for(var he=1;he<=oe;he++){var Ge=re[he][he].min;Me=he;for(var Le=Ce;Le<=ge;Le++)re[he][Le].min<Ge&&(Ge=re[he][Le].min,Me=Le);Ce=Me,re[he][Ce].type&&be.push({index:he-1,type:re[he][Ce].type})}for(var he=be.length-1;he>=0;he--)Ce=be[he].index,be[he].type==="add"?Kt.splice(Ce,0,[].concat(Kt[Ce])):Kt.splice(Ce,1)}if(oe=Kt.length,oe<ge)for(var he=0;he<ge-oe;he++)Kt[oe-1][0]==="z"||Kt[oe-1][0]==="Z"?Kt.splice(oe-2,0,Kt[oe-2]):Kt.push(Kt[oe-1]);return Kt}function D(Kt){var Jt=[];switch(Kt[0]){case"M":Jt.push([Kt[1],Kt[2]]);break;case"L":Jt.push([Kt[1],Kt[2]]);break;case"A":Jt.push([Kt[6],Kt[7]]);break;case"Q":Jt.push([Kt[3],Kt[4]]),Jt.push([Kt[1],Kt[2]]);break;case"T":Jt.push([Kt[1],Kt[2]]);break;case"C":Jt.push([Kt[5],Kt[6]]),Jt.push([Kt[1],Kt[2]]),Jt.push([Kt[3],Kt[4]]);break;case"S":Jt.push([Kt[3],Kt[4]]),Jt.push([Kt[1],Kt[2]]);break;case"H":Jt.push([Kt[1],Kt[1]]);break;case"V":Jt.push([Kt[1],Kt[1]]);break;default:}return Jt}function X(Kt,Jt,re){for(var oe=[].concat(Kt),ge,be=1/(re+1),Ce=D(Jt)[0],Me=1;Me<=re;Me++)be*=Me,ge=Math.floor(Kt.length*be),ge===0?oe.unshift([Ce[0]*be+Kt[ge][0]*(1-be),Ce[1]*be+Kt[ge][1]*(1-be)]):oe.splice(ge,0,[Ce[0]*be+Kt[ge][0]*(1-be),Ce[1]*be+Kt[ge][1]*(1-be)]);return oe}function $(Kt,Jt){if(Kt.length<=1)return Kt;for(var re,oe=0;oe<Jt.length;oe++)if(Kt[oe][0]!==Jt[oe][0])switch(re=D(Kt[oe]),Jt[oe][0]){case"M":Kt[oe]=["M"].concat(re[0]);break;case"L":Kt[oe]=["L"].concat(re[0]);break;case"A":Kt[oe]=[].concat(Jt[oe]),Kt[oe][6]=re[0][0],Kt[oe][7]=re[0][1];break;case"Q":if(re.length<2)if(oe>0)re=X(re,Kt[oe-1],1);else{Kt[oe]=Jt[oe];break}Kt[oe]=["Q"].concat(re.reduce(function(ge,be){return ge.concat(be)},[]));break;case"T":Kt[oe]=["T"].concat(re[0]);break;case"C":if(re.length<3)if(oe>0)re=X(re,Kt[oe-1],2);else{Kt[oe]=Jt[oe];break}Kt[oe]=["C"].concat(re.reduce(function(ge,be){return ge.concat(be)},[]));break;case"S":if(re.length<2)if(oe>0)re=X(re,Kt[oe-1],1);else{Kt[oe]=Jt[oe];break}Kt[oe]=["S"].concat(re.reduce(function(ge,be){return ge.concat(be)},[]));break;default:Kt[oe]=Jt[oe]}return Kt}function H(Kt,Jt,re,oe,ge){return ge?[["M",+Kt+ +ge,Jt],["l",re-ge*2,0],["a",ge,ge,0,0,1,ge,ge],["l",0,oe-ge*2],["a",ge,ge,0,0,1,-ge,ge],["l",ge*2-re,0],["a",ge,ge,0,0,1,-ge,-ge],["l",0,ge*2-oe],["a",ge,ge,0,0,1,ge,-ge],["z"]]:[["M",Kt,Jt],["l",re,0],["l",0,oe],["l",-re,0],["z"]]}var nt=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,ht=new RegExp("([a-z])["+nt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+nt+"]*,?["+nt+"]*)+)","ig"),at=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+nt+"]*,?["+nt+"]*","ig");function Ot(Kt){if(!Kt)return null;if((0,m.isArray)(Kt))return Kt;var Jt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},re=[];return String(Kt).replace(ht,function(oe,ge,be){var Ce=[],Me=ge.toLowerCase();if(be.replace(at,function(he,Ge){Ge&&Ce.push(+Ge)}),Me==="m"&&Ce.length>2&&(re.push([ge].concat(Ce.splice(0,2))),Me="l",ge=ge==="m"?"l":"L"),Me==="o"&&Ce.length===1&&re.push([ge,Ce[0]]),Me==="r")re.push([ge].concat(Ce));else for(;Ce.length>=Jt[Me]&&(re.push([ge].concat(Ce.splice(0,Jt[Me]))),!!Jt[Me]););return""}),re}var Ft=/[a-z]/;function Dt(Kt,Jt){return[Jt[0]+(Jt[0]-Kt[0]),Jt[1]+(Jt[1]-Kt[1])]}function V(Kt){var Jt=Ot(Kt);if(!Jt||!Jt.length)return[["M",0,0]];for(var re=!1,oe=0;oe<Jt.length;oe++){var ge=Jt[oe][0];if(Ft.test(ge)||["V","H","T","S"].indexOf(ge)>=0){re=!0;break}}if(!re)return Jt;var be=[],Ce=0,Me=0,he=0,Ge=0,Le=0,He,er,Ue=Jt[0];(Ue[0]==="M"||Ue[0]==="m")&&(Ce=+Ue[1],Me=+Ue[2],he=Ce,Ge=Me,Le++,be[0]=["M",Ce,Me]);for(var oe=Le,nr=Jt.length;oe<nr;oe++){var qe=Jt[oe],fr=be[oe-1],We=[],ge=qe[0],vr=ge.toUpperCase();if(ge!==vr)switch(We[0]=vr,vr){case"A":We[1]=qe[1],We[2]=qe[2],We[3]=qe[3],We[4]=qe[4],We[5]=qe[5],We[6]=+qe[6]+Ce,We[7]=+qe[7]+Me;break;case"V":We[1]=+qe[1]+Me;break;case"H":We[1]=+qe[1]+Ce;break;case"M":he=+qe[1]+Ce,Ge=+qe[2]+Me,We[1]=he,We[2]=Ge;break;default:for(var Pr=1,wr=qe.length;Pr<wr;Pr++)We[Pr]=+qe[Pr]+(Pr%2?Ce:Me)}else We=Jt[oe];switch(vr){case"Z":Ce=+he,Me=+Ge;break;case"H":Ce=We[1],We=["L",Ce,Me];break;case"V":Me=We[1],We=["L",Ce,Me];break;case"T":Ce=We[1],Me=We[2];var _r=Dt([fr[1],fr[2]],[fr[3],fr[4]]);We=["Q",_r[0],_r[1],Ce,Me];break;case"S":Ce=We[We.length-2],Me=We[We.length-1];var Yr=fr.length,kr=Dt([fr[Yr-4],fr[Yr-3]],[fr[Yr-2],fr[Yr-1]]);We=["C",kr[0],kr[1],We[1],We[2],Ce,Me];break;case"M":he=We[We.length-2],Ge=We[We.length-1];break;default:Ce=We[We.length-2],Me=We[We.length-1]}be.push(We)}return be}var q=Math.PI*2,K=function(Kt,Jt,re,oe,ge,be,Ce){var Me=Kt.x,he=Kt.y;Me*=Jt,he*=re;var Ge=oe*Me-ge*he,Le=ge*Me+oe*he;return{x:Ge+be,y:Le+Ce}},Z=function(Kt,Jt){var re=Jt===1.5707963267948966?.551915024494:Jt===-1.5707963267948966?-.551915024494:4/3*Math.tan(Jt/4),oe=Math.cos(Kt),ge=Math.sin(Kt),be=Math.cos(Kt+Jt),Ce=Math.sin(Kt+Jt);return[{x:oe-ge*re,y:ge+oe*re},{x:be+Ce*re,y:Ce-be*re},{x:be,y:Ce}]},mt=function(Kt,Jt,re,oe){var ge=Kt*oe-Jt*re<0?-1:1,be=Kt*re+Jt*oe;return be>1&&(be=1),be<-1&&(be=-1),ge*Math.acos(be)},rt=function(Kt,Jt,re,oe,ge,be,Ce,Me,he,Ge,Le,He){var er=Math.pow(ge,2),Ue=Math.pow(be,2),nr=Math.pow(Le,2),qe=Math.pow(He,2),fr=er*Ue-er*qe-Ue*nr;fr<0&&(fr=0),fr/=er*qe+Ue*nr,fr=Math.sqrt(fr)*(Ce===Me?-1:1);var We=fr*ge/be*He,vr=fr*-be/ge*Le,Pr=Ge*We-he*vr+(Kt+re)/2,wr=he*We+Ge*vr+(Jt+oe)/2,_r=(Le-We)/ge,Yr=(He-vr)/be,kr=(-Le-We)/ge,mn=(-He-vr)/be,Ur=mt(1,0,_r,Yr),In=mt(_r,Yr,kr,mn);return Me===0&&In>0&&(In-=q),Me===1&&In<0&&(In+=q),[Pr,wr,Ur,In]},W=function(Kt){var Jt=Kt.px,re=Kt.py,oe=Kt.cx,ge=Kt.cy,be=Kt.rx,Ce=Kt.ry,Me=Kt.xAxisRotation,he=Me===void 0?0:Me,Ge=Kt.largeArcFlag,Le=Ge===void 0?0:Ge,He=Kt.sweepFlag,er=He===void 0?0:He,Ue=[];if(be===0||Ce===0)return[{x1:0,y1:0,x2:0,y2:0,x:oe,y:ge}];var nr=Math.sin(he*q/360),qe=Math.cos(he*q/360),fr=qe*(Jt-oe)/2+nr*(re-ge)/2,We=-nr*(Jt-oe)/2+qe*(re-ge)/2;if(fr===0&&We===0)return[{x1:0,y1:0,x2:0,y2:0,x:oe,y:ge}];be=Math.abs(be),Ce=Math.abs(Ce);var vr=Math.pow(fr,2)/Math.pow(be,2)+Math.pow(We,2)/Math.pow(Ce,2);vr>1&&(be*=Math.sqrt(vr),Ce*=Math.sqrt(vr));var Pr=rt(Jt,re,oe,ge,be,Ce,Le,er,nr,qe,fr,We),wr=Pr[0],_r=Pr[1],Yr=Pr[2],kr=Pr[3],mn=Math.abs(kr)/(q/4);Math.abs(1-mn)<1e-7&&(mn=1);var Ur=Math.max(Math.ceil(mn),1);kr/=Ur;for(var In=0;In<Ur;In++)Ue.push(Z(Yr,kr)),Yr+=kr;return Ue.map(function(Kn){var Wn=K(Kn[0],be,Ce,qe,nr,wr,_r),Ti=Wn.x,Bi=Wn.y,Sr=K(Kn[1],be,Ce,qe,nr,wr,_r),hi=Sr.x,bi=Sr.y,ti=K(Kn[2],be,Ce,qe,nr,wr,_r),cn=ti.x,ei=ti.y;return{x1:Ti,y1:Bi,x2:hi,y2:bi,x:cn,y:ei}})};function z(Kt,Jt,re,oe,ge,be,Ce,Me,he){var Ge=W({px:Kt,py:Jt,cx:Me,cy:he,rx:re,ry:oe,xAxisRotation:ge,largeArcFlag:be,sweepFlag:Ce});return Ge.reduce(function(Le,He){var er=He.x1,Ue=He.y1,nr=He.x2,qe=He.y2,fr=He.x,We=He.y;return Le.push(er,Ue,nr,qe,fr,We),Le},[])}function G(Kt,Jt,re,oe,ge,be){var Ce=1/3,Me=2/3;return[Ce*Kt+Me*re,Ce*Jt+Me*oe,Ce*ge+Me*re,Ce*be+Me*oe,ge,be]}function f(Kt,Jt,re,oe){return[Kt,Jt,re,oe,re,oe]}function pt(Kt,Jt){"TQ".indexOf(Kt[0])<0&&(Jt.qx=null,Jt.qy=null);var re=Kt.slice(1),oe=re[0],ge=re[1];switch(Kt[0]){case"M":return Jt.x=oe,Jt.y=ge,Kt;case"A":return["C"].concat(z.apply(0,[Jt.x1,Jt.y1].concat(Kt.slice(1))));case"Q":return Jt.qx=oe,Jt.qy=ge,["C"].concat(G.apply(0,[Jt.x1,Jt.y1].concat(Kt.slice(1))));case"L":return["C"].concat(f(Jt.x1,Jt.y1,Kt[1],Kt[2]));case"H":return["C"].concat(f(Jt.x1,Jt.y1,Kt[1],Jt.y1));case"V":return["C"].concat(f(Jt.x1,Jt.y1,Jt.x1,Kt[1]));case"Z":return["C"].concat(f(Jt.x1,Jt.y1,Jt.x,Jt.y));default:}return Kt}function Ct(Kt,Jt){Jt===void 0&&(Jt=!1);for(var re=V(Kt),oe={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},ge=[],be="",Ce=re.length,Me,he,Ge=[],Le=0;Le<Ce;Le+=1)re[Le]&&(be=re[Le][0]),ge[Le]=be,re[Le]=pt(re[Le],oe),ot(re,ge,Le),Ce=re.length,be==="Z"&&Ge.push(Le),Me=re[Le],he=Me.length,oe.x1=+Me[he-2],oe.y1=+Me[he-1],oe.x2=+Me[he-4]||oe.x1,oe.y2=+Me[he-3]||oe.y1;return Jt?[re,Ge]:re}function ot(Kt,Jt,re){if(Kt[re].length>7){Kt[re].shift();for(var oe=Kt[re],ge=re;oe.length;)Jt[re]="A",Kt.splice(ge+=1,0,["C"].concat(oe.splice(0,6)));Kt.splice(re,1)}}var St=function(Kt,Jt,re,oe,ge){var be=-3*Jt+9*re-9*oe+3*ge,Ce=Kt*be+6*Jt-12*re+6*oe;return Kt*Ce-3*Jt+3*re},xt=function(Kt,Jt,re,oe,ge,be,Ce,Me,he){he===null&&(he=1),he=he>1?1:he<0?0:he;for(var Ge=he/2,Le=12,He=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],er=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ue=0,nr=0;nr<Le;nr++){var qe=Ge*He[nr]+Ge,fr=St(qe,Kt,re,ge,Ce),We=St(qe,Jt,oe,be,Me),vr=fr*fr+We*We;Ue+=er[nr]*Math.sqrt(vr)}return Ge*Ue},Mt=function(Kt,Jt,re,oe,ge,be,Ce,Me){for(var he=[],Ge=[[],[]],Le,He,er,Ue,nr=0;nr<2;++nr){if(nr===0?(He=6*Kt-12*re+6*ge,Le=-3*Kt+9*re-9*ge+3*Ce,er=3*re-3*Kt):(He=6*Jt-12*oe+6*be,Le=-3*Jt+9*oe-9*be+3*Me,er=3*oe-3*Jt),Math.abs(Le)<1e-12){if(Math.abs(He)<1e-12)continue;Ue=-er/He,Ue>0&&Ue<1&&he.push(Ue);continue}var qe=He*He-4*er*Le,fr=Math.sqrt(qe);if(!(qe<0)){var We=(-He+fr)/(2*Le);We>0&&We<1&&he.push(We);var vr=(-He-fr)/(2*Le);vr>0&&vr<1&&he.push(vr)}}for(var Pr=he.length,wr=Pr,_r;Pr--;)Ue=he[Pr],_r=1-Ue,Ge[0][Pr]=_r*_r*_r*Kt+3*_r*_r*Ue*re+3*_r*Ue*Ue*ge+Ue*Ue*Ue*Ce,Ge[1][Pr]=_r*_r*_r*Jt+3*_r*_r*Ue*oe+3*_r*Ue*Ue*be+Ue*Ue*Ue*Me;return Ge[0][wr]=Kt,Ge[1][wr]=Jt,Ge[0][wr+1]=Ce,Ge[1][wr+1]=Me,Ge[0].length=Ge[1].length=wr+2,{min:{x:Math.min.apply(0,Ge[0]),y:Math.min.apply(0,Ge[1])},max:{x:Math.max.apply(0,Ge[0]),y:Math.max.apply(0,Ge[1])}}},Et=function(Kt,Jt,re,oe,ge,be,Ce,Me){if(!(Math.max(Kt,re)<Math.min(ge,Ce)||Math.min(Kt,re)>Math.max(ge,Ce)||Math.max(Jt,oe)<Math.min(be,Me)||Math.min(Jt,oe)>Math.max(be,Me))){var he=(Kt*oe-Jt*re)*(ge-Ce)-(Kt-re)*(ge*Me-be*Ce),Ge=(Kt*oe-Jt*re)*(be-Me)-(Jt-oe)*(ge*Me-be*Ce),Le=(Kt-re)*(be-Me)-(Jt-oe)*(ge-Ce);if(!!Le){var He=he/Le,er=Ge/Le,Ue=+He.toFixed(2),nr=+er.toFixed(2);if(!(Ue<+Math.min(Kt,re).toFixed(2)||Ue>+Math.max(Kt,re).toFixed(2)||Ue<+Math.min(ge,Ce).toFixed(2)||Ue>+Math.max(ge,Ce).toFixed(2)||nr<+Math.min(Jt,oe).toFixed(2)||nr>+Math.max(Jt,oe).toFixed(2)||nr<+Math.min(be,Me).toFixed(2)||nr>+Math.max(be,Me).toFixed(2)))return{x:He,y:er}}}},Tt=function(Kt,Jt,re){return Jt>=Kt.x&&Jt<=Kt.x+Kt.width&&re>=Kt.y&&re<=Kt.y+Kt.height},gt=function(Kt,Jt,re,oe){return Kt===null&&(Kt=Jt=re=oe=0),Jt===null&&(Jt=Kt.y,re=Kt.width,oe=Kt.height,Kt=Kt.x),{x:Kt,y:Jt,width:re,w:re,height:oe,h:oe,x2:Kt+re,y2:Jt+oe,cx:Kt+re/2,cy:Jt+oe/2,r1:Math.min(re,oe)/2,r2:Math.max(re,oe)/2,r0:Math.sqrt(re*re+oe*oe)/2,path:H(Kt,Jt,re,oe),vb:[Kt,Jt,re,oe].join(" ")}},it=function(Kt,Jt){return Kt=gt(Kt),Jt=gt(Jt),Tt(Jt,Kt.x,Kt.y)||Tt(Jt,Kt.x2,Kt.y)||Tt(Jt,Kt.x,Kt.y2)||Tt(Jt,Kt.x2,Kt.y2)||Tt(Kt,Jt.x,Jt.y)||Tt(Kt,Jt.x2,Jt.y)||Tt(Kt,Jt.x,Jt.y2)||Tt(Kt,Jt.x2,Jt.y2)||(Kt.x<Jt.x2&&Kt.x>Jt.x||Jt.x<Kt.x2&&Jt.x>Kt.x)&&(Kt.y<Jt.y2&&Kt.y>Jt.y||Jt.y<Kt.y2&&Jt.y>Kt.y)},Q=function(Kt,Jt,re,oe,ge,be,Ce,Me){(0,m.isArray)(Kt)||(Kt=[Kt,Jt,re,oe,ge,be,Ce,Me]);var he=Mt.apply(null,Kt);return gt(he.min.x,he.min.y,he.max.x-he.min.x,he.max.y-he.min.y)},U=function(Kt,Jt,re,oe,ge,be,Ce,Me,he){var Ge=1-he,Le=Math.pow(Ge,3),He=Math.pow(Ge,2),er=he*he,Ue=er*he,nr=Le*Kt+He*3*he*re+Ge*3*he*he*ge+Ue*Ce,qe=Le*Jt+He*3*he*oe+Ge*3*he*he*be+Ue*Me,fr=Kt+2*he*(re-Kt)+er*(ge-2*re+Kt),We=Jt+2*he*(oe-Jt)+er*(be-2*oe+Jt),vr=re+2*he*(ge-re)+er*(Ce-2*ge+re),Pr=oe+2*he*(be-oe)+er*(Me-2*be+oe),wr=Ge*Kt+he*re,_r=Ge*Jt+he*oe,Yr=Ge*ge+he*Ce,kr=Ge*be+he*Me,mn=90-Math.atan2(fr-vr,We-Pr)*180/Math.PI;return{x:nr,y:qe,m:{x:fr,y:We},n:{x:vr,y:Pr},start:{x:wr,y:_r},end:{x:Yr,y:kr},alpha:mn}},ct=function(Kt,Jt,re){var oe=Q(Kt),ge=Q(Jt);if(!it(oe,ge))return re?0:[];for(var be=xt.apply(0,Kt),Ce=xt.apply(0,Jt),Me=~~(be/8),he=~~(Ce/8),Ge=[],Le=[],He={},er=re?0:[],Ue=0;Ue<Me+1;Ue++){var nr=U.apply(0,Kt.concat(Ue/Me));Ge.push({x:nr.x,y:nr.y,t:Ue/Me})}for(var Ue=0;Ue<he+1;Ue++){var nr=U.apply(0,Jt.concat(Ue/he));Le.push({x:nr.x,y:nr.y,t:Ue/he})}for(var Ue=0;Ue<Me;Ue++)for(var qe=0;qe<he;qe++){var fr=Ge[Ue],We=Ge[Ue+1],vr=Le[qe],Pr=Le[qe+1],wr=Math.abs(We.x-fr.x)<.001?"y":"x",_r=Math.abs(Pr.x-vr.x)<.001?"y":"x",Yr=Et(fr.x,fr.y,We.x,We.y,vr.x,vr.y,Pr.x,Pr.y);if(Yr){if(He[Yr.x.toFixed(4)]===Yr.y.toFixed(4))continue;He[Yr.x.toFixed(4)]=Yr.y.toFixed(4);var kr=fr.t+Math.abs((Yr[wr]-fr[wr])/(We[wr]-fr[wr]))*(We.t-fr.t),mn=vr.t+Math.abs((Yr[_r]-vr[_r])/(Pr[_r]-vr[_r]))*(Pr.t-vr.t);kr>=0&&kr<=1&&mn>=0&&mn<=1&&(re?er++:er.push({x:Yr.x,y:Yr.y,t1:kr,t2:mn}))}}return er},tt=function(Kt,Jt,re){Kt=Ct(Kt),Jt=Ct(Jt);for(var oe,ge,be,Ce,Me,he,Ge,Le,He,er,Ue=re?0:[],nr=0,qe=Kt.length;nr<qe;nr++){var fr=Kt[nr];if(fr[0]==="M")oe=Me=fr[1],ge=he=fr[2];else{fr[0]==="C"?(He=[oe,ge].concat(fr.slice(1)),oe=He[6],ge=He[7]):(He=[oe,ge,oe,ge,Me,he,Me,he],oe=Me,ge=he);for(var We=0,vr=Jt.length;We<vr;We++){var Pr=Jt[We];if(Pr[0]==="M")be=Ge=Pr[1],Ce=Le=Pr[2];else{Pr[0]==="C"?(er=[be,Ce].concat(Pr.slice(1)),be=er[6],Ce=er[7]):(er=[be,Ce,be,Ce,Ge,Le,Ge,Le],be=Ge,Ce=Le);var wr=ct(He,er,re);if(re)Ue+=wr;else{for(var _r=0,Yr=wr.length;_r<Yr;_r++)wr[_r].segment1=nr,wr[_r].segment2=We,wr[_r].bez1=He,wr[_r].bez2=er;Ue=Ue.concat(wr)}}}}}return Ue};function et(Kt,Jt){return tt(Kt,Jt)}var dt=/,?([a-z]),?/gi;function Lt(Kt){return Kt.join(",").replace(dt,"$1")}function Xt(Kt){return Math.sqrt(Kt[0]*Kt[0]+Kt[1]*Kt[1])}function $t(Kt,Jt){return Xt(Kt)*Xt(Jt)?(Kt[0]*Jt[0]+Kt[1]*Jt[1])/(Xt(Kt)*Xt(Jt)):1}function fe(Kt,Jt){return(Kt[0]*Jt[1]<Kt[1]*Jt[0]?-1:1)*Math.acos($t(Kt,Jt))}function me(Kt,Jt){return Kt[0]===Jt[0]&&Kt[1]===Jt[1]}function pe(Kt,Jt){var re=Jt[1],oe=Jt[2],ge=(0,m.mod)((0,m.toRadian)(Jt[3]),Math.PI*2),be=Jt[4],Ce=Jt[5],Me=Kt[0],he=Kt[1],Ge=Jt[6],Le=Jt[7],He=Math.cos(ge)*(Me-Ge)/2+Math.sin(ge)*(he-Le)/2,er=-1*Math.sin(ge)*(Me-Ge)/2+Math.cos(ge)*(he-Le)/2,Ue=He*He/(re*re)+er*er/(oe*oe);Ue>1&&(re*=Math.sqrt(Ue),oe*=Math.sqrt(Ue));var nr=re*re*(er*er)+oe*oe*(He*He),qe=nr?Math.sqrt((re*re*(oe*oe)-nr)/nr):1;be===Ce&&(qe*=-1),isNaN(qe)&&(qe=0);var fr=oe?qe*re*er/oe:0,We=re?qe*-oe*He/re:0,vr=(Me+Ge)/2+Math.cos(ge)*fr-Math.sin(ge)*We,Pr=(he+Le)/2+Math.sin(ge)*fr+Math.cos(ge)*We,wr=[(He-fr)/re,(er-We)/oe],_r=[(-1*He-fr)/re,(-1*er-We)/oe],Yr=fe([1,0],wr),kr=fe(wr,_r);return $t(wr,_r)<=-1&&(kr=Math.PI),$t(wr,_r)>=1&&(kr=0),Ce===0&&kr>0&&(kr=kr-2*Math.PI),Ce===1&&kr<0&&(kr=kr+2*Math.PI),{cx:vr,cy:Pr,rx:me(Kt,[Ge,Le])?0:re,ry:me(Kt,[Ge,Le])?0:oe,startAngle:Yr,endAngle:Yr+kr,xRotation:ge,arcFlag:be,sweepFlag:Ce}}function xe(Kt,Jt){return[Jt[0]+(Jt[0]-Kt[0]),Jt[1]+(Jt[1]-Kt[1])]}function Ie(Kt){Kt=P(Kt);for(var Jt=[],re=null,oe=null,ge=null,be=0,Ce=Kt.length,Me=0;Me<Ce;Me++){var he=Kt[Me];oe=Kt[Me+1];var Ge=he[0],Le={command:Ge,prePoint:re,params:he,startTangent:null,endTangent:null};switch(Ge){case"M":ge=[he[1],he[2]],be=Me;break;case"A":var He=pe(re,he);Le.arcParams=He;break;default:break}if(Ge==="Z")re=ge,oe=Kt[be+1];else{var er=he.length;re=[he[er-2],he[er-1]]}oe&&oe[0]==="Z"&&(oe=Kt[be],Jt[be]&&(Jt[be].prePoint=re)),Le.currentPoint=re,Jt[be]&&me(re,Jt[be].currentPoint)&&(Jt[be].prePoint=Le.prePoint);var Ue=oe?[oe[oe.length-2],oe[oe.length-1]]:null;Le.nextPoint=Ue;var nr=Le.prePoint;if(["L","H","V"].includes(Ge))Le.startTangent=[nr[0]-re[0],nr[1]-re[1]],Le.endTangent=[re[0]-nr[0],re[1]-nr[1]];else if(Ge==="Q"){var qe=[he[1],he[2]];Le.startTangent=[nr[0]-qe[0],nr[1]-qe[1]],Le.endTangent=[re[0]-qe[0],re[1]-qe[1]]}else if(Ge==="T"){var fr=Jt[Me-1],qe=xe(fr.currentPoint,nr);fr.command==="Q"?(Le.command="Q",Le.startTangent=[nr[0]-qe[0],nr[1]-qe[1]],Le.endTangent=[re[0]-qe[0],re[1]-qe[1]]):(Le.command="TL",Le.startTangent=[nr[0]-re[0],nr[1]-re[1]],Le.endTangent=[re[0]-nr[0],re[1]-nr[1]])}else if(Ge==="C"){var We=[he[1],he[2]],vr=[he[3],he[4]];Le.startTangent=[nr[0]-We[0],nr[1]-We[1]],Le.endTangent=[re[0]-vr[0],re[1]-vr[1]],Le.startTangent[0]===0&&Le.startTangent[1]===0&&(Le.startTangent=[We[0]-vr[0],We[1]-vr[1]]),Le.endTangent[0]===0&&Le.endTangent[1]===0&&(Le.endTangent=[vr[0]-We[0],vr[1]-We[1]])}else if(Ge==="S"){var fr=Jt[Me-1],We=xe(fr.currentPoint,nr),vr=[he[1],he[2]];fr.command==="C"?(Le.command="C",Le.startTangent=[nr[0]-We[0],nr[1]-We[1]],Le.endTangent=[re[0]-vr[0],re[1]-vr[1]]):(Le.command="SQ",Le.startTangent=[nr[0]-vr[0],nr[1]-vr[1]],Le.endTangent=[re[0]-vr[0],re[1]-vr[1]])}else if(Ge==="A"){var Pr=.001,wr=Le.arcParams||{},_r=wr.cx,Yr=_r===void 0?0:_r,kr=wr.cy,mn=kr===void 0?0:kr,Ur=wr.rx,In=Ur===void 0?0:Ur,Kn=wr.ry,Wn=Kn===void 0?0:Kn,Ti=wr.sweepFlag,Bi=Ti===void 0?0:Ti,Sr=wr.startAngle,hi=Sr===void 0?0:Sr,bi=wr.endAngle,ti=bi===void 0?0:bi;Bi===0&&(Pr*=-1);var cn=In*Math.cos(hi-Pr)+Yr,ei=Wn*Math.sin(hi-Pr)+mn;Le.startTangent=[cn-ge[0],ei-ge[1]];var Vi=In*Math.cos(hi+ti+Pr)+Yr,ri=Wn*Math.sin(hi+ti-Pr)+mn;Le.endTangent=[nr[0]-Vi,nr[1]-ri]}Jt.push(Le)}return Jt}var je=function(Kt,Jt,re){return Kt>=Jt&&Kt<=re};function ur(Kt,Jt,re,oe){var ge=.001,be={x:re.x-Kt.x,y:re.y-Kt.y},Ce={x:Jt.x-Kt.x,y:Jt.y-Kt.y},Me={x:oe.x-re.x,y:oe.y-re.y},he=Ce.x*Me.y-Ce.y*Me.x,Ge=he*he,Le=Ce.x*Ce.x+Ce.y*Ce.y,He=Me.x*Me.x+Me.y*Me.y,er=null;if(Ge>ge*Le*He){var Ue=(be.x*Me.y-be.y*Me.x)/he,nr=(be.x*Ce.y-be.y*Ce.x)/he;je(Ue,0,1)&&je(nr,0,1)&&(er={x:Kt.x+Ue*Ce.x,y:Kt.y+Ue*Ce.y})}return er}var Ze=1e-6;function Ar(Kt){return Math.abs(Kt)<Ze?0:Kt<0?-1:1}function Jr(Kt,Jt,re){return(re[0]-Kt[0])*(Jt[1]-Kt[1])==(Jt[0]-Kt[0])*(re[1]-Kt[1])&&Math.min(Kt[0],Jt[0])<=re[0]&&re[0]<=Math.max(Kt[0],Jt[0])&&Math.min(Kt[1],Jt[1])<=re[1]&&re[1]<=Math.max(Kt[1],Jt[1])}function Er(Kt,Jt,re){var oe=!1,ge=Kt.length;if(ge<=2)return!1;for(var be=0;be<ge;be++){var Ce=Kt[be],Me=Kt[(be+1)%ge];if(Jr(Ce,Me,[Jt,re]))return!0;Ar(Ce[1]-re)>0!=Ar(Me[1]-re)>0&&Ar(Jt-(re-Ce[1])*(Ce[0]-Me[0])/(Ce[1]-Me[1])-Ce[0])<0&&(oe=!oe)}return oe}function Hr(Kt){for(var Jt=[],re=Kt.length,oe=0;oe<re-1;oe++){var ge=Kt[oe],be=Kt[oe+1];Jt.push({from:{x:ge[0],y:ge[1]},to:{x:be[0],y:be[1]}})}if(Jt.length>1){var Ce=Kt[0],Me=Kt[re-1];Jt.push({from:{x:Me[0],y:Me[1]},to:{x:Ce[0],y:Ce[1]}})}return Jt}function Xn(Kt,Jt){var re=!1;return(0,m.each)(Kt,function(oe){if(ur(oe.from,oe.to,Jt.from,Jt.to))return re=!0,!1}),re}function Zn(Kt){var Jt=Kt.map(function(oe){return oe[0]}),re=Kt.map(function(oe){return oe[1]});return{minX:Math.min.apply(null,Jt),maxX:Math.max.apply(null,Jt),minY:Math.min.apply(null,re),maxY:Math.max.apply(null,re)}}function qn(Kt,Jt){return!(Jt.minX>Kt.maxX||Jt.maxX<Kt.minX||Jt.minY>Kt.maxY||Jt.maxY<Kt.minY)}function Pn(Kt,Jt){if(Kt.length<2||Jt.length<2)return!1;var re=Zn(Kt),oe=Zn(Jt);if(!qn(re,oe))return!1;var ge=!1;if((0,m.each)(Jt,function(he){if(Er(Kt,he[0],he[1]))return ge=!0,!1}),ge||((0,m.each)(Kt,function(he){if(Er(Jt,he[0],he[1]))return ge=!0,!1}),ge))return!0;var be=Hr(Kt),Ce=Hr(Jt),Me=!1;return(0,m.each)(Ce,function(he){if(Xn(be,he))return Me=!0,!1}),Me}},84023:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.isSamePoint=void 0;var m=d(49242);function O(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function I(E,C){return O(E)*O(C)?(E[0]*C[0]+E[1]*C[1])/(O(E)*O(C)):1}function L(E,C){return(E[0]*C[1]<E[1]*C[0]?-1:1)*Math.acos(I(E,C))}function P(E,C){return E[0]===C[0]&&E[1]===C[1]}S.isSamePoint=P;function _(E,C){var p=C[1],b=C[2],x=(0,m.mod)((0,m.toRadian)(C[3]),Math.PI*2),w=C[4],y=C[5],M=E[0],T=E[1],B=C[6],D=C[7],X=Math.cos(x)*(M-B)/2+Math.sin(x)*(T-D)/2,$=-1*Math.sin(x)*(M-B)/2+Math.cos(x)*(T-D)/2,H=X*X/(p*p)+$*$/(b*b);H>1&&(p*=Math.sqrt(H),b*=Math.sqrt(H));var nt=p*p*($*$)+b*b*(X*X),ht=nt?Math.sqrt((p*p*(b*b)-nt)/nt):1;w===y&&(ht*=-1),isNaN(ht)&&(ht=0);var at=b?ht*p*$/b:0,Ot=p?ht*-b*X/p:0,Ft=(M+B)/2+Math.cos(x)*at-Math.sin(x)*Ot,Dt=(T+D)/2+Math.sin(x)*at+Math.cos(x)*Ot,V=[(X-at)/p,($-Ot)/b],q=[(-1*X-at)/p,(-1*$-Ot)/b],K=L([1,0],V),Z=L(V,q);return I(V,q)<=-1&&(Z=Math.PI),I(V,q)>=1&&(Z=0),y===0&&Z>0&&(Z=Z-2*Math.PI),y===1&&Z<0&&(Z=Z+2*Math.PI),{cx:Ft,cy:Dt,rx:P(E,[B,D])?0:p,ry:P(E,[B,D])?0:b,startAngle:K,endAngle:K+Z,xRotation:x,arcFlag:w,sweepFlag:y}}S.default=_},21528:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(O,I,L){return O>=I&&O<=L};function m(O,I,L,P){var _=.001,E={x:L.x-O.x,y:L.y-O.y},C={x:I.x-O.x,y:I.y-O.y},p={x:P.x-L.x,y:P.y-L.y},b=C.x*p.y-C.y*p.x,x=b*b,w=C.x*C.x+C.y*C.y,y=p.x*p.x+p.y*p.y,M=null;if(x>_*w*y){var T=(E.x*p.y-E.y*p.x)/b,B=(E.x*C.y-E.y*C.x)/b;d(T,0,1)&&d(B,0,1)&&(M={x:O.x+T*C.x,y:O.y+T*C.y})}return M}S.default=m},70146:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66957),O=d(21528),I=d(49242);function L(p){for(var b=[],x=p.length,w=0;w<x-1;w++){var y=p[w],M=p[w+1];b.push({from:{x:y[0],y:y[1]},to:{x:M[0],y:M[1]}})}if(b.length>1){var T=p[0],B=p[x-1];b.push({from:{x:B[0],y:B[1]},to:{x:T[0],y:T[1]}})}return b}function P(p,b){var x=!1;return(0,I.each)(p,function(w){if((0,O.default)(w.from,w.to,b.from,b.to))return x=!0,!1}),x}function _(p){var b=p.map(function(w){return w[0]}),x=p.map(function(w){return w[1]});return{minX:Math.min.apply(null,b),maxX:Math.max.apply(null,b),minY:Math.min.apply(null,x),maxY:Math.max.apply(null,x)}}function E(p,b){return!(b.minX>p.maxX||b.maxX<p.minX||b.minY>p.maxY||b.maxY<p.minY)}function C(p,b){if(p.length<2||b.length<2)return!1;var x=_(p),w=_(b);if(!E(x,w))return!1;var y=!1;if((0,I.each)(b,function(D){if((0,m.default)(p,D[0],D[1]))return y=!0,!1}),y||((0,I.each)(p,function(D){if((0,m.default)(b,D[0],D[1]))return y=!0,!1}),y))return!0;var M=L(p),T=L(b),B=!1;return(0,I.each)(T,function(D){if(P(M,D))return B=!0,!1}),B}S.default=C},28498:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+O+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+O+"]*,?["+O+"]*)+)","ig"),L=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+O+"]*,?["+O+"]*","ig");function P(_){if(!_)return null;if((0,m.isArray)(_))return _;var E={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},C=[];return String(_).replace(I,function(p,b,x){var w=[],y=b.toLowerCase();if(x.replace(L,function(M,T){T&&w.push(+T)}),y==="m"&&w.length>2&&(C.push([b].concat(w.splice(0,2))),y="l",b=b==="m"?"l":"L"),y==="o"&&w.length===1&&C.push([b,w[0]]),y==="r")C.push([b].concat(w));else for(;w.length>=E[y]&&(C.push([b].concat(w.splice(0,E[y]))),!!E[y]););return""}),C}S.default=P},80315:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(49242),O=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,I=/[^\s\,]+/ig;function L(P){var _=P||[];if((0,m.isArray)(_))return _;if((0,m.isString)(_))return _=_.match(O),(0,m.each)(_,function(E,C){if(E=E.match(I),E[0].length>1){var p=E[0].charAt(0);E.splice(1,0,E[0].substr(1)),E[0]=p}(0,m.each)(E,function(b,x){isNaN(b)||(E[x]=+b)}),_[C]=E}),_}S.default=L},74479:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(28498),I=/[a-z]/;function L(_,E){return[E[0]+(E[0]-_[0]),E[1]+(E[1]-_[1])]}function P(_){var E=(0,O.default)(_);if(!E||!E.length)return[["M",0,0]];for(var C=!1,p=0;p<E.length;p++){var b=E[p][0];if(I.test(b)||["V","H","T","S"].indexOf(b)>=0){C=!0;break}}if(!C)return E;var x=[],w=0,y=0,M=0,T=0,B=0,D,X,$=E[0];($[0]==="M"||$[0]==="m")&&(w=+$[1],y=+$[2],M=w,T=y,B++,x[0]=["M",w,y]);for(var p=B,H=E.length;p<H;p++){var nt=E[p],ht=x[p-1],at=[],b=nt[0],Ot=b.toUpperCase();if(b!==Ot)switch(at[0]=Ot,Ot){case"A":at[1]=nt[1],at[2]=nt[2],at[3]=nt[3],at[4]=nt[4],at[5]=nt[5],at[6]=+nt[6]+w,at[7]=+nt[7]+y;break;case"V":at[1]=+nt[1]+y;break;case"H":at[1]=+nt[1]+w;break;case"M":M=+nt[1]+w,T=+nt[2]+y,at[1]=M,at[2]=T;break;default:for(var Ft=1,Dt=nt.length;Ft<Dt;Ft++)at[Ft]=+nt[Ft]+(Ft%2?w:y)}else at=E[p];switch(Ot){case"Z":w=+M,y=+T;break;case"H":w=at[1],at=["L",w,y];break;case"V":y=at[1],at=["L",w,y];break;case"T":w=at[1],y=at[2];var V=L([ht[1],ht[2]],[ht[3],ht[4]]);at=["Q",V[0],V[1],w,y];break;case"S":w=at[at.length-2],y=at[at.length-1];var q=ht.length,K=L([ht[q-4],ht[q-3]],[ht[q-2],ht[q-1]]);at=["C",K[0],K[1],at[1],at[2],w,y];break;case"M":M=at[at.length-2],T=at[at.length-1];break;default:w=at[at.length-2],y=at[at.length-1]}x.push(at)}return x}S.Z=P},49274:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(84023),O=d(84023),I=d(80315);function L(_,E){return[E[0]+(E[0]-_[0]),E[1]+(E[1]-_[1])]}function P(_){_=(0,I.default)(_);for(var E=[],C=null,p=null,b=null,x=0,w=_.length,y=0;y<w;y++){var M=_[y];p=_[y+1];var T=M[0],B={command:T,prePoint:C,params:M,startTangent:null,endTangent:null};switch(T){case"M":b=[M[1],M[2]],x=y;break;case"A":var D=(0,m.default)(C,M);B.arcParams=D;break;default:break}if(T==="Z")C=b,p=_[x+1];else{var X=M.length;C=[M[X-2],M[X-1]]}p&&p[0]==="Z"&&(p=_[x],E[x]&&(E[x].prePoint=C)),B.currentPoint=C,E[x]&&(0,O.isSamePoint)(C,E[x].currentPoint)&&(E[x].prePoint=B.prePoint);var $=p?[p[p.length-2],p[p.length-1]]:null;B.nextPoint=$;var H=B.prePoint;if(["L","H","V"].includes(T))B.startTangent=[H[0]-C[0],H[1]-C[1]],B.endTangent=[C[0]-H[0],C[1]-H[1]];else if(T==="Q"){var nt=[M[1],M[2]];B.startTangent=[H[0]-nt[0],H[1]-nt[1]],B.endTangent=[C[0]-nt[0],C[1]-nt[1]]}else if(T==="T"){var ht=E[y-1],nt=L(ht.currentPoint,H);ht.command==="Q"?(B.command="Q",B.startTangent=[H[0]-nt[0],H[1]-nt[1]],B.endTangent=[C[0]-nt[0],C[1]-nt[1]]):(B.command="TL",B.startTangent=[H[0]-C[0],H[1]-C[1]],B.endTangent=[C[0]-H[0],C[1]-H[1]])}else if(T==="C"){var at=[M[1],M[2]],Ot=[M[3],M[4]];B.startTangent=[H[0]-at[0],H[1]-at[1]],B.endTangent=[C[0]-Ot[0],C[1]-Ot[1]],B.startTangent[0]===0&&B.startTangent[1]===0&&(B.startTangent=[at[0]-Ot[0],at[1]-Ot[1]]),B.endTangent[0]===0&&B.endTangent[1]===0&&(B.endTangent=[Ot[0]-at[0],Ot[1]-at[1]])}else if(T==="S"){var ht=E[y-1],at=L(ht.currentPoint,H),Ot=[M[1],M[2]];ht.command==="C"?(B.command="C",B.startTangent=[H[0]-at[0],H[1]-at[1]],B.endTangent=[C[0]-Ot[0],C[1]-Ot[1]]):(B.command="SQ",B.startTangent=[H[0]-Ot[0],H[1]-Ot[1]],B.endTangent=[C[0]-Ot[0],C[1]-Ot[1]])}else if(T==="A"){var Ft=.001,Dt=B.arcParams||{},V=Dt.cx,q=V===void 0?0:V,K=Dt.cy,Z=K===void 0?0:K,mt=Dt.rx,rt=mt===void 0?0:mt,W=Dt.ry,z=W===void 0?0:W,G=Dt.sweepFlag,f=G===void 0?0:G,pt=Dt.startAngle,Ct=pt===void 0?0:pt,ot=Dt.endAngle,St=ot===void 0?0:ot;f===0&&(Ft*=-1);var xt=rt*Math.cos(Ct-Ft)+q,Mt=z*Math.sin(Ct-Ft)+Z;B.startTangent=[xt-b[0],Mt-b[1]];var Et=rt*Math.cos(Ct+St+Ft)+q,Tt=z*Math.sin(Ct+St-Ft)+Z;B.endTangent=[H[0]-Et,H[1]-Tt]}E.push(B)}return E}S.default=P},66957:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-6;function m(L){return Math.abs(L)<d?0:L<0?-1:1}function O(L,P,_){return(_[0]-L[0])*(P[1]-L[1])==(P[0]-L[0])*(_[1]-L[1])&&Math.min(L[0],P[0])<=_[0]&&_[0]<=Math.max(L[0],P[0])&&Math.min(L[1],P[1])<=_[1]&&_[1]<=Math.max(L[1],P[1])}function I(L,P,_){var E=!1,C=L.length;if(C<=2)return!1;for(var p=0;p<C;p++){var b=L[p],x=L[(p+1)%C];if(O(b,x,[P,_]))return!0;m(b[1]-_)>0!=m(x[1]-_)>0&&m(P-(_-b[1])*(b[0]-x[0])/(b[1]-x[1])-b[0])<0&&(E=!E)}return E}S.default=I},2443:function(_t,S,d){"use strict";d.r(S),d.d(S,{Category:function(){return z},Identity:function(){return Jt},Linear:function(){return Lt},Log:function(){return Ie},Pow:function(){return ur},Quantile:function(){return Xn},Quantize:function(){return Er},Scale:function(){return _},Time:function(){return Ar},TimeCat:function(){return ct},getScale:function(){return qn},getTickMethod:function(){return I},registerScale:function(){return Pn},registerTickMethod:function(){return L}});var m=d(49242),O={};function I(J){return O[J]}function L(J,ut){O[J]=ut}var P=function(){function J(ut){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=ut,this.initCfg(),this.init()}return J.prototype.translate=function(ut){return ut},J.prototype.change=function(ut){(0,m.assign)(this.__cfg__,ut),this.init()},J.prototype.clone=function(){return this.constructor(this.__cfg__)},J.prototype.getTicks=function(){var ut=this;return(0,m.map)(this.ticks,function(bt,kt){return(0,m.isObject)(bt)?bt:{text:ut.getText(bt,kt),tickValue:bt,value:ut.scale(bt)}})},J.prototype.getText=function(ut,bt){var kt=this.formatter,Bt=kt?kt(ut,bt):ut;return(0,m.isNil)(Bt)||!(0,m.isFunction)(Bt.toString)?"":Bt.toString()},J.prototype.getConfig=function(ut){return this.__cfg__[ut]},J.prototype.init=function(){(0,m.assign)(this,this.__cfg__),this.setDomain(),(0,m.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},J.prototype.initCfg=function(){},J.prototype.setDomain=function(){},J.prototype.calculateTicks=function(){var ut=this.tickMethod,bt=[];if((0,m.isString)(ut)){var kt=I(ut);if(!kt)throw new Error("There is no method to to calculate ticks!");bt=kt(this)}else(0,m.isFunction)(ut)&&(bt=ut(this));return bt},J.prototype.rangeMin=function(){return this.range[0]},J.prototype.rangeMax=function(){return this.range[1]},J.prototype.calcPercent=function(ut,bt,kt){return(0,m.isNumber)(ut)?(ut-bt)/(kt-bt):NaN},J.prototype.calcValue=function(ut,bt,kt){return bt+ut*(kt-bt)},J}(),_=P;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var E=function(J,ut){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bt,kt){bt.__proto__=kt}||function(bt,kt){for(var Bt in kt)Object.prototype.hasOwnProperty.call(kt,Bt)&&(bt[Bt]=kt[Bt])},E(J,ut)};function C(J,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Class extends value "+String(ut)+" is not a constructor or null");E(J,ut);function bt(){this.constructor=J}J.prototype=ut===null?Object.create(ut):(bt.prototype=ut.prototype,new bt)}var p=function(){return p=Object.assign||function(ut){for(var bt,kt=1,Bt=arguments.length;kt<Bt;kt++){bt=arguments[kt];for(var Ht in bt)Object.prototype.hasOwnProperty.call(bt,Ht)&&(ut[Ht]=bt[Ht])}return ut},p.apply(this,arguments)};function b(J,ut){var bt={};for(var kt in J)Object.prototype.hasOwnProperty.call(J,kt)&&ut.indexOf(kt)<0&&(bt[kt]=J[kt]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Bt=0,kt=Object.getOwnPropertySymbols(J);Bt<kt.length;Bt++)ut.indexOf(kt[Bt])<0&&Object.prototype.propertyIsEnumerable.call(J,kt[Bt])&&(bt[kt[Bt]]=J[kt[Bt]]);return bt}function x(J,ut,bt,kt){var Bt=arguments.length,Ht=Bt<3?ut:kt===null?kt=Object.getOwnPropertyDescriptor(ut,bt):kt,ie;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ht=Reflect.decorate(J,ut,bt,kt);else for(var se=J.length-1;se>=0;se--)(ie=J[se])&&(Ht=(Bt<3?ie(Ht):Bt>3?ie(ut,bt,Ht):ie(ut,bt))||Ht);return Bt>3&&Ht&&Object.defineProperty(ut,bt,Ht),Ht}function w(J,ut){return function(bt,kt){ut(bt,kt,J)}}function y(J,ut){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(J,ut)}function M(J,ut,bt,kt){function Bt(Ht){return Ht instanceof bt?Ht:new bt(function(ie){ie(Ht)})}return new(bt||(bt=Promise))(function(Ht,ie){function se(de){try{ve(kt.next(de))}catch(Ke){ie(Ke)}}function Ae(de){try{ve(kt.throw(de))}catch(Ke){ie(Ke)}}function ve(de){de.done?Ht(de.value):Bt(de.value).then(se,Ae)}ve((kt=kt.apply(J,ut||[])).next())})}function T(J,ut){var bt={label:0,sent:function(){if(Ht[0]&1)throw Ht[1];return Ht[1]},trys:[],ops:[]},kt,Bt,Ht,ie;return ie={next:se(0),throw:se(1),return:se(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function se(ve){return function(de){return Ae([ve,de])}}function Ae(ve){if(kt)throw new TypeError("Generator is already executing.");for(;bt;)try{if(kt=1,Bt&&(Ht=ve[0]&2?Bt.return:ve[0]?Bt.throw||((Ht=Bt.return)&&Ht.call(Bt),0):Bt.next)&&!(Ht=Ht.call(Bt,ve[1])).done)return Ht;switch(Bt=0,Ht&&(ve=[ve[0]&2,Ht.value]),ve[0]){case 0:case 1:Ht=ve;break;case 4:return bt.label++,{value:ve[1],done:!1};case 5:bt.label++,Bt=ve[1],ve=[0];continue;case 7:ve=bt.ops.pop(),bt.trys.pop();continue;default:if(Ht=bt.trys,!(Ht=Ht.length>0&&Ht[Ht.length-1])&&(ve[0]===6||ve[0]===2)){bt=0;continue}if(ve[0]===3&&(!Ht||ve[1]>Ht[0]&&ve[1]<Ht[3])){bt.label=ve[1];break}if(ve[0]===6&&bt.label<Ht[1]){bt.label=Ht[1],Ht=ve;break}if(Ht&&bt.label<Ht[2]){bt.label=Ht[2],bt.ops.push(ve);break}Ht[2]&&bt.ops.pop(),bt.trys.pop();continue}ve=ut.call(J,bt)}catch(de){ve=[6,de],Bt=0}finally{kt=Ht=0}if(ve[0]&5)throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}}var B=Object.create?function(J,ut,bt,kt){kt===void 0&&(kt=bt),Object.defineProperty(J,kt,{enumerable:!0,get:function(){return ut[bt]}})}:function(J,ut,bt,kt){kt===void 0&&(kt=bt),J[kt]=ut[bt]};function D(J,ut){for(var bt in J)bt!=="default"&&!Object.prototype.hasOwnProperty.call(ut,bt)&&B(ut,J,bt)}function X(J){var ut=typeof Symbol=="function"&&Symbol.iterator,bt=ut&&J[ut],kt=0;if(bt)return bt.call(J);if(J&&typeof J.length=="number")return{next:function(){return J&&kt>=J.length&&(J=void 0),{value:J&&J[kt++],done:!J}}};throw new TypeError(ut?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(J,ut){var bt=typeof Symbol=="function"&&J[Symbol.iterator];if(!bt)return J;var kt=bt.call(J),Bt,Ht=[],ie;try{for(;(ut===void 0||ut-- >0)&&!(Bt=kt.next()).done;)Ht.push(Bt.value)}catch(se){ie={error:se}}finally{try{Bt&&!Bt.done&&(bt=kt.return)&&bt.call(kt)}finally{if(ie)throw ie.error}}return Ht}function H(){for(var J=[],ut=0;ut<arguments.length;ut++)J=J.concat($(arguments[ut]));return J}function nt(){for(var J=0,ut=0,bt=arguments.length;ut<bt;ut++)J+=arguments[ut].length;for(var kt=Array(J),Bt=0,ut=0;ut<bt;ut++)for(var Ht=arguments[ut],ie=0,se=Ht.length;ie<se;ie++,Bt++)kt[Bt]=Ht[ie];return kt}function ht(J,ut,bt){if(bt||arguments.length===2)for(var kt=0,Bt=ut.length,Ht;kt<Bt;kt++)(Ht||!(kt in ut))&&(Ht||(Ht=Array.prototype.slice.call(ut,0,kt)),Ht[kt]=ut[kt]);return J.concat(Ht||Array.prototype.slice.call(ut))}function at(J){return this instanceof at?(this.v=J,this):new at(J)}function Ot(J,ut,bt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var kt=bt.apply(J,ut||[]),Bt,Ht=[];return Bt={},ie("next"),ie("throw"),ie("return"),Bt[Symbol.asyncIterator]=function(){return this},Bt;function ie(Qe){kt[Qe]&&(Bt[Qe]=function(gr){return new Promise(function(cr,$e){Ht.push([Qe,gr,cr,$e])>1||se(Qe,gr)})})}function se(Qe,gr){try{Ae(kt[Qe](gr))}catch(cr){Ke(Ht[0][3],cr)}}function Ae(Qe){Qe.value instanceof at?Promise.resolve(Qe.value.v).then(ve,de):Ke(Ht[0][2],Qe)}function ve(Qe){se("next",Qe)}function de(Qe){se("throw",Qe)}function Ke(Qe,gr){Qe(gr),Ht.shift(),Ht.length&&se(Ht[0][0],Ht[0][1])}}function Ft(J){var ut,bt;return ut={},kt("next"),kt("throw",function(Bt){throw Bt}),kt("return"),ut[Symbol.iterator]=function(){return this},ut;function kt(Bt,Ht){ut[Bt]=J[Bt]?function(ie){return(bt=!bt)?{value:at(J[Bt](ie)),done:Bt==="return"}:Ht?Ht(ie):ie}:Ht}}function Dt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut=J[Symbol.asyncIterator],bt;return ut?ut.call(J):(J=typeof X=="function"?X(J):J[Symbol.iterator](),bt={},kt("next"),kt("throw"),kt("return"),bt[Symbol.asyncIterator]=function(){return this},bt);function kt(Ht){bt[Ht]=J[Ht]&&function(ie){return new Promise(function(se,Ae){ie=J[Ht](ie),Bt(se,Ae,ie.done,ie.value)})}}function Bt(Ht,ie,se,Ae){Promise.resolve(Ae).then(function(ve){Ht({value:ve,done:se})},ie)}}function V(J,ut){return Object.defineProperty?Object.defineProperty(J,"raw",{value:ut}):J.raw=ut,J}var q=Object.create?function(J,ut){Object.defineProperty(J,"default",{enumerable:!0,value:ut})}:function(J,ut){J.default=ut};function K(J){if(J&&J.__esModule)return J;var ut={};if(J!=null)for(var bt in J)bt!=="default"&&Object.prototype.hasOwnProperty.call(J,bt)&&B(ut,J,bt);return q(ut,J),ut}function Z(J){return J&&J.__esModule?J:{default:J}}function mt(J,ut,bt,kt){if(bt==="a"&&!kt)throw new TypeError("Private accessor was defined without a getter");if(typeof ut=="function"?J!==ut||!kt:!ut.has(J))throw new TypeError("Cannot read private member from an object whose class did not declare it");return bt==="m"?kt:bt==="a"?kt.call(J):kt?kt.value:ut.get(J)}function rt(J,ut,bt,kt,Bt){if(kt==="m")throw new TypeError("Private method is not writable");if(kt==="a"&&!Bt)throw new TypeError("Private accessor was defined without a setter");if(typeof ut=="function"?J!==ut||!Bt:!ut.has(J))throw new TypeError("Cannot write private member to an object whose class did not declare it");return kt==="a"?Bt.call(J,bt):Bt?Bt.value=bt:ut.set(J,bt),bt}var W=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="cat",bt.isCategory=!0,bt}return ut.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var bt=0;bt<this.values.length;bt++)this.translateIndexMap.set(this.values[bt],bt)}},ut.prototype.translate=function(bt){this.buildIndexMap();var kt=this.translateIndexMap.get(bt);return kt===void 0&&(kt=(0,m.isNumber)(bt)?bt:NaN),kt},ut.prototype.scale=function(bt){var kt=this.translate(bt),Bt=this.calcPercent(kt,this.min,this.max);return this.calcValue(Bt,this.rangeMin(),this.rangeMax())},ut.prototype.invert=function(bt){var kt=this.max-this.min,Bt=this.calcPercent(bt,this.rangeMin(),this.rangeMax()),Ht=Math.round(kt*Bt)+this.min;return Ht<this.min||Ht>this.max?NaN:this.values[Ht]},ut.prototype.getText=function(bt){for(var kt=[],Bt=1;Bt<arguments.length;Bt++)kt[Bt-1]=arguments[Bt];var Ht=bt;return(0,m.isNumber)(bt)&&!this.values.includes(bt)&&(Ht=this.values[Ht]),J.prototype.getText.apply(this,ht([Ht],kt,!1))},ut.prototype.initCfg=function(){this.tickMethod="cat"},ut.prototype.setDomain=function(){if((0,m.isNil)(this.getConfig("min"))&&(this.min=0),(0,m.isNil)(this.getConfig("max"))){var bt=this.values.length;this.max=bt>1?bt-1:bt}this.translateIndexMap&&(this.translateIndexMap=void 0)},ut}(_),z=W,G=d(19432);function f(J){return function(ut,bt,kt,Bt){for(var Ht=(0,m.isNil)(kt)?0:kt,ie=(0,m.isNil)(Bt)?ut.length:Bt;Ht<ie;){var se=Ht+ie>>>1;J(ut[se])>bt?ie=se:Ht=se+1}return Ht}}var pt="format";function Ct(J,ut){var bt=G[pt]||G.default[pt];return bt(J,ut)}function ot(J){return(0,m.isString)(J)&&(J.indexOf("T")>0?J=new Date(J).getTime():J=new Date(J.replace(/-/gi,"/")).getTime()),(0,m.isDate)(J)&&(J=J.getTime()),J}var St=1e3,xt=60*St,Mt=60*xt,Et=24*Mt,Tt=Et*31,gt=Et*365,it=[["HH:mm:ss",St],["HH:mm:ss",St*10],["HH:mm:ss",St*30],["HH:mm",xt],["HH:mm",xt*10],["HH:mm",xt*30],["HH",Mt],["HH",Mt*6],["HH",Mt*12],["YYYY-MM-DD",Et],["YYYY-MM-DD",Et*4],["YYYY-WW",Et*7],["YYYY-MM",Tt],["YYYY-MM",Tt*4],["YYYY-MM",Tt*6],["YYYY",Et*380]];function Q(J,ut,bt){var kt=(ut-J)/bt,Bt=f(function(ie){return ie[1]})(it,kt)-1,Ht=it[Bt];return Bt<0?Ht=it[0]:Bt>=it.length&&(Ht=(0,m.last)(it)),Ht}var U=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="timeCat",bt}return ut.prototype.translate=function(bt){bt=ot(bt);var kt=this.values.indexOf(bt);return kt===-1&&((0,m.isNumber)(bt)&&bt<this.values.length?kt=bt:kt=NaN),kt},ut.prototype.getText=function(bt,kt){var Bt=this.translate(bt);if(Bt>-1){var Ht=this.values[Bt],ie=this.formatter;return Ht=ie?ie(Ht,kt):Ct(Ht,this.mask),Ht}return bt},ut.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},ut.prototype.setDomain=function(){var bt=this.values;(0,m.each)(bt,function(kt,Bt){bt[Bt]=ot(kt)}),bt.sort(function(kt,Bt){return kt-Bt}),J.prototype.setDomain.call(this)},ut}(z),ct=U,tt=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.isContinuous=!0,bt}return ut.prototype.scale=function(bt){if((0,m.isNil)(bt))return NaN;var kt=this.rangeMin(),Bt=this.rangeMax(),Ht=this.max,ie=this.min;if(Ht===ie)return kt;var se=this.getScalePercent(bt);return kt+se*(Bt-kt)},ut.prototype.init=function(){J.prototype.init.call(this);var bt=this.ticks,kt=(0,m.head)(bt),Bt=(0,m.last)(bt);kt<this.min&&(this.min=kt),Bt>this.max&&(this.max=Bt),(0,m.isNil)(this.minLimit)||(this.min=kt),(0,m.isNil)(this.maxLimit)||(this.max=Bt)},ut.prototype.setDomain=function(){var bt=(0,m.getRange)(this.values),kt=bt.min,Bt=bt.max;(0,m.isNil)(this.min)&&(this.min=kt),(0,m.isNil)(this.max)&&(this.max=Bt),this.min>this.max&&(this.min=kt,this.max=Bt)},ut.prototype.calculateTicks=function(){var bt=this,kt=J.prototype.calculateTicks.call(this);return this.nice||(kt=(0,m.filter)(kt,function(Bt){return Bt>=bt.min&&Bt<=bt.max})),kt},ut.prototype.getScalePercent=function(bt){var kt=this.max,Bt=this.min;return(bt-Bt)/(kt-Bt)},ut.prototype.getInvertPercent=function(bt){return(bt-this.rangeMin())/(this.rangeMax()-this.rangeMin())},ut}(_),et=tt,dt=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="linear",bt.isLinear=!0,bt}return ut.prototype.invert=function(bt){var kt=this.getInvertPercent(bt);return this.min+kt*(this.max-this.min)},ut.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},ut}(et),Lt=dt;function Xt(J,ut){var bt=Math.E,kt;return ut>=0?kt=Math.pow(bt,Math.log(ut)/J):kt=Math.pow(bt,Math.log(-ut)/J)*-1,kt}function $t(J,ut){return J===1?1:Math.log(ut)/Math.log(J)}function fe(J,ut,bt){(0,m.isNil)(bt)&&(bt=Math.max.apply(null,J));var kt=bt;return(0,m.each)(J,function(Bt){Bt>0&&Bt<kt&&(kt=Bt)}),kt===bt&&(kt=bt/ut),kt>1&&(kt=1),kt}function me(J){var ut=J.toString().split(/[eE]/),bt=(ut[0].split(".")[1]||"").length-+(ut[1]||0);return bt>0?bt:0}function pe(J,ut){var bt=me(J),kt=me(ut),Bt=Math.pow(10,Math.max(bt,kt));return(J*Bt+ut*Bt)/Bt}var xe=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="log",bt}return ut.prototype.invert=function(bt){var kt=this.base,Bt=$t(kt,this.max),Ht=this.rangeMin(),ie=this.rangeMax()-Ht,se,Ae=this.positiveMin;if(Ae){if(bt===0)return 0;se=$t(kt,Ae/kt);var ve=1/(Bt-se)*ie;if(bt<ve)return bt/ve*Ae}else se=$t(kt,this.min);var de=(bt-Ht)/ie,Ke=de*(Bt-se)+se;return Math.pow(kt,Ke)},ut.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},ut.prototype.setDomain=function(){J.prototype.setDomain.call(this);var bt=this.min;if(bt<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");bt===0&&(this.positiveMin=fe(this.values,this.base,this.max))},ut.prototype.getScalePercent=function(bt){var kt=this.max,Bt=this.min;if(kt===Bt||bt<=0)return 0;var Ht=this.base,ie=this.positiveMin;ie&&(Bt=ie*1/Ht);var se;return bt<ie?se=bt/ie/($t(Ht,kt)-$t(Ht,Bt)):se=($t(Ht,bt)-$t(Ht,Bt))/($t(Ht,kt)-$t(Ht,Bt)),se},ut}(et),Ie=xe,je=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="pow",bt}return ut.prototype.invert=function(bt){var kt=this.getInvertPercent(bt),Bt=this.exponent,Ht=Xt(Bt,this.max),ie=Xt(Bt,this.min),se=kt*(Ht-ie)+ie,Ae=se>=0?1:-1;return Math.pow(se,Bt)*Ae},ut.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},ut.prototype.getScalePercent=function(bt){var kt=this.max,Bt=this.min;if(kt===Bt)return 0;var Ht=this.exponent,ie=(Xt(Ht,bt)-Xt(Ht,Bt))/(Xt(Ht,kt)-Xt(Ht,Bt));return ie},ut}(et),ur=je,Ze=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="time",bt}return ut.prototype.getText=function(bt,kt){var Bt=this.translate(bt),Ht=this.formatter;return Ht?Ht(Bt,kt):Ct(Bt,this.mask)},ut.prototype.scale=function(bt){var kt=bt;return((0,m.isString)(kt)||(0,m.isDate)(kt))&&(kt=this.translate(kt)),J.prototype.scale.call(this,kt)},ut.prototype.translate=function(bt){return ot(bt)},ut.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},ut.prototype.setDomain=function(){var bt=this.values,kt=this.getConfig("min"),Bt=this.getConfig("max");if((!(0,m.isNil)(kt)||!(0,m.isNumber)(kt))&&(this.min=this.translate(this.min)),(!(0,m.isNil)(Bt)||!(0,m.isNumber)(Bt))&&(this.max=this.translate(this.max)),bt&&bt.length){var Ht=[],ie=Infinity,se=ie,Ae=0;(0,m.each)(bt,function(ve){var de=ot(ve);if(isNaN(de))throw new TypeError("Invalid Time: "+ve+" in time scale!");ie>de?(se=ie,ie=de):se>de&&(se=de),Ae<de&&(Ae=de),Ht.push(de)}),bt.length>1&&(this.minTickInterval=se-ie),(0,m.isNil)(kt)&&(this.min=ie),(0,m.isNil)(Bt)&&(this.max=Ae)}},ut}(Lt),Ar=Ze,Jr=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="quantize",bt}return ut.prototype.invert=function(bt){var kt=this.ticks,Bt=kt.length,Ht=this.getInvertPercent(bt),ie=Math.floor(Ht*(Bt-1));if(ie>=Bt-1)return(0,m.last)(kt);if(ie<0)return(0,m.head)(kt);var se=kt[ie],Ae=kt[ie+1],ve=ie/(Bt-1),de=(ie+1)/(Bt-1);return se+(Ht-ve)/(de-ve)*(Ae-se)},ut.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},ut.prototype.calculateTicks=function(){var bt=J.prototype.calculateTicks.call(this);return this.nice||((0,m.last)(bt)!==this.max&&bt.push(this.max),(0,m.head)(bt)!==this.min&&bt.unshift(this.min)),bt},ut.prototype.getScalePercent=function(bt){var kt=this.ticks;if(bt<(0,m.head)(kt))return 0;if(bt>(0,m.last)(kt))return 1;var Bt=0;return(0,m.each)(kt,function(Ht,ie){if(bt>=Ht)Bt=ie;else return!1}),Bt/(kt.length-1)},ut}(et),Er=Jr,Hr=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="quantile",bt}return ut.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},ut}(Er),Xn=Hr,Zn={};function qn(J){return Zn[J]}function Pn(J,ut){if(qn(J))throw new Error("type '"+J+"' existed.");Zn[J]=ut}var Kt=function(J){C(ut,J);function ut(){var bt=J!==null&&J.apply(this,arguments)||this;return bt.type="identity",bt.isIdentity=!0,bt}return ut.prototype.calculateTicks=function(){return this.values},ut.prototype.scale=function(bt){return this.values[0]!==bt&&(0,m.isNumber)(bt)?bt:this.range[0]},ut.prototype.invert=function(bt){var kt=this.range;return bt<kt[0]||bt>kt[1]?NaN:this.values[0]},ut}(_),Jt=Kt;function re(J){return Math.abs(J)<1e-15?J:parseFloat(J.toFixed(15))}var oe=[1,5,2,2.5,4,3],ge=null,be=Number.EPSILON*100;function Ce(J,ut){return(J%ut+ut)%ut}function Me(J){return Math.round(J*1e12)/1e12}function he(J,ut,bt,kt,Bt,Ht){var ie=(0,m.size)(ut),se=(0,m.indexOf)(ut,J),Ae=0,ve=Ce(kt,Ht);return(ve<be||Ht-ve<be)&&kt<=0&&Bt>=0&&(Ae=1),1-se/(ie-1)-bt+Ae}function Ge(J,ut,bt){var kt=(0,m.size)(ut),Bt=(0,m.indexOf)(ut,J),Ht=1;return 1-Bt/(kt-1)-bt+Ht}function Le(J,ut,bt,kt,Bt,Ht){var ie=(J-1)/(Ht-Bt),se=(ut-1)/(Math.max(Ht,kt)-Math.min(bt,Bt));return 2-Math.max(ie/se,se/ie)}function He(J,ut){return J>=ut?2-(J-1)/(ut-1):1}function er(J,ut,bt,kt){var Bt=ut-J;return 1-.5*(Math.pow(ut-kt,2)+Math.pow(J-bt,2))/Math.pow(.1*Bt,2)}function Ue(J,ut,bt){var kt=ut-J;if(bt>kt){var Bt=(bt-kt)/2;return 1-Math.pow(Bt,2)/Math.pow(.1*kt,2)}return 1}function nr(){return 1}function qe(J,ut,bt,kt,Bt,Ht){bt===void 0&&(bt=5),kt===void 0&&(kt=!0),Bt===void 0&&(Bt=oe),Ht===void 0&&(Ht=[.25,.2,.5,.05]);var ie=bt<0?0:Math.round(bt);if(Number.isNaN(J)||Number.isNaN(ut)||typeof J!="number"||typeof ut!="number"||!ie)return{min:0,max:0,ticks:[]};if(ut-J<1e-15||ie===1)return{min:J,max:ut,ticks:[J]};for(var se={score:-2,lmin:0,lmax:0,lstep:0},Ae=1;Ae<Infinity;){for(var ve=0;ve<Bt.length;ve+=1){var de=Bt[ve],Ke=Ge(de,Bt,Ae);if(Ht[0]*Ke+Ht[1]+Ht[2]+Ht[3]<se.score){Ae=Infinity;break}for(var Qe=2;Qe<Infinity;){var gr=He(Qe,ie);if(Ht[0]*Ke+Ht[1]+Ht[2]*gr+Ht[3]<se.score)break;for(var cr=(ut-J)/(Qe+1)/Ae/de,$e=Math.ceil(Math.log10(cr));$e<Infinity;){var ze=Ae*de*Math.pow(10,$e),Or=Ue(J,ut,ze*(Qe-1));if(Ht[0]*Ke+Ht[1]*Or+Ht[2]*gr+Ht[3]<se.score)break;var Zr=Math.floor(ut/ze)*Ae-(Qe-1)*Ae,vn=Math.ceil(J/ze)*Ae;if(Zr<=vn)for(var Mn=vn-Zr,Yn=0;Yn<=Mn;Yn+=1){var Hi=Zr+Yn,Vn=Hi*(ze/Ae),ni=Vn+ze*(Qe-1),ii=ze,Di=he(de,Bt,Ae,Vn,ni,ii),Wi=er(J,ut,Vn,ni),tn=Le(Qe,ie,J,ut,Vn,ni),fa=nr(),ta=Ht[0]*Di+Ht[1]*Wi+Ht[2]*tn+Ht[3]*fa;ta>se.score&&(!kt||Vn<=J&&ni>=ut)&&(se.lmin=Vn,se.lmax=ni,se.lstep=ii,se.score=ta)}$e+=1}Qe+=1}}Ae+=1}var $n=re(se.lmax),ha=re(se.lmin),wi=re(se.lstep),ea=Math.floor(Me(($n-ha)/wi))+1,Fi=new Array(ea);Fi[0]=re(ha);for(var ve=1;ve<ea;ve++)Fi[ve]=re(Fi[ve-1]+wi);return{min:Math.min(J,(0,m.head)(Fi)),max:Math.max(ut,(0,m.last)(Fi)),ticks:Fi}}function fr(J){var ut=J.values,bt=J.tickInterval,kt=J.tickCount,Bt=ut;if((0,m.isNumber)(bt))return(0,m.filter)(Bt,function(ve,de){return de%bt==0});var Ht=J.min,ie=J.max;if((0,m.isNil)(Ht)&&(Ht=0),(0,m.isNil)(ie)&&(ie=ut.length-1),(0,m.isNumber)(kt)&&kt<ie-Ht){var se=qe(Ht,ie,kt,!1,[1,2,5,3,4,7,6,8,9]).ticks,Ae=(0,m.filter)(se,function(ve){return ve>=Ht&&ve<=ie});return Ae.map(function(ve){return ut[ve]})}return ut.slice(Ht,ie+1)}function We(J){var ut=J.min,bt=J.max,kt=J.nice,Bt=J.tickCount,Ht=new Yr;return Ht.domain([ut,bt]),kt&&Ht.nice(Bt),Ht.ticks(Bt)}var vr=5,Pr=Math.sqrt(50),wr=Math.sqrt(10),_r=Math.sqrt(2),Yr=function(){function J(){this._domain=[0,1]}return J.prototype.domain=function(ut){return ut?(this._domain=Array.from(ut,Number),this):this._domain.slice()},J.prototype.nice=function(ut){var bt,kt;ut===void 0&&(ut=vr);var Bt=this._domain.slice(),Ht=0,ie=this._domain.length-1,se=this._domain[Ht],Ae=this._domain[ie],ve;return Ae<se&&(bt=[Ae,se],se=bt[0],Ae=bt[1],kt=[ie,Ht],Ht=kt[0],ie=kt[1]),ve=mn(se,Ae,ut),ve>0?(se=Math.floor(se/ve)*ve,Ae=Math.ceil(Ae/ve)*ve,ve=mn(se,Ae,ut)):ve<0&&(se=Math.ceil(se*ve)/ve,Ae=Math.floor(Ae*ve)/ve,ve=mn(se,Ae,ut)),ve>0?(Bt[Ht]=Math.floor(se/ve)*ve,Bt[ie]=Math.ceil(Ae/ve)*ve,this.domain(Bt)):ve<0&&(Bt[Ht]=Math.ceil(se*ve)/ve,Bt[ie]=Math.floor(Ae*ve)/ve,this.domain(Bt)),this},J.prototype.ticks=function(ut){return ut===void 0&&(ut=vr),kr(this._domain[0],this._domain[this._domain.length-1],ut||vr)},J}();function kr(J,ut,bt){var kt,Bt=-1,Ht,ie,se;if(ut=+ut,J=+J,bt=+bt,J===ut&&bt>0)return[J];if((kt=ut<J)&&(Ht=J,J=ut,ut=Ht),(se=mn(J,ut,bt))===0||!isFinite(se))return[];if(se>0)for(J=Math.ceil(J/se),ut=Math.floor(ut/se),ie=new Array(Ht=Math.ceil(ut-J+1));++Bt<Ht;)ie[Bt]=(J+Bt)*se;else for(J=Math.floor(J*se),ut=Math.ceil(ut*se),ie=new Array(Ht=Math.ceil(J-ut+1));++Bt<Ht;)ie[Bt]=(J-Bt)/se;return kt&&ie.reverse(),ie}function mn(J,ut,bt){var kt=(ut-J)/Math.max(0,bt),Bt=Math.floor(Math.log(kt)/Math.LN10),Ht=kt/Math.pow(10,Bt);return Bt>=0?(Ht>=Pr?10:Ht>=wr?5:Ht>=_r?2:1)*Math.pow(10,Bt):-Math.pow(10,-Bt)/(Ht>=Pr?10:Ht>=wr?5:Ht>=_r?2:1)}function Ur(J,ut,bt){var kt;return bt==="ceil"?kt=Math.ceil(J/ut):bt==="floor"?kt=Math.floor(J/ut):kt=Math.round(J/ut),kt*ut}function In(J,ut,bt){var kt=Ur(J,bt,"floor"),Bt=Ur(ut,bt,"ceil");kt=(0,m.fixedBase)(kt,bt),Bt=(0,m.fixedBase)(Bt,bt);for(var Ht=[],ie=kt;ie<=Bt;ie=ie+bt){var se=(0,m.fixedBase)(ie,bt);Ht.push(se)}return{min:kt,max:Bt,ticks:Ht}}function Kn(J,ut,bt){var kt,Bt=J.minLimit,Ht=J.maxLimit,ie=J.min,se=J.max,Ae=J.tickCount,ve=Ae===void 0?5:Ae,de=(0,m.isNil)(Bt)?(0,m.isNil)(ut)?ie:ut:Bt,Ke=(0,m.isNil)(Ht)?(0,m.isNil)(bt)?se:bt:Ht;if(de>Ke&&(kt=[de,Ke],Ke=kt[0],de=kt[1]),ve<=2)return[de,Ke];for(var Qe=(Ke-de)/(ve-1),gr=[],cr=0;cr<ve;cr++)gr.push(de+Qe*cr);return gr}function Wn(J){var ut=J.min,bt=J.max,kt=J.tickInterval,Bt=J.minLimit,Ht=J.maxLimit,ie=We(J);return!(0,m.isNil)(Bt)||!(0,m.isNil)(Ht)?Kn(J,(0,m.head)(ie),(0,m.last)(ie)):kt?In(ut,bt,kt).ticks:ie}function Ti(J){var ut=J.min,bt=J.max,kt=J.tickCount,Bt=J.nice,Ht=J.tickInterval,ie=J.minLimit,se=J.maxLimit,Ae=qe(ut,bt,kt,Bt).ticks;return!(0,m.isNil)(ie)||!(0,m.isNil)(se)?Kn(J,(0,m.head)(Ae),(0,m.last)(Ae)):Ht?In(ut,bt,Ht).ticks:Ae}function Bi(J){var ut=J.base,bt=J.tickCount,kt=J.min,Bt=J.max,Ht=J.values,ie,se=$t(ut,Bt);if(kt>0)ie=Math.floor($t(ut,kt));else{var Ae=fe(Ht,ut,Bt);ie=Math.floor($t(ut,Ae))}for(var ve=se-ie,de=Math.ceil(ve/bt),Ke=[],Qe=ie;Qe<se+de;Qe=Qe+de)Ke.push(Math.pow(ut,Qe));return kt<=0&&Ke.unshift(0),Ke}function Sr(J,ut,bt){if(bt===void 0&&(bt=5),J===ut)return{max:ut,min:J,ticks:[J]};var kt=bt<0?0:Math.round(bt);if(kt===0)return{max:ut,min:J,ticks:[]};var Bt=1.5,Ht=.5+1.5*Bt,ie=ut-J,se=ie/kt,Ae=Math.pow(10,Math.floor(Math.log10(se))),ve=Ae;2*Ae-se<Bt*(se-ve)&&(ve=2*Ae,5*Ae-se<Ht*(se-ve)&&(ve=5*Ae,10*Ae-se<Bt*(se-ve)&&(ve=10*Ae)));for(var de=Math.ceil(ut/ve),Ke=Math.floor(J/ve),Qe=Math.max(de*ve,ut),gr=Math.min(Ke*ve,J),cr=Math.floor((Qe-gr)/ve)+1,$e=new Array(cr),ze=0;ze<cr;ze++)$e[ze]=re(gr+ze*ve);return{min:gr,max:Qe,ticks:$e}}function hi(J){var ut=J.exponent,bt=J.tickCount,kt=Math.ceil(Xt(ut,J.max)),Bt=Math.floor(Xt(ut,J.min)),Ht=Sr(Bt,kt,bt).ticks;return Ht.map(function(ie){var se=ie>=0?1:-1;return Math.pow(ie,ut)*se})}function bi(J,ut){var bt=J.length*ut;return ut===1?J[J.length-1]:ut===0?J[0]:bt%1!=0?J[Math.ceil(bt)-1]:J.length%2==0?(J[bt-1]+J[bt])/2:J[bt]}function ti(J){var ut=J.tickCount,bt=J.values;if(!bt||!bt.length)return[];for(var kt=bt.slice().sort(function(se,Ae){return se-Ae}),Bt=[],Ht=0;Ht<ut;Ht++){var ie=Ht/(ut-1);Bt.push(bi(kt,ie))}return Bt}function cn(J){var ut=J.min,bt=J.max,kt=J.tickCount,Bt=J.tickInterval,Ht=J.minLimit,ie=J.maxLimit,se=Sr(ut,bt,kt).ticks;return!(0,m.isNil)(Ht)||!(0,m.isNil)(ie)?Kn(J,(0,m.head)(se),(0,m.last)(se)):Bt?In(ut,bt,Bt).ticks:se}function ei(J){var ut=J.min,bt=J.max,kt=J.minTickInterval,Bt=J.tickInterval,Ht=J.tickCount;if(Bt)Ht=Math.ceil((bt-ut)/Bt);else{Bt=Q(ut,bt,Ht)[1];var ie=(bt-ut)/Bt,se=ie/Ht;se>1&&(Bt=Bt*Math.ceil(se)),kt&&Bt<kt&&(Bt=kt)}for(var Ae=[],ve=ut;ve<bt+Bt;ve+=Bt)Ae.push(ve);return Ae}function Vi(J){var ut=fr(J),bt=(0,m.last)(J.values);return bt!==(0,m.last)(ut)&&ut.push(bt),ut}function ri(J){return new Date(J).getFullYear()}function Pi(J){return new Date(J,0,1).getTime()}function Dn(J){return new Date(J).getMonth()}function Qi(J,ut){var bt=ri(J),kt=ri(ut),Bt=Dn(J),Ht=Dn(ut);return(kt-bt)*12+(Ht-Bt)%12}function ua(J,ut){return new Date(J,ut,1).getTime()}function Gt(J,ut){return Math.ceil((ut-J)/Et)}function It(J,ut){return Math.ceil((ut-J)/Mt)}function vt(J,ut){return Math.ceil((ut-J)/(60*1e3))}function wt(J){var ut=J.min,bt=J.max,kt=J.minTickInterval,Bt=J.tickCount,Ht=J.tickInterval,ie=[];Ht||(Ht=(bt-ut)/Bt,kt&&Ht<kt&&(Ht=kt));var se=ri(ut);if(Ht>gt)for(var Ae=ri(bt),ve=Math.ceil(Ht/gt),de=se;de<=Ae+ve;de=de+ve)ie.push(Pi(de));else if(Ht>Tt)for(var Ke=Math.ceil(Ht/Tt),Qe=Dn(ut),gr=Qi(ut,bt),de=0;de<=gr+Ke;de=de+Ke)ie.push(ua(se,de+Qe));else if(Ht>Et)for(var cr=new Date(ut),$e=cr.getFullYear(),ze=cr.getMonth(),Or=cr.getDate(),Zr=Math.ceil(Ht/Et),vn=Gt(ut,bt),de=0;de<vn+Zr;de=de+Zr)ie.push(new Date($e,ze,Or+de).getTime());else if(Ht>Mt)for(var cr=new Date(ut),$e=cr.getFullYear(),ze=cr.getMonth(),Zr=cr.getDate(),Mn=cr.getHours(),Yn=Math.ceil(Ht/Mt),Hi=It(ut,bt),de=0;de<=Hi+Yn;de=de+Yn)ie.push(new Date($e,ze,Zr,Mn+de).getTime());else if(Ht>xt)for(var Vn=vt(ut,bt),ni=Math.ceil(Ht/xt),de=0;de<=Vn+ni;de=de+ni)ie.push(ut+de*xt);else{var ii=Ht;ii<St&&(ii=St);for(var Di=Math.floor(ut/St)*St,Wi=Math.ceil((bt-ut)/St),tn=Math.ceil(ii/St),de=0;de<Wi+tn;de=de+tn)ie.push(Di+de*St)}return ie.length>=512&&console.warn("Notice: current ticks length("+ie.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+Ht+") is too small, increase the value to solve the problem!"),ie}L("cat",fr),L("time-cat",Vi),L("wilkinson-extended",Ti),L("r-pretty",cn),L("time",ei),L("time-pretty",wt),L("log",Bi),L("pow",hi),L("quantile",ti),L("d3-linear",Wn),Pn("cat",z),Pn("category",z),Pn("identity",Jt),Pn("linear",Lt),Pn("log",Ie),Pn("pow",ur),Pn("time",Ar),Pn("timeCat",ct),Pn("quantize",Er),Pn("quantile",Xn)},49242:function(_t,S,d){"use strict";d.r(S),d.d(S,{Cache:function(){return jr},assign:function(){return ji},augment:function(){return Sa},clamp:function(){return Ue},clearAnimationFrame:function(){return Li},clone:function(){return Ka},contains:function(){return L},debounce:function(){return os},deepMix:function(){return $a},difference:function(){return C},each:function(){return X},endsWith:function(){return Jr},every:function(){return Hr},extend:function(){return ss},filter:function(){return _},find:function(){return q},findIndex:function(){return Z},firstValue:function(){return rt},fixedBase:function(){return qe},flatten:function(){return z},flattenDeep:function(){return f},forIn:function(){return Gt},get:function(){return R},getEllipsisText:function(){return Wr},getRange:function(){return St},getType:function(){return $e},getWrapBehavior:function(){return ge},group:function(){return re},groupBy:function(){return Kt},groupToMap:function(){return Jt},has:function(){return It},hasKey:function(){return vt},hasValue:function(){return ut},head:function(){return Ie},identity:function(){return Oe},includes:function(){return L},indexOf:function(){return ko},isArguments:function(){return Or},isArray:function(){return T},isArrayLike:function(){return O},isBoolean:function(){return vn},isDate:function(){return Yn},isDecimal:function(){return Pr},isElement:function(){return Fi},isEmpty:function(){return us},isEqual:function(){return pn},isEqualWith:function(){return Bo},isError:function(){return Vn},isEven:function(){return _r},isFinite:function(){return ni},isFunction:function(){return w},isInteger:function(){return kr},isMatch:function(){return ht},isNegative:function(){return Ur},isNil:function(){return M},isNull:function(){return Di},isNumber:function(){return We},isNumberEqual:function(){return Kn},isObject:function(){return B},isObjectLike:function(){return Ot},isOdd:function(){return Ti},isPlainObject:function(){return Dt},isPositive:function(){return Sr},isPrototype:function(){return fa},isRegExp:function(){return $n},isString:function(){return Lt},isType:function(){return x},isUndefined:function(){return wi},keys:function(){return H},last:function(){return je},lowerCase:function(){return Bt},lowerFirst:function(){return ie},map:function(){return Ra},mapValues:function(){return yt},max:function(){return pt},maxBy:function(){return hi},measureTextWidth:function(){return pr},memoize:function(){return Oo},min:function(){return Ct},minBy:function(){return bi},mix:function(){return ji},mod:function(){return cn},noop:function(){return we},number2color:function(){return Ge},omit:function(){return Yt},parseRadius:function(){return He},pick:function(){return Pt},pull:function(){return gt},pullAt:function(){return U},reduce:function(){return tt},remove:function(){return dt},requestAnimationFrame:function(){return Da},set:function(){return j},size:function(){return Re},some:function(){return Zn},sortBy:function(){return $t},startsWith:function(){return Ze},substitute:function(){return Ae},throttle:function(){return jt},toArray:function(){return ee},toDegree:function(){return ri},toInteger:function(){return Pi},toRadian:function(){return ua},toString:function(){return bt},union:function(){return pe},uniq:function(){return fe},uniqueId:function(){return ce},upperCase:function(){return de},upperFirst:function(){return Qe},values:function(){return J},valuesOfKey:function(){return xe},wrapBehavior:function(){return Ce}});var m=function(Nt){return Nt!==null&&typeof Nt!="function"&&isFinite(Nt.length)},O=m,I=function(Nt,qt){return O(Nt)?Nt.indexOf(qt)>-1:!1},L=I,P=function(Nt,qt){if(!O(Nt))return Nt;for(var ue=[],ye=0;ye<Nt.length;ye++){var Pe=Nt[ye];qt(Pe,ye)&&ue.push(Pe)}return ue},_=P,E=function(Nt,qt){return qt===void 0&&(qt=[]),_(Nt,function(ue){return!L(qt,ue)})},C=E,p={}.toString,b=function(Nt,qt){return p.call(Nt)==="[object "+qt+"]"},x=b,w=function(Nt){return x(Nt,"Function")},y=function(Nt){return Nt==null},M=y,T=function(Nt){return Array.isArray?Array.isArray(Nt):x(Nt,"Array")},B=function(Nt){var qt=typeof Nt;return Nt!==null&&qt==="object"||qt==="function"};function D(Nt,qt){if(!!Nt){var ue;if(T(Nt))for(var ye=0,Pe=Nt.length;ye<Pe&&(ue=qt(Nt[ye],ye),ue!==!1);ye++);else if(B(Nt)){for(var Je in Nt)if(Nt.hasOwnProperty(Je)&&(ue=qt(Nt[Je],Je),ue===!1))break}}}var X=D,$=Object.keys?function(Nt){return Object.keys(Nt)}:function(Nt){var qt=[];return X(Nt,function(ue,ye){w(Nt)&&ye==="prototype"||qt.push(ye)}),qt},H=$;function nt(Nt,qt){var ue=H(qt),ye=ue.length;if(M(Nt))return!ye;for(var Pe=0;Pe<ye;Pe+=1){var Je=ue[Pe];if(qt[Je]!==Nt[Je]||!(Je in Nt))return!1}return!0}var ht=nt,at=function(Nt){return typeof Nt=="object"&&Nt!==null},Ot=at,Ft=function(Nt){if(!Ot(Nt)||!x(Nt,"Object"))return!1;if(Object.getPrototypeOf(Nt)===null)return!0;for(var qt=Nt;Object.getPrototypeOf(qt)!==null;)qt=Object.getPrototypeOf(qt);return Object.getPrototypeOf(Nt)===qt},Dt=Ft;function V(Nt,qt){if(!T(Nt))return null;var ue;if(w(qt)&&(ue=qt),Dt(qt)&&(ue=function(Pe){return ht(Pe,qt)}),ue){for(var ye=0;ye<Nt.length;ye+=1)if(ue(Nt[ye]))return Nt[ye]}return null}var q=V;function K(Nt,qt,ue){ue===void 0&&(ue=0);for(var ye=ue;ye<Nt.length;ye++)if(qt(Nt[ye],ye))return ye;return-1}var Z=K,mt=function(Nt,qt){for(var ue=null,ye=0;ye<Nt.length;ye++){var Pe=Nt[ye],Je=Pe[qt];if(!M(Je)){T(Je)?ue=Je[0]:ue=Je;break}}return ue},rt=mt,W=function(Nt){if(!T(Nt))return[];for(var qt=[],ue=0;ue<Nt.length;ue++)qt=qt.concat(Nt[ue]);return qt},z=W,G=function(Nt,qt){if(qt===void 0&&(qt=[]),!T(Nt))qt.push(Nt);else for(var ue=0;ue<Nt.length;ue+=1)G(Nt[ue],qt);return qt},f=G,pt=function(Nt){if(!!T(Nt))return Nt.reduce(function(qt,ue){return Math.max(qt,ue)},Nt[0])},Ct=function(Nt){if(!!T(Nt))return Nt.reduce(function(qt,ue){return Math.min(qt,ue)},Nt[0])},ot=function(Nt){var qt=Nt.filter(function(Tr){return!isNaN(Tr)});if(!qt.length)return{min:0,max:0};if(T(Nt[0])){for(var ue=[],ye=0;ye<Nt.length;ye++)ue=ue.concat(Nt[ye]);qt=ue}var Pe=pt(qt),Je=Ct(qt);return{min:Je,max:Pe}},St=ot,xt=Array.prototype,Mt=xt.splice,Et=xt.indexOf,Tt=function(Nt){for(var qt=[],ue=1;ue<arguments.length;ue++)qt[ue-1]=arguments[ue];for(var ye=0;ye<qt.length;ye++)for(var Pe=qt[ye],Je=-1;(Je=Et.call(Nt,Pe))>-1;)Mt.call(Nt,Je,1);return Nt},gt=Tt,it=Array.prototype.splice,Q=function(qt,ue){if(!O(qt))return[];for(var ye=qt?ue.length:0,Pe=ye-1;ye--;){var Je=void 0,Tr=ue[ye];(ye===Pe||Tr!==Je)&&(Je=Tr,it.call(qt,Tr,1))}return qt},U=Q,ct=function(Nt,qt,ue){if(!T(Nt)&&!Dt(Nt))return Nt;var ye=ue;return X(Nt,function(Pe,Je){ye=qt(ye,Pe,Je)}),ye},tt=ct,et=function(Nt,qt){var ue=[];if(!O(Nt))return ue;for(var ye=-1,Pe=[],Je=Nt.length;++ye<Je;){var Tr=Nt[ye];qt(Tr,ye,Nt)&&(ue.push(Tr),Pe.push(ye))}return U(Nt,Pe),ue},dt=et,Lt=function(Nt){return x(Nt,"String")};function Xt(Nt,qt){var ue;if(w(qt))ue=function(Pe,Je){return qt(Pe)-qt(Je)};else{var ye=[];Lt(qt)?ye.push(qt):T(qt)&&(ye=qt),ue=function(Pe,Je){for(var Tr=0;Tr<ye.length;Tr+=1){var sn=ye[Tr];if(Pe[sn]>Je[sn])return 1;if(Pe[sn]<Je[sn])return-1}return 0}}return Nt.sort(ue),Nt}var $t=Xt;function fe(Nt,qt){qt===void 0&&(qt=new Map);var ue=[];if(Array.isArray(Nt))for(var ye=0,Pe=Nt.length;ye<Pe;ye++){var Je=Nt[ye];qt.has(Je)||(ue.push(Je),qt.set(Je,!0))}return ue}var me=function(){for(var Nt=[],qt=0;qt<arguments.length;qt++)Nt[qt]=arguments[qt];return fe([].concat.apply([],Nt))},pe=me,xe=function(Nt,qt){for(var ue=[],ye={},Pe=0;Pe<Nt.length;Pe++){var Je=Nt[Pe],Tr=Je[qt];if(!M(Tr)){T(Tr)||(Tr=[Tr]);for(var sn=0;sn<Tr.length;sn++){var ai=Tr[sn];ye[ai]||(ue.push(ai),ye[ai]=!0)}}}return ue};function Ie(Nt){if(O(Nt))return Nt[0]}function je(Nt){if(O(Nt)){var qt=Nt;return qt[qt.length-1]}}function ur(Nt,qt){return T(Nt)||Lt(Nt)?Nt[0]===qt:!1}var Ze=ur;function Ar(Nt,qt){return T(Nt)||Lt(Nt)?Nt[Nt.length-1]===qt:!1}var Jr=Ar,Er=function(Nt,qt){for(var ue=0;ue<Nt.length;ue++)if(!qt(Nt[ue],ue))return!1;return!0},Hr=Er,Xn=function(Nt,qt){for(var ue=0;ue<Nt.length;ue++)if(qt(Nt[ue],ue))return!0;return!1},Zn=Xn,qn=Object.prototype.hasOwnProperty;function Pn(Nt,qt){if(!qt||!T(Nt))return{};for(var ue={},ye=w(qt)?qt:function(sn){return sn[qt]},Pe,Je=0;Je<Nt.length;Je++){var Tr=Nt[Je];Pe=ye(Tr),qn.call(ue,Pe)?ue[Pe].push(Tr):ue[Pe]=[Tr]}return ue}var Kt=Pn;function Jt(Nt,qt){if(!qt)return{0:Nt};if(!w(qt)){var ue=T(qt)?qt:qt.replace(/\s+/g,"").split("*");qt=function(ye){for(var Pe="_",Je=0,Tr=ue.length;Je<Tr;Je++)Pe+=ye[ue[Je]]&&ye[ue[Je]].toString();return Pe}}return Kt(Nt,qt)}var re=function(Nt,qt){if(!qt)return[Nt];var ue=Jt(Nt,qt),ye=[];for(var Pe in ue)ye.push(ue[Pe]);return ye};function oe(Nt,qt){return Nt["_wrap_"+qt]}var ge=oe;function be(Nt,qt){if(Nt["_wrap_"+qt])return Nt["_wrap_"+qt];var ue=function(ye){Nt[qt](ye)};return Nt["_wrap_"+qt]=ue,ue}var Ce=be,Me={};function he(Nt){var qt=Me[Nt];if(!qt){for(var ue=Nt.toString(16),ye=ue.length;ye<6;ye++)ue="0"+ue;qt="#"+ue,Me[Nt]=qt}return qt}var Ge=he;function Le(Nt){var qt=0,ue=0,ye=0,Pe=0;return T(Nt)?Nt.length===1?qt=ue=ye=Pe=Nt[0]:Nt.length===2?(qt=ye=Nt[0],ue=Pe=Nt[1]):Nt.length===3?(qt=Nt[0],ue=Pe=Nt[1],ye=Nt[2]):(qt=Nt[0],ue=Nt[1],ye=Nt[2],Pe=Nt[3]):qt=ue=ye=Pe=Nt,{r1:qt,r2:ue,r3:ye,r4:Pe}}var He=Le,er=function(Nt,qt,ue){return Nt<qt?qt:Nt>ue?ue:Nt},Ue=er,nr=function(Nt,qt){var ue=qt.toString(),ye=ue.indexOf(".");if(ye===-1)return Math.round(Nt);var Pe=ue.substr(ye+1).length;return Pe>20&&(Pe=20),parseFloat(Nt.toFixed(Pe))},qe=nr,fr=function(Nt){return x(Nt,"Number")},We=fr,vr=function(Nt){return We(Nt)&&Nt%1!=0},Pr=vr,wr=function(Nt){return We(Nt)&&Nt%2==0},_r=wr,Yr=Number.isInteger?Number.isInteger:function(Nt){return We(Nt)&&Nt%1==0},kr=Yr,mn=function(Nt){return We(Nt)&&Nt<0},Ur=mn,In=1e-5;function Kn(Nt,qt,ue){return ue===void 0&&(ue=In),Math.abs(Nt-qt)<ue}var Wn=function(Nt){return We(Nt)&&Nt%2!=0},Ti=Wn,Bi=function(Nt){return We(Nt)&&Nt>0},Sr=Bi,hi=function(Nt,qt){if(!!T(Nt)){for(var ue,ye=-Infinity,Pe=0;Pe<Nt.length;Pe++){var Je=Nt[Pe],Tr=w(qt)?qt(Je):Je[qt];Tr>ye&&(ue=Je,ye=Tr)}return ue}},bi=function(Nt,qt){if(!!T(Nt)){for(var ue,ye=Infinity,Pe=0;Pe<Nt.length;Pe++){var Je=Nt[Pe],Tr=w(qt)?qt(Je):Je[qt];Tr<ye&&(ue=Je,ye=Tr)}return ue}},ti=function(Nt,qt){return(Nt%qt+qt)%qt},cn=ti,ei=180/Math.PI,Vi=function(Nt){return ei*Nt},ri=Vi,Pi=parseInt,Dn=Math.PI/180,Qi=function(Nt){return Dn*Nt},ua=Qi,Gt=X,It=function(Nt,qt){return Nt.hasOwnProperty(qt)},vt=It,wt=Object.values?function(Nt){return Object.values(Nt)}:function(Nt){var qt=[];return X(Nt,function(ue,ye){w(Nt)&&ye==="prototype"||qt.push(ue)}),qt},J=wt,ut=function(Nt,qt){return L(J(Nt),qt)},bt=function(Nt){return M(Nt)?"":Nt.toString()},kt=function(Nt){return bt(Nt).toLowerCase()},Bt=kt,Ht=function(Nt){var qt=bt(Nt);return qt.charAt(0).toLowerCase()+qt.substring(1)},ie=Ht;function se(Nt,qt){return!Nt||!qt?Nt:Nt.replace(/\\?\{([^{}]+)\}/g,function(ue,ye){return ue.charAt(0)==="\\"?ue.slice(1):qt[ye]===void 0?"":qt[ye]})}var Ae=se,ve=function(Nt){return bt(Nt).toUpperCase()},de=ve,Ke=function(Nt){var qt=bt(Nt);return qt.charAt(0).toUpperCase()+qt.substring(1)},Qe=Ke,gr={}.toString,cr=function(Nt){return gr.call(Nt).replace(/^\[object /,"").replace(/]$/,"")},$e=cr,ze=function(Nt){return x(Nt,"Arguments")},Or=ze,Zr=function(Nt){return x(Nt,"Boolean")},vn=Zr,Mn=function(Nt){return x(Nt,"Date")},Yn=Mn,Hi=function(Nt){return x(Nt,"Error")},Vn=Hi;function ni(Nt){return We(Nt)&&isFinite(Nt)}var ii=function(Nt){return Nt===null},Di=ii,Wi=Object.prototype,tn=function(Nt){var qt=Nt&&Nt.constructor,ue=typeof qt=="function"&&qt.prototype||Wi;return Nt===ue},fa=tn,ta=function(Nt){return x(Nt,"RegExp")},$n=ta,ha=function(Nt){return Nt===void 0},wi=ha,ea=function(Nt){return Nt instanceof Element||Nt instanceof HTMLDocument},Fi=ea;function Da(Nt){var qt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ue){return setTimeout(ue,16)};return qt(Nt)}function Li(Nt){var qt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;qt(Nt)}function Fa(Nt,qt){for(var ue in qt)qt.hasOwnProperty(ue)&&ue!=="constructor"&&qt[ue]!==void 0&&(Nt[ue]=qt[ue])}function ji(Nt,qt,ue,ye){return qt&&Fa(Nt,qt),ue&&Fa(Nt,ue),ye&&Fa(Nt,ye),Nt}var ci=function(){for(var Nt=[],qt=0;qt<arguments.length;qt++)Nt[qt]=arguments[qt];for(var ue=Nt[0],ye=1;ye<Nt.length;ye++){var Pe=Nt[ye];w(Pe)&&(Pe=Pe.prototype),ji(ue.prototype,Pe)}},Sa=ci,ra=function(Nt){if(typeof Nt!="object"||Nt===null)return Nt;var qt;if(T(Nt)){qt=[];for(var ue=0,ye=Nt.length;ue<ye;ue++)typeof Nt[ue]=="object"&&Nt[ue]!=null?qt[ue]=ra(Nt[ue]):qt[ue]=Nt[ue]}else{qt={};for(var Pe in Nt)typeof Nt[Pe]=="object"&&Nt[Pe]!=null?qt[Pe]=ra(Nt[Pe]):qt[Pe]=Nt[Pe]}return qt},Ka=ra;function Ca(Nt,qt,ue){var ye;return function(){var Pe=this,Je=arguments,Tr=function(){ye=null,ue||Nt.apply(Pe,Je)},sn=ue&&!ye;clearTimeout(ye),ye=setTimeout(Tr,qt),sn&&Nt.apply(Pe,Je)}}var os=Ca,Oo=function(Nt,qt){if(!w(Nt))throw new TypeError("Expected a function");var ue=function(){for(var ye=[],Pe=0;Pe<arguments.length;Pe++)ye[Pe]=arguments[Pe];var Je=qt?qt.apply(this,ye):ye[0],Tr=ue.cache;if(Tr.has(Je))return Tr.get(Je);var sn=Nt.apply(this,ye);return Tr.set(Je,sn),sn};return ue.cache=new Map,ue},Hs=5;function ho(Nt,qt,ue,ye){ue=ue||0,ye=ye||Hs;for(var Pe in qt)if(qt.hasOwnProperty(Pe)){var Je=qt[Pe];Je!==null&&Dt(Je)?(Dt(Nt[Pe])||(Nt[Pe]={}),ue<ye?ho(Nt[Pe],Je,ue+1,ye):Nt[Pe]=qt[Pe]):T(Je)?(Nt[Pe]=[],Nt[Pe]=Nt[Pe].concat(Je)):Je!==void 0&&(Nt[Pe]=Je)}}var Io=function(Nt){for(var qt=[],ue=1;ue<arguments.length;ue++)qt[ue-1]=arguments[ue];for(var ye=0;ye<qt.length;ye+=1)ho(Nt,qt[ye]);return Nt},$a=Io,Si=function(Nt,qt,ue,ye){w(qt)||(ue=qt,qt=Nt,Nt=function(){});var Pe=Object.create?function(Tr,sn){return Object.create(Tr,{constructor:{value:sn}})}:function(Tr,sn){function ai(){}ai.prototype=Tr;var Ui=new ai;return Ui.constructor=sn,Ui},Je=Pe(qt.prototype,Nt);return Nt.prototype=ji(Je,Nt.prototype),Nt.superclass=Pe(qt.prototype,qt),ji(Je,ue),ji(Nt,ye),Nt},ss=Si,ls=function(Nt,qt){if(!O(Nt))return-1;var ue=Array.prototype.indexOf;if(ue)return ue.call(Nt,qt);for(var ye=-1,Pe=0;Pe<Nt.length;Pe++)if(Nt[Pe]===qt){ye=Pe;break}return ye},ko=ls,co=Object.prototype.hasOwnProperty;function gn(Nt){if(M(Nt))return!0;if(O(Nt))return!Nt.length;var qt=$e(Nt);if(qt==="Map"||qt==="Set")return!Nt.size;if(fa(Nt))return!Object.keys(Nt).length;for(var ue in Nt)if(co.call(Nt,ue))return!1;return!0}var us=gn,vi=function(Nt,qt){if(Nt===qt)return!0;if(!Nt||!qt||Lt(Nt)||Lt(qt))return!1;if(O(Nt)||O(qt)){if(Nt.length!==qt.length)return!1;for(var ue=!0,ye=0;ye<Nt.length&&(ue=vi(Nt[ye],qt[ye]),!!ue);ye++);return ue}if(Ot(Nt)||Ot(qt)){var Pe=Object.keys(Nt),Je=Object.keys(qt);if(Pe.length!==Je.length)return!1;for(var ue=!0,ye=0;ye<Pe.length&&(ue=vi(Nt[Pe[ye]],qt[Pe[ye]]),!!ue);ye++);return ue}return!1},pn=vi,Bo=function(Nt,qt,ue){return w(ue)?!!ue(Nt,qt):pn(Nt,qt)},un=function(Nt,qt){if(!O(Nt))return Nt;for(var ue=[],ye=0;ye<Nt.length;ye++){var Pe=Nt[ye];ue.push(qt(Pe,ye))}return ue},Ra=un,Ut=function(Nt){return Nt},yt=function(Nt,qt){qt===void 0&&(qt=Ut);var ue={};return B(Nt)&&!M(Nt)&&Object.keys(Nt).forEach(function(ye){ue[ye]=qt(Nt[ye],ye)}),ue},R=function(Nt,qt,ue){for(var ye=0,Pe=Lt(qt)?qt.split("."):qt;Nt&&ye<Pe.length;)Nt=Nt[Pe[ye++]];return Nt===void 0||ye<Pe.length?ue:Nt},j=function(Nt,qt,ue){var ye=Nt,Pe=Lt(qt)?qt.split("."):qt;return Pe.forEach(function(Je,Tr){Tr<Pe.length-1?(B(ye[Je])||(ye[Je]=We(Pe[Tr+1])?[]:{}),ye=ye[Je]):ye[Je]=ue}),Nt},ft=Object.prototype.hasOwnProperty,Pt=function(Nt,qt){if(Nt===null||!Dt(Nt))return{};var ue={};return X(qt,function(ye){ft.call(Nt,ye)&&(ue[ye]=Nt[ye])}),ue},Yt=function(Nt,qt){return tt(Nt,function(ue,ye,Pe){return qt.includes(Pe)||(ue[Pe]=ye),ue},{})},jt=function(Nt,qt,ue){var ye,Pe,Je,Tr,sn=0;ue||(ue={});var ai=function(){sn=ue.leading===!1?0:Date.now(),ye=null,Tr=Nt.apply(Pe,Je),ye||(Pe=Je=null)},Ui=function(){var Ji=Date.now();!sn&&ue.leading===!1&&(sn=Ji);var fs=qt-(Ji-sn);return Pe=this,Je=arguments,fs<=0||fs>qt?(ye&&(clearTimeout(ye),ye=null),sn=Ji,Tr=Nt.apply(Pe,Je),ye||(Pe=Je=null)):!ye&&ue.trailing!==!1&&(ye=setTimeout(ai,fs)),Tr};return Ui.cancel=function(){clearTimeout(ye),sn=0,ye=Pe=Je=null},Ui},ee=function(Nt){return O(Nt)?Array.prototype.slice.call(Nt):[]},ne={},ce=function(Nt){return Nt=Nt||"g",ne[Nt]?ne[Nt]+=1:ne[Nt]=1,Nt+ne[Nt]},we=function(){},Oe=function(Nt){return Nt};function Re(Nt){return M(Nt)?0:O(Nt)?Nt.length:Object.keys(Nt).length}var ir=d(37067),Cr,pr=Oo(function(Nt,qt){qt===void 0&&(qt={});var ue=qt.fontSize,ye=qt.fontFamily,Pe=qt.fontWeight,Je=qt.fontStyle,Tr=qt.fontVariant;return Cr||(Cr=document.createElement("canvas").getContext("2d")),Cr.font=[Je,Tr,Pe,ue+"px",ye].join(" "),Cr.measureText(Lt(Nt)?Nt:"").width},function(Nt,qt){return qt===void 0&&(qt={}),(0,ir.__spreadArrays)([Nt],J(qt)).join("")}),Wr=function(Nt,qt,ue,ye){ye===void 0&&(ye="...");var Pe=16,Je=pr(ye,ue),Tr=Lt(Nt)?Nt:bt(Nt),sn=qt,ai=[],Ui,Ji;if(pr(Nt,ue)<=qt)return Nt;for(;Ui=Tr.substr(0,Pe),Ji=pr(Ui,ue),!(Ji+Je>sn&&Ji>sn);)if(ai.push(Ui),sn-=Ji,Tr=Tr.substr(Pe),!Tr)return ai.join("");for(;Ui=Tr.substr(0,1),Ji=pr(Ui,ue),!(Ji+Je>sn);)if(ai.push(Ui),sn-=Ji,Tr=Tr.substr(1),!Tr)return ai.join("");return""+ai.join("")+ye},Kr=function(){function Nt(){this.map={}}return Nt.prototype.has=function(qt){return this.map[qt]!==void 0},Nt.prototype.get=function(qt,ue){var ye=this.map[qt];return ye===void 0?ue:ye},Nt.prototype.set=function(qt,ue){this.map[qt]=ue},Nt.prototype.clear=function(){this.map={}},Nt.prototype.delete=function(qt){delete this.map[qt]},Nt.prototype.size=function(){return Object.keys(this.map).length},Nt}(),jr=Kr},99581:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66974),O=d(46812),I=function(){for(var L=[],P=0;P<arguments.length;P++)L[P]=arguments[P];for(var _=L[0],E=1;E<L.length;E++){var C=L[E];O.default(C)&&(C=C.prototype),m.default(_.prototype,C)}};S.default=I},68039:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(){function m(){this.map={}}return m.prototype.has=function(O){return this.map[O]!==void 0},m.prototype.get=function(O,I){var L=this.map[O];return L===void 0?I:L},m.prototype.set=function(O,I){this.map[O]=I},m.prototype.clear=function(){this.map={}},m.prototype.delete=function(O){delete this.map[O]},m.prototype.size=function(){return Object.keys(this.map).length},m}();S.default=d},37339:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,O,I){return m<O?O:m>I?I:m};S.default=d},35755:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var O=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;O(m)}S.default=d},8289:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=function(I){if(typeof I!="object"||I===null)return I;var L;if(m.default(I)){L=[];for(var P=0,_=I.length;P<_;P++)typeof I[P]=="object"&&I[P]!=null?L[P]=O(I[P]):L[P]=I[P]}else{L={};for(var E in I)typeof I[E]=="object"&&I[E]!=null?L[E]=O(I[E]):L[E]=I[E]}return L};S.default=O},75349:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),O=function(I,L){return m.default(I)?I.indexOf(L)>-1:!1};S.default=O},79663:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,O,I){var L;return function(){var P=this,_=arguments,E=function(){L=null,I||m.apply(P,_)},C=I&&!L;clearTimeout(L),L=setTimeout(E,O),C&&m.apply(P,_)}}S.default=d},90497:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(15907),I=5;function L(_,E,C,p){C=C||0,p=p||I;for(var b in E)if(E.hasOwnProperty(b)){var x=E[b];x!==null&&O.default(x)?(O.default(_[b])||(_[b]={}),C<p?L(_[b],x,C+1,p):_[b]=E[b]):m.default(x)?(_[b]=[],_[b]=_[b].concat(x)):x!==void 0&&(_[b]=x)}}var P=function(_){for(var E=[],C=1;C<arguments.length;C++)E[C-1]=arguments[C];for(var p=0;p<E.length;p+=1)L(_,E[p]);return _};S.default=P},25430:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(40007),O=d(75349),I=function(L,P){return P===void 0&&(P=[]),m.default(L,function(_){return!O.default(P,_)})};S.default=I},27154:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(33643);function I(L,P){if(!!L){var _;if(m.default(L))for(var E=0,C=L.length;E<C&&(_=P(L[E],E),_!==!1);E++);else if(O.default(L)){for(var p in L)if(L.hasOwnProperty(p)&&(_=P(L[p],p),_===!1))break}}}S.default=I},61846:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(21830);function I(L,P){return m.default(L)||O.default(L)?L[L.length-1]===P:!1}S.default=I},8153:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,O){for(var I=0;I<m.length;I++)if(!O(m[I],I))return!1;return!0};S.default=d},13829:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66974),O=d(46812),I=function(L,P,_,E){O.default(P)||(_=P,P=L,L=function(){});var C=Object.create?function(b,x){return Object.create(b,{constructor:{value:x}})}:function(b,x){function w(){}w.prototype=b;var y=new w;return y.constructor=x,y},p=C(P.prototype,L);return L.prototype=m.default(p,L.prototype),L.superclass=C(P.prototype,P),m.default(p,_),m.default(L,E),L};S.default=I},40007:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),O=function(I,L){if(!m.default(I))return I;for(var P=[],_=0;_<I.length;_++){var E=I[_];L(E,_)&&P.push(E)}return P};S.default=O},90871:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,O,I){I===void 0&&(I=0);for(var L=I;L<m.length;L++)if(O(m[L],L))return L;return-1}S.default=d},32114:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812),O=d(20253),I=d(66631),L=d(15907);function P(_,E){if(!I.default(_))return null;var C;if(m.default(E)&&(C=E),L.default(E)&&(C=function(b){return O.default(b,E)}),C){for(var p=0;p<_.length;p+=1)if(C(_[p]))return _[p]}return null}S.default=P},84521:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),O=d(66631),I=function(L,P){for(var _=null,E=0;E<L.length;E++){var C=L[E],p=C[P];if(!m.default(p)){O.default(p)?_=p[0]:_=p;break}}return _};S.default=I},14266:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,O){var I=O.toString(),L=I.indexOf(".");if(L===-1)return Math.round(m);var P=I.substr(L+1).length;return P>20&&(P=20),parseFloat(m.toFixed(P))};S.default=d},61917:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=function(I,L){if(L===void 0&&(L=[]),!m.default(I))L.push(I);else for(var P=0;P<I.length;P+=1)O(I[P],L);return L};S.default=O},30267:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=function(I){if(!m.default(I))return[];for(var L=[],P=0;P<I.length;P++)L=L.concat(I[P]);return L};S.default=O},8361:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154);S.default=m.default},65616:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(21830),O=d(78127),I=d(13754);S.default=function(L,P,_,E){E===void 0&&(E="...");var C=16,p=I.default(E,_),b=m.default(L)?L:O.default(L),x=P,w=[],y,M;if(I.default(L,_)<=P)return L;for(;y=b.substr(0,C),M=I.default(y,_),!(M+p>x&&M>x);)if(w.push(y),x-=M,b=b.substr(C),!b)return w.join("");for(;y=b.substr(0,1),M=I.default(y,_),!(M+p>x);)if(w.push(y),x-=M,b=b.substr(1),!b)return w.join("");return""+w.join("")+E}},83236:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(14705),I=d(45356),L=function(P){var _=P.filter(function(x){return!isNaN(x)});if(!_.length)return{min:0,max:0};if(m.default(P[0])){for(var E=[],C=0;C<P.length;C++)E=E.concat(P[C]);_=E}var p=O.default(_),b=I.default(_);return{min:b,max:p}};S.default=L},89175:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,m=function(O){return d.call(O).replace(/^\[object /,"").replace(/]$/,"")};S.default=m},71668:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,O){return m["_wrap_"+O]}S.default=d},58070:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(21830);S.default=function(O,I,L){for(var P=0,_=m.default(I)?I.split("."):I;O&&P<_.length;)O=O[_[P++]];return O===void 0||P<_.length?L:O}},54544:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(46812),I=Object.prototype.hasOwnProperty;function L(P,_){if(!_||!m.default(P))return{};for(var E={},C=O.default(_)?_:function(w){return w[_]},p,b=0;b<P.length;b++){var x=P[b];p=C(x),I.call(E,p)?E[p].push(x):E[p]=[x]}return E}S.default=L},64725:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(46812),I=d(54544);function L(P,_){if(!_)return{0:P};if(!O.default(_)){var E=m.default(_)?_:_.replace(/\s+/g,"").split("*");_=function(C){for(var p="_",b=0,x=E.length;b<x;b++)p+=C[E[b]]&&C[E[b]].toString();return p}}return I.default(P,_)}S.default=L},93597:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(64725);S.default=function(O,I){if(!I)return[O];var L=m.default(O,I),P=[];for(var _ in L)P.push(L[_]);return P}},97507:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(57921);S.default=m.default},99969:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(75349),O=d(91161);S.default=function(I,L){return m.default(O.default(I),L)}},57921:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,m){return d.hasOwnProperty(m)}},41169:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);function O(I){if(m.default(I))return I[0]}S.default=O},80870:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){return d}},40035:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),O=function(I,L){if(!m.default(I))return-1;var P=Array.prototype.indexOf;if(P)return P.call(I,L);for(var _=-1,E=0;E<I.length;E++)if(I[E]===L){_=E;break}return _};S.default=O},50229:function(_t,S,d){"use strict";var m;m={value:!0};var O=d(75349);m={enumerable:!0,get:function(){return O.default}},m={enumerable:!0,get:function(){return O.default}};var I=d(25430);m={enumerable:!0,get:function(){return I.default}};var L=d(32114);m={enumerable:!0,get:function(){return L.default}};var P=d(90871);m={enumerable:!0,get:function(){return P.default}};var _=d(84521);m={enumerable:!0,get:function(){return _.default}};var E=d(30267);m={enumerable:!0,get:function(){return E.default}};var C=d(61917);m={enumerable:!0,get:function(){return C.default}};var p=d(83236);m={enumerable:!0,get:function(){return p.default}};var b=d(5220);m={enumerable:!0,get:function(){return b.default}};var x=d(50779);m={enumerable:!0,get:function(){return x.default}};var w=d(13847);m={enumerable:!0,get:function(){return w.default}};var y=d(89757);m={enumerable:!0,get:function(){return y.default}};var M=d(27599);m={enumerable:!0,get:function(){return M.default}};var T=d(58632);m={enumerable:!0,get:function(){return T.default}};var B=d(12619);m={enumerable:!0,get:function(){return B.default}};var D=d(29208);m={enumerable:!0,get:function(){return D.default}};var X=d(41169);m={enumerable:!0,get:function(){return X.default}};var $=d(95145);m={enumerable:!0,get:function(){return $.default}};var H=d(680);m={enumerable:!0,get:function(){return H.default}};var nt=d(61846);m={enumerable:!0,get:function(){return nt.default}};var ht=d(40007);m={enumerable:!0,get:function(){return ht.default}};var at=d(8153);m={enumerable:!0,get:function(){return at.default}};var Ot=d(58175);m={enumerable:!0,get:function(){return Ot.default}};var Ft=d(93597);m={enumerable:!0,get:function(){return Ft.default}};var Dt=d(54544);m={enumerable:!0,get:function(){return Dt.default}};var V=d(64725);m={enumerable:!0,get:function(){return V.default}};var q=d(71668);m={enumerable:!0,get:function(){return q.default}};var K=d(61262);Object.defineProperty(S,"Ko",{enumerable:!0,get:function(){return K.default}});var Z=d(45145);m={enumerable:!0,get:function(){return Z.default}};var mt=d(85418);m={enumerable:!0,get:function(){return mt.default}};var rt=d(37339);m={enumerable:!0,get:function(){return rt.default}};var W=d(14266);m={enumerable:!0,get:function(){return W.default}};var z=d(51008);m={enumerable:!0,get:function(){return z.default}};var G=d(45420);m={enumerable:!0,get:function(){return G.default}};var f=d(68221);m={enumerable:!0,get:function(){return f.default}};var pt=d(58706);m={enumerable:!0,get:function(){return pt.default}};var Ct=d(39984);m={enumerable:!0,get:function(){return Ct.default}};var ot=d(32705);m={enumerable:!0,get:function(){return ot.default}};var St=d(75732);m={enumerable:!0,get:function(){return St.default}};var xt=d(14705);m={enumerable:!0,get:function(){return xt.default}};var Mt=d(38935);m={enumerable:!0,get:function(){return Mt.default}};var Et=d(45356);m={enumerable:!0,get:function(){return Et.default}};var Tt=d(89857);m={enumerable:!0,get:function(){return Tt.default}};var gt=d(5253);m={enumerable:!0,get:function(){return gt.default}};var it=d(2119);m={enumerable:!0,get:function(){return it.default}};var Q=d(23196);m={enumerable:!0,get:function(){return Q.default}};var U=d(9217);m={enumerable:!0,get:function(){return U.default}};var ct=d(8361);m={enumerable:!0,get:function(){return ct.default}};var tt=d(57921);m={enumerable:!0,get:function(){return tt.default}};var et=d(97507);m={enumerable:!0,get:function(){return et.default}};var dt=d(99969);m={enumerable:!0,get:function(){return dt.default}};var Lt=d(85050);m={enumerable:!0,get:function(){return Lt.default}};var Xt=d(20253);m={enumerable:!0,get:function(){return Xt.default}};var $t=d(91161);m={enumerable:!0,get:function(){return $t.default}};var fe=d(88362);m={enumerable:!0,get:function(){return fe.default}};var me=d(56095);m={enumerable:!0,get:function(){return me.default}};var pe=d(35541);m={enumerable:!0,get:function(){return pe.default}};var xe=d(72660);m={enumerable:!0,get:function(){return xe.default}};var Ie=d(85260);m={enumerable:!0,get:function(){return Ie.default}};var je=d(89175);m={enumerable:!0,get:function(){return je.default}};var ur=d(55039);m={enumerable:!0,get:function(){return ur.default}};var Ze=d(66631);m={enumerable:!0,get:function(){return Ze.default}};var Ar=d(48102);m={enumerable:!0,get:function(){return Ar.default}};var Jr=d(25873);m={enumerable:!0,get:function(){return Jr.default}};var Er=d(79396);m={enumerable:!0,get:function(){return Er.default}};var Hr=d(14230);m={enumerable:!0,get:function(){return Hr.default}};var Xn=d(46812);m={enumerable:!0,get:function(){return Xn.default}};var Zn=d(73420);m={enumerable:!0,get:function(){return Zn.default}};var qn=d(73890);m={enumerable:!0,get:function(){return qn.default}};var Pn=d(85497);m={enumerable:!0,get:function(){return Pn.default}};var Kt=d(16185);m={enumerable:!0,get:function(){return Kt.default}};var Jt=d(33643);m={enumerable:!0,get:function(){return Jt.default}};var re=d(70441);m={enumerable:!0,get:function(){return re.default}};var oe=d(15907);m={enumerable:!0,get:function(){return oe.default}};var ge=d(26296);m={enumerable:!0,get:function(){return ge.default}};var be=d(7877);m={enumerable:!0,get:function(){return be.default}};var Ce=d(21830);Object.defineProperty(S,"HD",{enumerable:!0,get:function(){return Ce.default}});var Me=d(44235);m={enumerable:!0,get:function(){return Me.default}};var he=d(25523);m={enumerable:!0,get:function(){return he.default}};var Ge=d(58417);m={enumerable:!0,get:function(){return Ge.default}};var Le=d(98229);m={enumerable:!0,get:function(){return Le.default}};var He=d(35755);m={enumerable:!0,get:function(){return He.default}};var er=d(99581);m={enumerable:!0,get:function(){return er.default}};var Ue=d(8289);Object.defineProperty(S,"d9",{enumerable:!0,get:function(){return Ue.default}});var nr=d(79663);m={enumerable:!0,get:function(){return nr.default}};var qe=d(99834);m={enumerable:!0,get:function(){return qe.default}};var fr=d(90497);Object.defineProperty(S,"b$",{enumerable:!0,get:function(){return fr.default}});var We=d(27154);Object.defineProperty(S,"S6",{enumerable:!0,get:function(){return We.default}});var vr=d(13829);m={enumerable:!0,get:function(){return vr.default}};var Pr=d(40035);m={enumerable:!0,get:function(){return Pr.default}};var wr=d(64029);m={enumerable:!0,get:function(){return wr.default}};var _r=d(212);m={enumerable:!0,get:function(){return _r.default}};var Yr=d(18112);m={enumerable:!0,get:function(){return Yr.default}};var kr=d(92693);m={enumerable:!0,get:function(){return kr.default}};var mn=d(53497);m={enumerable:!0,get:function(){return mn.default}};var Ur=d(66974);m={enumerable:!0,get:function(){return Ur.default}},m={enumerable:!0,get:function(){return Ur.default}};var In=d(58070);m={enumerable:!0,get:function(){return In.default}};var Kn=d(64119);m={enumerable:!0,get:function(){return Kn.default}};var Wn=d(24263);m={enumerable:!0,get:function(){return Wn.default}};var Ti=d(14179);m={enumerable:!0,get:function(){return Ti.default}};var Bi=d(60979);m={enumerable:!0,get:function(){return Bi.default}};var Sr=d(66668);m={enumerable:!0,get:function(){return Sr.default}};var hi=d(78127);m={enumerable:!0,get:function(){return hi.default}};var bi=d(67250);m={enumerable:!0,get:function(){return bi.default}};var ti=d(26851);m={enumerable:!0,get:function(){return ti.default}};var cn=d(80870);m={enumerable:!0,get:function(){return cn.default}};var ei=d(30597);m={enumerable:!0,get:function(){return ei.default}};var Vi=d(13754);m={enumerable:!0,get:function(){return Vi.default}};var ri=d(65616);m={enumerable:!0,get:function(){return ri.default}};var Pi=d(68039);m={enumerable:!0,get:function(){return Pi.default}}},55039:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),O=function(I){return m.default(I,"Arguments")};S.default=O},48102:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m!==null&&typeof m!="function"&&isFinite(m.length)};S.default=d},66631:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(O){return Array.isArray?Array.isArray(O):m.default(O,"Array")}},25873:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),O=function(I){return m.default(I,"Boolean")};S.default=O},79396:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),O=function(I){return m.default(I,"Date")};S.default=O},51008:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),O=function(I){return m.default(I)&&I%1!=0};S.default=O},58417:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m instanceof Element||m instanceof HTMLDocument};S.default=d},64029:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),O=d(48102),I=d(89175),L=d(26296),P=Object.prototype.hasOwnProperty;function _(E){if(m.default(E))return!0;if(O.default(E))return!E.length;var C=I.default(E);if(C==="Map"||C==="Set")return!E.size;if(L.default(E))return!Object.keys(E).length;for(var p in E)if(P.call(E,p))return!1;return!0}S.default=_},18112:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812),O=d(212);S.default=function(I,L,P){return m.default(P)?!!P(I,L):O.default(I,L)}},212:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70441),O=d(48102),I=d(21830),L=function(P,_){if(P===_)return!0;if(!P||!_||I.default(P)||I.default(_))return!1;if(O.default(P)||O.default(_)){if(P.length!==_.length)return!1;for(var E=!0,C=0;C<P.length&&(E=L(P[C],_[C]),!!E);C++);return E}if(m.default(P)||m.default(_)){var p=Object.keys(P),b=Object.keys(_);if(p.length!==b.length)return!1;for(var E=!0,C=0;C<p.length&&(E=L(P[p[C]],_[p[C]]),!!E);C++);return E}return!1};S.default=L},14230:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),O=function(I){return m.default(I,"Error")};S.default=O},45420:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),O=function(I){return m.default(I)&&I%2==0};S.default=O},73420:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185);function O(I){return m.default(I)&&isFinite(I)}S.default=O},46812:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(O){return m.default(O,"Function")}},68221:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),O=Number.isInteger?Number.isInteger:function(I){return m.default(I)&&I%1==0};S.default=O},20253:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),O=d(85050);function I(L,P){var _=O.default(P),E=_.length;if(m.default(L))return!E;for(var C=0;C<E;C+=1){var p=_[C];if(P[p]!==L[p]||!(p in L))return!1}return!0}S.default=I},58706:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),O=function(I){return m.default(I)&&I<0};S.default=O},73890:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m==null};S.default=d},85497:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m===null};S.default=d},39984:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=1e-5;function m(O,I,L){return L===void 0&&(L=d),Math.abs(O-I)<L}S.default=m},16185:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),O=function(I){return m.default(I,"Number")};S.default=O},70441:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return typeof m=="object"&&m!==null};S.default=d},33643:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d){var m=typeof d;return d!==null&&m==="object"||m==="function"}},32705:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),O=function(I){return m.default(I)&&I%2!=0};S.default=O},15907:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(70441),O=d(44235),I=function(L){if(!m.default(L)||!O.default(L,"Object"))return!1;if(Object.getPrototypeOf(L)===null)return!0;for(var P=L;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(L)===P};S.default=I},75732:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(16185),O=function(I){return m.default(I)&&I>0};S.default=O},26296:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Object.prototype,m=function(O){var I=O&&O.constructor,L=typeof I=="function"&&I.prototype||d;return O===L};S.default=m},7877:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235),O=function(I){return m.default(I,"RegExp")};S.default=O},21830:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(44235);S.default=function(O){return m.default(O,"String")}},44235:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={}.toString,m=function(O,I){return d.call(O)==="[object "+I+"]"};S.default=m},25523:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m){return m===void 0};S.default=d},85050:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),O=d(46812),I=Object.keys?function(L){return Object.keys(L)}:function(L){var P=[];return m.default(L,function(_,E){O.default(L)&&E==="prototype"||P.push(E)}),P};S.default=I},95145:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);function O(I){if(m.default(I)){var L=I;return L[L.length-1]}}S.default=O},88362:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),O=function(I){return m.default(I).toLowerCase()};S.default=O},56095:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),O=function(I){var L=m.default(I);return L.charAt(0).toLowerCase()+L.substring(1)};S.default=O},53497:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),O=d(33643),I=function(L){return L};S.default=function(L,P){P===void 0&&(P=I);var _={};return O.default(L)&&!m.default(L)&&Object.keys(L).forEach(function(E){_[E]=P(L[E],E)}),_}},92693:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),O=function(I,L){if(!m.default(I))return I;for(var P=[],_=0;_<I.length;_++){var E=I[_];P.push(L(E,_))}return P};S.default=O},38935:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(46812);S.default=function(I,L){if(!!m.default(I)){for(var P,_=-Infinity,E=0;E<I.length;E++){var C=I[E],p=O.default(L)?L(C):C[L];p>_&&(P=C,_=p)}return P}}},14705:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);S.default=function(O){if(!!m.default(O))return O.reduce(function(I,L){return Math.max(I,L)},O[0])}},13754:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(37067),O=d(91161),I=d(99834),L=d(21830),P;S.default=I.default(function(_,E){E===void 0&&(E={});var C=E.fontSize,p=E.fontFamily,b=E.fontWeight,x=E.fontStyle,w=E.fontVariant;return P||(P=document.createElement("canvas").getContext("2d")),P.font=[x,w,b,C+"px",p].join(" "),P.measureText(L.default(_)?_:"").width},function(_,E){return E===void 0&&(E={}),m.__spreadArrays([_],O.default(E)).join("")})},99834:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(46812);S.default=function(O,I){if(!m.default(O))throw new TypeError("Expected a function");var L=function(){for(var P=[],_=0;_<arguments.length;_++)P[_]=arguments[_];var E=I?I.apply(this,P):P[0],C=L.cache;if(C.has(E))return C.get(E);var p=O.apply(this,P);return C.set(E,p),p};return L.cache=new Map,L}},89857:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(46812);S.default=function(I,L){if(!!m.default(I)){for(var P,_=Infinity,E=0;E<I.length;E++){var C=I[E],p=O.default(L)?L(C):C[L];p<_&&(P=C,_=p)}return P}}},45356:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);S.default=function(O){if(!!m.default(O))return O.reduce(function(I,L){return Math.min(I,L)},O[0])}},66974:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(O,I){for(var L in I)I.hasOwnProperty(L)&&L!=="constructor"&&I[L]!==void 0&&(O[L]=I[L])}function m(O,I,L,P){return I&&d(O,I),L&&d(O,L),P&&d(O,P),O}S.default=m},5253:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,O){return(m%O+O)%O};S.default=d},26851:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(){}},45145:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};function m(O){var I=d[O];if(!I){for(var L=O.toString(16),P=L.length;P<6;P++)L="0"+L;I="#"+L,d[O]=I}return I}S.default=m},14179:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(13847);S.default=function(O,I){return m.default(O,function(L,P,_){return I.includes(_)||(L[_]=P),L},{})}},85418:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631);function O(I){var L=0,P=0,_=0,E=0;return m.default(I)?I.length===1?L=P=_=E=I[0]:I.length===2?(L=_=I[0],P=E=I[1]):I.length===3?(L=I[0],P=E=I[1],_=I[2]):(L=I[0],P=I[1],_=I[2],E=I[3]):L=P=_=E=I,{r1:L,r2:P,r3:_,r4:E}}S.default=O},24263:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),O=d(15907),I=Object.prototype.hasOwnProperty;S.default=function(L,P){if(L===null||!O.default(L))return{};var _={};return m.default(P,function(E){I.call(L,E)&&(_[E]=L[E])}),_}},50779:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),O=Array.prototype.splice,I=function(P,_){if(!m.default(P))return[];for(var E=P?_.length:0,C=E-1;E--;){var p=void 0,b=_[E];(E===C||b!==p)&&(p=b,O.call(P,b,1))}return P};S.default=I},5220:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Array.prototype,m=d.splice,O=d.indexOf,I=function(L){for(var P=[],_=1;_<arguments.length;_++)P[_-1]=arguments[_];for(var E=0;E<P.length;E++)for(var C=P[E],p=-1;(p=O.call(L,C))>-1;)m.call(L,p,1);return L};S.default=I},13847:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),O=d(66631),I=d(15907),L=function(P,_,E){if(!O.default(P)&&!I.default(P))return P;var C=E;return m.default(P,function(p,b){C=_(C,p,b)}),C};S.default=L},89757:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102),O=d(50779),I=function(L,P){var _=[];if(!m.default(L))return _;for(var E=-1,C=[],p=L.length;++E<p;){var b=L[E];P(b,E,L)&&(_.push(b),C.push(E))}return O.default(L,C),_};S.default=I},98229:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m){var O=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(I){return setTimeout(I,16)};return O(m)}S.default=d},64119:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(33643),O=d(21830),I=d(16185);S.default=function(L,P,_){var E=L,C=O.default(P)?P.split("."):P;return C.forEach(function(p,b){b<C.length-1?(m.default(E[p])||(E[p]=I.default(C[b+1])?[]:{}),E=E[p]):E[p]=_}),L}},30597:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890),O=d(48102);function I(L){return m.default(L)?0:O.default(L)?L.length:Object.keys(L).length}S.default=I},58175:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=function(m,O){for(var I=0;I<m.length;I++)if(O(m[I],I))return!0;return!1};S.default=d},27599:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(21830),I=d(46812);function L(P,_){var E;if(I.default(_))E=function(p,b){return _(p)-_(b)};else{var C=[];O.default(_)?C.push(_):m.default(_)&&(C=_),E=function(p,b){for(var x=0;x<C.length;x+=1){var w=C[x];if(p[w]>b[w])return 1;if(p[w]<b[w])return-1}return 0}}return P.sort(E),P}S.default=L},680:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(21830);function I(L,P){return m.default(L)||O.default(L)?L[0]===P:!1}S.default=I},35541:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,O){return!m||!O?m:m.replace(/\\?\{([^{}]+)\}/g,function(I,L){return I.charAt(0)==="\\"?I.slice(1):O[L]===void 0?"":O[L]})}S.default=d},60979:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=function(d,m,O){var I,L,P,_,E=0;O||(O={});var C=function(){E=O.leading===!1?0:Date.now(),I=null,_=d.apply(L,P),I||(L=P=null)},p=function(){var b=Date.now();!E&&O.leading===!1&&(E=b);var x=m-(b-E);return L=this,P=arguments,x<=0||x>m?(I&&(clearTimeout(I),I=null),E=b,_=d.apply(L,P),I||(L=P=null)):!I&&O.trailing!==!1&&(I=setTimeout(C,x)),_};return p.cancel=function(){clearTimeout(I),E=0,I=L=P=null},p}},66668:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(48102);S.default=function(O){return m.default(O)?Array.prototype.slice.call(O):[]}},2119:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=180/Math.PI,m=function(O){return d*O};S.default=m},23196:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.default=parseInt},9217:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d=Math.PI/180,m=function(O){return d*O};S.default=m},78127:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(73890);S.default=function(O){return m.default(O)?"":O.toString()}},58632:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(12619),O=function(){for(var I=[],L=0;L<arguments.length;L++)I[L]=arguments[L];return m.default([].concat.apply([],I))};S.default=O},12619:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,O){O===void 0&&(O=new Map);var I=[];if(Array.isArray(m))for(var L=0,P=m.length;L<P;L++){var _=m[L];O.has(_)||(I.push(_),O.set(_,!0))}return I}S.default=d},67250:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d={};S.default=function(m){return m=m||"g",d[m]?d[m]+=1:d[m]=1,m+d[m]}},72660:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),O=function(I){return m.default(I).toUpperCase()};S.default=O},85260:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(78127),O=function(I){var L=m.default(I);return L.charAt(0).toUpperCase()+L.substring(1)};S.default=O},29208:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(66631),O=d(73890);S.default=function(I,L){for(var P=[],_={},E=0;E<I.length;E++){var C=I[E],p=C[L];if(!O.default(p)){m.default(p)||(p=[p]);for(var b=0;b<p.length;b++){var x=p[b];_[x]||(P.push(x),_[x]=!0)}}}return P}},91161:function(_t,S,d){"use strict";Object.defineProperty(S,"__esModule",{value:!0});var m=d(27154),O=d(46812),I=Object.values?function(L){return Object.values(L)}:function(L){var P=[];return m.default(L,function(_,E){O.default(L)&&E==="prototype"||P.push(_)}),P};S.default=I},61262:function(_t,S){"use strict";Object.defineProperty(S,"__esModule",{value:!0});function d(m,O){if(m["_wrap_"+O])return m["_wrap_"+O];var I=function(L){m[O](L)};return m["_wrap_"+O]=I,I}S.default=d},37067:function(_t,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return _},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return y},__spread:function(){return M},__spreadArrays:function(){return T},__spreadArray:function(){return B},__await:function(){return D},__asyncGenerator:function(){return X},__asyncDelegator:function(){return $},__asyncValues:function(){return H},__makeTemplateObject:function(){return nt},__importStar:function(){return at},__importDefault:function(){return Ot},__classPrivateFieldGet:function(){return Ft},__classPrivateFieldSet:function(){return Dt}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(V,q){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,Z){K.__proto__=Z}||function(K,Z){for(var mt in Z)Object.prototype.hasOwnProperty.call(Z,mt)&&(K[mt]=Z[mt])},m(V,q)};function O(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");m(V,q);function K(){this.constructor=V}V.prototype=q===null?Object.create(q):(K.prototype=q.prototype,new K)}var I=function(){return I=Object.assign||function(q){for(var K,Z=1,mt=arguments.length;Z<mt;Z++){K=arguments[Z];for(var rt in K)Object.prototype.hasOwnProperty.call(K,rt)&&(q[rt]=K[rt])}return q},I.apply(this,arguments)};function L(V,q){var K={};for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&q.indexOf(Z)<0&&(K[Z]=V[Z]);if(V!=null&&typeof Object.getOwnPropertySymbols=="function")for(var mt=0,Z=Object.getOwnPropertySymbols(V);mt<Z.length;mt++)q.indexOf(Z[mt])<0&&Object.prototype.propertyIsEnumerable.call(V,Z[mt])&&(K[Z[mt]]=V[Z[mt]]);return K}function P(V,q,K,Z){var mt=arguments.length,rt=mt<3?q:Z===null?Z=Object.getOwnPropertyDescriptor(q,K):Z,W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")rt=Reflect.decorate(V,q,K,Z);else for(var z=V.length-1;z>=0;z--)(W=V[z])&&(rt=(mt<3?W(rt):mt>3?W(q,K,rt):W(q,K))||rt);return mt>3&&rt&&Object.defineProperty(q,K,rt),rt}function _(V,q){return function(K,Z){q(K,Z,V)}}function E(V,q){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(V,q)}function C(V,q,K,Z){function mt(rt){return rt instanceof K?rt:new K(function(W){W(rt)})}return new(K||(K=Promise))(function(rt,W){function z(pt){try{f(Z.next(pt))}catch(Ct){W(Ct)}}function G(pt){try{f(Z.throw(pt))}catch(Ct){W(Ct)}}function f(pt){pt.done?rt(pt.value):mt(pt.value).then(z,G)}f((Z=Z.apply(V,q||[])).next())})}function p(V,q){var K={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},Z,mt,rt,W;return W={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(W[Symbol.iterator]=function(){return this}),W;function z(f){return function(pt){return G([f,pt])}}function G(f){if(Z)throw new TypeError("Generator is already executing.");for(;K;)try{if(Z=1,mt&&(rt=f[0]&2?mt.return:f[0]?mt.throw||((rt=mt.return)&&rt.call(mt),0):mt.next)&&!(rt=rt.call(mt,f[1])).done)return rt;switch(mt=0,rt&&(f=[f[0]&2,rt.value]),f[0]){case 0:case 1:rt=f;break;case 4:return K.label++,{value:f[1],done:!1};case 5:K.label++,mt=f[1],f=[0];continue;case 7:f=K.ops.pop(),K.trys.pop();continue;default:if(rt=K.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(f[0]===6||f[0]===2)){K=0;continue}if(f[0]===3&&(!rt||f[1]>rt[0]&&f[1]<rt[3])){K.label=f[1];break}if(f[0]===6&&K.label<rt[1]){K.label=rt[1],rt=f;break}if(rt&&K.label<rt[2]){K.label=rt[2],K.ops.push(f);break}rt[2]&&K.ops.pop(),K.trys.pop();continue}f=q.call(V,K)}catch(pt){f=[6,pt],mt=0}finally{Z=rt=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var b=Object.create?function(V,q,K,Z){Z===void 0&&(Z=K),Object.defineProperty(V,Z,{enumerable:!0,get:function(){return q[K]}})}:function(V,q,K,Z){Z===void 0&&(Z=K),V[Z]=q[K]};function x(V,q){for(var K in V)K!=="default"&&!Object.prototype.hasOwnProperty.call(q,K)&&b(q,V,K)}function w(V){var q=typeof Symbol=="function"&&Symbol.iterator,K=q&&V[q],Z=0;if(K)return K.call(V);if(V&&typeof V.length=="number")return{next:function(){return V&&Z>=V.length&&(V=void 0),{value:V&&V[Z++],done:!V}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(V,q){var K=typeof Symbol=="function"&&V[Symbol.iterator];if(!K)return V;var Z=K.call(V),mt,rt=[],W;try{for(;(q===void 0||q-- >0)&&!(mt=Z.next()).done;)rt.push(mt.value)}catch(z){W={error:z}}finally{try{mt&&!mt.done&&(K=Z.return)&&K.call(Z)}finally{if(W)throw W.error}}return rt}function M(){for(var V=[],q=0;q<arguments.length;q++)V=V.concat(y(arguments[q]));return V}function T(){for(var V=0,q=0,K=arguments.length;q<K;q++)V+=arguments[q].length;for(var Z=Array(V),mt=0,q=0;q<K;q++)for(var rt=arguments[q],W=0,z=rt.length;W<z;W++,mt++)Z[mt]=rt[W];return Z}function B(V,q,K){if(K||arguments.length===2)for(var Z=0,mt=q.length,rt;Z<mt;Z++)(rt||!(Z in q))&&(rt||(rt=Array.prototype.slice.call(q,0,Z)),rt[Z]=q[Z]);return V.concat(rt||Array.prototype.slice.call(q))}function D(V){return this instanceof D?(this.v=V,this):new D(V)}function X(V,q,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z=K.apply(V,q||[]),mt,rt=[];return mt={},W("next"),W("throw"),W("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function W(ot){Z[ot]&&(mt[ot]=function(St){return new Promise(function(xt,Mt){rt.push([ot,St,xt,Mt])>1||z(ot,St)})})}function z(ot,St){try{G(Z[ot](St))}catch(xt){Ct(rt[0][3],xt)}}function G(ot){ot.value instanceof D?Promise.resolve(ot.value.v).then(f,pt):Ct(rt[0][2],ot)}function f(ot){z("next",ot)}function pt(ot){z("throw",ot)}function Ct(ot,St){ot(St),rt.shift(),rt.length&&z(rt[0][0],rt[0][1])}}function $(V){var q,K;return q={},Z("next"),Z("throw",function(mt){throw mt}),Z("return"),q[Symbol.iterator]=function(){return this},q;function Z(mt,rt){q[mt]=V[mt]?function(W){return(K=!K)?{value:D(V[mt](W)),done:mt==="return"}:rt?rt(W):W}:rt}}function H(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=V[Symbol.asyncIterator],K;return q?q.call(V):(V=typeof w=="function"?w(V):V[Symbol.iterator](),K={},Z("next"),Z("throw"),Z("return"),K[Symbol.asyncIterator]=function(){return this},K);function Z(rt){K[rt]=V[rt]&&function(W){return new Promise(function(z,G){W=V[rt](W),mt(z,G,W.done,W.value)})}}function mt(rt,W,z,G){Promise.resolve(G).then(function(f){rt({value:f,done:z})},W)}}function nt(V,q){return Object.defineProperty?Object.defineProperty(V,"raw",{value:q}):V.raw=q,V}var ht=Object.create?function(V,q){Object.defineProperty(V,"default",{enumerable:!0,value:q})}:function(V,q){V.default=q};function at(V){if(V&&V.__esModule)return V;var q={};if(V!=null)for(var K in V)K!=="default"&&Object.prototype.hasOwnProperty.call(V,K)&&b(q,V,K);return ht(q,V),q}function Ot(V){return V&&V.__esModule?V:{default:V}}function Ft(V,q,K,Z){if(K==="a"&&!Z)throw new TypeError("Private accessor was defined without a getter");if(typeof q=="function"?V!==q||!Z:!q.has(V))throw new TypeError("Cannot read private member from an object whose class did not declare it");return K==="m"?Z:K==="a"?Z.call(V):Z?Z.value:q.get(V)}function Dt(V,q,K,Z,mt){if(Z==="m")throw new TypeError("Private method is not writable");if(Z==="a"&&!mt)throw new TypeError("Private accessor was defined without a setter");if(typeof q=="function"?V!==q||!mt:!q.has(V))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Z==="a"?mt.call(V,K):mt?mt.value=K:q.set(V,K),K}},60153:function(_t,S,d){"use strict";d.r(S),d.d(S,{__extends:function(){return O},__assign:function(){return I},__rest:function(){return L},__decorate:function(){return P},__param:function(){return _},__metadata:function(){return E},__awaiter:function(){return C},__generator:function(){return p},__createBinding:function(){return b},__exportStar:function(){return x},__values:function(){return w},__read:function(){return y},__spread:function(){return M},__spreadArrays:function(){return T},__await:function(){return B},__asyncGenerator:function(){return D},__asyncDelegator:function(){return X},__asyncValues:function(){return $},__makeTemplateObject:function(){return H},__importStar:function(){return nt},__importDefault:function(){return ht},__classPrivateFieldGet:function(){return at},__classPrivateFieldSet:function(){return Ot}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var m=function(Dt,V){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,K){q.__proto__=K}||function(q,K){for(var Z in K)K.hasOwnProperty(Z)&&(q[Z]=K[Z])},m(Dt,V)};function O(Ft,Dt){m(Ft,Dt);function V(){this.constructor=Ft}Ft.prototype=Dt===null?Object.create(Dt):(V.prototype=Dt.prototype,new V)}var I=function(){return I=Object.assign||function(V){for(var q,K=1,Z=arguments.length;K<Z;K++){q=arguments[K];for(var mt in q)Object.prototype.hasOwnProperty.call(q,mt)&&(V[mt]=q[mt])}return V},I.apply(this,arguments)};function L(Ft,Dt){var V={};for(var q in Ft)Object.prototype.hasOwnProperty.call(Ft,q)&&Dt.indexOf(q)<0&&(V[q]=Ft[q]);if(Ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var K=0,q=Object.getOwnPropertySymbols(Ft);K<q.length;K++)Dt.indexOf(q[K])<0&&Object.prototype.propertyIsEnumerable.call(Ft,q[K])&&(V[q[K]]=Ft[q[K]]);return V}function P(Ft,Dt,V,q){var K=arguments.length,Z=K<3?Dt:q===null?q=Object.getOwnPropertyDescriptor(Dt,V):q,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(Ft,Dt,V,q);else for(var rt=Ft.length-1;rt>=0;rt--)(mt=Ft[rt])&&(Z=(K<3?mt(Z):K>3?mt(Dt,V,Z):mt(Dt,V))||Z);return K>3&&Z&&Object.defineProperty(Dt,V,Z),Z}function _(Ft,Dt){return function(V,q){Dt(V,q,Ft)}}function E(Ft,Dt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Ft,Dt)}function C(Ft,Dt,V,q){function K(Z){return Z instanceof V?Z:new V(function(mt){mt(Z)})}return new(V||(V=Promise))(function(Z,mt){function rt(G){try{z(q.next(G))}catch(f){mt(f)}}function W(G){try{z(q.throw(G))}catch(f){mt(f)}}function z(G){G.done?Z(G.value):K(G.value).then(rt,W)}z((q=q.apply(Ft,Dt||[])).next())})}function p(Ft,Dt){var V={label:0,sent:function(){if(Z[0]&1)throw Z[1];return Z[1]},trys:[],ops:[]},q,K,Z,mt;return mt={next:rt(0),throw:rt(1),return:rt(2)},typeof Symbol=="function"&&(mt[Symbol.iterator]=function(){return this}),mt;function rt(z){return function(G){return W([z,G])}}function W(z){if(q)throw new TypeError("Generator is already executing.");for(;V;)try{if(q=1,K&&(Z=z[0]&2?K.return:z[0]?K.throw||((Z=K.return)&&Z.call(K),0):K.next)&&!(Z=Z.call(K,z[1])).done)return Z;switch(K=0,Z&&(z=[z[0]&2,Z.value]),z[0]){case 0:case 1:Z=z;break;case 4:return V.label++,{value:z[1],done:!1};case 5:V.label++,K=z[1],z=[0];continue;case 7:z=V.ops.pop(),V.trys.pop();continue;default:if(Z=V.trys,!(Z=Z.length>0&&Z[Z.length-1])&&(z[0]===6||z[0]===2)){V=0;continue}if(z[0]===3&&(!Z||z[1]>Z[0]&&z[1]<Z[3])){V.label=z[1];break}if(z[0]===6&&V.label<Z[1]){V.label=Z[1],Z=z;break}if(Z&&V.label<Z[2]){V.label=Z[2],V.ops.push(z);break}Z[2]&&V.ops.pop(),V.trys.pop();continue}z=Dt.call(Ft,V)}catch(G){z=[6,G],K=0}finally{q=Z=0}if(z[0]&5)throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}}function b(Ft,Dt,V,q){q===void 0&&(q=V),Ft[q]=Dt[V]}function x(Ft,Dt){for(var V in Ft)V!=="default"&&!Dt.hasOwnProperty(V)&&(Dt[V]=Ft[V])}function w(Ft){var Dt=typeof Symbol=="function"&&Symbol.iterator,V=Dt&&Ft[Dt],q=0;if(V)return V.call(Ft);if(Ft&&typeof Ft.length=="number")return{next:function(){return Ft&&q>=Ft.length&&(Ft=void 0),{value:Ft&&Ft[q++],done:!Ft}}};throw new TypeError(Dt?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(Ft,Dt){var V=typeof Symbol=="function"&&Ft[Symbol.iterator];if(!V)return Ft;var q=V.call(Ft),K,Z=[],mt;try{for(;(Dt===void 0||Dt-- >0)&&!(K=q.next()).done;)Z.push(K.value)}catch(rt){mt={error:rt}}finally{try{K&&!K.done&&(V=q.return)&&V.call(q)}finally{if(mt)throw mt.error}}return Z}function M(){for(var Ft=[],Dt=0;Dt<arguments.length;Dt++)Ft=Ft.concat(y(arguments[Dt]));return Ft}function T(){for(var Ft=0,Dt=0,V=arguments.length;Dt<V;Dt++)Ft+=arguments[Dt].length;for(var q=Array(Ft),K=0,Dt=0;Dt<V;Dt++)for(var Z=arguments[Dt],mt=0,rt=Z.length;mt<rt;mt++,K++)q[K]=Z[mt];return q}function B(Ft){return this instanceof B?(this.v=Ft,this):new B(Ft)}function D(Ft,Dt,V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=V.apply(Ft,Dt||[]),K,Z=[];return K={},mt("next"),mt("throw"),mt("return"),K[Symbol.asyncIterator]=function(){return this},K;function mt(pt){q[pt]&&(K[pt]=function(Ct){return new Promise(function(ot,St){Z.push([pt,Ct,ot,St])>1||rt(pt,Ct)})})}function rt(pt,Ct){try{W(q[pt](Ct))}catch(ot){f(Z[0][3],ot)}}function W(pt){pt.value instanceof B?Promise.resolve(pt.value.v).then(z,G):f(Z[0][2],pt)}function z(pt){rt("next",pt)}function G(pt){rt("throw",pt)}function f(pt,Ct){pt(Ct),Z.shift(),Z.length&&rt(Z[0][0],Z[0][1])}}function X(Ft){var Dt,V;return Dt={},q("next"),q("throw",function(K){throw K}),q("return"),Dt[Symbol.iterator]=function(){return this},Dt;function q(K,Z){Dt[K]=Ft[K]?function(mt){return(V=!V)?{value:B(Ft[K](mt)),done:K==="return"}:Z?Z(mt):mt}:Z}}function $(Ft){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Dt=Ft[Symbol.asyncIterator],V;return Dt?Dt.call(Ft):(Ft=typeof w=="function"?w(Ft):Ft[Symbol.iterator](),V={},q("next"),q("throw"),q("return"),V[Symbol.asyncIterator]=function(){return this},V);function q(Z){V[Z]=Ft[Z]&&function(mt){return new Promise(function(rt,W){mt=Ft[Z](mt),K(rt,W,mt.done,mt.value)})}}function K(Z,mt,rt,W){Promise.resolve(W).then(function(z){Z({value:z,done:rt})},mt)}}function H(Ft,Dt){return Object.defineProperty?Object.defineProperty(Ft,"raw",{value:Dt}):Ft.raw=Dt,Ft}function nt(Ft){if(Ft&&Ft.__esModule)return Ft;var Dt={};if(Ft!=null)for(var V in Ft)Object.hasOwnProperty.call(Ft,V)&&(Dt[V]=Ft[V]);return Dt.default=Ft,Dt}function ht(Ft){return Ft&&Ft.__esModule?Ft:{default:Ft}}function at(Ft,Dt){if(!Dt.has(Ft))throw new TypeError("attempted to get private field on non-instance");return Dt.get(Ft)}function Ot(Ft,Dt,V){if(!Dt.has(Ft))throw new TypeError("attempted to set private field on non-instance");return Dt.set(Ft,V),V}},48168:function(_t,S,d){var m=d(8874),O={};for(var I in m)m.hasOwnProperty(I)&&(O[m[I]]=I);var L=_t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var P in L)if(L.hasOwnProperty(P)){if(!("channels"in L[P]))throw new Error("missing channels property: "+P);if(!("labels"in L[P]))throw new Error("missing channel labels property: "+P);if(L[P].labels.length!==L[P].channels)throw new Error("channel and label counts mismatch: "+P);var _=L[P].channels,E=L[P].labels;delete L[P].channels,delete L[P].labels,Object.defineProperty(L[P],"channels",{value:_}),Object.defineProperty(L[P],"labels",{value:E})}L.rgb.hsl=function(p){var b=p[0]/255,x=p[1]/255,w=p[2]/255,y=Math.min(b,x,w),M=Math.max(b,x,w),T=M-y,B,D,X;return M===y?B=0:b===M?B=(x-w)/T:x===M?B=2+(w-b)/T:w===M&&(B=4+(b-x)/T),B=Math.min(B*60,360),B<0&&(B+=360),X=(y+M)/2,M===y?D=0:X<=.5?D=T/(M+y):D=T/(2-M-y),[B,D*100,X*100]},L.rgb.hsv=function(p){var b,x,w,y,M,T=p[0]/255,B=p[1]/255,D=p[2]/255,X=Math.max(T,B,D),$=X-Math.min(T,B,D),H=function(nt){return(X-nt)/6/$+1/2};return $===0?y=M=0:(M=$/X,b=H(T),x=H(B),w=H(D),T===X?y=w-x:B===X?y=1/3+b-w:D===X&&(y=2/3+x-b),y<0?y+=1:y>1&&(y-=1)),[y*360,M*100,X*100]},L.rgb.hwb=function(p){var b=p[0],x=p[1],w=p[2],y=L.rgb.hsl(p)[0],M=1/255*Math.min(b,Math.min(x,w));return w=1-1/255*Math.max(b,Math.max(x,w)),[y,M*100,w*100]},L.rgb.cmyk=function(p){var b=p[0]/255,x=p[1]/255,w=p[2]/255,y,M,T,B;return B=Math.min(1-b,1-x,1-w),y=(1-b-B)/(1-B)||0,M=(1-x-B)/(1-B)||0,T=(1-w-B)/(1-B)||0,[y*100,M*100,T*100,B*100]};function C(p,b){return Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2)+Math.pow(p[2]-b[2],2)}L.rgb.keyword=function(p){var b=O[p];if(b)return b;var x=Infinity,w;for(var y in m)if(m.hasOwnProperty(y)){var M=m[y],T=C(p,M);T<x&&(x=T,w=y)}return w},L.keyword.rgb=function(p){return m[p]},L.rgb.xyz=function(p){var b=p[0]/255,x=p[1]/255,w=p[2]/255;b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92,x=x>.04045?Math.pow((x+.055)/1.055,2.4):x/12.92,w=w>.04045?Math.pow((w+.055)/1.055,2.4):w/12.92;var y=b*.4124+x*.3576+w*.1805,M=b*.2126+x*.7152+w*.0722,T=b*.0193+x*.1192+w*.9505;return[y*100,M*100,T*100]},L.rgb.lab=function(p){var b=L.rgb.xyz(p),x=b[0],w=b[1],y=b[2],M,T,B;return x/=95.047,w/=100,y/=108.883,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,y=y>.008856?Math.pow(y,1/3):7.787*y+16/116,M=116*w-16,T=500*(x-w),B=200*(w-y),[M,T,B]},L.hsl.rgb=function(p){var b=p[0]/360,x=p[1]/100,w=p[2]/100,y,M,T,B,D;if(x===0)return D=w*255,[D,D,D];w<.5?M=w*(1+x):M=w+x-w*x,y=2*w-M,B=[0,0,0];for(var X=0;X<3;X++)T=b+1/3*-(X-1),T<0&&T++,T>1&&T--,6*T<1?D=y+(M-y)*6*T:2*T<1?D=M:3*T<2?D=y+(M-y)*(2/3-T)*6:D=y,B[X]=D*255;return B},L.hsl.hsv=function(p){var b=p[0],x=p[1]/100,w=p[2]/100,y=x,M=Math.max(w,.01),T,B;return w*=2,x*=w<=1?w:2-w,y*=M<=1?M:2-M,B=(w+x)/2,T=w===0?2*y/(M+y):2*x/(w+x),[b,T*100,B*100]},L.hsv.rgb=function(p){var b=p[0]/60,x=p[1]/100,w=p[2]/100,y=Math.floor(b)%6,M=b-Math.floor(b),T=255*w*(1-x),B=255*w*(1-x*M),D=255*w*(1-x*(1-M));switch(w*=255,y){case 0:return[w,D,T];case 1:return[B,w,T];case 2:return[T,w,D];case 3:return[T,B,w];case 4:return[D,T,w];case 5:return[w,T,B]}},L.hsv.hsl=function(p){var b=p[0],x=p[1]/100,w=p[2]/100,y=Math.max(w,.01),M,T,B;return B=(2-x)*w,M=(2-x)*y,T=x*y,T/=M<=1?M:2-M,T=T||0,B/=2,[b,T*100,B*100]},L.hwb.rgb=function(p){var b=p[0]/360,x=p[1]/100,w=p[2]/100,y=x+w,M,T,B,D;y>1&&(x/=y,w/=y),M=Math.floor(6*b),T=1-w,B=6*b-M,(M&1)!=0&&(B=1-B),D=x+B*(T-x);var X,$,H;switch(M){default:case 6:case 0:X=T,$=D,H=x;break;case 1:X=D,$=T,H=x;break;case 2:X=x,$=T,H=D;break;case 3:X=x,$=D,H=T;break;case 4:X=D,$=x,H=T;break;case 5:X=T,$=x,H=D;break}return[X*255,$*255,H*255]},L.cmyk.rgb=function(p){var b=p[0]/100,x=p[1]/100,w=p[2]/100,y=p[3]/100,M,T,B;return M=1-Math.min(1,b*(1-y)+y),T=1-Math.min(1,x*(1-y)+y),B=1-Math.min(1,w*(1-y)+y),[M*255,T*255,B*255]},L.xyz.rgb=function(p){var b=p[0]/100,x=p[1]/100,w=p[2]/100,y,M,T;return y=b*3.2406+x*-1.5372+w*-.4986,M=b*-.9689+x*1.8758+w*.0415,T=b*.0557+x*-.204+w*1.057,y=y>.0031308?1.055*Math.pow(y,1/2.4)-.055:y*12.92,M=M>.0031308?1.055*Math.pow(M,1/2.4)-.055:M*12.92,T=T>.0031308?1.055*Math.pow(T,1/2.4)-.055:T*12.92,y=Math.min(Math.max(0,y),1),M=Math.min(Math.max(0,M),1),T=Math.min(Math.max(0,T),1),[y*255,M*255,T*255]},L.xyz.lab=function(p){var b=p[0],x=p[1],w=p[2],y,M,T;return b/=95.047,x/=100,w/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,w=w>.008856?Math.pow(w,1/3):7.787*w+16/116,y=116*x-16,M=500*(b-x),T=200*(x-w),[y,M,T]},L.lab.xyz=function(p){var b=p[0],x=p[1],w=p[2],y,M,T;M=(b+16)/116,y=x/500+M,T=M-w/200;var B=Math.pow(M,3),D=Math.pow(y,3),X=Math.pow(T,3);return M=B>.008856?B:(M-16/116)/7.787,y=D>.008856?D:(y-16/116)/7.787,T=X>.008856?X:(T-16/116)/7.787,y*=95.047,M*=100,T*=108.883,[y,M,T]},L.lab.lch=function(p){var b=p[0],x=p[1],w=p[2],y,M,T;return y=Math.atan2(w,x),M=y*360/2/Math.PI,M<0&&(M+=360),T=Math.sqrt(x*x+w*w),[b,T,M]},L.lch.lab=function(p){var b=p[0],x=p[1],w=p[2],y,M,T;return T=w/360*2*Math.PI,y=x*Math.cos(T),M=x*Math.sin(T),[b,y,M]},L.rgb.ansi16=function(p){var b=p[0],x=p[1],w=p[2],y=1 in arguments?arguments[1]:L.rgb.hsv(p)[2];if(y=Math.round(y/50),y===0)return 30;var M=30+(Math.round(w/255)<<2|Math.round(x/255)<<1|Math.round(b/255));return y===2&&(M+=60),M},L.hsv.ansi16=function(p){return L.rgb.ansi16(L.hsv.rgb(p),p[2])},L.rgb.ansi256=function(p){var b=p[0],x=p[1],w=p[2];if(b===x&&x===w)return b<8?16:b>248?231:Math.round((b-8)/247*24)+232;var y=16+36*Math.round(b/255*5)+6*Math.round(x/255*5)+Math.round(w/255*5);return y},L.ansi16.rgb=function(p){var b=p%10;if(b===0||b===7)return p>50&&(b+=3.5),b=b/10.5*255,[b,b,b];var x=(~~(p>50)+1)*.5,w=(b&1)*x*255,y=(b>>1&1)*x*255,M=(b>>2&1)*x*255;return[w,y,M]},L.ansi256.rgb=function(p){if(p>=232){var b=(p-232)*10+8;return[b,b,b]}p-=16;var x,w=Math.floor(p/36)/5*255,y=Math.floor((x=p%36)/6)/5*255,M=x%6/5*255;return[w,y,M]},L.rgb.hex=function(p){var b=((Math.round(p[0])&255)<<16)+((Math.round(p[1])&255)<<8)+(Math.round(p[2])&255),x=b.toString(16).toUpperCase();return"000000".substring(x.length)+x},L.hex.rgb=function(p){var b=p.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!b)return[0,0,0];var x=b[0];b[0].length===3&&(x=x.split("").map(function(B){return B+B}).join(""));var w=parseInt(x,16),y=w>>16&255,M=w>>8&255,T=w&255;return[y,M,T]},L.rgb.hcg=function(p){var b=p[0]/255,x=p[1]/255,w=p[2]/255,y=Math.max(Math.max(b,x),w),M=Math.min(Math.min(b,x),w),T=y-M,B,D;return T<1?B=M/(1-T):B=0,T<=0?D=0:y===b?D=(x-w)/T%6:y===x?D=2+(w-b)/T:D=4+(b-x)/T+4,D/=6,D%=1,[D*360,T*100,B*100]},L.hsl.hcg=function(p){var b=p[1]/100,x=p[2]/100,w=1,y=0;return x<.5?w=2*b*x:w=2*b*(1-x),w<1&&(y=(x-.5*w)/(1-w)),[p[0],w*100,y*100]},L.hsv.hcg=function(p){var b=p[1]/100,x=p[2]/100,w=b*x,y=0;return w<1&&(y=(x-w)/(1-w)),[p[0],w*100,y*100]},L.hcg.rgb=function(p){var b=p[0]/360,x=p[1]/100,w=p[2]/100;if(x===0)return[w*255,w*255,w*255];var y=[0,0,0],M=b%1*6,T=M%1,B=1-T,D=0;switch(Math.floor(M)){case 0:y[0]=1,y[1]=T,y[2]=0;break;case 1:y[0]=B,y[1]=1,y[2]=0;break;case 2:y[0]=0,y[1]=1,y[2]=T;break;case 3:y[0]=0,y[1]=B,y[2]=1;break;case 4:y[0]=T,y[1]=0,y[2]=1;break;default:y[0]=1,y[1]=0,y[2]=B}return D=(1-x)*w,[(x*y[0]+D)*255,(x*y[1]+D)*255,(x*y[2]+D)*255]},L.hcg.hsv=function(p){var b=p[1]/100,x=p[2]/100,w=b+x*(1-b),y=0;return w>0&&(y=b/w),[p[0],y*100,w*100]},L.hcg.hsl=function(p){var b=p[1]/100,x=p[2]/100,w=x*(1-b)+.5*b,y=0;return w>0&&w<.5?y=b/(2*w):w>=.5&&w<1&&(y=b/(2*(1-w))),[p[0],y*100,w*100]},L.hcg.hwb=function(p){var b=p[1]/100,x=p[2]/100,w=b+x*(1-b);return[p[0],(w-b)*100,(1-w)*100]},L.hwb.hcg=function(p){var b=p[1]/100,x=p[2]/100,w=1-x,y=w-b,M=0;return y<1&&(M=(w-y)/(1-y)),[p[0],y*100,M*100]},L.apple.rgb=function(p){return[p[0]/65535*255,p[1]/65535*255,p[2]/65535*255]},L.rgb.apple=function(p){return[p[0]/255*65535,p[1]/255*65535,p[2]/255*65535]},L.gray.rgb=function(p){return[p[0]/100*255,p[0]/100*255,p[0]/100*255]},L.gray.hsl=L.gray.hsv=function(p){return[0,0,p[0]]},L.gray.hwb=function(p){return[0,100,p[0]]},L.gray.cmyk=function(p){return[0,0,0,p[0]]},L.gray.lab=function(p){return[p[0],0,0]},L.gray.hex=function(p){var b=Math.round(p[0]/100*255)&255,x=(b<<16)+(b<<8)+b,w=x.toString(16).toUpperCase();return"000000".substring(w.length)+w},L.rgb.gray=function(p){var b=(p[0]+p[1]+p[2])/3;return[b/255*100]}},12085:function(_t,S,d){var m=d(48168),O=d(4111),I={},L=Object.keys(m);function P(E){var C=function(p){return p==null?p:(arguments.length>1&&(p=Array.prototype.slice.call(arguments)),E(p))};return"conversion"in E&&(C.conversion=E.conversion),C}function _(E){var C=function(p){if(p==null)return p;arguments.length>1&&(p=Array.prototype.slice.call(arguments));var b=E(p);if(typeof b=="object")for(var x=b.length,w=0;w<x;w++)b[w]=Math.round(b[w]);return b};return"conversion"in E&&(C.conversion=E.conversion),C}L.forEach(function(E){I[E]={},Object.defineProperty(I[E],"channels",{value:m[E].channels}),Object.defineProperty(I[E],"labels",{value:m[E].labels});var C=O(E),p=Object.keys(C);p.forEach(function(b){var x=C[b];I[E][b]=_(x),I[E][b].raw=P(x)})}),_t.exports=I},4111:function(_t,S,d){var m=d(48168);function O(){for(var _={},E=Object.keys(m),C=E.length,p=0;p<C;p++)_[E[p]]={distance:-1,parent:null};return _}function I(_){var E=O(),C=[_];for(E[_].distance=0;C.length;)for(var p=C.pop(),b=Object.keys(m[p]),x=b.length,w=0;w<x;w++){var y=b[w],M=E[y];M.distance===-1&&(M.distance=E[p].distance+1,M.parent=p,C.unshift(y))}return E}function L(_,E){return function(C){return E(_(C))}}function P(_,E){for(var C=[E[_].parent,_],p=m[E[_].parent][_],b=E[_].parent;E[b].parent;)C.unshift(E[b].parent),p=L(m[E[b].parent][b],p),b=E[b].parent;return p.conversion=C,p}_t.exports=function(_){for(var E=I(_),C={},p=Object.keys(E),b=p.length,x=0;x<b;x++){var w=p[x],y=E[w];y.parent!==null&&(C[w]=P(w,E))}return C}},8874:function(_t){"use strict";_t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},19818:function(_t,S,d){var m=d(8874),O=d(86851),I={};for(var L in m)m.hasOwnProperty(L)&&(I[m[L]]=L);var P=_t.exports={to:{},get:{}};P.get=function(C){var p=C.substring(0,3).toLowerCase(),b,x;switch(p){case"hsl":b=P.get.hsl(C),x="hsl";break;case"hwb":b=P.get.hwb(C),x="hwb";break;default:b=P.get.rgb(C),x="rgb";break}return b?{model:x,value:b}:null},P.get.rgb=function(C){if(!C)return null;var p=/^#([a-f0-9]{3,4})$/i,b=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,x=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,w=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,y=/(\D+)/,M=[0,0,0,1],T,B,D;if(T=C.match(b)){for(D=T[2],T=T[1],B=0;B<3;B++){var X=B*2;M[B]=parseInt(T.slice(X,X+2),16)}D&&(M[3]=parseInt(D,16)/255)}else if(T=C.match(p)){for(T=T[1],D=T[3],B=0;B<3;B++)M[B]=parseInt(T[B]+T[B],16);D&&(M[3]=parseInt(D+D,16)/255)}else if(T=C.match(x)){for(B=0;B<3;B++)M[B]=parseInt(T[B+1],0);T[4]&&(M[3]=parseFloat(T[4]))}else if(T=C.match(w)){for(B=0;B<3;B++)M[B]=Math.round(parseFloat(T[B+1])*2.55);T[4]&&(M[3]=parseFloat(T[4]))}else return(T=C.match(y))?T[1]==="transparent"?[0,0,0,0]:(M=m[T[1]],M?(M[3]=1,M):null):null;for(B=0;B<3;B++)M[B]=_(M[B],0,255);return M[3]=_(M[3],0,1),M},P.get.hsl=function(C){if(!C)return null;var p=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/,b=C.match(p);if(b){var x=parseFloat(b[4]),w=(parseFloat(b[1])+360)%360,y=_(parseFloat(b[2]),0,100),M=_(parseFloat(b[3]),0,100),T=_(isNaN(x)?1:x,0,1);return[w,y,M,T]}return null},P.get.hwb=function(C){if(!C)return null;var p=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,b=C.match(p);if(b){var x=parseFloat(b[4]),w=(parseFloat(b[1])%360+360)%360,y=_(parseFloat(b[2]),0,100),M=_(parseFloat(b[3]),0,100),T=_(isNaN(x)?1:x,0,1);return[w,y,M,T]}return null},P.to.hex=function(){var C=O(arguments);return"#"+E(C[0])+E(C[1])+E(C[2])+(C[3]<1?E(Math.round(C[3]*255)):"")},P.to.rgb=function(){var C=O(arguments);return C.length<4||C[3]===1?"rgb("+Math.round(C[0])+", "+Math.round(C[1])+", "+Math.round(C[2])+")":"rgba("+Math.round(C[0])+", "+Math.round(C[1])+", "+Math.round(C[2])+", "+C[3]+")"},P.to.rgb.percent=function(){var C=O(arguments),p=Math.round(C[0]/255*100),b=Math.round(C[1]/255*100),x=Math.round(C[2]/255*100);return C.length<4||C[3]===1?"rgb("+p+"%, "+b+"%, "+x+"%)":"rgba("+p+"%, "+b+"%, "+x+"%, "+C[3]+")"},P.to.hsl=function(){var C=O(arguments);return C.length<4||C[3]===1?"hsl("+C[0]+", "+C[1]+"%, "+C[2]+"%)":"hsla("+C[0]+", "+C[1]+"%, "+C[2]+"%, "+C[3]+")"},P.to.hwb=function(){var C=O(arguments),p="";return C.length>=4&&C[3]!==1&&(p=", "+C[3]),"hwb("+C[0]+", "+C[1]+"%, "+C[2]+"%"+p+")"},P.to.keyword=function(C){return I[C.slice(0,3)]};function _(C,p,b){return Math.min(Math.max(p,C),b)}function E(C){var p=C.toString(16).toUpperCase();return p.length<2?"0"+p:p}},6767:function(_t,S,d){"use strict";var m=d(19818),O=d(12085),I=[].slice,L=["keyword","gray","hex"],P={};Object.keys(O).forEach(function(M){P[I.call(O[M].labels).sort().join("")]=M});var _={};function E(M,T){if(!(this instanceof E))return new E(M,T);if(T&&T in L&&(T=null),T&&!(T in O))throw new Error("Unknown model: "+T);var B,D;if(M==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(M instanceof E)this.model=M.model,this.color=M.color.slice(),this.valpha=M.valpha;else if(typeof M=="string"){var X=m.get(M);if(X===null)throw new Error("Unable to parse color from string: "+M);this.model=X.model,D=O[this.model].channels,this.color=X.value.slice(0,D),this.valpha=typeof X.value[D]=="number"?X.value[D]:1}else if(M.length){this.model=T||"rgb",D=O[this.model].channels;var $=I.call(M,0,D);this.color=y($,D),this.valpha=typeof M[D]=="number"?M[D]:1}else if(typeof M=="number")M&=16777215,this.model="rgb",this.color=[M>>16&255,M>>8&255,M&255],this.valpha=1;else{this.valpha=1;var H=Object.keys(M);"alpha"in M&&(H.splice(H.indexOf("alpha"),1),this.valpha=typeof M.alpha=="number"?M.alpha:0);var nt=H.sort().join("");if(!(nt in P))throw new Error("Unable to parse color from object: "+JSON.stringify(M));this.model=P[nt];var ht=O[this.model].labels,at=[];for(B=0;B<ht.length;B++)at.push(M[ht[B]]);this.color=y(at)}if(_[this.model])for(D=O[this.model].channels,B=0;B<D;B++){var Ot=_[this.model][B];Ot&&(this.color[B]=Ot(this.color[B]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}E.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(M){var T=this.model in m.to?this:this.rgb();T=T.round(typeof M=="number"?M:1);var B=T.valpha===1?T.color:T.color.concat(this.valpha);return m.to[T.model](B)},percentString:function(M){var T=this.rgb().round(typeof M=="number"?M:1),B=T.valpha===1?T.color:T.color.concat(this.valpha);return m.to.rgb.percent(B)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var M={},T=O[this.model].channels,B=O[this.model].labels,D=0;D<T;D++)M[B[D]]=this.color[D];return this.valpha!==1&&(M.alpha=this.valpha),M},unitArray:function(){var M=this.rgb().color;return M[0]/=255,M[1]/=255,M[2]/=255,this.valpha!==1&&M.push(this.valpha),M},unitObject:function(){var M=this.rgb().object();return M.r/=255,M.g/=255,M.b/=255,this.valpha!==1&&(M.alpha=this.valpha),M},round:function(M){return M=Math.max(M||0,0),new E(this.color.map(p(M)).concat(this.valpha),this.model)},alpha:function(M){return arguments.length?new E(this.color.concat(Math.max(0,Math.min(1,M))),this.model):this.valpha},red:b("rgb",0,x(255)),green:b("rgb",1,x(255)),blue:b("rgb",2,x(255)),hue:b(["hsl","hsv","hsl","hwb","hcg"],0,function(M){return(M%360+360)%360}),saturationl:b("hsl",1,x(100)),lightness:b("hsl",2,x(100)),saturationv:b("hsv",1,x(100)),value:b("hsv",2,x(100)),chroma:b("hcg",1,x(100)),gray:b("hcg",2,x(100)),white:b("hwb",1,x(100)),wblack:b("hwb",2,x(100)),cyan:b("cmyk",0,x(100)),magenta:b("cmyk",1,x(100)),yellow:b("cmyk",2,x(100)),black:b("cmyk",3,x(100)),x:b("xyz",0,x(100)),y:b("xyz",1,x(100)),z:b("xyz",2,x(100)),l:b("lab",0,x(100)),a:b("lab",1),b:b("lab",2),keyword:function(M){return arguments.length?new E(M):O[this.model].keyword(this.color)},hex:function(M){return arguments.length?new E(M):m.to.hex(this.rgb().round().color)},rgbNumber:function(){var M=this.rgb().color;return(M[0]&255)<<16|(M[1]&255)<<8|M[2]&255},luminosity:function(){for(var M=this.rgb().color,T=[],B=0;B<M.length;B++){var D=M[B]/255;T[B]=D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4)}return .2126*T[0]+.7152*T[1]+.0722*T[2]},contrast:function(M){var T=this.luminosity(),B=M.luminosity();return T>B?(T+.05)/(B+.05):(B+.05)/(T+.05)},level:function(M){var T=this.contrast(M);return T>=7.1?"AAA":T>=4.5?"AA":""},isDark:function(){var M=this.rgb().color,T=(M[0]*299+M[1]*587+M[2]*114)/1e3;return T<128},isLight:function(){return!this.isDark()},negate:function(){for(var M=this.rgb(),T=0;T<3;T++)M.color[T]=255-M.color[T];return M},lighten:function(M){var T=this.hsl();return T.color[2]+=T.color[2]*M,T},darken:function(M){var T=this.hsl();return T.color[2]-=T.color[2]*M,T},saturate:function(M){var T=this.hsl();return T.color[1]+=T.color[1]*M,T},desaturate:function(M){var T=this.hsl();return T.color[1]-=T.color[1]*M,T},whiten:function(M){var T=this.hwb();return T.color[1]+=T.color[1]*M,T},blacken:function(M){var T=this.hwb();return T.color[2]+=T.color[2]*M,T},grayscale:function(){var M=this.rgb().color,T=M[0]*.3+M[1]*.59+M[2]*.11;return E.rgb(T,T,T)},fade:function(M){return this.alpha(this.valpha-this.valpha*M)},opaquer:function(M){return this.alpha(this.valpha+this.valpha*M)},rotate:function(M){var T=this.hsl(),B=T.color[0];return B=(B+M)%360,B=B<0?360+B:B,T.color[0]=B,T},mix:function(M,T){if(!M||!M.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof M);var B=M.rgb(),D=this.rgb(),X=T===void 0?.5:T,$=2*X-1,H=B.alpha()-D.alpha(),nt=(($*H==-1?$:($+H)/(1+$*H))+1)/2,ht=1-nt;return E.rgb(nt*B.red()+ht*D.red(),nt*B.green()+ht*D.green(),nt*B.blue()+ht*D.blue(),B.alpha()*X+D.alpha()*(1-X))}},Object.keys(O).forEach(function(M){if(L.indexOf(M)===-1){var T=O[M].channels;E.prototype[M]=function(){if(this.model===M)return new E(this);if(arguments.length)return new E(arguments,M);var B=typeof arguments[T]=="number"?T:this.valpha;return new E(w(O[this.model][M].raw(this.color)).concat(B),M)},E[M]=function(B){return typeof B=="number"&&(B=y(I.call(arguments),T)),new E(B,M)}}});function C(M,T){return Number(M.toFixed(T))}function p(M){return function(T){return C(T,M)}}function b(M,T,B){return M=Array.isArray(M)?M:[M],M.forEach(function(D){(_[D]||(_[D]=[]))[T]=B}),M=M[0],function(D){var X;return arguments.length?(B&&(D=B(D)),X=this[M](),X.color[T]=D,X):(X=this[M]().color[T],B&&(X=B(X)),X)}}function x(M){return function(T){return Math.max(0,Math.min(M,T))}}function w(M){return Array.isArray(M)?M:[M]}function y(M,T){for(var B=0;B<T;B++)typeof M[B]!="number"&&(M[B]=0);return M}_t.exports=E},2650:function(_t,S,d){"use strict";d.d(S,{ZP:function(){return H},B8:function(){return Ot}});function m(z,G,f){z.prototype=G.prototype=f,f.constructor=z}function O(z,G){var f=Object.create(z.prototype);for(var pt in G)f[pt]=G[pt];return f}function I(){}var L=.7,P=1/L,_="\\s*([+-]?\\d+)\\s*",E="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",C="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",p=/^#([0-9a-f]{3,8})$/,b=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),x=new RegExp("^rgb\\("+[C,C,C]+"\\)$"),w=new RegExp("^rgba\\("+[_,_,_,E]+"\\)$"),y=new RegExp("^rgba\\("+[C,C,C,E]+"\\)$"),M=new RegExp("^hsl\\("+[E,C,C]+"\\)$"),T=new RegExp("^hsla\\("+[E,C,C,E]+"\\)$"),B={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};m(I,H,{copy:function(z){return Object.assign(new this.constructor,this,z)},displayable:function(){return this.rgb().displayable()},hex:D,formatHex:D,formatHsl:X,formatRgb:$,toString:$});function D(){return this.rgb().formatHex()}function X(){return Z(this).formatHsl()}function $(){return this.rgb().formatRgb()}function H(z){var G,f;return z=(z+"").trim().toLowerCase(),(G=p.exec(z))?(f=G[1].length,G=parseInt(G[1],16),f===6?nt(G):f===3?new Ft(G>>8&15|G>>4&240,G>>4&15|G&240,(G&15)<<4|G&15,1):f===8?ht(G>>24&255,G>>16&255,G>>8&255,(G&255)/255):f===4?ht(G>>12&15|G>>8&240,G>>8&15|G>>4&240,G>>4&15|G&240,((G&15)<<4|G&15)/255):null):(G=b.exec(z))?new Ft(G[1],G[2],G[3],1):(G=x.exec(z))?new Ft(G[1]*255/100,G[2]*255/100,G[3]*255/100,1):(G=w.exec(z))?ht(G[1],G[2],G[3],G[4]):(G=y.exec(z))?ht(G[1]*255/100,G[2]*255/100,G[3]*255/100,G[4]):(G=M.exec(z))?K(G[1],G[2]/100,G[3]/100,1):(G=T.exec(z))?K(G[1],G[2]/100,G[3]/100,G[4]):B.hasOwnProperty(z)?nt(B[z]):z==="transparent"?new Ft(NaN,NaN,NaN,0):null}function nt(z){return new Ft(z>>16&255,z>>8&255,z&255,1)}function ht(z,G,f,pt){return pt<=0&&(z=G=f=NaN),new Ft(z,G,f,pt)}function at(z){return z instanceof I||(z=H(z)),z?(z=z.rgb(),new Ft(z.r,z.g,z.b,z.opacity)):new Ft}function Ot(z,G,f,pt){return arguments.length===1?at(z):new Ft(z,G,f,pt==null?1:pt)}function Ft(z,G,f,pt){this.r=+z,this.g=+G,this.b=+f,this.opacity=+pt}m(Ft,Ot,O(I,{brighter:function(z){return z=z==null?P:Math.pow(P,z),new Ft(this.r*z,this.g*z,this.b*z,this.opacity)},darker:function(z){return z=z==null?L:Math.pow(L,z),new Ft(this.r*z,this.g*z,this.b*z,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dt,formatHex:Dt,formatRgb:V,toString:V}));function Dt(){return"#"+q(this.r)+q(this.g)+q(this.b)}function V(){var z=this.opacity;return z=isNaN(z)?1:Math.max(0,Math.min(1,z)),(z===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(z===1?")":", "+z+")")}function q(z){return z=Math.max(0,Math.min(255,Math.round(z)||0)),(z<16?"0":"")+z.toString(16)}function K(z,G,f,pt){return pt<=0?z=G=f=NaN:f<=0||f>=1?z=G=NaN:G<=0&&(z=NaN),new rt(z,G,f,pt)}function Z(z){if(z instanceof rt)return new rt(z.h,z.s,z.l,z.opacity);if(z instanceof I||(z=H(z)),!z)return new rt;if(z instanceof rt)return z;z=z.rgb();var G=z.r/255,f=z.g/255,pt=z.b/255,Ct=Math.min(G,f,pt),ot=Math.max(G,f,pt),St=NaN,xt=ot-Ct,Mt=(ot+Ct)/2;return xt?(G===ot?St=(f-pt)/xt+(f<pt)*6:f===ot?St=(pt-G)/xt+2:St=(G-f)/xt+4,xt/=Mt<.5?ot+Ct:2-ot-Ct,St*=60):xt=Mt>0&&Mt<1?0:St,new rt(St,xt,Mt,z.opacity)}function mt(z,G,f,pt){return arguments.length===1?Z(z):new rt(z,G,f,pt==null?1:pt)}function rt(z,G,f,pt){this.h=+z,this.s=+G,this.l=+f,this.opacity=+pt}m(rt,mt,O(I,{brighter:function(z){return z=z==null?P:Math.pow(P,z),new rt(this.h,this.s,this.l*z,this.opacity)},darker:function(z){return z=z==null?L:Math.pow(L,z),new rt(this.h,this.s,this.l*z,this.opacity)},rgb:function(){var z=this.h%360+(this.h<0)*360,G=isNaN(z)||isNaN(this.s)?0:this.s,f=this.l,pt=f+(f<.5?f:1-f)*G,Ct=2*f-pt;return new Ft(W(z>=240?z-240:z+120,Ct,pt),W(z,Ct,pt),W(z<120?z+240:z-120,Ct,pt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var z=this.opacity;return z=isNaN(z)?1:Math.max(0,Math.min(1,z)),(z===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(z===1?")":", "+z+")")}}));function W(z,G,f){return(z<60?G+(f-G)*z/60:z<180?f:z<240?G+(f-G)*(240-z)/60:G)*255}},68716:function(_t,S,d){"use strict";d.d(S,{yD:function(){return m},_e:function(){return O},tw:function(){return I}});function m(L){return L*L*L}function O(L){return--L*L*L+1}function I(L){return((L*=2)<=1?L*L*L:(L-=2)*L*L+2)/2}},13681:function(_t,S,d){"use strict";d.r(S),d.d(S,{easeBack:function(){return Ct},easeBackIn:function(){return f},easeBackInOut:function(){return Ct},easeBackOut:function(){return pt},easeBounce:function(){return W},easeBounceIn:function(){return rt},easeBounceInOut:function(){return z},easeBounceOut:function(){return W},easeCircle:function(){return nt},easeCircleIn:function(){return $},easeCircleInOut:function(){return nt},easeCircleOut:function(){return H},easeCubic:function(){return P.tw},easeCubicIn:function(){return P.yD},easeCubicInOut:function(){return P.tw},easeCubicOut:function(){return P._e},easeElastic:function(){return Et},easeElasticIn:function(){return Mt},easeElasticInOut:function(){return Tt},easeElasticOut:function(){return Et},easeExp:function(){return X},easeExpIn:function(){return B},easeExpInOut:function(){return X},easeExpOut:function(){return D},easeLinear:function(){return m},easePoly:function(){return p},easePolyIn:function(){return E},easePolyInOut:function(){return p},easePolyOut:function(){return C},easeQuad:function(){return L},easeQuadIn:function(){return O},easeQuadInOut:function(){return L},easeQuadOut:function(){return I},easeSin:function(){return M},easeSinIn:function(){return w},easeSinInOut:function(){return M},easeSinOut:function(){return y}});function m(gt){return+gt}function O(gt){return gt*gt}function I(gt){return gt*(2-gt)}function L(gt){return((gt*=2)<=1?gt*gt:--gt*(2-gt)+1)/2}var P=d(68716),_=3,E=function gt(it){it=+it;function Q(U){return Math.pow(U,it)}return Q.exponent=gt,Q}(_),C=function gt(it){it=+it;function Q(U){return 1-Math.pow(1-U,it)}return Q.exponent=gt,Q}(_),p=function gt(it){it=+it;function Q(U){return((U*=2)<=1?Math.pow(U,it):2-Math.pow(2-U,it))/2}return Q.exponent=gt,Q}(_),b=Math.PI,x=b/2;function w(gt){return+gt==1?1:1-Math.cos(gt*x)}function y(gt){return Math.sin(gt*x)}function M(gt){return(1-Math.cos(b*gt))/2}function T(gt){return(Math.pow(2,-10*gt)-.0009765625)*1.0009775171065494}function B(gt){return T(1-+gt)}function D(gt){return 1-T(gt)}function X(gt){return((gt*=2)<=1?T(1-gt):2-T(gt-1))/2}function $(gt){return 1-Math.sqrt(1-gt*gt)}function H(gt){return Math.sqrt(1- --gt*gt)}function nt(gt){return((gt*=2)<=1?1-Math.sqrt(1-gt*gt):Math.sqrt(1-(gt-=2)*gt)+1)/2}var ht=4/11,at=6/11,Ot=8/11,Ft=3/4,Dt=9/11,V=10/11,q=15/16,K=21/22,Z=63/64,mt=1/ht/ht;function rt(gt){return 1-W(1-gt)}function W(gt){return(gt=+gt)<ht?mt*gt*gt:gt<Ot?mt*(gt-=at)*gt+Ft:gt<V?mt*(gt-=Dt)*gt+q:mt*(gt-=K)*gt+Z}function z(gt){return((gt*=2)<=1?1-W(1-gt):W(gt-1)+1)/2}var G=1.70158,f=function gt(it){it=+it;function Q(U){return(U=+U)*U*(it*(U-1)+U)}return Q.overshoot=gt,Q}(G),pt=function gt(it){it=+it;function Q(U){return--U*U*((U+1)*it+U)+1}return Q.overshoot=gt,Q}(G),Ct=function gt(it){it=+it;function Q(U){return((U*=2)<1?U*U*((it+1)*U-it):(U-=2)*U*((it+1)*U+it)+2)/2}return Q.overshoot=gt,Q}(G),ot=2*Math.PI,St=1,xt=.3,Mt=function gt(it,Q){var U=Math.asin(1/(it=Math.max(1,it)))*(Q/=ot);function ct(tt){return it*T(- --tt)*Math.sin((U-tt)/Q)}return ct.amplitude=function(tt){return gt(tt,Q*ot)},ct.period=function(tt){return gt(it,tt)},ct}(St,xt),Et=function gt(it,Q){var U=Math.asin(1/(it=Math.max(1,it)))*(Q/=ot);function ct(tt){return 1-it*T(tt=+tt)*Math.sin((tt+U)/Q)}return ct.amplitude=function(tt){return gt(tt,Q*ot)},ct.period=function(tt){return gt(it,tt)},ct}(St,xt),Tt=function gt(it,Q){var U=Math.asin(1/(it=Math.max(1,it)))*(Q/=ot);function ct(tt){return((tt=tt*2-1)<0?it*T(-tt)*Math.sin((U-tt)/Q):2-it*T(tt)*Math.sin((U+tt)/Q))/2}return ct.amplitude=function(tt){return gt(tt,Q*ot)},ct.period=function(tt){return gt(it,tt)},ct}(St,xt)},88122:function(_t,S,d){"use strict";d.d(S,{Z:function(){return I},M:function(){return L}});var m=d(26257),O=d(67896);function I(P,_){return((0,O.v)(_)?O.Z:L)(P,_)}function L(P,_){var E=_?_.length:0,C=P?Math.min(E,P.length):0,p=new Array(C),b=new Array(E),x;for(x=0;x<C;++x)p[x]=(0,m.Z)(P[x],_[x]);for(;x<E;++x)b[x]=_[x];return function(w){for(x=0;x<C;++x)b[x]=p[x](w);return b}}},73626:function(_t,S,d){"use strict";d.d(S,{Z:function(){return m}});function m(O,I){return O=+O,I=+I,function(L){return O*(1-L)+I*L}}},67896:function(_t,S,d){"use strict";d.d(S,{Z:function(){return m},v:function(){return O}});function m(I,L){L||(L=[]);var P=I?Math.min(L.length,I.length):0,_=L.slice(),E;return function(C){for(E=0;E<P;++E)_[E]=I[E]*(1-C)+L[E]*C;return _}}function O(I){return ArrayBuffer.isView(I)&&!(I instanceof DataView)}},26257:function(_t,S,d){"use strict";d.d(S,{Z:function(){return Ft}});var m=d(2650);function O(Dt,V,q,K,Z){var mt=Dt*Dt,rt=mt*Dt;return((1-3*Dt+3*mt-rt)*V+(4-6*mt+3*rt)*q+(1+3*Dt+3*mt-3*rt)*K+rt*Z)/6}function I(Dt){var V=Dt.length-1;return function(q){var K=q<=0?q=0:q>=1?(q=1,V-1):Math.floor(q*V),Z=Dt[K],mt=Dt[K+1],rt=K>0?Dt[K-1]:2*Z-mt,W=K<V-1?Dt[K+2]:2*mt-Z;return O((q-K/V)*V,rt,Z,mt,W)}}function L(Dt){var V=Dt.length;return function(q){var K=Math.floor(((q%=1)<0?++q:q)*V),Z=Dt[(K+V-1)%V],mt=Dt[K%V],rt=Dt[(K+1)%V],W=Dt[(K+2)%V];return O((q-K/V)*V,Z,mt,rt,W)}}function P(Dt){return function(){return Dt}}function _(Dt,V){return function(q){return Dt+q*V}}function E(Dt,V,q){return Dt=Math.pow(Dt,q),V=Math.pow(V,q)-Dt,q=1/q,function(K){return Math.pow(Dt+K*V,q)}}function C(Dt,V){var q=V-Dt;return q?_(Dt,q>180||q<-180?q-360*Math.round(q/360):q):constant(isNaN(Dt)?V:Dt)}function p(Dt){return(Dt=+Dt)==1?b:function(V,q){return q-V?E(V,q,Dt):P(isNaN(V)?q:V)}}function b(Dt,V){var q=V-Dt;return q?_(Dt,q):P(isNaN(Dt)?V:Dt)}var x=function Dt(V){var q=p(V);function K(Z,mt){var rt=q((Z=(0,m.B8)(Z)).r,(mt=(0,m.B8)(mt)).r),W=q(Z.g,mt.g),z=q(Z.b,mt.b),G=b(Z.opacity,mt.opacity);return function(f){return Z.r=rt(f),Z.g=W(f),Z.b=z(f),Z.opacity=G(f),Z+""}}return K.gamma=Dt,K}(1);function w(Dt){return function(V){var q=V.length,K=new Array(q),Z=new Array(q),mt=new Array(q),rt,W;for(rt=0;rt<q;++rt)W=(0,m.B8)(V[rt]),K[rt]=W.r||0,Z[rt]=W.g||0,mt[rt]=W.b||0;return K=Dt(K),Z=Dt(Z),mt=Dt(mt),W.opacity=1,function(z){return W.r=K(z),W.g=Z(z),W.b=mt(z),W+""}}}var y=w(I),M=w(L),T=d(88122);function B(Dt,V){var q=new Date;return Dt=+Dt,V=+V,function(K){return q.setTime(Dt*(1-K)+V*K),q}}var D=d(73626);function X(Dt,V){var q={},K={},Z;(Dt===null||typeof Dt!="object")&&(Dt={}),(V===null||typeof V!="object")&&(V={});for(Z in V)Z in Dt?q[Z]=Ft(Dt[Z],V[Z]):K[Z]=V[Z];return function(mt){for(Z in q)K[Z]=q[Z](mt);return K}}var $=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,H=new RegExp($.source,"g");function nt(Dt){return function(){return Dt}}function ht(Dt){return function(V){return Dt(V)+""}}function at(Dt,V){var q=$.lastIndex=H.lastIndex=0,K,Z,mt,rt=-1,W=[],z=[];for(Dt=Dt+"",V=V+"";(K=$.exec(Dt))&&(Z=H.exec(V));)(mt=Z.index)>q&&(mt=V.slice(q,mt),W[rt]?W[rt]+=mt:W[++rt]=mt),(K=K[0])===(Z=Z[0])?W[rt]?W[rt]+=Z:W[++rt]=Z:(W[++rt]=null,z.push({i:rt,x:(0,D.Z)(K,Z)})),q=H.lastIndex;return q<V.length&&(mt=V.slice(q),W[rt]?W[rt]+=mt:W[++rt]=mt),W.length<2?z[0]?ht(z[0].x):nt(V):(V=z.length,function(G){for(var f=0,pt;f<V;++f)W[(pt=z[f]).i]=pt.x(G);return W.join("")})}var Ot=d(67896);function Ft(Dt,V){var q=typeof V,K;return V==null||q==="boolean"?P(V):(q==="number"?D.Z:q==="string"?(K=(0,m.ZP)(V))?(V=K,x):at:V instanceof m.ZP?x:V instanceof Date?B:(0,Ot.v)(V)?Ot.Z:Array.isArray(V)?T.M:typeof V.valueOf!="function"&&typeof V.toString!="function"||isNaN(V)?X:D.Z)(Dt,V)}},56645:function(_t,S){(function(d,m){m(S)})(this,function(d){"use strict";function m(V,q){return O(V)||I(V,q)||L()}function O(V){if(Array.isArray(V))return V}function I(V,q){var K=[],Z=!0,mt=!1,rt=void 0;try{for(var W=V[Symbol.iterator](),z;!(Z=(z=W.next()).done)&&(K.push(z.value),!(q&&K.length===q));Z=!0);}catch(G){mt=!0,rt=G}finally{try{!Z&&W.return!=null&&W.return()}finally{if(mt)throw rt}}return K}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function P(V,q,K,Z){V=V.filter(function(xt,Mt){var Et=q(xt,Mt),Tt=K(xt,Mt);return Et!=null&&isFinite(Et)&&Tt!=null&&isFinite(Tt)}),Z&&V.sort(function(xt,Mt){return q(xt)-q(Mt)});for(var mt=V.length,rt=new Float64Array(mt),W=new Float64Array(mt),z=0,G=0,f,pt,Ct,ot=0;ot<mt;)Ct=V[ot],rt[ot]=f=+q(Ct,ot,V),W[ot]=pt=+K(Ct,ot,V),++ot,z+=(f-z)/ot,G+=(pt-G)/ot;for(var St=0;St<mt;++St)rt[St]-=z,W[St]-=G;return[rt,W,z,G]}function _(V,q,K,Z){for(var mt=0,rt=0,W=V.length;rt<W;rt++){var z=V[rt],G=+q(z,rt,V),f=+K(z,rt,V);G!=null&&isFinite(G)&&f!=null&&isFinite(f)&&Z(G,f,mt++)}}function E(V,q,K,Z,mt){var rt=0,W=0;return _(V,q,K,function(z,G){var f=G-mt(z),pt=G-Z;rt+=f*f,W+=pt*pt}),1-rt/W}function C(V){return Math.atan2(V[1][1]-V[0][1],V[1][0]-V[0][0])*180/Math.PI}function p(V){return[(V[0][0]+V[1][0])/2,(V[0][1]+V[1][1])/2]}function b(V,q,K){for(var Z=Math.log(q-V)*Math.LOG10E+1|0,mt=1*Math.pow(10,-Z/2-1),rt=1e4,W=[G(V),G(q)],z=0;f(W)&&z<rt;);return W;function G(pt){return[pt,K(pt)]}function f(pt){z++;for(var Ct=pt.length,ot=!1,St=0;St<Ct-1;St++){var xt=pt[St],Mt=pt[St+1],Et=p([xt,Mt]),Tt=G(Et[0]),gt=C([xt,Et]),it=C([xt,Tt]),Q=Math.abs(gt-it);Q>mt&&(pt.splice(St+1,0,Tt),ot=!0)}return ot}}function x(V,q,K,Z){var mt=Z-V*V,rt=Math.abs(mt)<1e-24?0:(K-V*q)/mt,W=q-rt*V;return[W,rt]}function w(){var V=function(rt){return rt[0]},q=function(rt){return rt[1]},K;function Z(mt){var rt=0,W=0,z=0,G=0,f=0,pt=0,Ct=K?+K[0]:Infinity,ot=K?+K[1]:-Infinity;_(mt,V,q,function(it,Q){var U=Math.log(Q),ct=it*Q;++rt,W+=(Q-W)/rt,G+=(ct-G)/rt,pt+=(it*ct-pt)/rt,z+=(Q*U-z)/rt,f+=(ct*U-f)/rt,K||(it<Ct&&(Ct=it),it>ot&&(ot=it))});var St=x(G/W,z/W,f/W,pt/W),xt=m(St,2),Mt=xt[0],Et=xt[1];Mt=Math.exp(Mt);var Tt=function(Q){return Mt*Math.exp(Et*Q)},gt=b(Ct,ot,Tt);return gt.a=Mt,gt.b=Et,gt.predict=Tt,gt.rSquared=E(mt,V,q,W,Tt),gt}return Z.domain=function(mt){return arguments.length?(K=mt,Z):K},Z.x=function(mt){return arguments.length?(V=mt,Z):V},Z.y=function(mt){return arguments.length?(q=mt,Z):q},Z}function y(){var V=function(rt){return rt[0]},q=function(rt){return rt[1]},K;function Z(mt){var rt=0,W=0,z=0,G=0,f=0,pt=K?+K[0]:Infinity,Ct=K?+K[1]:-Infinity;_(mt,V,q,function(gt,it){++rt,W+=(gt-W)/rt,z+=(it-z)/rt,G+=(gt*it-G)/rt,f+=(gt*gt-f)/rt,K||(gt<pt&&(pt=gt),gt>Ct&&(Ct=gt))});var ot=x(W,z,G,f),St=m(ot,2),xt=St[0],Mt=St[1],Et=function(it){return Mt*it+xt},Tt=[[pt,Et(pt)],[Ct,Et(Ct)]];return Tt.a=Mt,Tt.b=xt,Tt.predict=Et,Tt.rSquared=E(mt,V,q,z,Et),Tt}return Z.domain=function(mt){return arguments.length?(K=mt,Z):K},Z.x=function(mt){return arguments.length?(V=mt,Z):V},Z.y=function(mt){return arguments.length?(q=mt,Z):q},Z}function M(V){V.sort(function(K,Z){return K-Z});var q=V.length/2;return q%1==0?(V[q-1]+V[q])/2:V[Math.floor(q)]}var T=2,B=1e-12;function D(){var V=function(rt){return rt[0]},q=function(rt){return rt[1]},K=.3;function Z(mt){for(var rt=P(mt,V,q,!0),W=m(rt,4),z=W[0],G=W[1],f=W[2],pt=W[3],Ct=z.length,ot=Math.max(2,~~(K*Ct)),St=new Float64Array(Ct),xt=new Float64Array(Ct),Mt=new Float64Array(Ct).fill(1),Et=-1;++Et<=T;){for(var Tt=[0,ot-1],gt=0;gt<Ct;++gt){for(var it=z[gt],Q=Tt[0],U=Tt[1],ct=it-z[Q]>z[U]-it?Q:U,tt=0,et=0,dt=0,Lt=0,Xt=0,$t=1/Math.abs(z[ct]-it||1),fe=Q;fe<=U;++fe){var me=z[fe],pe=G[fe],xe=X(Math.abs(it-me)*$t)*Mt[fe],Ie=me*xe;tt+=xe,et+=Ie,dt+=pe*xe,Lt+=pe*Ie,Xt+=me*Ie}var je=x(et/tt,dt/tt,Lt/tt,Xt/tt),ur=m(je,2),Ze=ur[0],Ar=ur[1];St[gt]=Ze+Ar*it,xt[gt]=Math.abs(G[gt]-St[gt]),$(z,gt+1,Tt)}if(Et===T)break;var Jr=M(xt);if(Math.abs(Jr)<B)break;for(var Er=0,Hr,Xn;Er<Ct;++Er)Hr=xt[Er]/(6*Jr),Mt[Er]=Hr>=1?B:(Xn=1-Hr*Hr)*Xn}return H(z,St,f,pt)}return Z.bandwidth=function(mt){return arguments.length?(K=mt,Z):K},Z.x=function(mt){return arguments.length?(V=mt,Z):V},Z.y=function(mt){return arguments.length?(q=mt,Z):q},Z}function X(V){return(V=1-V*V*V)*V*V}function $(V,q,K){var Z=V[q],mt=K[0],rt=K[1]+1;if(!(rt>=V.length))for(;q>mt&&V[rt]-Z<=Z-V[mt];)K[0]=++mt,K[1]=rt,++rt}function H(V,q,K,Z){for(var mt=V.length,rt=[],W=0,z=0,G=[],f;W<mt;++W)f=V[W]+K,G[0]===f?G[1]+=(q[W]-G[1])/++z:(z=0,G[1]+=Z,G=[f,q[W]],rt.push(G));return G[1]+=Z,rt}function nt(){var V=function(W){return W[0]},q=function(W){return W[1]},K=Math.E,Z;function mt(rt){var W=0,z=0,G=0,f=0,pt=0,Ct=Z?+Z[0]:Infinity,ot=Z?+Z[1]:-Infinity,St=Math.log(K);_(rt,V,q,function(Q,U){var ct=Math.log(Q)/St;++W,z+=(ct-z)/W,G+=(U-G)/W,f+=(ct*U-f)/W,pt+=(ct*ct-pt)/W,Z||(Q<Ct&&(Ct=Q),Q>ot&&(ot=Q))});var xt=x(z,G,f,pt),Mt=m(xt,2),Et=Mt[0],Tt=Mt[1],gt=function(U){return Tt*Math.log(U)/St+Et},it=b(Ct,ot,gt);return it.a=Tt,it.b=Et,it.predict=gt,it.rSquared=E(rt,V,q,G,gt),it}return mt.domain=function(rt){return arguments.length?(Z=rt,mt):Z},mt.x=function(rt){return arguments.length?(V=rt,mt):V},mt.y=function(rt){return arguments.length?(q=rt,mt):q},mt.base=function(rt){return arguments.length?(K=rt,mt):K},mt}function ht(){var V=function(rt){return rt[0]},q=function(rt){return rt[1]},K;function Z(mt){var rt=P(mt,V,q),W=m(rt,4),z=W[0],G=W[1],f=W[2],pt=W[3],Ct=z.length,ot=0,St=0,xt=0,Mt=0,Et=0,Tt,gt,it,Q;for(Tt=0;Tt<Ct;)gt=z[Tt],it=G[Tt++],Q=gt*gt,ot+=(Q-ot)/Tt,St+=(Q*gt-St)/Tt,xt+=(Q*Q-xt)/Tt,Mt+=(gt*it-Mt)/Tt,Et+=(Q*it-Et)/Tt;var U=0,ct=0,tt=K?+K[0]:Infinity,et=K?+K[1]:-Infinity;_(mt,V,q,function(xe,Ie){ct++,U+=(Ie-U)/ct,K||(xe<tt&&(tt=xe),xe>et&&(et=xe))});var dt=xt-ot*ot,Lt=ot*dt-St*St,Xt=(Et*ot-Mt*St)/Lt,$t=(Mt*dt-Et*St)/Lt,fe=-Xt*ot,me=function(Ie){return Ie=Ie-f,Xt*Ie*Ie+$t*Ie+fe+pt},pe=b(tt,et,me);return pe.a=Xt,pe.b=$t-2*Xt*f,pe.c=fe-$t*f+Xt*f*f+pt,pe.predict=me,pe.rSquared=E(mt,V,q,U,me),pe}return Z.domain=function(mt){return arguments.length?(K=mt,Z):K},Z.x=function(mt){return arguments.length?(V=mt,Z):V},Z.y=function(mt){return arguments.length?(q=mt,Z):q},Z}function at(){var V=function(W){return W[0]},q=function(W){return W[1]},K=3,Z;function mt(rt){if(K===1){var W=y().x(V).y(q).domain(Z)(rt);return W.coefficients=[W.b,W.a],delete W.a,delete W.b,W}if(K===2){var z=ht().x(V).y(q).domain(Z)(rt);return z.coefficients=[z.c,z.b,z.a],delete z.a,delete z.b,delete z.c,z}var G=P(rt,V,q),f=m(G,4),pt=f[0],Ct=f[1],ot=f[2],St=f[3],xt=pt.length,Mt=[],Et=[],Tt=K+1,gt=0,it=0,Q=Z?+Z[0]:Infinity,U=Z?+Z[1]:-Infinity;_(rt,V,q,function(me,pe){++it,gt+=(pe-gt)/it,Z||(me<Q&&(Q=me),me>U&&(U=me))});var ct,tt,et,dt,Lt;for(ct=0;ct<Tt;++ct){for(et=0,dt=0;et<xt;++et)dt+=Math.pow(pt[et],ct)*Ct[et];for(Mt.push(dt),Lt=new Float64Array(Tt),tt=0;tt<Tt;++tt){for(et=0,dt=0;et<xt;++et)dt+=Math.pow(pt[et],ct+tt);Lt[tt]=dt}Et.push(Lt)}Et.push(Mt);var Xt=Ft(Et),$t=function(pe){pe-=ot;var xe=St+Xt[0]+Xt[1]*pe+Xt[2]*pe*pe;for(ct=3;ct<Tt;++ct)xe+=Xt[ct]*Math.pow(pe,ct);return xe},fe=b(Q,U,$t);return fe.coefficients=Ot(Tt,Xt,-ot,St),fe.predict=$t,fe.rSquared=E(rt,V,q,gt,$t),fe}return mt.domain=function(rt){return arguments.length?(Z=rt,mt):Z},mt.x=function(rt){return arguments.length?(V=rt,mt):V},mt.y=function(rt){return arguments.length?(q=rt,mt):q},mt.order=function(rt){return arguments.length?(K=rt,mt):K},mt}function Ot(V,q,K,Z){var mt=Array(V),rt,W,z,G;for(rt=0;rt<V;++rt)mt[rt]=0;for(rt=V-1;rt>=0;--rt)for(z=q[rt],G=1,mt[rt]+=z,W=1;W<=rt;++W)G*=(rt+1-W)/W,mt[rt-W]+=z*Math.pow(K,W)*G;return mt[0]+=Z,mt}function Ft(V){var q=V.length-1,K=[],Z,mt,rt,W,z;for(Z=0;Z<q;++Z){for(W=Z,mt=Z+1;mt<q;++mt)Math.abs(V[Z][mt])>Math.abs(V[Z][W])&&(W=mt);for(rt=Z;rt<q+1;++rt)z=V[rt][Z],V[rt][Z]=V[rt][W],V[rt][W]=z;for(mt=Z+1;mt<q;++mt)for(rt=q;rt>=Z;rt--)V[rt][mt]-=V[rt][Z]*V[Z][mt]/V[Z][Z]}for(mt=q-1;mt>=0;--mt){for(z=0,rt=mt+1;rt<q;++rt)z+=V[rt][mt]*K[rt];K[mt]=(V[q][mt]-z)/V[mt][mt]}return K}function Dt(){var V=function(rt){return rt[0]},q=function(rt){return rt[1]},K;function Z(mt){var rt=0,W=0,z=0,G=0,f=0,pt=0,Ct=K?+K[0]:Infinity,ot=K?+K[1]:-Infinity;_(mt,V,q,function(it,Q){var U=Math.log(it),ct=Math.log(Q);++rt,W+=(U-W)/rt,z+=(ct-z)/rt,G+=(U*ct-G)/rt,f+=(U*U-f)/rt,pt+=(Q-pt)/rt,K||(it<Ct&&(Ct=it),it>ot&&(ot=it))});var St=x(W,z,G,f),xt=m(St,2),Mt=xt[0],Et=xt[1];Mt=Math.exp(Mt);var Tt=function(Q){return Mt*Math.pow(Q,Et)},gt=b(Ct,ot,Tt);return gt.a=Mt,gt.b=Et,gt.predict=Tt,gt.rSquared=E(mt,V,q,pt,Tt),gt}return Z.domain=function(mt){return arguments.length?(K=mt,Z):K},Z.x=function(mt){return arguments.length?(V=mt,Z):V},Z.y=function(mt){return arguments.length?(q=mt,Z):q},Z}d.regressionExp=w,d.regressionLinear=y,d.regressionLoess=D,d.regressionLog=nt,d.regressionPoly=at,d.regressionPow=Dt,d.regressionQuad=ht,Object.defineProperty(d,"__esModule",{value:!0})})},35374:function(_t,S,d){"use strict";d.d(S,{HT:function(){return T}});var m=0,O=0,I=0,L=1e3,P,_,E=0,C=0,p=0,b=typeof performance=="object"&&performance.now?performance:Date,x=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(nt){setTimeout(nt,17)};function w(){return C||(x(y),C=b.now()+p)}function y(){C=0}function M(){this._call=this._time=this._next=null}M.prototype=T.prototype={constructor:M,restart:function(nt,ht,at){if(typeof nt!="function")throw new TypeError("callback is not a function");at=(at==null?w():+at)+(ht==null?0:+ht),!this._next&&_!==this&&(_?_._next=this:P=this,_=this),this._call=nt,this._time=at,H()},stop:function(){this._call&&(this._call=null,this._time=Infinity,H())}};function T(nt,ht,at){var Ot=new M;return Ot.restart(nt,ht,at),Ot}function B(){w(),++m;for(var nt=P,ht;nt;)(ht=C-nt._time)>=0&&nt._call.call(null,ht),nt=nt._next;--m}function D(){C=(E=b.now())+p,m=O=0;try{B()}finally{m=0,$(),C=0}}function X(){var nt=b.now(),ht=nt-E;ht>L&&(p-=ht,E=nt)}function $(){for(var nt,ht=P,at,Ot=Infinity;ht;)ht._call?(Ot>ht._time&&(Ot=ht._time),nt=ht,ht=ht._next):(at=ht._next,ht._next=null,ht=nt?nt._next=at:P=at);_=nt,H(Ot)}function H(nt){if(!m){O&&(O=clearTimeout(O));var ht=nt-C;ht>24?(nt<Infinity&&(O=setTimeout(D,nt-b.now()-p)),I&&(I=clearInterval(I))):(I||(E=b.now(),I=setInterval(X,L)),m=1,x(D))}}},49772:function(_t,S,d){_t.exports={graphlib:d(70574),layout:d(98123),debug:d(27570),util:{time:d(11138).time,notime:d(11138).notime},version:d(88177)}},92188:function(_t,S,d){"use strict";var m=d(38436),O=d(74079);_t.exports={run:I,undo:P};function I(_){var E=_.graph().acyclicer==="greedy"?O(_,C(_)):L(_);m.forEach(E,function(p){var b=_.edge(p);_.removeEdge(p),b.forwardName=p.name,b.reversed=!0,_.setEdge(p.w,p.v,b,m.uniqueId("rev"))});function C(p){return function(b){return p.edge(b).weight}}}function L(_){var E=[],C={},p={};function b(x){m.has(p,x)||(p[x]=!0,C[x]=!0,m.forEach(_.outEdges(x),function(w){m.has(C,w.w)?E.push(w):b(w.w)}),delete C[x])}return m.forEach(_.nodes(),b),E}function P(_){m.forEach(_.edges(),function(E){var C=_.edge(E);if(C.reversed){_.removeEdge(E);var p=C.forwardName;delete C.reversed,delete C.forwardName,_.setEdge(E.w,E.v,C,p)}})}},61133:function(_t,S,d){var m=d(38436),O=d(11138);_t.exports=I;function I(P){function _(E){var C=P.children(E),p=P.node(E);if(C.length&&m.forEach(C,_),m.has(p,"minRank")){p.borderLeft=[],p.borderRight=[];for(var b=p.minRank,x=p.maxRank+1;b<x;++b)L(P,"borderLeft","_bl",E,p,b),L(P,"borderRight","_br",E,p,b)}}m.forEach(P.children(),_)}function L(P,_,E,C,p,b){var x={width:0,height:0,rank:b,borderType:_},w=p[_][b-1],y=O.addDummyNode(P,"border",x,E);p[_][b]=y,P.setParent(y,C),w&&P.setEdge(w,y,{weight:1})}},53258:function(_t,S,d){"use strict";var m=d(38436);_t.exports={adjust:O,undo:I};function O(b){var x=b.graph().rankdir.toLowerCase();(x==="lr"||x==="rl")&&L(b)}function I(b){var x=b.graph().rankdir.toLowerCase();(x==="bt"||x==="rl")&&_(b),(x==="lr"||x==="rl")&&(C(b),L(b))}function L(b){m.forEach(b.nodes(),function(x){P(b.node(x))}),m.forEach(b.edges(),function(x){P(b.edge(x))})}function P(b){var x=b.width;b.width=b.height,b.height=x}function _(b){m.forEach(b.nodes(),function(x){E(b.node(x))}),m.forEach(b.edges(),function(x){var w=b.edge(x);m.forEach(w.points,E),m.has(w,"y")&&E(w)})}function E(b){b.y=-b.y}function C(b){m.forEach(b.nodes(),function(x){p(b.node(x))}),m.forEach(b.edges(),function(x){var w=b.edge(x);m.forEach(w.points,p),m.has(w,"x")&&p(w)})}function p(b){var x=b.x;b.x=b.y,b.y=x}},77822:function(_t){_t.exports=S;function S(){var O={};O._next=O._prev=O,this._sentinel=O}S.prototype.dequeue=function(){var O=this._sentinel,I=O._prev;if(I!==O)return d(I),I},S.prototype.enqueue=function(O){var I=this._sentinel;O._prev&&O._next&&d(O),O._next=I._next,I._next._prev=O,I._next=O,O._prev=I},S.prototype.toString=function(){for(var O=[],I=this._sentinel,L=I._prev;L!==I;)O.push(JSON.stringify(L,m)),L=L._prev;return"["+O.join(", ")+"]"};function d(O){O._prev._next=O._next,O._next._prev=O._prev,delete O._next,delete O._prev}function m(O,I){if(O!=="_next"&&O!=="_prev")return I}},27570:function(_t,S,d){var m=d(38436),O=d(11138),I=d(70574).Graph;_t.exports={debugOrdering:L};function L(P){var _=O.buildLayerMatrix(P),E=new I({compound:!0,multigraph:!0}).setGraph({});return m.forEach(P.nodes(),function(C){E.setNode(C,{label:C}),E.setParent(C,"layer"+P.node(C).rank)}),m.forEach(P.edges(),function(C){E.setEdge(C.v,C.w,{},C.name)}),m.forEach(_,function(C,p){var b="layer"+p;E.setNode(b,{rank:"same"}),m.reduce(C,function(x,w){return E.setEdge(x,w,{style:"invis"}),w})}),E}},70574:function(_t,S,d){var m;try{m=d(28282)}catch(O){}m||(m=window.graphlib),_t.exports=m},74079:function(_t,S,d){var m=d(38436),O=d(70574).Graph,I=d(77822);_t.exports=P;var L=m.constant(1);function P(b,x){if(b.nodeCount()<=1)return[];var w=C(b,x||L),y=_(w.graph,w.buckets,w.zeroIdx);return m.flatten(m.map(y,function(M){return b.outEdges(M.v,M.w)}),!0)}function _(b,x,w){for(var y=[],M=x[x.length-1],T=x[0],B;b.nodeCount();){for(;B=T.dequeue();)E(b,x,w,B);for(;B=M.dequeue();)E(b,x,w,B);if(b.nodeCount()){for(var D=x.length-2;D>0;--D)if(B=x[D].dequeue(),B){y=y.concat(E(b,x,w,B,!0));break}}}return y}function E(b,x,w,y,M){var T=M?[]:void 0;return m.forEach(b.inEdges(y.v),function(B){var D=b.edge(B),X=b.node(B.v);M&&T.push({v:B.v,w:B.w}),X.out-=D,p(x,w,X)}),m.forEach(b.outEdges(y.v),function(B){var D=b.edge(B),X=B.w,$=b.node(X);$.in-=D,p(x,w,$)}),b.removeNode(y.v),T}function C(b,x){var w=new O,y=0,M=0;m.forEach(b.nodes(),function(D){w.setNode(D,{v:D,in:0,out:0})}),m.forEach(b.edges(),function(D){var X=w.edge(D.v,D.w)||0,$=x(D),H=X+$;w.setEdge(D.v,D.w,H),M=Math.max(M,w.node(D.v).out+=$),y=Math.max(y,w.node(D.w).in+=$)});var T=m.range(M+y+3).map(function(){return new I}),B=y+1;return m.forEach(w.nodes(),function(D){p(T,B,w.node(D))}),{graph:w,buckets:T,zeroIdx:B}}function p(b,x,w){w.out?w.in?b[w.out-w.in+x].enqueue(w):b[b.length-1].enqueue(w):b[0].enqueue(w)}},98123:function(_t,S,d){"use strict";var m=d(38436),O=d(92188),I=d(45995),L=d(78093),P=d(11138).normalizeRanks,_=d(24219),E=d(11138).removeEmptyRanks,C=d(72981),p=d(61133),b=d(53258),x=d(53408),w=d(17873),y=d(11138),M=d(70574).Graph;_t.exports=T;function T(xt,Mt){var Et=Mt&&Mt.debugTiming?y.time:y.notime;Et("layout",function(){var Tt=Et("  buildLayoutGraph",function(){return Dt(xt)});Et("  runLayout",function(){B(Tt,Et)}),Et("  updateInputGraph",function(){D(xt,Tt)})})}function B(xt,Mt){Mt("    makeSpaceForEdgeLabels",function(){V(xt)}),Mt("    removeSelfEdges",function(){f(xt)}),Mt("    acyclic",function(){O.run(xt)}),Mt("    nestingGraph.run",function(){C.run(xt)}),Mt("    rank",function(){L(y.asNonCompoundGraph(xt))}),Mt("    injectEdgeLabelProxies",function(){q(xt)}),Mt("    removeEmptyRanks",function(){E(xt)}),Mt("    nestingGraph.cleanup",function(){C.cleanup(xt)}),Mt("    normalizeRanks",function(){P(xt)}),Mt("    assignRankMinMax",function(){K(xt)}),Mt("    removeEdgeLabelProxies",function(){Z(xt)}),Mt("    normalize.run",function(){I.run(xt)}),Mt("    parentDummyChains",function(){_(xt)}),Mt("    addBorderSegments",function(){p(xt)}),Mt("    order",function(){x(xt)}),Mt("    insertSelfEdges",function(){pt(xt)}),Mt("    adjustCoordinateSystem",function(){b.adjust(xt)}),Mt("    position",function(){w(xt)}),Mt("    positionSelfEdges",function(){Ct(xt)}),Mt("    removeBorderNodes",function(){G(xt)}),Mt("    normalize.undo",function(){I.undo(xt)}),Mt("    fixupEdgeLabelCoords",function(){W(xt)}),Mt("    undoCoordinateSystem",function(){b.undo(xt)}),Mt("    translateGraph",function(){mt(xt)}),Mt("    assignNodeIntersects",function(){rt(xt)}),Mt("    reversePoints",function(){z(xt)}),Mt("    acyclic.undo",function(){O.undo(xt)})}function D(xt,Mt){m.forEach(xt.nodes(),function(Et){var Tt=xt.node(Et),gt=Mt.node(Et);Tt&&(Tt.x=gt.x,Tt.y=gt.y,Mt.children(Et).length&&(Tt.width=gt.width,Tt.height=gt.height))}),m.forEach(xt.edges(),function(Et){var Tt=xt.edge(Et),gt=Mt.edge(Et);Tt.points=gt.points,m.has(gt,"x")&&(Tt.x=gt.x,Tt.y=gt.y)}),xt.graph().width=Mt.graph().width,xt.graph().height=Mt.graph().height}var X=["nodesep","edgesep","ranksep","marginx","marginy"],$={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},H=["acyclicer","ranker","rankdir","align"],nt=["width","height"],ht={width:0,height:0},at=["minlen","weight","width","height","labeloffset"],Ot={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Ft=["labelpos"];function Dt(xt){var Mt=new M({multigraph:!0,compound:!0}),Et=St(xt.graph());return Mt.setGraph(m.merge({},$,ot(Et,X),m.pick(Et,H))),m.forEach(xt.nodes(),function(Tt){var gt=St(xt.node(Tt));Mt.setNode(Tt,m.defaults(ot(gt,nt),ht)),Mt.setParent(Tt,xt.parent(Tt))}),m.forEach(xt.edges(),function(Tt){var gt=St(xt.edge(Tt));Mt.setEdge(Tt,m.merge({},Ot,ot(gt,at),m.pick(gt,Ft)))}),Mt}function V(xt){var Mt=xt.graph();Mt.ranksep/=2,m.forEach(xt.edges(),function(Et){var Tt=xt.edge(Et);Tt.minlen*=2,Tt.labelpos.toLowerCase()!=="c"&&(Mt.rankdir==="TB"||Mt.rankdir==="BT"?Tt.width+=Tt.labeloffset:Tt.height+=Tt.labeloffset)})}function q(xt){m.forEach(xt.edges(),function(Mt){var Et=xt.edge(Mt);if(Et.width&&Et.height){var Tt=xt.node(Mt.v),gt=xt.node(Mt.w),it={rank:(gt.rank-Tt.rank)/2+Tt.rank,e:Mt};y.addDummyNode(xt,"edge-proxy",it,"_ep")}})}function K(xt){var Mt=0;m.forEach(xt.nodes(),function(Et){var Tt=xt.node(Et);Tt.borderTop&&(Tt.minRank=xt.node(Tt.borderTop).rank,Tt.maxRank=xt.node(Tt.borderBottom).rank,Mt=m.max(Mt,Tt.maxRank))}),xt.graph().maxRank=Mt}function Z(xt){m.forEach(xt.nodes(),function(Mt){var Et=xt.node(Mt);Et.dummy==="edge-proxy"&&(xt.edge(Et.e).labelRank=Et.rank,xt.removeNode(Mt))})}function mt(xt){var Mt=Number.POSITIVE_INFINITY,Et=0,Tt=Number.POSITIVE_INFINITY,gt=0,it=xt.graph(),Q=it.marginx||0,U=it.marginy||0;function ct(tt){var et=tt.x,dt=tt.y,Lt=tt.width,Xt=tt.height;Mt=Math.min(Mt,et-Lt/2),Et=Math.max(Et,et+Lt/2),Tt=Math.min(Tt,dt-Xt/2),gt=Math.max(gt,dt+Xt/2)}m.forEach(xt.nodes(),function(tt){ct(xt.node(tt))}),m.forEach(xt.edges(),function(tt){var et=xt.edge(tt);m.has(et,"x")&&ct(et)}),Mt-=Q,Tt-=U,m.forEach(xt.nodes(),function(tt){var et=xt.node(tt);et.x-=Mt,et.y-=Tt}),m.forEach(xt.edges(),function(tt){var et=xt.edge(tt);m.forEach(et.points,function(dt){dt.x-=Mt,dt.y-=Tt}),m.has(et,"x")&&(et.x-=Mt),m.has(et,"y")&&(et.y-=Tt)}),it.width=Et-Mt+Q,it.height=gt-Tt+U}function rt(xt){m.forEach(xt.edges(),function(Mt){var Et=xt.edge(Mt),Tt=xt.node(Mt.v),gt=xt.node(Mt.w),it,Q;Et.points?(it=Et.points[0],Q=Et.points[Et.points.length-1]):(Et.points=[],it=gt,Q=Tt),Et.points.unshift(y.intersectRect(Tt,it)),Et.points.push(y.intersectRect(gt,Q))})}function W(xt){m.forEach(xt.edges(),function(Mt){var Et=xt.edge(Mt);if(m.has(Et,"x"))switch((Et.labelpos==="l"||Et.labelpos==="r")&&(Et.width-=Et.labeloffset),Et.labelpos){case"l":Et.x-=Et.width/2+Et.labeloffset;break;case"r":Et.x+=Et.width/2+Et.labeloffset;break}})}function z(xt){m.forEach(xt.edges(),function(Mt){var Et=xt.edge(Mt);Et.reversed&&Et.points.reverse()})}function G(xt){m.forEach(xt.nodes(),function(Mt){if(xt.children(Mt).length){var Et=xt.node(Mt),Tt=xt.node(Et.borderTop),gt=xt.node(Et.borderBottom),it=xt.node(m.last(Et.borderLeft)),Q=xt.node(m.last(Et.borderRight));Et.width=Math.abs(Q.x-it.x),Et.height=Math.abs(gt.y-Tt.y),Et.x=it.x+Et.width/2,Et.y=Tt.y+Et.height/2}}),m.forEach(xt.nodes(),function(Mt){xt.node(Mt).dummy==="border"&&xt.removeNode(Mt)})}function f(xt){m.forEach(xt.edges(),function(Mt){if(Mt.v===Mt.w){var Et=xt.node(Mt.v);Et.selfEdges||(Et.selfEdges=[]),Et.selfEdges.push({e:Mt,label:xt.edge(Mt)}),xt.removeEdge(Mt)}})}function pt(xt){var Mt=y.buildLayerMatrix(xt);m.forEach(Mt,function(Et){var Tt=0;m.forEach(Et,function(gt,it){var Q=xt.node(gt);Q.order=it+Tt,m.forEach(Q.selfEdges,function(U){y.addDummyNode(xt,"selfedge",{width:U.label.width,height:U.label.height,rank:Q.rank,order:it+ ++Tt,e:U.e,label:U.label},"_se")}),delete Q.selfEdges})})}function Ct(xt){m.forEach(xt.nodes(),function(Mt){var Et=xt.node(Mt);if(Et.dummy==="selfedge"){var Tt=xt.node(Et.e.v),gt=Tt.x+Tt.width/2,it=Tt.y,Q=Et.x-gt,U=Tt.height/2;xt.setEdge(Et.e,Et.label),xt.removeNode(Mt),Et.label.points=[{x:gt+2*Q/3,y:it-U},{x:gt+5*Q/6,y:it-U},{x:gt+Q,y:it},{x:gt+5*Q/6,y:it+U},{x:gt+2*Q/3,y:it+U}],Et.label.x=Et.x,Et.label.y=Et.y}})}function ot(xt,Mt){return m.mapValues(m.pick(xt,Mt),Number)}function St(xt){var Mt={};return m.forEach(xt,function(Et,Tt){Mt[Tt.toLowerCase()]=Et}),Mt}},38436:function(_t,S,d){var m;try{m={cloneDeep:d(50361),constant:d(75703),defaults:d(91747),each:d(66073),filter:d(63105),find:d(13311),flatten:d(85564),forEach:d(84486),forIn:d(62620),has:d(18721),isUndefined:d(52353),last:d(10928),map:d(35161),mapValues:d(66604),max:d(6162),merge:d(82492),min:d(53632),minBy:d(22762),now:d(7771),pick:d(78718),range:d(96026),reduce:d(54061),sortBy:d(89734),uniqueId:d(73955),values:d(52628),zipObject:d(7287)}}catch(O){}m||(m=window._),_t.exports=m},72981:function(_t,S,d){var m=d(38436),O=d(11138);_t.exports={run:I,cleanup:E};function I(C){var p=O.addDummyNode(C,"root",{},"_root"),b=P(C),x=m.max(m.values(b))-1,w=2*x+1;C.graph().nestingRoot=p,m.forEach(C.edges(),function(M){C.edge(M).minlen*=w});var y=_(C)+1;m.forEach(C.children(),function(M){L(C,p,w,y,x,b,M)}),C.graph().nodeRankFactor=w}function L(C,p,b,x,w,y,M){var T=C.children(M);if(!T.length){M!==p&&C.setEdge(p,M,{weight:0,minlen:b});return}var B=O.addBorderNode(C,"_bt"),D=O.addBorderNode(C,"_bb"),X=C.node(M);C.setParent(B,M),X.borderTop=B,C.setParent(D,M),X.borderBottom=D,m.forEach(T,function($){L(C,p,b,x,w,y,$);var H=C.node($),nt=H.borderTop?H.borderTop:$,ht=H.borderBottom?H.borderBottom:$,at=H.borderTop?x:2*x,Ot=nt!==ht?1:w-y[M]+1;C.setEdge(B,nt,{weight:at,minlen:Ot,nestingEdge:!0}),C.setEdge(ht,D,{weight:at,minlen:Ot,nestingEdge:!0})}),C.parent(M)||C.setEdge(p,B,{weight:0,minlen:w+y[M]})}function P(C){var p={};function b(x,w){var y=C.children(x);y&&y.length&&m.forEach(y,function(M){b(M,w+1)}),p[x]=w}return m.forEach(C.children(),function(x){b(x,1)}),p}function _(C){return m.reduce(C.edges(),function(p,b){return p+C.edge(b).weight},0)}function E(C){var p=C.graph();C.removeNode(p.nestingRoot),delete p.nestingRoot,m.forEach(C.edges(),function(b){var x=C.edge(b);x.nestingEdge&&C.removeEdge(b)})}},45995:function(_t,S,d){"use strict";var m=d(38436),O=d(11138);_t.exports={run:I,undo:P};function I(_){_.graph().dummyChains=[],m.forEach(_.edges(),function(E){L(_,E)})}function L(_,E){var C=E.v,p=_.node(C).rank,b=E.w,x=_.node(b).rank,w=E.name,y=_.edge(E),M=y.labelRank;if(x!==p+1){_.removeEdge(E);var T,B,D;for(D=0,++p;p<x;++D,++p)y.points=[],B={width:0,height:0,edgeLabel:y,edgeObj:E,rank:p},T=O.addDummyNode(_,"edge",B,"_d"),p===M&&(B.width=y.width,B.height=y.height,B.dummy="edge-label",B.labelpos=y.labelpos),_.setEdge(C,T,{weight:y.weight},w),D===0&&_.graph().dummyChains.push(T),C=T;_.setEdge(C,b,{weight:y.weight},w)}}function P(_){m.forEach(_.graph().dummyChains,function(E){var C=_.node(E),p=C.edgeLabel,b;for(_.setEdge(C.edgeObj,p);C.dummy;)b=_.successors(E)[0],_.removeNode(E),p.points.push({x:C.x,y:C.y}),C.dummy==="edge-label"&&(p.x=C.x,p.y=C.y,p.width=C.width,p.height=C.height),E=b,C=_.node(E)})}},55093:function(_t,S,d){var m=d(38436);_t.exports=O;function O(I,L,P){var _={},E;m.forEach(P,function(C){for(var p=I.parent(C),b,x;p;){if(b=I.parent(p),b?(x=_[b],_[b]=p):(x=E,E=p),x&&x!==p){L.setEdge(x,p);return}p=b}})}},35439:function(_t,S,d){var m=d(38436);_t.exports=O;function O(I,L){return m.map(L,function(P){var _=I.inEdges(P);if(_.length){var E=m.reduce(_,function(C,p){var b=I.edge(p),x=I.node(p.v);return{sum:C.sum+b.weight*x.order,weight:C.weight+b.weight}},{sum:0,weight:0});return{v:P,barycenter:E.sum/E.weight,weight:E.weight}}else return{v:P}})}},23128:function(_t,S,d){var m=d(38436),O=d(70574).Graph;_t.exports=I;function I(P,_,E){var C=L(P),p=new O({compound:!0}).setGraph({root:C}).setDefaultNodeLabel(function(b){return P.node(b)});return m.forEach(P.nodes(),function(b){var x=P.node(b),w=P.parent(b);(x.rank===_||x.minRank<=_&&_<=x.maxRank)&&(p.setNode(b),p.setParent(b,w||C),m.forEach(P[E](b),function(y){var M=y.v===b?y.w:y.v,T=p.edge(M,b),B=m.isUndefined(T)?0:T.weight;p.setEdge(M,b,{weight:P.edge(y).weight+B})}),m.has(x,"minRank")&&p.setNode(b,{borderLeft:x.borderLeft[_],borderRight:x.borderRight[_]}))}),p}function L(P){for(var _;P.hasNode(_=m.uniqueId("_root")););return _}},56630:function(_t,S,d){"use strict";var m=d(38436);_t.exports=O;function O(L,P){for(var _=0,E=1;E<P.length;++E)_+=I(L,P[E-1],P[E]);return _}function I(L,P,_){for(var E=m.zipObject(_,m.map(_,function(y,M){return M})),C=m.flatten(m.map(P,function(y){return m.sortBy(m.map(L.outEdges(y),function(M){return{pos:E[M.w],weight:L.edge(M).weight}}),"pos")}),!0),p=1;p<_.length;)p<<=1;var b=2*p-1;p-=1;var x=m.map(new Array(b),function(){return 0}),w=0;return m.forEach(C.forEach(function(y){var M=y.pos+p;x[M]+=y.weight;for(var T=0;M>0;)M%2&&(T+=x[M+1]),M=M-1>>1,x[M]+=y.weight;w+=y.weight*T})),w}},53408:function(_t,S,d){"use strict";var m=d(38436),O=d(2588),I=d(56630),L=d(61026),P=d(23128),_=d(55093),E=d(70574).Graph,C=d(11138);_t.exports=p;function p(y){var M=C.maxRank(y),T=b(y,m.range(1,M+1),"inEdges"),B=b(y,m.range(M-1,-1,-1),"outEdges"),D=O(y);w(y,D);for(var X=Number.POSITIVE_INFINITY,$,H=0,nt=0;nt<4;++H,++nt){x(H%2?T:B,H%4>=2),D=C.buildLayerMatrix(y);var ht=I(y,D);ht<X&&(nt=0,$=m.cloneDeep(D),X=ht)}w(y,$)}function b(y,M,T){return m.map(M,function(B){return P(y,B,T)})}function x(y,M){var T=new E;m.forEach(y,function(B){var D=B.graph().root,X=L(B,D,T,M);m.forEach(X.vs,function($,H){B.node($).order=H}),_(B,T,X.vs)})}function w(y,M){m.forEach(M,function(T){m.forEach(T,function(B,D){y.node(B).order=D})})}},2588:function(_t,S,d){"use strict";var m=d(38436);_t.exports=O;function O(I){var L={},P=m.filter(I.nodes(),function(b){return!I.children(b).length}),_=m.max(m.map(P,function(b){return I.node(b).rank})),E=m.map(m.range(_+1),function(){return[]});function C(b){if(!m.has(L,b)){L[b]=!0;var x=I.node(b);E[x.rank].push(b),m.forEach(I.successors(b),C)}}var p=m.sortBy(P,function(b){return I.node(b).rank});return m.forEach(p,C),E}},83678:function(_t,S,d){"use strict";var m=d(38436);_t.exports=O;function O(P,_){var E={};m.forEach(P,function(p,b){var x=E[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:b};m.isUndefined(p.barycenter)||(x.barycenter=p.barycenter,x.weight=p.weight)}),m.forEach(_.edges(),function(p){var b=E[p.v],x=E[p.w];!m.isUndefined(b)&&!m.isUndefined(x)&&(x.indegree++,b.out.push(E[p.w]))});var C=m.filter(E,function(p){return!p.indegree});return I(C)}function I(P){var _=[];function E(b){return function(x){x.merged||(m.isUndefined(x.barycenter)||m.isUndefined(b.barycenter)||x.barycenter>=b.barycenter)&&L(b,x)}}function C(b){return function(x){x.in.push(b),--x.indegree==0&&P.push(x)}}for(;P.length;){var p=P.pop();_.push(p),m.forEach(p.in.reverse(),E(p)),m.forEach(p.out,C(p))}return m.map(m.filter(_,function(b){return!b.merged}),function(b){return m.pick(b,["vs","i","barycenter","weight"])})}function L(P,_){var E=0,C=0;P.weight&&(E+=P.barycenter*P.weight,C+=P.weight),_.weight&&(E+=_.barycenter*_.weight,C+=_.weight),P.vs=_.vs.concat(P.vs),P.barycenter=E/C,P.weight=C,P.i=Math.min(_.i,P.i),_.merged=!0}},61026:function(_t,S,d){var m=d(38436),O=d(35439),I=d(83678),L=d(87304);_t.exports=P;function P(C,p,b,x){var w=C.children(p),y=C.node(p),M=y?y.borderLeft:void 0,T=y?y.borderRight:void 0,B={};M&&(w=m.filter(w,function(ht){return ht!==M&&ht!==T}));var D=O(C,w);m.forEach(D,function(ht){if(C.children(ht.v).length){var at=P(C,ht.v,b,x);B[ht.v]=at,m.has(at,"barycenter")&&E(ht,at)}});var X=I(D,b);_(X,B);var $=L(X,x);if(M&&($.vs=m.flatten([M,$.vs,T],!0),C.predecessors(M).length)){var H=C.node(C.predecessors(M)[0]),nt=C.node(C.predecessors(T)[0]);m.has($,"barycenter")||($.barycenter=0,$.weight=0),$.barycenter=($.barycenter*$.weight+H.order+nt.order)/($.weight+2),$.weight+=2}return $}function _(C,p){m.forEach(C,function(b){b.vs=m.flatten(b.vs.map(function(x){return p[x]?p[x].vs:x}),!0)})}function E(C,p){m.isUndefined(C.barycenter)?(C.barycenter=p.barycenter,C.weight=p.weight):(C.barycenter=(C.barycenter*C.weight+p.barycenter*p.weight)/(C.weight+p.weight),C.weight+=p.weight)}},87304:function(_t,S,d){var m=d(38436),O=d(11138);_t.exports=I;function I(_,E){var C=O.partition(_,function(B){return m.has(B,"barycenter")}),p=C.lhs,b=m.sortBy(C.rhs,function(B){return-B.i}),x=[],w=0,y=0,M=0;p.sort(P(!!E)),M=L(x,b,M),m.forEach(p,function(B){M+=B.vs.length,x.push(B.vs),w+=B.barycenter*B.weight,y+=B.weight,M=L(x,b,M)});var T={vs:m.flatten(x,!0)};return y&&(T.barycenter=w/y,T.weight=y),T}function L(_,E,C){for(var p;E.length&&(p=m.last(E)).i<=C;)E.pop(),_.push(p.vs),C++;return C}function P(_){return function(E,C){return E.barycenter<C.barycenter?-1:E.barycenter>C.barycenter?1:_?C.i-E.i:E.i-C.i}}},24219:function(_t,S,d){var m=d(38436);_t.exports=O;function O(P){var _=L(P);m.forEach(P.graph().dummyChains,function(E){for(var C=P.node(E),p=C.edgeObj,b=I(P,_,p.v,p.w),x=b.path,w=b.lca,y=0,M=x[y],T=!0;E!==p.w;){if(C=P.node(E),T){for(;(M=x[y])!==w&&P.node(M).maxRank<C.rank;)y++;M===w&&(T=!1)}if(!T){for(;y<x.length-1&&P.node(M=x[y+1]).minRank<=C.rank;)y++;M=x[y]}P.setParent(E,M),E=P.successors(E)[0]}})}function I(P,_,E,C){var p=[],b=[],x=Math.min(_[E].low,_[C].low),w=Math.max(_[E].lim,_[C].lim),y,M;y=E;do y=P.parent(y),p.push(y);while(y&&(_[y].low>x||w>_[y].lim));for(M=y,y=C;(y=P.parent(y))!==M;)b.push(y);return{path:p.concat(b.reverse()),lca:M}}function L(P){var _={},E=0;function C(p){var b=E;m.forEach(P.children(p),C),_[p]={low:b,lim:E++}}return m.forEach(P.children(),C),_}},3573:function(_t,S,d){"use strict";var m=d(38436),O=d(70574).Graph,I=d(11138);_t.exports={positionX:T,findType1Conflicts:L,findType2Conflicts:P,addConflict:E,hasConflict:C,verticalAlignment:p,horizontalCompaction:b,alignCoordinates:y,findSmallestWidthAlignment:w,balance:M};function L(X,$){var H={};function nt(ht,at){var Ot=0,Ft=0,Dt=ht.length,V=m.last(at);return m.forEach(at,function(q,K){var Z=_(X,q),mt=Z?X.node(Z).order:Dt;(Z||q===V)&&(m.forEach(at.slice(Ft,K+1),function(rt){m.forEach(X.predecessors(rt),function(W){var z=X.node(W),G=z.order;(G<Ot||mt<G)&&!(z.dummy&&X.node(rt).dummy)&&E(H,W,rt)})}),Ft=K+1,Ot=mt)}),at}return m.reduce($,nt),H}function P(X,$){var H={};function nt(at,Ot,Ft,Dt,V){var q;m.forEach(m.range(Ot,Ft),function(K){q=at[K],X.node(q).dummy&&m.forEach(X.predecessors(q),function(Z){var mt=X.node(Z);mt.dummy&&(mt.order<Dt||mt.order>V)&&E(H,Z,q)})})}function ht(at,Ot){var Ft=-1,Dt,V=0;return m.forEach(Ot,function(q,K){if(X.node(q).dummy==="border"){var Z=X.predecessors(q);Z.length&&(Dt=X.node(Z[0]).order,nt(Ot,V,K,Ft,Dt),V=K,Ft=Dt)}nt(Ot,V,Ot.length,Dt,at.length)}),Ot}return m.reduce($,ht),H}function _(X,$){if(X.node($).dummy)return m.find(X.predecessors($),function(H){return X.node(H).dummy})}function E(X,$,H){if($>H){var nt=$;$=H,H=nt}var ht=X[$];ht||(X[$]=ht={}),ht[H]=!0}function C(X,$,H){if($>H){var nt=$;$=H,H=nt}return m.has(X[$],H)}function p(X,$,H,nt){var ht={},at={},Ot={};return m.forEach($,function(Ft){m.forEach(Ft,function(Dt,V){ht[Dt]=Dt,at[Dt]=Dt,Ot[Dt]=V})}),m.forEach($,function(Ft){var Dt=-1;m.forEach(Ft,function(V){var q=nt(V);if(q.length){q=m.sortBy(q,function(W){return Ot[W]});for(var K=(q.length-1)/2,Z=Math.floor(K),mt=Math.ceil(K);Z<=mt;++Z){var rt=q[Z];at[V]===V&&Dt<Ot[rt]&&!C(H,V,rt)&&(at[rt]=V,at[V]=ht[V]=ht[rt],Dt=Ot[rt])}}})}),{root:ht,align:at}}function b(X,$,H,nt,ht){var at={},Ot=x(X,$,H,ht),Ft=ht?"borderLeft":"borderRight";function Dt(K,Z){for(var mt=Ot.nodes(),rt=mt.pop(),W={};rt;)W[rt]?K(rt):(W[rt]=!0,mt.push(rt),mt=mt.concat(Z(rt))),rt=mt.pop()}function V(K){at[K]=Ot.inEdges(K).reduce(function(Z,mt){return Math.max(Z,at[mt.v]+Ot.edge(mt))},0)}function q(K){var Z=Ot.outEdges(K).reduce(function(rt,W){return Math.min(rt,at[W.w]-Ot.edge(W))},Number.POSITIVE_INFINITY),mt=X.node(K);Z!==Number.POSITIVE_INFINITY&&mt.borderType!==Ft&&(at[K]=Math.max(at[K],Z))}return Dt(V,Ot.predecessors.bind(Ot)),Dt(q,Ot.successors.bind(Ot)),m.forEach(nt,function(K){at[K]=at[H[K]]}),at}function x(X,$,H,nt){var ht=new O,at=X.graph(),Ot=B(at.nodesep,at.edgesep,nt);return m.forEach($,function(Ft){var Dt;m.forEach(Ft,function(V){var q=H[V];if(ht.setNode(q),Dt){var K=H[Dt],Z=ht.edge(K,q);ht.setEdge(K,q,Math.max(Ot(X,V,Dt),Z||0))}Dt=V})}),ht}function w(X,$){return m.minBy(m.values($),function(H){var nt=Number.NEGATIVE_INFINITY,ht=Number.POSITIVE_INFINITY;return m.forIn(H,function(at,Ot){var Ft=D(X,Ot)/2;nt=Math.max(at+Ft,nt),ht=Math.min(at-Ft,ht)}),nt-ht})}function y(X,$){var H=m.values($),nt=m.min(H),ht=m.max(H);m.forEach(["u","d"],function(at){m.forEach(["l","r"],function(Ot){var Ft=at+Ot,Dt=X[Ft],V;if(Dt!==$){var q=m.values(Dt);V=Ot==="l"?nt-m.min(q):ht-m.max(q),V&&(X[Ft]=m.mapValues(Dt,function(K){return K+V}))}})})}function M(X,$){return m.mapValues(X.ul,function(H,nt){if($)return X[$.toLowerCase()][nt];var ht=m.sortBy(m.map(X,nt));return(ht[1]+ht[2])/2})}function T(X){var $=I.buildLayerMatrix(X),H=m.merge(L(X,$),P(X,$)),nt={},ht;m.forEach(["u","d"],function(Ot){ht=Ot==="u"?$:m.values($).reverse(),m.forEach(["l","r"],function(Ft){Ft==="r"&&(ht=m.map(ht,function(K){return m.values(K).reverse()}));var Dt=(Ot==="u"?X.predecessors:X.successors).bind(X),V=p(X,ht,H,Dt),q=b(X,ht,V.root,V.align,Ft==="r");Ft==="r"&&(q=m.mapValues(q,function(K){return-K})),nt[Ot+Ft]=q})});var at=w(X,nt);return y(nt,at),M(nt,X.graph().align)}function B(X,$,H){return function(nt,ht,at){var Ot=nt.node(ht),Ft=nt.node(at),Dt=0,V;if(Dt+=Ot.width/2,m.has(Ot,"labelpos"))switch(Ot.labelpos.toLowerCase()){case"l":V=-Ot.width/2;break;case"r":V=Ot.width/2;break}if(V&&(Dt+=H?V:-V),V=0,Dt+=(Ot.dummy?$:X)/2,Dt+=(Ft.dummy?$:X)/2,Dt+=Ft.width/2,m.has(Ft,"labelpos"))switch(Ft.labelpos.toLowerCase()){case"l":V=Ft.width/2;break;case"r":V=-Ft.width/2;break}return V&&(Dt+=H?V:-V),V=0,Dt}}function D(X,$){return X.node($).width}},17873:function(_t,S,d){"use strict";var m=d(38436),O=d(11138),I=d(3573).positionX;_t.exports=L;function L(_){_=O.asNonCompoundGraph(_),P(_),m.forEach(I(_),function(E,C){_.node(C).x=E})}function P(_){var E=O.buildLayerMatrix(_),C=_.graph().ranksep,p=0;m.forEach(E,function(b){var x=m.max(m.map(b,function(w){return _.node(w).height}));m.forEach(b,function(w){_.node(w).y=p+x/2}),p+=x+C})}},20300:function(_t,S,d){"use strict";var m=d(38436),O=d(70574).Graph,I=d(76681).slack;_t.exports=L;function L(C){var p=new O({directed:!1}),b=C.nodes()[0],x=C.nodeCount();p.setNode(b,{});for(var w,y;P(p,C)<x;)w=_(p,C),y=p.hasNode(w.v)?I(C,w):-I(C,w),E(p,C,y);return p}function P(C,p){function b(x){m.forEach(p.nodeEdges(x),function(w){var y=w.v,M=x===y?w.w:y;!C.hasNode(M)&&!I(p,w)&&(C.setNode(M,{}),C.setEdge(x,M,{}),b(M))})}return m.forEach(C.nodes(),b),C.nodeCount()}function _(C,p){return m.minBy(p.edges(),function(b){if(C.hasNode(b.v)!==C.hasNode(b.w))return I(p,b)})}function E(C,p,b){m.forEach(C.nodes(),function(x){p.node(x).rank+=b})}},78093:function(_t,S,d){"use strict";var m=d(76681),O=m.longestPath,I=d(20300),L=d(42472);_t.exports=P;function P(p){switch(p.graph().ranker){case"network-simplex":C(p);break;case"tight-tree":E(p);break;case"longest-path":_(p);break;default:C(p)}}var _=O;function E(p){O(p),I(p)}function C(p){L(p)}},42472:function(_t,S,d){"use strict";var m=d(38436),O=d(20300),I=d(76681).slack,L=d(76681).longestPath,P=d(70574).alg.preorder,_=d(70574).alg.postorder,E=d(11138).simplify;_t.exports=C,C.initLowLimValues=w,C.initCutValues=p,C.calcCutValue=x,C.leaveEdge=M,C.enterEdge=T,C.exchangeEdges=B;function C(H){H=E(H),L(H);var nt=O(H);w(nt),p(nt,H);for(var ht,at;ht=M(nt);)at=T(nt,H,ht),B(nt,H,ht,at)}function p(H,nt){var ht=_(H,H.nodes());ht=ht.slice(0,ht.length-1),m.forEach(ht,function(at){b(H,nt,at)})}function b(H,nt,ht){var at=H.node(ht),Ot=at.parent;H.edge(ht,Ot).cutvalue=x(H,nt,ht)}function x(H,nt,ht){var at=H.node(ht),Ot=at.parent,Ft=!0,Dt=nt.edge(ht,Ot),V=0;return Dt||(Ft=!1,Dt=nt.edge(Ot,ht)),V=Dt.weight,m.forEach(nt.nodeEdges(ht),function(q){var K=q.v===ht,Z=K?q.w:q.v;if(Z!==Ot){var mt=K===Ft,rt=nt.edge(q).weight;if(V+=mt?rt:-rt,X(H,ht,Z)){var W=H.edge(ht,Z).cutvalue;V+=mt?-W:W}}}),V}function w(H,nt){arguments.length<2&&(nt=H.nodes()[0]),y(H,{},1,nt)}function y(H,nt,ht,at,Ot){var Ft=ht,Dt=H.node(at);return nt[at]=!0,m.forEach(H.neighbors(at),function(V){m.has(nt,V)||(ht=y(H,nt,ht,V,at))}),Dt.low=Ft,Dt.lim=ht++,Ot?Dt.parent=Ot:delete Dt.parent,ht}function M(H){return m.find(H.edges(),function(nt){return H.edge(nt).cutvalue<0})}function T(H,nt,ht){var at=ht.v,Ot=ht.w;nt.hasEdge(at,Ot)||(at=ht.w,Ot=ht.v);var Ft=H.node(at),Dt=H.node(Ot),V=Ft,q=!1;Ft.lim>Dt.lim&&(V=Dt,q=!0);var K=m.filter(nt.edges(),function(Z){return q===$(H,H.node(Z.v),V)&&q!==$(H,H.node(Z.w),V)});return m.minBy(K,function(Z){return I(nt,Z)})}function B(H,nt,ht,at){var Ot=ht.v,Ft=ht.w;H.removeEdge(Ot,Ft),H.setEdge(at.v,at.w,{}),w(H),p(H,nt),D(H,nt)}function D(H,nt){var ht=m.find(H.nodes(),function(Ot){return!nt.node(Ot).parent}),at=P(H,ht);at=at.slice(1),m.forEach(at,function(Ot){var Ft=H.node(Ot).parent,Dt=nt.edge(Ot,Ft),V=!1;Dt||(Dt=nt.edge(Ft,Ot),V=!0),nt.node(Ot).rank=nt.node(Ft).rank+(V?Dt.minlen:-Dt.minlen)})}function X(H,nt,ht){return H.hasEdge(nt,ht)}function $(H,nt,ht){return ht.low<=nt.lim&&nt.lim<=ht.lim}},76681:function(_t,S,d){"use strict";var m=d(38436);_t.exports={longestPath:O,slack:I};function O(L){var P={};function _(E){var C=L.node(E);if(m.has(P,E))return C.rank;P[E]=!0;var p=m.min(m.map(L.outEdges(E),function(b){return _(b.w)-L.edge(b).minlen}));return(p===Number.POSITIVE_INFINITY||p===void 0||p===null)&&(p=0),C.rank=p}m.forEach(L.sources(),_)}function I(L,P){return L.node(P.w).rank-L.node(P.v).rank-L.edge(P).minlen}},11138:function(_t,S,d){"use strict";var m=d(38436),O=d(70574).Graph;_t.exports={addDummyNode:I,simplify:L,asNonCompoundGraph:P,successorWeights:_,predecessorWeights:E,intersectRect:C,buildLayerMatrix:p,normalizeRanks:b,removeEmptyRanks:x,addBorderNode:w,maxRank:y,partition:M,time:T,notime:B};function I(D,X,$,H){var nt;do nt=m.uniqueId(H);while(D.hasNode(nt));return $.dummy=X,D.setNode(nt,$),nt}function L(D){var X=new O().setGraph(D.graph());return m.forEach(D.nodes(),function($){X.setNode($,D.node($))}),m.forEach(D.edges(),function($){var H=X.edge($.v,$.w)||{weight:0,minlen:1},nt=D.edge($);X.setEdge($.v,$.w,{weight:H.weight+nt.weight,minlen:Math.max(H.minlen,nt.minlen)})}),X}function P(D){var X=new O({multigraph:D.isMultigraph()}).setGraph(D.graph());return m.forEach(D.nodes(),function($){D.children($).length||X.setNode($,D.node($))}),m.forEach(D.edges(),function($){X.setEdge($,D.edge($))}),X}function _(D){var X=m.map(D.nodes(),function($){var H={};return m.forEach(D.outEdges($),function(nt){H[nt.w]=(H[nt.w]||0)+D.edge(nt).weight}),H});return m.zipObject(D.nodes(),X)}function E(D){var X=m.map(D.nodes(),function($){var H={};return m.forEach(D.inEdges($),function(nt){H[nt.v]=(H[nt.v]||0)+D.edge(nt).weight}),H});return m.zipObject(D.nodes(),X)}function C(D,X){var $=D.x,H=D.y,nt=X.x-$,ht=X.y-H,at=D.width/2,Ot=D.height/2;if(!nt&&!ht)throw new Error("Not possible to find intersection inside of the rectangle");var Ft,Dt;return Math.abs(ht)*at>Math.abs(nt)*Ot?(ht<0&&(Ot=-Ot),Ft=Ot*nt/ht,Dt=Ot):(nt<0&&(at=-at),Ft=at,Dt=at*ht/nt),{x:$+Ft,y:H+Dt}}function p(D){var X=m.map(m.range(y(D)+1),function(){return[]});return m.forEach(D.nodes(),function($){var H=D.node($),nt=H.rank;m.isUndefined(nt)||(X[nt][H.order]=$)}),X}function b(D){var X=m.min(m.map(D.nodes(),function($){return D.node($).rank}));m.forEach(D.nodes(),function($){var H=D.node($);m.has(H,"rank")&&(H.rank-=X)})}function x(D){var X=m.min(m.map(D.nodes(),function(ht){return D.node(ht).rank})),$=[];m.forEach(D.nodes(),function(ht){var at=D.node(ht).rank-X;$[at]||($[at]=[]),$[at].push(ht)});var H=0,nt=D.graph().nodeRankFactor;m.forEach($,function(ht,at){m.isUndefined(ht)&&at%nt!=0?--H:H&&m.forEach(ht,function(Ot){D.node(Ot).rank+=H})})}function w(D,X,$,H){var nt={width:0,height:0};return arguments.length>=4&&(nt.rank=$,nt.order=H),I(D,"border",nt,X)}function y(D){return m.max(m.map(D.nodes(),function(X){var $=D.node(X).rank;if(!m.isUndefined($))return $}))}function M(D,X){var $={lhs:[],rhs:[]};return m.forEach(D,function(H){X(H)?$.lhs.push(H):$.rhs.push(H)}),$}function T(D,X){var $=m.now();try{return X()}finally{console.log(D+" time: "+(m.now()-$)+"ms")}}function B(D,X){return X()}},88177:function(_t){_t.exports="0.8.5"},43631:function(_t,S,d){"use strict";d.r(S),d.d(S,{BrowserInfo:function(){return I},NodeInfo:function(){return L},SearchBotDeviceInfo:function(){return P},BotInfo:function(){return _},ReactNativeInfo:function(){return E},detect:function(){return y},browserName:function(){return T},parseUserAgent:function(){return B},detectOS:function(){return D},getNodeVersion:function(){return X}});var m=d(34155),O=function(H,nt,ht){if(ht||arguments.length===2)for(var at=0,Ot=nt.length,Ft;at<Ot;at++)(Ft||!(at in nt))&&(Ft||(Ft=Array.prototype.slice.call(nt,0,at)),Ft[at]=nt[at]);return H.concat(Ft||Array.prototype.slice.call(nt))},I=function(){function H(nt,ht,at){this.name=nt,this.version=ht,this.os=at,this.type="browser"}return H}(),L=function(){function H(nt){this.version=nt,this.type="node",this.name="node",this.os=m.platform}return H}(),P=function(){function H(nt,ht,at,Ot){this.name=nt,this.version=ht,this.os=at,this.bot=Ot,this.type="bot-device"}return H}(),_=function(){function H(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return H}(),E=function(){function H(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return H}(),C=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,p=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,b=3,x=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",C]],w=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function y(H){return H?B(H):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new E:typeof navigator!="undefined"?B(navigator.userAgent):X()}function M(H){return H!==""&&x.reduce(function(nt,ht){var at=ht[0],Ot=ht[1];if(nt)return nt;var Ft=Ot.exec(H);return!!Ft&&[at,Ft]},!1)}function T(H){var nt=M(H);return nt?nt[0]:null}function B(H){var nt=M(H);if(!nt)return null;var ht=nt[0],at=nt[1];if(ht==="searchbot")return new _;var Ot=at[1]&&at[1].split(".").join("_").split("_").slice(0,3);Ot?Ot.length<b&&(Ot=O(O([],Ot,!0),$(b-Ot.length),!0)):Ot=[];var Ft=Ot.join("."),Dt=D(H),V=p.exec(H);return V&&V[1]?new P(ht,Ft,Dt,V[1]):new I(ht,Ft,Dt)}function D(H){for(var nt=0,ht=w.length;nt<ht;nt++){var at=w[nt],Ot=at[0],Ft=at[1],Dt=Ft.exec(H);if(Dt)return Ot}return null}function X(){var H=typeof m!="undefined"&&m.version;return H?new L(m.version.slice(1)):null}function $(H){for(var nt=[],ht=0;ht<H;ht++)nt.push("0");return nt}},19432:function(_t,S,d){"use strict";d.r(S),d.d(S,{assign:function(){return b},format:function(){return K},parse:function(){return Z},defaultI18n:function(){return T},setGlobalDateI18n:function(){return D},setGlobalDateMasks:function(){return q}});var m=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,O="[1-9]\\d?",I="\\d\\d",L="\\d{3}",P="\\d{4}",_="[^\\s]+",E=/\[([^]*?)\]/gm;function C(rt,W){for(var z=[],G=0,f=rt.length;G<f;G++)z.push(rt[G].substr(0,W));return z}var p=function(rt){return function(W,z){var G=z[rt].map(function(pt){return pt.toLowerCase()}),f=G.indexOf(W.toLowerCase());return f>-1?f:null}};function b(rt){for(var W=[],z=1;z<arguments.length;z++)W[z-1]=arguments[z];for(var G=0,f=W;G<f.length;G++){var pt=f[G];for(var Ct in pt)rt[Ct]=pt[Ct]}return rt}var x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],w=["January","February","March","April","May","June","July","August","September","October","November","December"],y=C(w,3),M=C(x,3),T={dayNamesShort:M,dayNames:x,monthNamesShort:y,monthNames:w,amPm:["am","pm"],DoFn:function(rt){return rt+["th","st","nd","rd"][rt%10>3?0:(rt-rt%10!=10?1:0)*rt%10]}},B=b({},T),D=function(rt){return B=b(B,rt)},X=function(rt){return rt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},$=function(rt,W){for(W===void 0&&(W=2),rt=String(rt);rt.length<W;)rt="0"+rt;return rt},H={D:function(rt){return String(rt.getDate())},DD:function(rt){return $(rt.getDate())},Do:function(rt,W){return W.DoFn(rt.getDate())},d:function(rt){return String(rt.getDay())},dd:function(rt){return $(rt.getDay())},ddd:function(rt,W){return W.dayNamesShort[rt.getDay()]},dddd:function(rt,W){return W.dayNames[rt.getDay()]},M:function(rt){return String(rt.getMonth()+1)},MM:function(rt){return $(rt.getMonth()+1)},MMM:function(rt,W){return W.monthNamesShort[rt.getMonth()]},MMMM:function(rt,W){return W.monthNames[rt.getMonth()]},YY:function(rt){return $(String(rt.getFullYear()),4).substr(2)},YYYY:function(rt){return $(rt.getFullYear(),4)},h:function(rt){return String(rt.getHours()%12||12)},hh:function(rt){return $(rt.getHours()%12||12)},H:function(rt){return String(rt.getHours())},HH:function(rt){return $(rt.getHours())},m:function(rt){return String(rt.getMinutes())},mm:function(rt){return $(rt.getMinutes())},s:function(rt){return String(rt.getSeconds())},ss:function(rt){return $(rt.getSeconds())},S:function(rt){return String(Math.round(rt.getMilliseconds()/100))},SS:function(rt){return $(Math.round(rt.getMilliseconds()/10),2)},SSS:function(rt){return $(rt.getMilliseconds(),3)},a:function(rt,W){return rt.getHours()<12?W.amPm[0]:W.amPm[1]},A:function(rt,W){return rt.getHours()<12?W.amPm[0].toUpperCase():W.amPm[1].toUpperCase()},ZZ:function(rt){var W=rt.getTimezoneOffset();return(W>0?"-":"+")+$(Math.floor(Math.abs(W)/60)*100+Math.abs(W)%60,4)},Z:function(rt){var W=rt.getTimezoneOffset();return(W>0?"-":"+")+$(Math.floor(Math.abs(W)/60),2)+":"+$(Math.abs(W)%60,2)}},nt=function(rt){return+rt-1},ht=[null,O],at=[null,_],Ot=["isPm",_,function(rt,W){var z=rt.toLowerCase();return z===W.amPm[0]?0:z===W.amPm[1]?1:null}],Ft=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(rt){var W=(rt+"").match(/([+-]|\d\d)/gi);if(W){var z=+W[1]*60+parseInt(W[2],10);return W[0]==="+"?z:-z}return 0}],Dt={D:["day",O],DD:["day",I],Do:["day",O+_,function(rt){return parseInt(rt,10)}],M:["month",O,nt],MM:["month",I,nt],YY:["year",I,function(rt){var W=new Date,z=+(""+W.getFullYear()).substr(0,2);return+(""+(+rt>68?z-1:z)+rt)}],h:["hour",O,void 0,"isPm"],hh:["hour",I,void 0,"isPm"],H:["hour",O],HH:["hour",I],m:["minute",O],mm:["minute",I],s:["second",O],ss:["second",I],YYYY:["year",P],S:["millisecond","\\d",function(rt){return+rt*100}],SS:["millisecond",I,function(rt){return+rt*10}],SSS:["millisecond",L],d:ht,dd:ht,ddd:at,dddd:at,MMM:["month",_,p("monthNamesShort")],MMMM:["month",_,p("monthNames")],a:Ot,A:Ot,ZZ:Ft,Z:Ft},V={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},q=function(rt){return b(V,rt)},K=function(rt,W,z){if(W===void 0&&(W=V.default),z===void 0&&(z={}),typeof rt=="number"&&(rt=new Date(rt)),Object.prototype.toString.call(rt)!=="[object Date]"||isNaN(rt.getTime()))throw new Error("Invalid Date pass to format");W=V[W]||W;var G=[];W=W.replace(E,function(pt,Ct){return G.push(Ct),"@@@"});var f=b(b({},B),z);return W=W.replace(m,function(pt){return H[pt](rt,f)}),W.replace(/@@@/g,function(){return G.shift()})};function Z(rt,W,z){if(z===void 0&&(z={}),typeof W!="string")throw new Error("Invalid format in fecha parse");if(W=V[W]||W,rt.length>1e3)return null;var G=new Date,f={year:G.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},pt=[],Ct=[],ot=W.replace(E,function(dt,Lt){return Ct.push(X(Lt)),"@@@"}),St={},xt={};ot=X(ot).replace(m,function(dt){var Lt=Dt[dt],Xt=Lt[0],$t=Lt[1],fe=Lt[3];if(St[Xt])throw new Error("Invalid format. "+Xt+" specified twice in format");return St[Xt]=!0,fe&&(xt[fe]=!0),pt.push(Lt),"("+$t+")"}),Object.keys(xt).forEach(function(dt){if(!St[dt])throw new Error("Invalid format. "+dt+" is required in specified format")}),ot=ot.replace(/@@@/g,function(){return Ct.shift()});var Mt=rt.match(new RegExp(ot,"i"));if(!Mt)return null;for(var Et=b(b({},B),z),Tt=1;Tt<Mt.length;Tt++){var gt=pt[Tt-1],it=gt[0],Q=gt[2],U=Q?Q(Mt[Tt],Et):+Mt[Tt];if(U==null)return null;f[it]=U}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);for(var ct=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond),tt=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Tt=0,et=tt.length;Tt<et;Tt++)if(St[tt[Tt][0]]&&f[tt[Tt][0]]!==ct[tt[Tt][1]]())return null;return f.timezoneOffset==null?ct:new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond))}var mt={format:K,parse:Z,defaultI18n:T,setGlobalDateI18n:D,setGlobalDateMasks:q};S.default=mt},49685:function(_t,S,d){"use strict";d.d(S,{Ib:function(){return m},WT:function(){return O},FD:function(){return I}});var m=1e-6,O=typeof Float32Array!="undefined"?Float32Array:Array,I=Math.random;function L(C){O=C}var P=Math.PI/180;function _(C){return C*P}function E(C,p){return Math.abs(C-p)<=m*Math.max(1,Math.abs(C),Math.abs(p))}Math.hypot||(Math.hypot=function(){for(var C=0,p=arguments.length;p--;)C+=arguments[p]*arguments[p];return Math.sqrt(C)})},35600:function(_t,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},fromMat4:function(){return I},clone:function(){return L},copy:function(){return P},fromValues:function(){return _},set:function(){return E},identity:function(){return C},transpose:function(){return p},invert:function(){return b},adjoint:function(){return x},determinant:function(){return w},multiply:function(){return y},translate:function(){return M},rotate:function(){return T},scale:function(){return B},fromTranslation:function(){return D},fromRotation:function(){return X},fromScaling:function(){return $},fromMat2d:function(){return H},fromQuat:function(){return nt},normalFromMat4:function(){return ht},projection:function(){return at},str:function(){return Ot},frob:function(){return Ft},add:function(){return Dt},subtract:function(){return V},multiplyScalar:function(){return q},multiplyScalarAndAdd:function(){return K},exactEquals:function(){return Z},equals:function(){return mt},mul:function(){return rt},sub:function(){return W}});var m=d(49685);function O(){var z=new m.WT(9);return m.WT!=Float32Array&&(z[1]=0,z[2]=0,z[3]=0,z[5]=0,z[6]=0,z[7]=0),z[0]=1,z[4]=1,z[8]=1,z}function I(z,G){return z[0]=G[0],z[1]=G[1],z[2]=G[2],z[3]=G[4],z[4]=G[5],z[5]=G[6],z[6]=G[8],z[7]=G[9],z[8]=G[10],z}function L(z){var G=new m.WT(9);return G[0]=z[0],G[1]=z[1],G[2]=z[2],G[3]=z[3],G[4]=z[4],G[5]=z[5],G[6]=z[6],G[7]=z[7],G[8]=z[8],G}function P(z,G){return z[0]=G[0],z[1]=G[1],z[2]=G[2],z[3]=G[3],z[4]=G[4],z[5]=G[5],z[6]=G[6],z[7]=G[7],z[8]=G[8],z}function _(z,G,f,pt,Ct,ot,St,xt,Mt){var Et=new m.WT(9);return Et[0]=z,Et[1]=G,Et[2]=f,Et[3]=pt,Et[4]=Ct,Et[5]=ot,Et[6]=St,Et[7]=xt,Et[8]=Mt,Et}function E(z,G,f,pt,Ct,ot,St,xt,Mt,Et){return z[0]=G,z[1]=f,z[2]=pt,z[3]=Ct,z[4]=ot,z[5]=St,z[6]=xt,z[7]=Mt,z[8]=Et,z}function C(z){return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=1,z[5]=0,z[6]=0,z[7]=0,z[8]=1,z}function p(z,G){if(z===G){var f=G[1],pt=G[2],Ct=G[5];z[1]=G[3],z[2]=G[6],z[3]=f,z[5]=G[7],z[6]=pt,z[7]=Ct}else z[0]=G[0],z[1]=G[3],z[2]=G[6],z[3]=G[1],z[4]=G[4],z[5]=G[7],z[6]=G[2],z[7]=G[5],z[8]=G[8];return z}function b(z,G){var f=G[0],pt=G[1],Ct=G[2],ot=G[3],St=G[4],xt=G[5],Mt=G[6],Et=G[7],Tt=G[8],gt=Tt*St-xt*Et,it=-Tt*ot+xt*Mt,Q=Et*ot-St*Mt,U=f*gt+pt*it+Ct*Q;return U?(U=1/U,z[0]=gt*U,z[1]=(-Tt*pt+Ct*Et)*U,z[2]=(xt*pt-Ct*St)*U,z[3]=it*U,z[4]=(Tt*f-Ct*Mt)*U,z[5]=(-xt*f+Ct*ot)*U,z[6]=Q*U,z[7]=(-Et*f+pt*Mt)*U,z[8]=(St*f-pt*ot)*U,z):null}function x(z,G){var f=G[0],pt=G[1],Ct=G[2],ot=G[3],St=G[4],xt=G[5],Mt=G[6],Et=G[7],Tt=G[8];return z[0]=St*Tt-xt*Et,z[1]=Ct*Et-pt*Tt,z[2]=pt*xt-Ct*St,z[3]=xt*Mt-ot*Tt,z[4]=f*Tt-Ct*Mt,z[5]=Ct*ot-f*xt,z[6]=ot*Et-St*Mt,z[7]=pt*Mt-f*Et,z[8]=f*St-pt*ot,z}function w(z){var G=z[0],f=z[1],pt=z[2],Ct=z[3],ot=z[4],St=z[5],xt=z[6],Mt=z[7],Et=z[8];return G*(Et*ot-St*Mt)+f*(-Et*Ct+St*xt)+pt*(Mt*Ct-ot*xt)}function y(z,G,f){var pt=G[0],Ct=G[1],ot=G[2],St=G[3],xt=G[4],Mt=G[5],Et=G[6],Tt=G[7],gt=G[8],it=f[0],Q=f[1],U=f[2],ct=f[3],tt=f[4],et=f[5],dt=f[6],Lt=f[7],Xt=f[8];return z[0]=it*pt+Q*St+U*Et,z[1]=it*Ct+Q*xt+U*Tt,z[2]=it*ot+Q*Mt+U*gt,z[3]=ct*pt+tt*St+et*Et,z[4]=ct*Ct+tt*xt+et*Tt,z[5]=ct*ot+tt*Mt+et*gt,z[6]=dt*pt+Lt*St+Xt*Et,z[7]=dt*Ct+Lt*xt+Xt*Tt,z[8]=dt*ot+Lt*Mt+Xt*gt,z}function M(z,G,f){var pt=G[0],Ct=G[1],ot=G[2],St=G[3],xt=G[4],Mt=G[5],Et=G[6],Tt=G[7],gt=G[8],it=f[0],Q=f[1];return z[0]=pt,z[1]=Ct,z[2]=ot,z[3]=St,z[4]=xt,z[5]=Mt,z[6]=it*pt+Q*St+Et,z[7]=it*Ct+Q*xt+Tt,z[8]=it*ot+Q*Mt+gt,z}function T(z,G,f){var pt=G[0],Ct=G[1],ot=G[2],St=G[3],xt=G[4],Mt=G[5],Et=G[6],Tt=G[7],gt=G[8],it=Math.sin(f),Q=Math.cos(f);return z[0]=Q*pt+it*St,z[1]=Q*Ct+it*xt,z[2]=Q*ot+it*Mt,z[3]=Q*St-it*pt,z[4]=Q*xt-it*Ct,z[5]=Q*Mt-it*ot,z[6]=Et,z[7]=Tt,z[8]=gt,z}function B(z,G,f){var pt=f[0],Ct=f[1];return z[0]=pt*G[0],z[1]=pt*G[1],z[2]=pt*G[2],z[3]=Ct*G[3],z[4]=Ct*G[4],z[5]=Ct*G[5],z[6]=G[6],z[7]=G[7],z[8]=G[8],z}function D(z,G){return z[0]=1,z[1]=0,z[2]=0,z[3]=0,z[4]=1,z[5]=0,z[6]=G[0],z[7]=G[1],z[8]=1,z}function X(z,G){var f=Math.sin(G),pt=Math.cos(G);return z[0]=pt,z[1]=f,z[2]=0,z[3]=-f,z[4]=pt,z[5]=0,z[6]=0,z[7]=0,z[8]=1,z}function $(z,G){return z[0]=G[0],z[1]=0,z[2]=0,z[3]=0,z[4]=G[1],z[5]=0,z[6]=0,z[7]=0,z[8]=1,z}function H(z,G){return z[0]=G[0],z[1]=G[1],z[2]=0,z[3]=G[2],z[4]=G[3],z[5]=0,z[6]=G[4],z[7]=G[5],z[8]=1,z}function nt(z,G){var f=G[0],pt=G[1],Ct=G[2],ot=G[3],St=f+f,xt=pt+pt,Mt=Ct+Ct,Et=f*St,Tt=pt*St,gt=pt*xt,it=Ct*St,Q=Ct*xt,U=Ct*Mt,ct=ot*St,tt=ot*xt,et=ot*Mt;return z[0]=1-gt-U,z[3]=Tt-et,z[6]=it+tt,z[1]=Tt+et,z[4]=1-Et-U,z[7]=Q-ct,z[2]=it-tt,z[5]=Q+ct,z[8]=1-Et-gt,z}function ht(z,G){var f=G[0],pt=G[1],Ct=G[2],ot=G[3],St=G[4],xt=G[5],Mt=G[6],Et=G[7],Tt=G[8],gt=G[9],it=G[10],Q=G[11],U=G[12],ct=G[13],tt=G[14],et=G[15],dt=f*xt-pt*St,Lt=f*Mt-Ct*St,Xt=f*Et-ot*St,$t=pt*Mt-Ct*xt,fe=pt*Et-ot*xt,me=Ct*Et-ot*Mt,pe=Tt*ct-gt*U,xe=Tt*tt-it*U,Ie=Tt*et-Q*U,je=gt*tt-it*ct,ur=gt*et-Q*ct,Ze=it*et-Q*tt,Ar=dt*Ze-Lt*ur+Xt*je+$t*Ie-fe*xe+me*pe;return Ar?(Ar=1/Ar,z[0]=(xt*Ze-Mt*ur+Et*je)*Ar,z[1]=(Mt*Ie-St*Ze-Et*xe)*Ar,z[2]=(St*ur-xt*Ie+Et*pe)*Ar,z[3]=(Ct*ur-pt*Ze-ot*je)*Ar,z[4]=(f*Ze-Ct*Ie+ot*xe)*Ar,z[5]=(pt*Ie-f*ur-ot*pe)*Ar,z[6]=(ct*me-tt*fe+et*$t)*Ar,z[7]=(tt*Xt-U*me-et*Lt)*Ar,z[8]=(U*fe-ct*Xt+et*dt)*Ar,z):null}function at(z,G,f){return z[0]=2/G,z[1]=0,z[2]=0,z[3]=0,z[4]=-2/f,z[5]=0,z[6]=-1,z[7]=1,z[8]=1,z}function Ot(z){return"mat3("+z[0]+", "+z[1]+", "+z[2]+", "+z[3]+", "+z[4]+", "+z[5]+", "+z[6]+", "+z[7]+", "+z[8]+")"}function Ft(z){return Math.hypot(z[0],z[1],z[2],z[3],z[4],z[5],z[6],z[7],z[8])}function Dt(z,G,f){return z[0]=G[0]+f[0],z[1]=G[1]+f[1],z[2]=G[2]+f[2],z[3]=G[3]+f[3],z[4]=G[4]+f[4],z[5]=G[5]+f[5],z[6]=G[6]+f[6],z[7]=G[7]+f[7],z[8]=G[8]+f[8],z}function V(z,G,f){return z[0]=G[0]-f[0],z[1]=G[1]-f[1],z[2]=G[2]-f[2],z[3]=G[3]-f[3],z[4]=G[4]-f[4],z[5]=G[5]-f[5],z[6]=G[6]-f[6],z[7]=G[7]-f[7],z[8]=G[8]-f[8],z}function q(z,G,f){return z[0]=G[0]*f,z[1]=G[1]*f,z[2]=G[2]*f,z[3]=G[3]*f,z[4]=G[4]*f,z[5]=G[5]*f,z[6]=G[6]*f,z[7]=G[7]*f,z[8]=G[8]*f,z}function K(z,G,f,pt){return z[0]=G[0]+f[0]*pt,z[1]=G[1]+f[1]*pt,z[2]=G[2]+f[2]*pt,z[3]=G[3]+f[3]*pt,z[4]=G[4]+f[4]*pt,z[5]=G[5]+f[5]*pt,z[6]=G[6]+f[6]*pt,z[7]=G[7]+f[7]*pt,z[8]=G[8]+f[8]*pt,z}function Z(z,G){return z[0]===G[0]&&z[1]===G[1]&&z[2]===G[2]&&z[3]===G[3]&&z[4]===G[4]&&z[5]===G[5]&&z[6]===G[6]&&z[7]===G[7]&&z[8]===G[8]}function mt(z,G){var f=z[0],pt=z[1],Ct=z[2],ot=z[3],St=z[4],xt=z[5],Mt=z[6],Et=z[7],Tt=z[8],gt=G[0],it=G[1],Q=G[2],U=G[3],ct=G[4],tt=G[5],et=G[6],dt=G[7],Lt=G[8];return Math.abs(f-gt)<=m.Ib*Math.max(1,Math.abs(f),Math.abs(gt))&&Math.abs(pt-it)<=m.Ib*Math.max(1,Math.abs(pt),Math.abs(it))&&Math.abs(Ct-Q)<=m.Ib*Math.max(1,Math.abs(Ct),Math.abs(Q))&&Math.abs(ot-U)<=m.Ib*Math.max(1,Math.abs(ot),Math.abs(U))&&Math.abs(St-ct)<=m.Ib*Math.max(1,Math.abs(St),Math.abs(ct))&&Math.abs(xt-tt)<=m.Ib*Math.max(1,Math.abs(xt),Math.abs(tt))&&Math.abs(Mt-et)<=m.Ib*Math.max(1,Math.abs(Mt),Math.abs(et))&&Math.abs(Et-dt)<=m.Ib*Math.max(1,Math.abs(Et),Math.abs(dt))&&Math.abs(Tt-Lt)<=m.Ib*Math.max(1,Math.abs(Tt),Math.abs(Lt))}var rt=y,W=V},31437:function(_t,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},clone:function(){return I},fromValues:function(){return L},copy:function(){return P},set:function(){return _},add:function(){return E},subtract:function(){return C},multiply:function(){return p},divide:function(){return b},ceil:function(){return x},floor:function(){return w},min:function(){return y},max:function(){return M},round:function(){return T},scale:function(){return B},scaleAndAdd:function(){return D},distance:function(){return X},squaredDistance:function(){return $},length:function(){return H},squaredLength:function(){return nt},negate:function(){return ht},inverse:function(){return at},normalize:function(){return Ot},dot:function(){return Ft},cross:function(){return Dt},lerp:function(){return V},random:function(){return q},transformMat2:function(){return K},transformMat2d:function(){return Z},transformMat3:function(){return mt},transformMat4:function(){return rt},rotate:function(){return W},angle:function(){return z},zero:function(){return G},str:function(){return f},exactEquals:function(){return pt},equals:function(){return Ct},len:function(){return ot},sub:function(){return St},mul:function(){return xt},div:function(){return Mt},dist:function(){return Et},sqrDist:function(){return Tt},sqrLen:function(){return gt},forEach:function(){return it}});var m=d(49685);function O(){var Q=new m.WT(2);return m.WT!=Float32Array&&(Q[0]=0,Q[1]=0),Q}function I(Q){var U=new m.WT(2);return U[0]=Q[0],U[1]=Q[1],U}function L(Q,U){var ct=new m.WT(2);return ct[0]=Q,ct[1]=U,ct}function P(Q,U){return Q[0]=U[0],Q[1]=U[1],Q}function _(Q,U,ct){return Q[0]=U,Q[1]=ct,Q}function E(Q,U,ct){return Q[0]=U[0]+ct[0],Q[1]=U[1]+ct[1],Q}function C(Q,U,ct){return Q[0]=U[0]-ct[0],Q[1]=U[1]-ct[1],Q}function p(Q,U,ct){return Q[0]=U[0]*ct[0],Q[1]=U[1]*ct[1],Q}function b(Q,U,ct){return Q[0]=U[0]/ct[0],Q[1]=U[1]/ct[1],Q}function x(Q,U){return Q[0]=Math.ceil(U[0]),Q[1]=Math.ceil(U[1]),Q}function w(Q,U){return Q[0]=Math.floor(U[0]),Q[1]=Math.floor(U[1]),Q}function y(Q,U,ct){return Q[0]=Math.min(U[0],ct[0]),Q[1]=Math.min(U[1],ct[1]),Q}function M(Q,U,ct){return Q[0]=Math.max(U[0],ct[0]),Q[1]=Math.max(U[1],ct[1]),Q}function T(Q,U){return Q[0]=Math.round(U[0]),Q[1]=Math.round(U[1]),Q}function B(Q,U,ct){return Q[0]=U[0]*ct,Q[1]=U[1]*ct,Q}function D(Q,U,ct,tt){return Q[0]=U[0]+ct[0]*tt,Q[1]=U[1]+ct[1]*tt,Q}function X(Q,U){var ct=U[0]-Q[0],tt=U[1]-Q[1];return Math.hypot(ct,tt)}function $(Q,U){var ct=U[0]-Q[0],tt=U[1]-Q[1];return ct*ct+tt*tt}function H(Q){var U=Q[0],ct=Q[1];return Math.hypot(U,ct)}function nt(Q){var U=Q[0],ct=Q[1];return U*U+ct*ct}function ht(Q,U){return Q[0]=-U[0],Q[1]=-U[1],Q}function at(Q,U){return Q[0]=1/U[0],Q[1]=1/U[1],Q}function Ot(Q,U){var ct=U[0],tt=U[1],et=ct*ct+tt*tt;return et>0&&(et=1/Math.sqrt(et)),Q[0]=U[0]*et,Q[1]=U[1]*et,Q}function Ft(Q,U){return Q[0]*U[0]+Q[1]*U[1]}function Dt(Q,U,ct){var tt=U[0]*ct[1]-U[1]*ct[0];return Q[0]=Q[1]=0,Q[2]=tt,Q}function V(Q,U,ct,tt){var et=U[0],dt=U[1];return Q[0]=et+tt*(ct[0]-et),Q[1]=dt+tt*(ct[1]-dt),Q}function q(Q,U){U=U||1;var ct=m.FD()*2*Math.PI;return Q[0]=Math.cos(ct)*U,Q[1]=Math.sin(ct)*U,Q}function K(Q,U,ct){var tt=U[0],et=U[1];return Q[0]=ct[0]*tt+ct[2]*et,Q[1]=ct[1]*tt+ct[3]*et,Q}function Z(Q,U,ct){var tt=U[0],et=U[1];return Q[0]=ct[0]*tt+ct[2]*et+ct[4],Q[1]=ct[1]*tt+ct[3]*et+ct[5],Q}function mt(Q,U,ct){var tt=U[0],et=U[1];return Q[0]=ct[0]*tt+ct[3]*et+ct[6],Q[1]=ct[1]*tt+ct[4]*et+ct[7],Q}function rt(Q,U,ct){var tt=U[0],et=U[1];return Q[0]=ct[0]*tt+ct[4]*et+ct[12],Q[1]=ct[1]*tt+ct[5]*et+ct[13],Q}function W(Q,U,ct,tt){var et=U[0]-ct[0],dt=U[1]-ct[1],Lt=Math.sin(tt),Xt=Math.cos(tt);return Q[0]=et*Xt-dt*Lt+ct[0],Q[1]=et*Lt+dt*Xt+ct[1],Q}function z(Q,U){var ct=Q[0],tt=Q[1],et=U[0],dt=U[1],Lt=Math.sqrt(ct*ct+tt*tt)*Math.sqrt(et*et+dt*dt),Xt=Lt&&(ct*et+tt*dt)/Lt;return Math.acos(Math.min(Math.max(Xt,-1),1))}function G(Q){return Q[0]=0,Q[1]=0,Q}function f(Q){return"vec2("+Q[0]+", "+Q[1]+")"}function pt(Q,U){return Q[0]===U[0]&&Q[1]===U[1]}function Ct(Q,U){var ct=Q[0],tt=Q[1],et=U[0],dt=U[1];return Math.abs(ct-et)<=m.Ib*Math.max(1,Math.abs(ct),Math.abs(et))&&Math.abs(tt-dt)<=m.Ib*Math.max(1,Math.abs(tt),Math.abs(dt))}var ot=H,St=C,xt=p,Mt=b,Et=X,Tt=$,gt=nt,it=function(){var Q=O();return function(U,ct,tt,et,dt,Lt){var Xt,$t;for(ct||(ct=2),tt||(tt=0),et?$t=Math.min(et*ct+tt,U.length):$t=U.length,Xt=tt;Xt<$t;Xt+=ct)Q[0]=U[Xt],Q[1]=U[Xt+1],dt(Q,Q,Lt),U[Xt]=Q[0],U[Xt+1]=Q[1];return U}}()},77160:function(_t,S,d){"use strict";d.r(S),d.d(S,{create:function(){return O},clone:function(){return I},length:function(){return L},fromValues:function(){return P},copy:function(){return _},set:function(){return E},add:function(){return C},subtract:function(){return p},multiply:function(){return b},divide:function(){return x},ceil:function(){return w},floor:function(){return y},min:function(){return M},max:function(){return T},round:function(){return B},scale:function(){return D},scaleAndAdd:function(){return X},distance:function(){return $},squaredDistance:function(){return H},squaredLength:function(){return nt},negate:function(){return ht},inverse:function(){return at},normalize:function(){return Ot},dot:function(){return Ft},cross:function(){return Dt},lerp:function(){return V},hermite:function(){return q},bezier:function(){return K},random:function(){return Z},transformMat4:function(){return mt},transformMat3:function(){return rt},transformQuat:function(){return W},rotateX:function(){return z},rotateY:function(){return G},rotateZ:function(){return f},angle:function(){return pt},zero:function(){return Ct},str:function(){return ot},exactEquals:function(){return St},equals:function(){return xt},sub:function(){return Mt},mul:function(){return Et},div:function(){return Tt},dist:function(){return gt},sqrDist:function(){return it},len:function(){return Q},sqrLen:function(){return U},forEach:function(){return ct}});var m=d(49685);function O(){var tt=new m.WT(3);return m.WT!=Float32Array&&(tt[0]=0,tt[1]=0,tt[2]=0),tt}function I(tt){var et=new m.WT(3);return et[0]=tt[0],et[1]=tt[1],et[2]=tt[2],et}function L(tt){var et=tt[0],dt=tt[1],Lt=tt[2];return Math.hypot(et,dt,Lt)}function P(tt,et,dt){var Lt=new m.WT(3);return Lt[0]=tt,Lt[1]=et,Lt[2]=dt,Lt}function _(tt,et){return tt[0]=et[0],tt[1]=et[1],tt[2]=et[2],tt}function E(tt,et,dt,Lt){return tt[0]=et,tt[1]=dt,tt[2]=Lt,tt}function C(tt,et,dt){return tt[0]=et[0]+dt[0],tt[1]=et[1]+dt[1],tt[2]=et[2]+dt[2],tt}function p(tt,et,dt){return tt[0]=et[0]-dt[0],tt[1]=et[1]-dt[1],tt[2]=et[2]-dt[2],tt}function b(tt,et,dt){return tt[0]=et[0]*dt[0],tt[1]=et[1]*dt[1],tt[2]=et[2]*dt[2],tt}function x(tt,et,dt){return tt[0]=et[0]/dt[0],tt[1]=et[1]/dt[1],tt[2]=et[2]/dt[2],tt}function w(tt,et){return tt[0]=Math.ceil(et[0]),tt[1]=Math.ceil(et[1]),tt[2]=Math.ceil(et[2]),tt}function y(tt,et){return tt[0]=Math.floor(et[0]),tt[1]=Math.floor(et[1]),tt[2]=Math.floor(et[2]),tt}function M(tt,et,dt){return tt[0]=Math.min(et[0],dt[0]),tt[1]=Math.min(et[1],dt[1]),tt[2]=Math.min(et[2],dt[2]),tt}function T(tt,et,dt){return tt[0]=Math.max(et[0],dt[0]),tt[1]=Math.max(et[1],dt[1]),tt[2]=Math.max(et[2],dt[2]),tt}function B(tt,et){return tt[0]=Math.round(et[0]),tt[1]=Math.round(et[1]),tt[2]=Math.round(et[2]),tt}function D(tt,et,dt){return tt[0]=et[0]*dt,tt[1]=et[1]*dt,tt[2]=et[2]*dt,tt}function X(tt,et,dt,Lt){return tt[0]=et[0]+dt[0]*Lt,tt[1]=et[1]+dt[1]*Lt,tt[2]=et[2]+dt[2]*Lt,tt}function $(tt,et){var dt=et[0]-tt[0],Lt=et[1]-tt[1],Xt=et[2]-tt[2];return Math.hypot(dt,Lt,Xt)}function H(tt,et){var dt=et[0]-tt[0],Lt=et[1]-tt[1],Xt=et[2]-tt[2];return dt*dt+Lt*Lt+Xt*Xt}function nt(tt){var et=tt[0],dt=tt[1],Lt=tt[2];return et*et+dt*dt+Lt*Lt}function ht(tt,et){return tt[0]=-et[0],tt[1]=-et[1],tt[2]=-et[2],tt}function at(tt,et){return tt[0]=1/et[0],tt[1]=1/et[1],tt[2]=1/et[2],tt}function Ot(tt,et){var dt=et[0],Lt=et[1],Xt=et[2],$t=dt*dt+Lt*Lt+Xt*Xt;return $t>0&&($t=1/Math.sqrt($t)),tt[0]=et[0]*$t,tt[1]=et[1]*$t,tt[2]=et[2]*$t,tt}function Ft(tt,et){return tt[0]*et[0]+tt[1]*et[1]+tt[2]*et[2]}function Dt(tt,et,dt){var Lt=et[0],Xt=et[1],$t=et[2],fe=dt[0],me=dt[1],pe=dt[2];return tt[0]=Xt*pe-$t*me,tt[1]=$t*fe-Lt*pe,tt[2]=Lt*me-Xt*fe,tt}function V(tt,et,dt,Lt){var Xt=et[0],$t=et[1],fe=et[2];return tt[0]=Xt+Lt*(dt[0]-Xt),tt[1]=$t+Lt*(dt[1]-$t),tt[2]=fe+Lt*(dt[2]-fe),tt}function q(tt,et,dt,Lt,Xt,$t){var fe=$t*$t,me=fe*(2*$t-3)+1,pe=fe*($t-2)+$t,xe=fe*($t-1),Ie=fe*(3-2*$t);return tt[0]=et[0]*me+dt[0]*pe+Lt[0]*xe+Xt[0]*Ie,tt[1]=et[1]*me+dt[1]*pe+Lt[1]*xe+Xt[1]*Ie,tt[2]=et[2]*me+dt[2]*pe+Lt[2]*xe+Xt[2]*Ie,tt}function K(tt,et,dt,Lt,Xt,$t){var fe=1-$t,me=fe*fe,pe=$t*$t,xe=me*fe,Ie=3*$t*me,je=3*pe*fe,ur=pe*$t;return tt[0]=et[0]*xe+dt[0]*Ie+Lt[0]*je+Xt[0]*ur,tt[1]=et[1]*xe+dt[1]*Ie+Lt[1]*je+Xt[1]*ur,tt[2]=et[2]*xe+dt[2]*Ie+Lt[2]*je+Xt[2]*ur,tt}function Z(tt,et){et=et||1;var dt=m.FD()*2*Math.PI,Lt=m.FD()*2-1,Xt=Math.sqrt(1-Lt*Lt)*et;return tt[0]=Math.cos(dt)*Xt,tt[1]=Math.sin(dt)*Xt,tt[2]=Lt*et,tt}function mt(tt,et,dt){var Lt=et[0],Xt=et[1],$t=et[2],fe=dt[3]*Lt+dt[7]*Xt+dt[11]*$t+dt[15];return fe=fe||1,tt[0]=(dt[0]*Lt+dt[4]*Xt+dt[8]*$t+dt[12])/fe,tt[1]=(dt[1]*Lt+dt[5]*Xt+dt[9]*$t+dt[13])/fe,tt[2]=(dt[2]*Lt+dt[6]*Xt+dt[10]*$t+dt[14])/fe,tt}function rt(tt,et,dt){var Lt=et[0],Xt=et[1],$t=et[2];return tt[0]=Lt*dt[0]+Xt*dt[3]+$t*dt[6],tt[1]=Lt*dt[1]+Xt*dt[4]+$t*dt[7],tt[2]=Lt*dt[2]+Xt*dt[5]+$t*dt[8],tt}function W(tt,et,dt){var Lt=dt[0],Xt=dt[1],$t=dt[2],fe=dt[3],me=et[0],pe=et[1],xe=et[2],Ie=Xt*xe-$t*pe,je=$t*me-Lt*xe,ur=Lt*pe-Xt*me,Ze=Xt*ur-$t*je,Ar=$t*Ie-Lt*ur,Jr=Lt*je-Xt*Ie,Er=fe*2;return Ie*=Er,je*=Er,ur*=Er,Ze*=2,Ar*=2,Jr*=2,tt[0]=me+Ie+Ze,tt[1]=pe+je+Ar,tt[2]=xe+ur+Jr,tt}function z(tt,et,dt,Lt){var Xt=[],$t=[];return Xt[0]=et[0]-dt[0],Xt[1]=et[1]-dt[1],Xt[2]=et[2]-dt[2],$t[0]=Xt[0],$t[1]=Xt[1]*Math.cos(Lt)-Xt[2]*Math.sin(Lt),$t[2]=Xt[1]*Math.sin(Lt)+Xt[2]*Math.cos(Lt),tt[0]=$t[0]+dt[0],tt[1]=$t[1]+dt[1],tt[2]=$t[2]+dt[2],tt}function G(tt,et,dt,Lt){var Xt=[],$t=[];return Xt[0]=et[0]-dt[0],Xt[1]=et[1]-dt[1],Xt[2]=et[2]-dt[2],$t[0]=Xt[2]*Math.sin(Lt)+Xt[0]*Math.cos(Lt),$t[1]=Xt[1],$t[2]=Xt[2]*Math.cos(Lt)-Xt[0]*Math.sin(Lt),tt[0]=$t[0]+dt[0],tt[1]=$t[1]+dt[1],tt[2]=$t[2]+dt[2],tt}function f(tt,et,dt,Lt){var Xt=[],$t=[];return Xt[0]=et[0]-dt[0],Xt[1]=et[1]-dt[1],Xt[2]=et[2]-dt[2],$t[0]=Xt[0]*Math.cos(Lt)-Xt[1]*Math.sin(Lt),$t[1]=Xt[0]*Math.sin(Lt)+Xt[1]*Math.cos(Lt),$t[2]=Xt[2],tt[0]=$t[0]+dt[0],tt[1]=$t[1]+dt[1],tt[2]=$t[2]+dt[2],tt}function pt(tt,et){var dt=tt[0],Lt=tt[1],Xt=tt[2],$t=et[0],fe=et[1],me=et[2],pe=Math.sqrt(dt*dt+Lt*Lt+Xt*Xt),xe=Math.sqrt($t*$t+fe*fe+me*me),Ie=pe*xe,je=Ie&&Ft(tt,et)/Ie;return Math.acos(Math.min(Math.max(je,-1),1))}function Ct(tt){return tt[0]=0,tt[1]=0,tt[2]=0,tt}function ot(tt){return"vec3("+tt[0]+", "+tt[1]+", "+tt[2]+")"}function St(tt,et){return tt[0]===et[0]&&tt[1]===et[1]&&tt[2]===et[2]}function xt(tt,et){var dt=tt[0],Lt=tt[1],Xt=tt[2],$t=et[0],fe=et[1],me=et[2];return Math.abs(dt-$t)<=m.Ib*Math.max(1,Math.abs(dt),Math.abs($t))&&Math.abs(Lt-fe)<=m.Ib*Math.max(1,Math.abs(Lt),Math.abs(fe))&&Math.abs(Xt-me)<=m.Ib*Math.max(1,Math.abs(Xt),Math.abs(me))}var Mt=p,Et=b,Tt=x,gt=$,it=H,Q=L,U=nt,ct=function(){var tt=O();return function(et,dt,Lt,Xt,$t,fe){var me,pe;for(dt||(dt=3),Lt||(Lt=0),Xt?pe=Math.min(Xt*dt+Lt,et.length):pe=et.length,me=Lt;me<pe;me+=dt)tt[0]=et[me],tt[1]=et[me+1],tt[2]=et[me+2],$t(tt,tt,fe),et[me]=tt[0],et[me+1]=tt[1],et[me+2]=tt[2];return et}}()},28282:function(_t,S,d){var m=d(82354);_t.exports={Graph:m.Graph,json:d(28974),alg:d(12440),version:m.version}},2842:function(_t,S,d){var m=d(89126);_t.exports=O;function O(I){var L={},P=[],_;function E(C){m.has(L,C)||(L[C]=!0,_.push(C),m.each(I.successors(C),E),m.each(I.predecessors(C),E))}return m.each(I.nodes(),function(C){_=[],E(C),_.length&&P.push(_)}),P}},53984:function(_t,S,d){var m=d(89126);_t.exports=O;function O(L,P,_){m.isArray(P)||(P=[P]);var E=(L.isDirected()?L.successors:L.neighbors).bind(L),C=[],p={};return m.each(P,function(b){if(!L.hasNode(b))throw new Error("Graph does not have node: "+b);I(L,b,_==="post",p,E,C)}),C}function I(L,P,_,E,C,p){m.has(E,P)||(E[P]=!0,_||p.push(P),m.each(C(P),function(b){I(L,b,_,E,C,p)}),_&&p.push(P))}},84847:function(_t,S,d){var m=d(63763),O=d(89126);_t.exports=I;function I(L,P,_){return O.transform(L.nodes(),function(E,C){E[C]=m(L,C,P,_)},{})}},63763:function(_t,S,d){var m=d(89126),O=d(75639);_t.exports=L;var I=m.constant(1);function L(_,E,C,p){return P(_,String(E),C||I,p||function(b){return _.outEdges(b)})}function P(_,E,C,p){var b={},x=new O,w,y,M=function(T){var B=T.v!==w?T.v:T.w,D=b[B],X=C(T),$=y.distance+X;if(X<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+T+" Weight: "+X);$<D.distance&&(D.distance=$,D.predecessor=w,x.decrease(B,$))};for(_.nodes().forEach(function(T){var B=T===E?0:Number.POSITIVE_INFINITY;b[T]={distance:B},x.add(T,B)});x.size()>0&&(w=x.removeMin(),y=b[w],y.distance!==Number.POSITIVE_INFINITY);)p(w).forEach(M);return b}},9096:function(_t,S,d){var m=d(89126),O=d(5023);_t.exports=I;function I(L){return m.filter(O(L),function(P){return P.length>1||P.length===1&&L.hasEdge(P[0],P[0])})}},38924:function(_t,S,d){var m=d(89126);_t.exports=I;var O=m.constant(1);function I(P,_,E){return L(P,_||O,E||function(C){return P.outEdges(C)})}function L(P,_,E){var C={},p=P.nodes();return p.forEach(function(b){C[b]={},C[b][b]={distance:0},p.forEach(function(x){b!==x&&(C[b][x]={distance:Number.POSITIVE_INFINITY})}),E(b).forEach(function(x){var w=x.v===b?x.w:x.v,y=_(x);C[b][w]={distance:y,predecessor:b}})}),p.forEach(function(b){var x=C[b];p.forEach(function(w){var y=C[w];p.forEach(function(M){var T=y[b],B=x[M],D=y[M],X=T.distance+B.distance;X<D.distance&&(D.distance=X,D.predecessor=B.predecessor)})})}),C}},12440:function(_t,S,d){_t.exports={components:d(2842),dijkstra:d(63763),dijkstraAll:d(84847),findCycles:d(9096),floydWarshall:d(38924),isAcyclic:d(62707),postorder:d(58828),preorder:d(92648),prim:d(80514),tarjan:d(5023),topsort:d(2166)}},62707:function(_t,S,d){var m=d(2166);_t.exports=O;function O(I){try{m(I)}catch(L){if(L instanceof m.CycleException)return!1;throw L}return!0}},58828:function(_t,S,d){var m=d(53984);_t.exports=O;function O(I,L){return m(I,L,"post")}},92648:function(_t,S,d){var m=d(53984);_t.exports=O;function O(I,L){return m(I,L,"pre")}},80514:function(_t,S,d){var m=d(89126),O=d(30771),I=d(75639);_t.exports=L;function L(P,_){var E=new O,C={},p=new I,b;function x(y){var M=y.v===b?y.w:y.v,T=p.priority(M);if(T!==void 0){var B=_(y);B<T&&(C[M]=b,p.decrease(M,B))}}if(P.nodeCount()===0)return E;m.each(P.nodes(),function(y){p.add(y,Number.POSITIVE_INFINITY),E.setNode(y)}),p.decrease(P.nodes()[0],0);for(var w=!1;p.size()>0;){if(b=p.removeMin(),m.has(C,b))E.setEdge(b,C[b]);else{if(w)throw new Error("Input graph is not connected: "+P);w=!0}P.nodeEdges(b).forEach(x)}return E}},5023:function(_t,S,d){var m=d(89126);_t.exports=O;function O(I){var L=0,P=[],_={},E=[];function C(p){var b=_[p]={onStack:!0,lowlink:L,index:L++};if(P.push(p),I.successors(p).forEach(function(y){m.has(_,y)?_[y].onStack&&(b.lowlink=Math.min(b.lowlink,_[y].index)):(C(y),b.lowlink=Math.min(b.lowlink,_[y].lowlink))}),b.lowlink===b.index){var x=[],w;do w=P.pop(),_[w].onStack=!1,x.push(w);while(p!==w);E.push(x)}}return I.nodes().forEach(function(p){m.has(_,p)||C(p)}),E}},2166:function(_t,S,d){var m=d(89126);_t.exports=O,O.CycleException=I;function O(L){var P={},_={},E=[];function C(p){if(m.has(_,p))throw new I;m.has(P,p)||(_[p]=!0,P[p]=!0,m.each(L.predecessors(p),C),delete _[p],E.push(p))}if(m.each(L.sinks(),C),m.size(P)!==L.nodeCount())throw new I;return E}function I(){}I.prototype=new Error},75639:function(_t,S,d){var m=d(89126);_t.exports=O;function O(){this._arr=[],this._keyIndices={}}O.prototype.size=function(){return this._arr.length},O.prototype.keys=function(){return this._arr.map(function(I){return I.key})},O.prototype.has=function(I){return m.has(this._keyIndices,I)},O.prototype.priority=function(I){var L=this._keyIndices[I];if(L!==void 0)return this._arr[L].priority},O.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},O.prototype.add=function(I,L){var P=this._keyIndices;if(I=String(I),!m.has(P,I)){var _=this._arr,E=_.length;return P[I]=E,_.push({key:I,priority:L}),this._decrease(E),!0}return!1},O.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var I=this._arr.pop();return delete this._keyIndices[I.key],this._heapify(0),I.key},O.prototype.decrease=function(I,L){var P=this._keyIndices[I];if(L>this._arr[P].priority)throw new Error("New priority is greater than current priority. Key: "+I+" Old: "+this._arr[P].priority+" New: "+L);this._arr[P].priority=L,this._decrease(P)},O.prototype._heapify=function(I){var L=this._arr,P=2*I,_=P+1,E=I;P<L.length&&(E=L[P].priority<L[E].priority?P:E,_<L.length&&(E=L[_].priority<L[E].priority?_:E),E!==I&&(this._swap(I,E),this._heapify(E)))},O.prototype._decrease=function(I){for(var L=this._arr,P=L[I].priority,_;I!==0&&(_=I>>1,!(L[_].priority<P));)this._swap(I,_),I=_},O.prototype._swap=function(I,L){var P=this._arr,_=this._keyIndices,E=P[I],C=P[L];P[I]=C,P[L]=E,_[C.key]=I,_[E.key]=L}},30771:function(_t,S,d){"use strict";var m=d(89126);_t.exports=P;var O="\0",I="\0",L="";function P(x){this._isDirected=m.has(x,"directed")?x.directed:!0,this._isMultigraph=m.has(x,"multigraph")?x.multigraph:!1,this._isCompound=m.has(x,"compound")?x.compound:!1,this._label=void 0,this._defaultNodeLabelFn=m.constant(void 0),this._defaultEdgeLabelFn=m.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[I]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}P.prototype._nodeCount=0,P.prototype._edgeCount=0,P.prototype.isDirected=function(){return this._isDirected},P.prototype.isMultigraph=function(){return this._isMultigraph},P.prototype.isCompound=function(){return this._isCompound},P.prototype.setGraph=function(x){return this._label=x,this},P.prototype.graph=function(){return this._label},P.prototype.setDefaultNodeLabel=function(x){return m.isFunction(x)||(x=m.constant(x)),this._defaultNodeLabelFn=x,this},P.prototype.nodeCount=function(){return this._nodeCount},P.prototype.nodes=function(){return m.keys(this._nodes)},P.prototype.sources=function(){var x=this;return m.filter(this.nodes(),function(w){return m.isEmpty(x._in[w])})},P.prototype.sinks=function(){var x=this;return m.filter(this.nodes(),function(w){return m.isEmpty(x._out[w])})},P.prototype.setNodes=function(x,w){var y=arguments,M=this;return m.each(x,function(T){y.length>1?M.setNode(T,w):M.setNode(T)}),this},P.prototype.setNode=function(x,w){return m.has(this._nodes,x)?(arguments.length>1&&(this._nodes[x]=w),this):(this._nodes[x]=arguments.length>1?w:this._defaultNodeLabelFn(x),this._isCompound&&(this._parent[x]=I,this._children[x]={},this._children[I][x]=!0),this._in[x]={},this._preds[x]={},this._out[x]={},this._sucs[x]={},++this._nodeCount,this)},P.prototype.node=function(x){return this._nodes[x]},P.prototype.hasNode=function(x){return m.has(this._nodes,x)},P.prototype.removeNode=function(x){var w=this;if(m.has(this._nodes,x)){var y=function(M){w.removeEdge(w._edgeObjs[M])};delete this._nodes[x],this._isCompound&&(this._removeFromParentsChildList(x),delete this._parent[x],m.each(this.children(x),function(M){w.setParent(M)}),delete this._children[x]),m.each(m.keys(this._in[x]),y),delete this._in[x],delete this._preds[x],m.each(m.keys(this._out[x]),y),delete this._out[x],delete this._sucs[x],--this._nodeCount}return this},P.prototype.setParent=function(x,w){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(m.isUndefined(w))w=I;else{w+="";for(var y=w;!m.isUndefined(y);y=this.parent(y))if(y===x)throw new Error("Setting "+w+" as parent of "+x+" would create a cycle");this.setNode(w)}return this.setNode(x),this._removeFromParentsChildList(x),this._parent[x]=w,this._children[w][x]=!0,this},P.prototype._removeFromParentsChildList=function(x){delete this._children[this._parent[x]][x]},P.prototype.parent=function(x){if(this._isCompound){var w=this._parent[x];if(w!==I)return w}},P.prototype.children=function(x){if(m.isUndefined(x)&&(x=I),this._isCompound){var w=this._children[x];if(w)return m.keys(w)}else{if(x===I)return this.nodes();if(this.hasNode(x))return[]}},P.prototype.predecessors=function(x){var w=this._preds[x];if(w)return m.keys(w)},P.prototype.successors=function(x){var w=this._sucs[x];if(w)return m.keys(w)},P.prototype.neighbors=function(x){var w=this.predecessors(x);if(w)return m.union(w,this.successors(x))},P.prototype.isLeaf=function(x){var w;return this.isDirected()?w=this.successors(x):w=this.neighbors(x),w.length===0},P.prototype.filterNodes=function(x){var w=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});w.setGraph(this.graph());var y=this;m.each(this._nodes,function(B,D){x(D)&&w.setNode(D,B)}),m.each(this._edgeObjs,function(B){w.hasNode(B.v)&&w.hasNode(B.w)&&w.setEdge(B,y.edge(B))});var M={};function T(B){var D=y.parent(B);return D===void 0||w.hasNode(D)?(M[B]=D,D):D in M?M[D]:T(D)}return this._isCompound&&m.each(w.nodes(),function(B){w.setParent(B,T(B))}),w},P.prototype.setDefaultEdgeLabel=function(x){return m.isFunction(x)||(x=m.constant(x)),this._defaultEdgeLabelFn=x,this},P.prototype.edgeCount=function(){return this._edgeCount},P.prototype.edges=function(){return m.values(this._edgeObjs)},P.prototype.setPath=function(x,w){var y=this,M=arguments;return m.reduce(x,function(T,B){return M.length>1?y.setEdge(T,B,w):y.setEdge(T,B),B}),this},P.prototype.setEdge=function(){var x,w,y,M,T=!1,B=arguments[0];typeof B=="object"&&B!==null&&"v"in B?(x=B.v,w=B.w,y=B.name,arguments.length===2&&(M=arguments[1],T=!0)):(x=B,w=arguments[1],y=arguments[3],arguments.length>2&&(M=arguments[2],T=!0)),x=""+x,w=""+w,m.isUndefined(y)||(y=""+y);var D=C(this._isDirected,x,w,y);if(m.has(this._edgeLabels,D))return T&&(this._edgeLabels[D]=M),this;if(!m.isUndefined(y)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(x),this.setNode(w),this._edgeLabels[D]=T?M:this._defaultEdgeLabelFn(x,w,y);var X=p(this._isDirected,x,w,y);return x=X.v,w=X.w,Object.freeze(X),this._edgeObjs[D]=X,_(this._preds[w],x),_(this._sucs[x],w),this._in[w][D]=X,this._out[x][D]=X,this._edgeCount++,this},P.prototype.edge=function(x,w,y){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,x,w,y);return this._edgeLabels[M]},P.prototype.hasEdge=function(x,w,y){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,x,w,y);return m.has(this._edgeLabels,M)},P.prototype.removeEdge=function(x,w,y){var M=arguments.length===1?b(this._isDirected,arguments[0]):C(this._isDirected,x,w,y),T=this._edgeObjs[M];return T&&(x=T.v,w=T.w,delete this._edgeLabels[M],delete this._edgeObjs[M],E(this._preds[w],x),E(this._sucs[x],w),delete this._in[w][M],delete this._out[x][M],this._edgeCount--),this},P.prototype.inEdges=function(x,w){var y=this._in[x];if(y){var M=m.values(y);return w?m.filter(M,function(T){return T.v===w}):M}},P.prototype.outEdges=function(x,w){var y=this._out[x];if(y){var M=m.values(y);return w?m.filter(M,function(T){return T.w===w}):M}},P.prototype.nodeEdges=function(x,w){var y=this.inEdges(x,w);if(y)return y.concat(this.outEdges(x,w))};function _(x,w){x[w]?x[w]++:x[w]=1}function E(x,w){--x[w]||delete x[w]}function C(x,w,y,M){var T=""+w,B=""+y;if(!x&&T>B){var D=T;T=B,B=D}return T+L+B+L+(m.isUndefined(M)?O:M)}function p(x,w,y,M){var T=""+w,B=""+y;if(!x&&T>B){var D=T;T=B,B=D}var X={v:T,w:B};return M&&(X.name=M),X}function b(x,w){return C(x,w.v,w.w,w.name)}},82354:function(_t,S,d){_t.exports={Graph:d(30771),version:d(49631)}},28974:function(_t,S,d){var m=d(89126),O=d(30771);_t.exports={write:I,read:_};function I(E){var C={options:{directed:E.isDirected(),multigraph:E.isMultigraph(),compound:E.isCompound()},nodes:L(E),edges:P(E)};return m.isUndefined(E.graph())||(C.value=m.clone(E.graph())),C}function L(E){return m.map(E.nodes(),function(C){var p=E.node(C),b=E.parent(C),x={v:C};return m.isUndefined(p)||(x.value=p),m.isUndefined(b)||(x.parent=b),x})}function P(E){return m.map(E.edges(),function(C){var p=E.edge(C),b={v:C.v,w:C.w};return m.isUndefined(C.name)||(b.name=C.name),m.isUndefined(p)||(b.value=p),b})}function _(E){var C=new O(E.options).setGraph(E.value);return m.each(E.nodes,function(p){C.setNode(p.v,p.value),p.parent&&C.setParent(p.v,p.parent)}),m.each(E.edges,function(p){C.setEdge({v:p.v,w:p.w,name:p.name},p.value)}),C}},89126:function(_t,S,d){var m;try{m={clone:d(66678),constant:d(75703),each:d(66073),filter:d(63105),has:d(18721),isArray:d(1469),isEmpty:d(41609),isFunction:d(23560),isUndefined:d(52353),keys:d(3674),map:d(35161),reduce:d(54061),size:d(84238),transform:d(68718),union:d(93386),values:d(52628)}}catch(O){}m||(m=window._),_t.exports=m},49631:function(_t){_t.exports="2.1.8"},38186:function(_t){var S=[],d=[],m="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function O(L,P){if(P=P||{},L===void 0)throw new Error(m);var _=P.prepend===!0?"prepend":"append",E=P.container!==void 0?P.container:document.querySelector("head"),C=S.indexOf(E);C===-1&&(C=S.push(E)-1,d[C]={});var p;return d[C]!==void 0&&d[C][_]!==void 0?p=d[C][_]:(p=d[C][_]=I(),_==="prepend"?E.insertBefore(p,E.childNodes[0]):E.appendChild(p)),L.charCodeAt(0)===65279&&(L=L.substr(1,L.length)),p.styleSheet?p.styleSheet.cssText+=L:p.textContent+=L,p}function I(){var L=document.createElement("style");return L.setAttribute("type","text/css"),L}_t.exports=O,_t.exports.insertCss=O},35171:function(_t){_t.exports=function(d){return!d||typeof d=="string"?!1:d instanceof Array||Array.isArray(d)||d.length>=0&&(d.splice instanceof Function||Object.getOwnPropertyDescriptor(d,d.length-1)&&d.constructor.name!=="String")}},47443:function(_t,S,d){var m=d(42118);function O(I,L){var P=I==null?0:I.length;return!!P&&m(I,L,0)>-1}_t.exports=O},1196:function(_t){function S(d,m,O){for(var I=-1,L=d==null?0:d.length;++I<L;)if(O(m,d[I]))return!0;return!1}_t.exports=S},62663:function(_t){function S(d,m,O,I){var L=-1,P=d==null?0:d.length;for(I&&P&&(O=d[++L]);++L<P;)O=m(O,d[L],L,d);return O}_t.exports=S},56029:function(_t,S,d){var m=d(33448);function O(I,L,P){for(var _=-1,E=I.length;++_<E;){var C=I[_],p=L(C);if(p!=null&&(b===void 0?p===p&&!m(p):P(p,b)))var b=p,x=C}return x}_t.exports=O},80760:function(_t,S,d){var m=d(89881);function O(I,L){var P=[];return m(I,function(_,E,C){L(_,E,C)&&P.push(_)}),P}_t.exports=O},41848:function(_t){function S(d,m,O,I){for(var L=d.length,P=O+(I?1:-1);I?P--:++P<L;)if(m(d[P],P,d))return P;return-1}_t.exports=S},53325:function(_t){function S(d,m){return d>m}_t.exports=S},78565:function(_t){var S=Object.prototype,d=S.hasOwnProperty;function m(O,I){return O!=null&&d.call(O,I)}_t.exports=m},42118:function(_t,S,d){var m=d(41848),O=d(62722),I=d(42351);function L(P,_,E){return _===_?I(P,_,E):m(P,O,E)}_t.exports=L},62722:function(_t){function S(d){return d!==d}_t.exports=S},70433:function(_t){function S(d,m){return d<m}_t.exports=S},82689:function(_t,S,d){var m=d(29932),O=d(97786),I=d(67206),L=d(69199),P=d(71131),_=d(7518),E=d(85022),C=d(6557),p=d(1469);function b(x,w,y){w.length?w=m(w,function(B){return p(B)?function(D){return O(D,B.length===1?B[0]:B)}:B}):w=[C];var M=-1;w=m(w,_(I));var T=L(x,function(B,D,X){var $=m(w,function(H){return H(B)});return{criteria:$,index:++M,value:B}});return P(T,function(B,D){return E(B,D,y)})}_t.exports=b},40098:function(_t){var S=Math.ceil,d=Math.max;function m(O,I,L,P){for(var _=-1,E=d(S((I-O)/(L||1)),0),C=Array(E);E--;)C[P?E:++_]=O,O+=L;return C}_t.exports=m},10107:function(_t){function S(d,m,O,I,L){return L(d,function(P,_,E){O=I?(I=!1,P):m(O,P,_,E)}),O}_t.exports=S},71131:function(_t){function S(d,m){var O=d.length;for(d.sort(m);O--;)d[O]=d[O].value;return d}_t.exports=S},45652:function(_t,S,d){var m=d(88668),O=d(47443),I=d(1196),L=d(74757),P=d(23593),_=d(21814),E=200;function C(p,b,x){var w=-1,y=O,M=p.length,T=!0,B=[],D=B;if(x)T=!1,y=I;else if(M>=E){var X=b?null:P(p);if(X)return _(X);T=!1,y=L,D=new m}else D=b?[]:B;t:for(;++w<M;){var $=p[w],H=b?b($):$;if($=x||$!==0?$:0,T&&H===H){for(var nt=D.length;nt--;)if(D[nt]===H)continue t;b&&D.push(H),B.push($)}else y(D,H,x)||(D!==B&&D.push(H),B.push($))}return B}_t.exports=C},47415:function(_t,S,d){var m=d(29932);function O(I,L){return m(L,function(P){return I[P]})}_t.exports=O},1757:function(_t){function S(d,m,O){for(var I=-1,L=d.length,P=m.length,_={};++I<L;){var E=I<P?m[I]:void 0;O(_,d[I],E)}return _}_t.exports=S},26393:function(_t,S,d){var m=d(33448);function O(I,L){if(I!==L){var P=I!==void 0,_=I===null,E=I===I,C=m(I),p=L!==void 0,b=L===null,x=L===L,w=m(L);if(!b&&!w&&!C&&I>L||C&&p&&x&&!b&&!w||_&&p&&x||!P&&x||!E)return 1;if(!_&&!C&&!w&&I<L||w&&P&&E&&!_&&!C||b&&P&&E||!p&&E||!x)return-1}return 0}_t.exports=O},85022:function(_t,S,d){var m=d(26393);function O(I,L,P){for(var _=-1,E=I.criteria,C=L.criteria,p=E.length,b=P.length;++_<p;){var x=m(E[_],C[_]);if(x){if(_>=b)return x;var w=P[_];return x*(w=="desc"?-1:1)}}return I.index-L.index}_t.exports=O},67740:function(_t,S,d){var m=d(67206),O=d(98612),I=d(3674);function L(P){return function(_,E,C){var p=Object(_);if(!O(_)){var b=m(E,3);_=I(_),E=function(w){return b(p[w],w,p)}}var x=P(_,E,C);return x>-1?p[b?_[x]:x]:void 0}}_t.exports=L},47445:function(_t,S,d){var m=d(40098),O=d(16612),I=d(18601);function L(P){return function(_,E,C){return C&&typeof C!="number"&&O(_,E,C)&&(E=C=void 0),_=I(_),E===void 0?(E=_,_=0):E=I(E),C=C===void 0?_<E?1:-1:I(C),m(_,E,C,P)}}_t.exports=L},23593:function(_t,S,d){var m=d(58525),O=d(50308),I=d(21814),L=1/0,P=m&&1/I(new m([,-0]))[1]==L?function(_){return new m(_)}:O;_t.exports=P},42351:function(_t){function S(d,m,O){for(var I=O-1,L=d.length;++I<L;)if(d[I]===m)return I;return-1}_t.exports=S},66678:function(_t,S,d){var m=d(85990),O=4;function I(L){return m(L,O)}_t.exports=I},91747:function(_t,S,d){var m=d(5976),O=d(77813),I=d(16612),L=d(81704),P=Object.prototype,_=P.hasOwnProperty,E=m(function(C,p){C=Object(C);var b=-1,x=p.length,w=x>2?p[2]:void 0;for(w&&I(p[0],p[1],w)&&(x=1);++b<x;)for(var y=p[b],M=L(y),T=-1,B=M.length;++T<B;){var D=M[T],X=C[D];(X===void 0||O(X,P[D])&&!_.call(C,D))&&(C[D]=y[D])}return C});_t.exports=E},66073:function(_t,S,d){_t.exports=d(84486)},63105:function(_t,S,d){var m=d(34963),O=d(80760),I=d(67206),L=d(1469);function P(_,E){var C=L(_)?m:O;return C(_,I(E,3))}_t.exports=P},13311:function(_t,S,d){var m=d(67740),O=d(30998),I=m(O);_t.exports=I},30998:function(_t,S,d){var m=d(41848),O=d(67206),I=d(40554),L=Math.max;function P(_,E,C){var p=_==null?0:_.length;if(!p)return-1;var b=C==null?0:I(C);return b<0&&(b=L(p+b,0)),m(_,O(E,3),b)}_t.exports=P},84486:function(_t,S,d){var m=d(77412),O=d(89881),I=d(54290),L=d(1469);function P(_,E){var C=L(_)?m:O;return C(_,I(E))}_t.exports=P},62620:function(_t,S,d){var m=d(28483),O=d(54290),I=d(81704);function L(P,_){return P==null?P:m(P,O(_),I)}_t.exports=L},18721:function(_t,S,d){var m=d(78565),O=d(222);function I(L,P){return L!=null&&O(L,P,m)}_t.exports=I},41609:function(_t,S,d){var m=d(280),O=d(64160),I=d(35694),L=d(1469),P=d(98612),_=d(44144),E=d(25726),C=d(36719),p="[object Map]",b="[object Set]",x=Object.prototype,w=x.hasOwnProperty;function y(M){if(M==null)return!0;if(P(M)&&(L(M)||typeof M=="string"||typeof M.splice=="function"||_(M)||C(M)||I(M)))return!M.length;var T=O(M);if(T==p||T==b)return!M.size;if(E(M))return!m(M).length;for(var B in M)if(w.call(M,B))return!1;return!0}_t.exports=y},52353:function(_t){function S(d){return d===void 0}_t.exports=S},10928:function(_t){function S(d){var m=d==null?0:d.length;return m?d[m-1]:void 0}_t.exports=S},66604:function(_t,S,d){var m=d(89465),O=d(47816),I=d(67206);function L(P,_){var E={};return _=I(_,3),O(P,function(C,p,b){m(E,p,_(C,p,b))}),E}_t.exports=L},6162:function(_t,S,d){var m=d(56029),O=d(53325),I=d(6557);function L(P){return P&&P.length?m(P,I,O):void 0}_t.exports=L},53632:function(_t,S,d){var m=d(56029),O=d(70433),I=d(6557);function L(P){return P&&P.length?m(P,I,O):void 0}_t.exports=L},22762:function(_t,S,d){var m=d(56029),O=d(67206),I=d(70433);function L(P,_){return P&&P.length?m(P,O(_,2),I):void 0}_t.exports=L},50308:function(_t){function S(){}_t.exports=S},96026:function(_t,S,d){var m=d(47445),O=m();_t.exports=O},54061:function(_t,S,d){var m=d(62663),O=d(89881),I=d(67206),L=d(10107),P=d(1469);function _(E,C,p){var b=P(E)?m:L,x=arguments.length<3;return b(E,I(C,4),p,x,O)}_t.exports=_},84238:function(_t,S,d){var m=d(280),O=d(64160),I=d(98612),L=d(47037),P=d(88016),_="[object Map]",E="[object Set]";function C(p){if(p==null)return 0;if(I(p))return L(p)?P(p):p.length;var b=O(p);return b==_||b==E?p.size:m(p).length}_t.exports=C},89734:function(_t,S,d){var m=d(21078),O=d(82689),I=d(5976),L=d(16612),P=I(function(_,E){if(_==null)return[];var C=E.length;return C>1&&L(_,E[0],E[1])?E=[]:C>2&&L(E[0],E[1],E[2])&&(E=[E[0]]),O(_,m(E,1),[])});_t.exports=P},68718:function(_t,S,d){var m=d(77412),O=d(3118),I=d(47816),L=d(67206),P=d(85924),_=d(1469),E=d(44144),C=d(23560),p=d(13218),b=d(36719);function x(w,y,M){var T=_(w),B=T||E(w)||b(w);if(y=L(y,4),M==null){var D=w&&w.constructor;B?M=T?new D:[]:p(w)?M=C(D)?O(P(w)):{}:M={}}return(B?m:I)(w,function(X,$,H){return y(M,X,$,H)}),M}_t.exports=x},93386:function(_t,S,d){var m=d(21078),O=d(5976),I=d(45652),L=d(29246),P=O(function(_){return I(m(_,1,L,!0))});_t.exports=P},52628:function(_t,S,d){var m=d(47415),O=d(3674);function I(L){return L==null?[]:m(L,O(L))}_t.exports=I},7287:function(_t,S,d){var m=d(34865),O=d(1757);function I(L,P){return O(L||[],P||[],m)}_t.exports=I},86851:function(_t,S,d){"use strict";var m=d(35171),O=Array.prototype.concat,I=Array.prototype.slice,L=_t.exports=function(_){for(var E=[],C=0,p=_.length;C<p;C++){var b=_[C];m(b)?E=O.call(E,I.call(b)):E.push(b)}return E};L.wrap=function(P){return function(){return P(L(arguments))}}},91496:function(_t){typeof Object.create=="function"?_t.exports=function(d,m){d.super_=m,d.prototype=Object.create(m.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:_t.exports=function(d,m){d.super_=m;var O=function(){};O.prototype=m.prototype,d.prototype=new O,d.prototype.constructor=d}},20384:function(_t){_t.exports=function(d){return d&&typeof d=="object"&&typeof d.copy=="function"&&typeof d.fill=="function"&&typeof d.readUInt8=="function"}},89539:function(_t,S,d){var m=d(34155),O=Object.getOwnPropertyDescriptors||function(ot){for(var St=Object.keys(ot),xt={},Mt=0;Mt<St.length;Mt++)xt[St[Mt]]=Object.getOwnPropertyDescriptor(ot,St[Mt]);return xt},I=/%[sdj%]/g;S.format=function(Ct){if(!nt(Ct)){for(var ot=[],St=0;St<arguments.length;St++)ot.push(_(arguments[St]));return ot.join(" ")}for(var St=1,xt=arguments,Mt=xt.length,Et=String(Ct).replace(I,function(gt){if(gt==="%%")return"%";if(St>=Mt)return gt;switch(gt){case"%s":return String(xt[St++]);case"%d":return Number(xt[St++]);case"%j":try{return JSON.stringify(xt[St++])}catch(it){return"[Circular]"}default:return gt}}),Tt=xt[St];St<Mt;Tt=xt[++St])X(Tt)||!Ft(Tt)?Et+=" "+Tt:Et+=" "+_(Tt);return Et},S.deprecate=function(Ct,ot){if(typeof m!="undefined"&&m.noDeprecation===!0)return Ct;if(typeof m=="undefined")return function(){return S.deprecate(Ct,ot).apply(this,arguments)};var St=!1;function xt(){if(!St){if(m.throwDeprecation)throw new Error(ot);m.traceDeprecation?console.trace(ot):console.error(ot),St=!0}return Ct.apply(this,arguments)}return xt};var L={},P;S.debuglog=function(Ct){if(at(P)&&(P={NODE_ENV:"production"}.NODE_DEBUG||""),Ct=Ct.toUpperCase(),!L[Ct])if(new RegExp("\\b"+Ct+"\\b","i").test(P)){var ot=m.pid;L[Ct]=function(){var St=S.format.apply(S,arguments);console.error("%s %d: %s",Ct,ot,St)}}else L[Ct]=function(){};return L[Ct]};function _(Ct,ot){var St={seen:[],stylize:C};return arguments.length>=3&&(St.depth=arguments[2]),arguments.length>=4&&(St.colors=arguments[3]),D(ot)?St.showHidden=ot:ot&&S._extend(St,ot),at(St.showHidden)&&(St.showHidden=!1),at(St.depth)&&(St.depth=2),at(St.colors)&&(St.colors=!1),at(St.customInspect)&&(St.customInspect=!0),St.colors&&(St.stylize=E),b(St,Ct,St.depth)}S.inspect=_,_.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},_.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function E(Ct,ot){var St=_.styles[ot];return St?"["+_.colors[St][0]+"m"+Ct+"["+_.colors[St][1]+"m":Ct}function C(Ct,ot){return Ct}function p(Ct){var ot={};return Ct.forEach(function(St,xt){ot[St]=!0}),ot}function b(Ct,ot,St){if(Ct.customInspect&&ot&&q(ot.inspect)&&ot.inspect!==S.inspect&&!(ot.constructor&&ot.constructor.prototype===ot)){var xt=ot.inspect(St,Ct);return nt(xt)||(xt=b(Ct,xt,St)),xt}var Mt=x(Ct,ot);if(Mt)return Mt;var Et=Object.keys(ot),Tt=p(Et);if(Ct.showHidden&&(Et=Object.getOwnPropertyNames(ot)),V(ot)&&(Et.indexOf("message")>=0||Et.indexOf("description")>=0))return w(ot);if(Et.length===0){if(q(ot)){var gt=ot.name?": "+ot.name:"";return Ct.stylize("[Function"+gt+"]","special")}if(Ot(ot))return Ct.stylize(RegExp.prototype.toString.call(ot),"regexp");if(Dt(ot))return Ct.stylize(Date.prototype.toString.call(ot),"date");if(V(ot))return w(ot)}var it="",Q=!1,U=["{","}"];if(B(ot)&&(Q=!0,U=["[","]"]),q(ot)){var ct=ot.name?": "+ot.name:"";it=" [Function"+ct+"]"}if(Ot(ot)&&(it=" "+RegExp.prototype.toString.call(ot)),Dt(ot)&&(it=" "+Date.prototype.toUTCString.call(ot)),V(ot)&&(it=" "+w(ot)),Et.length===0&&(!Q||ot.length==0))return U[0]+it+U[1];if(St<0)return Ot(ot)?Ct.stylize(RegExp.prototype.toString.call(ot),"regexp"):Ct.stylize("[Object]","special");Ct.seen.push(ot);var tt;return Q?tt=y(Ct,ot,St,Tt,Et):tt=Et.map(function(et){return M(Ct,ot,St,Tt,et,Q)}),Ct.seen.pop(),T(tt,it,U)}function x(Ct,ot){if(at(ot))return Ct.stylize("undefined","undefined");if(nt(ot)){var St="'"+JSON.stringify(ot).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Ct.stylize(St,"string")}if(H(ot))return Ct.stylize(""+ot,"number");if(D(ot))return Ct.stylize(""+ot,"boolean");if(X(ot))return Ct.stylize("null","null")}function w(Ct){return"["+Error.prototype.toString.call(Ct)+"]"}function y(Ct,ot,St,xt,Mt){for(var Et=[],Tt=0,gt=ot.length;Tt<gt;++Tt)z(ot,String(Tt))?Et.push(M(Ct,ot,St,xt,String(Tt),!0)):Et.push("");return Mt.forEach(function(it){it.match(/^\d+$/)||Et.push(M(Ct,ot,St,xt,it,!0))}),Et}function M(Ct,ot,St,xt,Mt,Et){var Tt,gt,it;if(it=Object.getOwnPropertyDescriptor(ot,Mt)||{value:ot[Mt]},it.get?it.set?gt=Ct.stylize("[Getter/Setter]","special"):gt=Ct.stylize("[Getter]","special"):it.set&&(gt=Ct.stylize("[Setter]","special")),z(xt,Mt)||(Tt="["+Mt+"]"),gt||(Ct.seen.indexOf(it.value)<0?(X(St)?gt=b(Ct,it.value,null):gt=b(Ct,it.value,St-1),gt.indexOf(`
`)>-1&&(Et?gt=gt.split(`
`).map(function(Q){return"  "+Q}).join(`
`).substr(2):gt=`
`+gt.split(`
`).map(function(Q){return"   "+Q}).join(`
`))):gt=Ct.stylize("[Circular]","special")),at(Tt)){if(Et&&Mt.match(/^\d+$/))return gt;Tt=JSON.stringify(""+Mt),Tt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Tt=Tt.substr(1,Tt.length-2),Tt=Ct.stylize(Tt,"name")):(Tt=Tt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Tt=Ct.stylize(Tt,"string"))}return Tt+": "+gt}function T(Ct,ot,St){var xt=0,Mt=Ct.reduce(function(Et,Tt){return xt++,Tt.indexOf(`
`)>=0&&xt++,Et+Tt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Mt>60?St[0]+(ot===""?"":ot+`
 `)+" "+Ct.join(`,
  `)+" "+St[1]:St[0]+ot+" "+Ct.join(", ")+" "+St[1]}function B(Ct){return Array.isArray(Ct)}S.isArray=B;function D(Ct){return typeof Ct=="boolean"}S.isBoolean=D;function X(Ct){return Ct===null}S.isNull=X;function $(Ct){return Ct==null}S.isNullOrUndefined=$;function H(Ct){return typeof Ct=="number"}S.isNumber=H;function nt(Ct){return typeof Ct=="string"}S.isString=nt;function ht(Ct){return typeof Ct=="symbol"}S.isSymbol=ht;function at(Ct){return Ct===void 0}S.isUndefined=at;function Ot(Ct){return Ft(Ct)&&Z(Ct)==="[object RegExp]"}S.isRegExp=Ot;function Ft(Ct){return typeof Ct=="object"&&Ct!==null}S.isObject=Ft;function Dt(Ct){return Ft(Ct)&&Z(Ct)==="[object Date]"}S.isDate=Dt;function V(Ct){return Ft(Ct)&&(Z(Ct)==="[object Error]"||Ct instanceof Error)}S.isError=V;function q(Ct){return typeof Ct=="function"}S.isFunction=q;function K(Ct){return Ct===null||typeof Ct=="boolean"||typeof Ct=="number"||typeof Ct=="string"||typeof Ct=="symbol"||typeof Ct=="undefined"}S.isPrimitive=K,S.isBuffer=d(20384);function Z(Ct){return Object.prototype.toString.call(Ct)}function mt(Ct){return Ct<10?"0"+Ct.toString(10):Ct.toString(10)}var rt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function W(){var Ct=new Date,ot=[mt(Ct.getHours()),mt(Ct.getMinutes()),mt(Ct.getSeconds())].join(":");return[Ct.getDate(),rt[Ct.getMonth()],ot].join(" ")}S.log=function(){console.log("%s - %s",W(),S.format.apply(S,arguments))},S.inherits=d(91496),S._extend=function(Ct,ot){if(!ot||!Ft(ot))return Ct;for(var St=Object.keys(ot),xt=St.length;xt--;)Ct[St[xt]]=ot[St[xt]];return Ct};function z(Ct,ot){return Object.prototype.hasOwnProperty.call(Ct,ot)}var G=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;S.promisify=function(ot){if(typeof ot!="function")throw new TypeError('The "original" argument must be of type Function');if(G&&ot[G]){var St=ot[G];if(typeof St!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(St,G,{value:St,enumerable:!1,writable:!1,configurable:!0}),St}function St(){for(var xt,Mt,Et=new Promise(function(it,Q){xt=it,Mt=Q}),Tt=[],gt=0;gt<arguments.length;gt++)Tt.push(arguments[gt]);Tt.push(function(it,Q){it?Mt(it):xt(Q)});try{ot.apply(this,Tt)}catch(it){Mt(it)}return Et}return Object.setPrototypeOf(St,Object.getPrototypeOf(ot)),G&&Object.defineProperty(St,G,{value:St,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(St,O(ot))},S.promisify.custom=G;function f(Ct,ot){if(!Ct){var St=new Error("Promise was rejected with a falsy value");St.reason=Ct,Ct=St}return ot(Ct)}function pt(Ct){if(typeof Ct!="function")throw new TypeError('The "original" argument must be of type Function');function ot(){for(var St=[],xt=0;xt<arguments.length;xt++)St.push(arguments[xt]);var Mt=St.pop();if(typeof Mt!="function")throw new TypeError("The last argument must be of type Function");var Et=this,Tt=function(){return Mt.apply(Et,arguments)};Ct.apply(this,St).then(function(gt){m.nextTick(Tt,null,gt)},function(gt){m.nextTick(f,gt,Tt)})}return Object.setPrototypeOf(ot,Object.getPrototypeOf(Ct)),Object.defineProperties(ot,O(Ct)),ot}S.callbackify=pt}}]);
